var e=e=>{throw TypeError(e)},t=(t,n,r)=>(((t,n,r)=>{n.has(t)||e("Cannot "+r)})(t,n,"read from private field"),r?r.call(t):n.get(t));function n(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return e=>e in t}const r={},i=[],o=()=>{},a=()=>!1,s=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),l=e=>e.startsWith("onUpdate:"),c=Object.assign,u=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,f=(e,t)=>h.call(e,t),d=Array.isArray,p=e=>"[object Map]"===E(e),m=e=>"[object Set]"===E(e),g=e=>"[object Date]"===E(e),v=e=>"[object RegExp]"===E(e),y=e=>"function"==typeof e,_=e=>"string"==typeof e,b=e=>"symbol"==typeof e,x=e=>null!==e&&"object"==typeof e,w=e=>(x(e)||y(e))&&y(e.then)&&y(e.catch),S=Object.prototype.toString,E=e=>S.call(e),T=e=>E(e).slice(8,-1),A=e=>"[object Object]"===E(e),M=e=>_(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,C=n(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=n("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),R=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},I=/-\w/g,k=R(e=>e.replace(I,e=>e.slice(1).toUpperCase())),P=/\B([A-Z])/g,D=R(e=>e.replace(P,"-$1").toLowerCase()),N=R(e=>e.charAt(0).toUpperCase()+e.slice(1)),L=R(e=>e?"on".concat(N(e)):""),F=(e,t)=>!Object.is(e,t),U=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},B=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},z=e=>{const t=parseFloat(e);return isNaN(t)?e:t},V=e=>{const t=_(e)?Number(e):NaN;return isNaN(t)?e:t};let j;const H=()=>j||(j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),W=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;const G={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},q={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},X=n("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol"),Y=X;function K(e,t=0,n=e.length){if((t=Math.max(0,Math.min(t,e.length)))>(n=Math.max(0,Math.min(n,e.length))))return"";let r=e.split(/(\r?\n)/);const i=r.filter((e,t)=>t%2==1);r=r.filter((e,t)=>t%2==0);let o=0;const a=[];for(let s=0;s<r.length;s++)if(o+=r[s].length+(i[s]&&i[s].length||0),o>=t){for(let e=s-2;e<=s+2||n>o;e++){if(e<0||e>=r.length)continue;const l=e+1;a.push("".concat(l).concat(" ".repeat(Math.max(3-String(l).length,0)),"|  ").concat(r[e]));const c=r[e].length,u=i[e]&&i[e].length||0;if(e===s){const e=t-(o-(c+u)),r=Math.max(1,n>o?c-e:n-t);a.push("   |  "+" ".repeat(e)+"^".repeat(r))}else if(e>s){if(n>o){const e=Math.max(Math.min(n-o,c),1);a.push("   |  "+"^".repeat(e))}o+=c+u}}break}return a.join("\n")}function Z(e){if(d(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=_(r)?te(r):Z(r);if(i)for(const e in i)t[e]=i[e]}return t}if(_(e)||x(e))return e}const J=/;(?![^(]*\))/g,Q=/:([^]+)/,ee=/\/\*[^]*?\*\//g;function te(e){const t={};return e.replace(ee,"").split(J).forEach(e=>{if(e){const n=e.split(Q);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ne(e){let t="";if(_(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){const r=ne(e[n]);r&&(t+=r+" ")}else if(x(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function re(e){if(!e)return null;let{class:t,style:n}=e;return t&&!_(t)&&(e.class=ne(t)),n&&(e.style=Z(n)),e}const ie=n("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),oe=n("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),ae=n("annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics"),se=n("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),le="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ce=n(le),ue=n(le+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function he(e){return!!e||""===e}const fe=/[>/="'\u0009\u000a\u000c\u0020]/,de={};const pe=n("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),me=n("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),ge=n("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");const ve=/["'&<>]/;const ye=/^-?>|<!--|-->|--!>|<!-$/g;const _e=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function be(e,t){if(e===t)return!0;let n=g(e),r=g(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=b(e),r=b(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=be(e[r],t[r]);return n}(e,t);if(n=x(e),r=x(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!be(e[n],t[n]))return!1}}return String(e)===String(t)}function xe(e,t){return e.findIndex(e=>be(e,t))}const we=e=>!(!e||!0!==e.__v_isRef),Se=e=>_(e)?e:null==e?"":d(e)||x(e)&&(e.toString===S||!y(e.toString))?we(e)?Se(e.value):JSON.stringify(e,Ee,2):String(e),Ee=(e,t)=>we(t)?Ee(e,t.value):p(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce((e,[t,n],r)=>(e[Te(t,r)+" =>"]=n,e),{})}:m(t)?{["Set(".concat(t.size,")")]:[...t.values()].map(e=>Te(e))}:b(t)?Te(t):!x(t)||d(t)||A(t)?t:String(t),Te=(e,t="")=>{var n;return b(e)?"Symbol(".concat(null!=(n=e.description)?n:t,")"):e};function Ae(e){return null==e?"initial":"string"==typeof e?""===e?" ":e:String(e)}const Me=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:i,EMPTY_OBJ:r,NO:a,NOOP:o,PatchFlagNames:G,PatchFlags:{TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},ShapeFlags:{ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},SlotFlags:{STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},camelize:k,capitalize:N,cssVarNameEscapeSymbolsRE:_e,def:B,escapeHtml:function(e){const t=""+e,n=ve.exec(t);if(!n)return t;let r,i,o="",a=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}a!==i&&(o+=t.slice(a,i)),a=i+1,o+=r}return a!==i?o+t.slice(a,i):o},escapeHtmlComment:function(e){return e.replace(ye,"")},extend:c,genCacheKey:function(e,t){return e+JSON.stringify(t,(e,t)=>"function"==typeof t?t.toString():t)},genPropsAccessExp:function(e){return W.test(e)?"__props.".concat(e):"__props[".concat(JSON.stringify(e),"]")},generateCodeFrame:K,getEscapedCssVarName:function(e,t){return e.replace(_e,e=>t?'"'===e?'\\\\\\"':"\\\\".concat(e):"\\".concat(e))},getGlobalThis:H,hasChanged:F,hasOwn:f,hyphenate:D,includeBooleanAttr:he,invokeArrayFns:U,isArray:d,isBooleanAttr:ue,isBuiltInDirective:O,isDate:g,isFunction:y,isGloballyAllowed:X,isGloballyWhitelisted:Y,isHTMLTag:ie,isIntegerKey:M,isKnownHtmlAttr:pe,isKnownMathMLAttr:ge,isKnownSvgAttr:me,isMap:p,isMathMLTag:ae,isModelListener:l,isObject:x,isOn:s,isPlainObject:A,isPromise:w,isRegExp:v,isRenderableAttrValue:function(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t},isReservedProp:C,isSSRSafeAttrName:function(e){if(de.hasOwnProperty(e))return de[e];const t=fe.test(e);return de[e]=!t},isSVGTag:oe,isSet:m,isSpecialBooleanAttr:ce,isString:_,isSymbol:b,isVoidTag:se,looseEqual:be,looseIndexOf:xe,looseToNumber:z,makeMap:n,normalizeClass:ne,normalizeCssVarValue:Ae,normalizeProps:re,normalizeStyle:Z,objectToString:S,parseStringStyle:te,propsToAttrMap:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},remove:u,slotFlagsText:q,stringifyStyle:function(e){if(!e)return"";if(_(e))return e;let t="";for(const n in e){const r=e[n];if(_(r)||"number"==typeof r){const e=n.startsWith("--")?n:D(n);t+="".concat(e,":").concat(r,";")}}return t},toDisplayString:Se,toHandlerKey:L,toNumber:V,toRawType:T,toTypeString:E},Symbol.toStringTag,{value:"Module"}));let Ce,Oe;class Re{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!e&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){let e,t;if(this._isPaused=!0,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){let e,t;if(this._isPaused=!1,this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=Ce;try{return Ce=this,e()}finally{Ce=t}}}on(){1===++this._on&&(this.prevScope=Ce,Ce=this)}off(){this._on>0&&0===--this._on&&(Ce=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){let t,n;for(this._active=!1,t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}}function Ie(e){return new Re(e)}function ke(){return Ce}function Pe(e,t=!1){Ce&&Ce.cleanups.push(e)}const De=new WeakSet;class Ne{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,De.has(this)&&(De.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||Be(this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Je(this),je(this);const e=Oe,t=Ye;Oe=this,Ye=!0;try{return this.fn()}finally{He(this),Oe=e,Ye=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)qe(e);this.deps=this.depsTail=void 0,Je(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?De.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){We(this)&&this.run()}get dirty(){return We(this)}}let Le,Fe,Ue=0;function Be(e,t=!1){if(e.flags|=8,t)return e.next=Fe,void(Fe=e);e.next=Le,Le=e}function ze(){Ue++}function Ve(){if(--Ue>0)return;if(Fe){let e=Fe;for(Fe=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Le;){let n=Le;for(Le=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=r}}if(e)throw e}function je(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function He(e){let t,n=e.depsTail,r=n;for(;r;){const e=r.prevDep;-1===r.version?(r===n&&(n=e),qe(r),Xe(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function We(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ge(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ge(e){if(4&e.flags&&!(16&e.flags))return;if(e.flags&=-17,e.globalVersion===Qe)return;if(e.globalVersion=Qe,!e.isSSR&&128&e.flags&&(!e.deps&&!e._dirty||!We(e)))return;e.flags|=2;const t=e.dep,n=Oe,r=Ye;Oe=e,Ye=!0;try{je(e);const n=e.fn(e._value);(0===t.version||F(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(i){throw t.version++,i}finally{Oe=n,Ye=r,He(e),e.flags&=-3}}function qe(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)qe(e,!0)}t||--n.sc||!n.map||n.map.delete(n.key)}function Xe(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ye=!0;const Ke=[];function $e(){Ke.push(Ye),Ye=!1}function Ze(){const e=Ke.pop();Ye=void 0===e||e}function Je(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Oe;Oe=void 0;try{t()}finally{Oe=e}}}let Qe=0;class et{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class tt{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Oe||!Ye||Oe===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Oe)t=this.activeLink=new et(Oe,this),Oe.deps?(t.prevDep=Oe.depsTail,Oe.depsTail.nextDep=t,Oe.depsTail=t):Oe.deps=Oe.depsTail=t,nt(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Oe.depsTail,t.nextDep=void 0,Oe.depsTail.nextDep=t,Oe.depsTail=t,Oe.deps===t&&(Oe.deps=e)}return t}trigger(e){this.version++,Qe++,this.notify(e)}notify(e){ze();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{Ve()}}}function nt(e){if(e.dep.sc++,4&e.sub.flags){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)nt(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const rt=new WeakMap,it=Symbol(""),ot=Symbol(""),at=Symbol("");function st(e,t,n){if(Ye&&Oe){let t=rt.get(e);t||rt.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new tt),r.map=t,r.key=n),r.track()}}function lt(e,t,n,r,i,o){const a=rt.get(e);if(!a)return void Qe++;const s=e=>{e&&e.trigger()};if(ze(),"clear"===t)a.forEach(s);else{const i=d(e),o=i&&M(n);if(i&&"length"===n){const e=Number(r);a.forEach((t,n)=>{("length"===n||n===at||!b(n)&&n>=e)&&s(t)})}else switch((void 0!==n||a.has(void 0))&&s(a.get(n)),o&&s(a.get(at)),t){case"add":i?o&&s(a.get("length")):(s(a.get(it)),p(e)&&s(a.get(ot)));break;case"delete":i||(s(a.get(it)),p(e)&&s(a.get(ot)));break;case"set":p(e)&&s(a.get(it))}}Ve()}function ct(e){const t=Zt(e);return t===e?t:(st(t,0,at),Kt(e)?t:t.map(Qt))}function ut(e){return st(e=Zt(e),0,at),e}function ht(e,t){return Yt(e)?Xt(e)?en(Qt(t)):en(t):Qt(t)}const ft={__proto__:null,[Symbol.iterator](){return dt(this,Symbol.iterator,e=>ht(this,e))},concat(...e){return ct(this).concat(...e.map(e=>d(e)?ct(e):e))},entries(){return dt(this,"entries",e=>(e[1]=ht(this,e[1]),e))},every(e,t){return mt(this,"every",e,t,void 0,arguments)},filter(e,t){return mt(this,"filter",e,t,e=>e.map(e=>ht(this,e)),arguments)},find(e,t){return mt(this,"find",e,t,e=>ht(this,e),arguments)},findIndex(e,t){return mt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return mt(this,"findLast",e,t,e=>ht(this,e),arguments)},findLastIndex(e,t){return mt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return mt(this,"forEach",e,t,void 0,arguments)},includes(...e){return vt(this,"includes",e)},indexOf(...e){return vt(this,"indexOf",e)},join(e){return ct(this).join(e)},lastIndexOf(...e){return vt(this,"lastIndexOf",e)},map(e,t){return mt(this,"map",e,t,void 0,arguments)},pop(){return yt(this,"pop")},push(...e){return yt(this,"push",e)},reduce(e,...t){return gt(this,"reduce",e,t)},reduceRight(e,...t){return gt(this,"reduceRight",e,t)},shift(){return yt(this,"shift")},some(e,t){return mt(this,"some",e,t,void 0,arguments)},splice(...e){return yt(this,"splice",e)},toReversed(){return ct(this).toReversed()},toSorted(e){return ct(this).toSorted(e)},toSpliced(...e){return ct(this).toSpliced(...e)},unshift(...e){return yt(this,"unshift",e)},values(){return dt(this,"values",e=>ht(this,e))}};function dt(e,t,n){const r=ut(e),i=r[t]();return r===e||Kt(e)||(i._next=i.next,i.next=()=>{const e=i._next();return e.done||(e.value=n(e.value)),e}),i}const pt=Array.prototype;function mt(e,t,n,r,i,o){const a=ut(e),s=a!==e&&!Kt(e),l=a[t];if(l!==pt[t]){const t=l.apply(e,o);return s?Qt(t):t}let c=n;a!==e&&(s?c=function(t,r){return n.call(this,ht(e,t),r,e)}:n.length>2&&(c=function(t,r){return n.call(this,t,r,e)}));const u=l.call(a,c,r);return s&&i?i(u):u}function gt(e,t,n,r){const i=ut(e);let o=n;return i!==e&&(Kt(e)?n.length>3&&(o=function(t,r,i){return n.call(this,t,r,i,e)}):o=function(t,r,i){return n.call(this,t,ht(e,r),i,e)}),i[t](o,...r)}function vt(e,t,n){const r=Zt(e);st(r,0,at);const i=r[t](...n);return-1!==i&&!1!==i||!$t(n[0])?i:(n[0]=Zt(n[0]),r[t](...n))}function yt(e,t,n=[]){$e(),ze();const r=Zt(e)[t].apply(e,n);return Ve(),Ze(),r}const _t=n("__proto__,__v_isRef,__isVue"),bt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(b));function xt(e){b(e)||(e=String(e));const t=Zt(this);return st(t,0,e),t.hasOwnProperty(e)}class wt{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if("__v_skip"===t)return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?Vt:zt:i?Bt:Ut).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=d(e);if(!r){let e;if(o&&(e=ft[t]))return e;if("hasOwnProperty"===t)return xt}const a=Reflect.get(e,t,tn(e)?e:n);if(b(t)?bt.has(t):_t(t))return a;if(r||st(e,0,t),i)return a;if(tn(a)){const e=o&&M(t)?a:a.value;return r&&x(e)?Wt(e):e}return x(a)?r?Wt(a):jt(a):a}}class St extends wt{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];const o=d(e)&&M(t);if(!this._isShallow){const e=Yt(i);if(Kt(n)||Yt(n)||(i=Zt(i),n=Zt(n)),!o&&tn(i)&&!tn(n))return e||(i.value=n),!0}const a=o?Number(t)<e.length:f(e,t),s=Reflect.set(e,t,n,tn(e)?e:r);return e===Zt(r)&&(a?F(n,i)&&lt(e,"set",t,n):lt(e,"add",t,n)),s}deleteProperty(e,t){const n=f(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&lt(e,"delete",t,void 0),r}has(e,t){const n=Reflect.has(e,t);return b(t)&&bt.has(t)||st(e,0,t),n}ownKeys(e){return st(e,0,d(e)?"length":it),Reflect.ownKeys(e)}}class Et extends wt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Tt=new St,At=new Et,Mt=new St(!0),Ct=new Et(!0),Ot=e=>e,Rt=e=>Reflect.getPrototypeOf(e);function It(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function kt(e,t){const n={get(n){const r=this.__v_raw,i=Zt(r),o=Zt(n);e||(F(n,o)&&st(i,0,n),st(i,0,o));const{has:a}=Rt(i),s=t?Ot:e?en:Qt;return a.call(i,n)?s(r.get(n)):a.call(i,o)?s(r.get(o)):void(r!==i&&r.get(n))},get size(){const t=this.__v_raw;return!e&&st(Zt(t),0,it),t.size},has(t){const n=this.__v_raw,r=Zt(n),i=Zt(t);return e||(F(t,i)&&st(r,0,t),st(r,0,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){const i=this,o=i.__v_raw,a=Zt(o),s=t?Ot:e?en:Qt;return!e&&st(a,0,it),o.forEach((e,t)=>n.call(r,s(e),s(t),i))}};c(n,e?{add:It("add"),set:It("set"),delete:It("delete"),clear:It("clear")}:{add(e){t||Kt(e)||Yt(e)||(e=Zt(e));const n=Zt(this);return Rt(n).has.call(n,e)||(n.add(e),lt(n,"add",e,e)),this},set(e,n){t||Kt(n)||Yt(n)||(n=Zt(n));const r=Zt(this),{has:i,get:o}=Rt(r);let a=i.call(r,e);a||(e=Zt(e),a=i.call(r,e));const s=o.call(r,e);return r.set(e,n),a?F(n,s)&&lt(r,"set",e,n):lt(r,"add",e,n),this},delete(e){const t=Zt(this),{has:n,get:r}=Rt(t);let i=n.call(t,e);i||(e=Zt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&lt(t,"delete",e,void 0),o},clear(){const e=Zt(this),t=0!==e.size,n=e.clear();return t&&lt(e,"clear",void 0,void 0),n}});return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=function(e,t,n){return function(...r){const i=this.__v_raw,o=Zt(i),a=p(o),s="entries"===e||e===Symbol.iterator&&a,l="keys"===e&&a,c=i[e](...r),u=n?Ot:t?en:Qt;return!t&&st(o,0,l?ot:it),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}(r,e,t)}),n}function Pt(e,t){const n=kt(e,t);return(t,r,i)=>"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(f(n,r)&&r in t?n:t,r,i)}const Dt={get:Pt(!1,!1)},Nt={get:Pt(!1,!0)},Lt={get:Pt(!0,!1)},Ft={get:Pt(!0,!0)},Ut=new WeakMap,Bt=new WeakMap,zt=new WeakMap,Vt=new WeakMap;function jt(e){return Yt(e)?e:qt(e,!1,Tt,Dt,Ut)}function Ht(e){return qt(e,!1,Mt,Nt,Bt)}function Wt(e){return qt(e,!0,At,Lt,zt)}function Gt(e){return qt(e,!0,Ct,Ft,Vt)}function qt(e,t,n,r,i){if(!x(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=(a=e).__v_skip||!Object.isExtensible(a)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(T(a));var a;if(0===o)return e;const s=i.get(e);if(s)return s;const l=new Proxy(e,2===o?r:n);return i.set(e,l),l}function Xt(e){return Yt(e)?Xt(e.__v_raw):!(!e||!e.__v_isReactive)}function Yt(e){return!(!e||!e.__v_isReadonly)}function Kt(e){return!(!e||!e.__v_isShallow)}function $t(e){return!!e&&!!e.__v_raw}function Zt(e){const t=e&&e.__v_raw;return t?Zt(t):e}function Jt(e){return!f(e,"__v_skip")&&Object.isExtensible(e)&&B(e,"__v_skip",!0),e}const Qt=e=>x(e)?jt(e):e,en=e=>x(e)?Wt(e):e;function tn(e){return!!e&&!0===e.__v_isRef}function nn(e){return on(e,!1)}function rn(e){return on(e,!0)}function on(e,t){return tn(e)?e:new an(e,t)}class an{constructor(e,t){this.dep=new tt,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:Zt(e),this._value=t?e:Qt(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,n=this.__v_isShallow||Kt(e)||Yt(e);e=n?e:Zt(e),F(e,t)&&(this._rawValue=e,this._value=n?e:Qt(e),this.dep.trigger())}}function sn(e){return tn(e)?e.value:e}function ln(e){return y(e)?e():sn(e)}const cn={get:(e,t,n)=>"__v_raw"===t?e:sn(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return tn(i)&&!tn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function un(e){return Xt(e)?e:new Proxy(e,cn)}class hn{constructor(e){this.__v_isRef=!0,this._value=void 0;const t=this.dep=new tt,{get:n,set:r}=e(t.track.bind(t),t.trigger.bind(t));this._get=n,this._set=r}get value(){return this._value=this._get()}set value(e){this._set(e)}}function fn(e){return new hn(e)}function dn(e){const t=d(e)?new Array(e.length):{};for(const n in e)t[n]=vn(e,n);return t}class pn{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0,this._raw=Zt(e);let r=!0,i=e;if(!d(e)||!M(String(t)))do{r=!$t(i)||Kt(i)}while(r&&(i=i.__v_raw));this._shallow=r}get value(){let e=this._object[this._key];return this._shallow&&(e=sn(e)),this._value=void 0===e?this._defaultValue:e}set value(e){if(this._shallow&&tn(this._raw[this._key])){const t=this._object[this._key];if(tn(t))return void(t.value=e)}this._object[this._key]=e}get dep(){return function(e,t){const n=rt.get(e);return n&&n.get(t)}(this._raw,this._key)}}class mn{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function gn(e,t,n){return tn(e)?e:y(e)?new mn(e):x(e)&&arguments.length>1?vn(e,t,n):nn(e)}function vn(e,t,n){return new pn(e,t,n)}class yn{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new tt(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qe-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(8&this.flags)&&Oe!==this)return Be(this,!0),!0}get value(){const e=this.dep.track();return Ge(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}const _n={},bn=new WeakMap;let xn;function wn(e,t=!1,n=xn){if(n){let t=bn.get(n);t||bn.set(n,t=[]),t.push(e)}}function Sn(e,t=1/0,n){if(t<=0||!x(e)||e.__v_skip)return e;if(((n=n||new Map).get(e)||0)>=t)return e;if(n.set(e,t),t--,tn(e))Sn(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)Sn(e[r],t,n);else if(m(e)||p(e))e.forEach(e=>{Sn(e,t,n)});else if(A(e)){for(const r in e)Sn(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Sn(e[r],t,n)}return e}const En=[];const Tn={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function An(e,t,n,r){try{return r?e(...r):e()}catch(i){Cn(i,t,n)}}function Mn(e,t,n,r){if(y(e)){const i=An(e,t,n,r);return i&&w(i)&&i.catch(e=>{Cn(e,t,n)}),i}if(d(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Mn(e[o],t,n,r));return i}}function Cn(e,t,n,i=!0){t&&t.vnode;const{errorHandler:o,throwUnhandledErrorInProduction:a}=t&&t.appContext.config||r;if(t){let r=t.parent;const i=t.proxy,a="https://vuejs.org/error-reference/#runtime-".concat(n);for(;r;){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,a))return;r=r.parent}if(o)return $e(),An(o,null,10,[e,i,a]),void Ze()}!function(e,t,n,r=!0,i=!1){if(i)throw e}(e,0,0,i,a)}const On=[];let Rn=-1;const In=[];let kn=null,Pn=0;const Dn=Promise.resolve();let Nn=null;function Ln(e){const t=Nn||Dn;return e?t.then(this?e.bind(this):e):t}function Fn(e){if(!(1&e.flags)){const t=jn(e),n=On[On.length-1];!n||!(2&e.flags)&&t>=jn(n)?On.push(e):On.splice(function(e){let t=Rn+1,n=On.length;for(;t<n;){const r=t+n>>>1,i=On[r],o=jn(i);o<e||o===e&&2&i.flags?t=r+1:n=r}return t}(t),0,e),e.flags|=1,Un()}}function Un(){Nn||(Nn=Dn.then(Hn))}function Bn(e){d(e)?In.push(...e):kn&&-1===e.id?kn.splice(Pn+1,0,e):1&e.flags||(In.push(e),e.flags|=1),Un()}function zn(e,t,n=Rn+1){for(;n<On.length;n++){const t=On[n];if(t&&2&t.flags){if(e&&t.id!==e.uid)continue;On.splice(n,1),n--,4&t.flags&&(t.flags&=-2),t(),4&t.flags||(t.flags&=-2)}}}function Vn(e){if(In.length){const e=[...new Set(In)].sort((e,t)=>jn(e)-jn(t));if(In.length=0,kn)return void kn.push(...e);for(kn=e,Pn=0;Pn<kn.length;Pn++){const e=kn[Pn];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}kn=null,Pn=0}}const jn=e=>null==e.id?2&e.flags?-1:1/0:e.id;function Hn(e){try{for(Rn=0;Rn<On.length;Rn++){const e=On[Rn];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),An(e,e.i,e.i?15:14),4&e.flags||(e.flags&=-2))}}finally{for(;Rn<On.length;Rn++){const e=On[Rn];e&&(e.flags&=-2)}Rn=-1,On.length=0,Vn(),Nn=null,(On.length||In.length)&&Hn()}}let Wn,Gn=[];let qn=null,Xn=null;function Yn(e){const t=qn;return qn=e,Xn=e&&e.type.__scopeId||null,t}function Kn(e){Xn=e}function $n(){Xn=null}function Zn(e,t=qn,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&aa(-1);const i=Yn(t);let o;try{o=e(...n)}finally{Yn(i),r._d&&aa(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Jn(e,t){if(null===qn)return e;const n=Wa(qn),i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,a,s,l=r]=t[o];e&&(y(e)&&(e={mounted:e,updated:e}),e.deep&&Sn(a),i.push({dir:e,instance:n,value:a,oldValue:void 0,arg:s,modifiers:l}))}return e}function Qn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let a=0;a<i.length;a++){const s=i[a];o&&(s.oldValue=o[a].value);let l=s.dir[r];l&&($e(),Mn(l,n,8,[e.el,s,e,t]),Ze())}}function er(e,t){if(Oa){let n=Oa.provides;const r=Oa.parent&&Oa.parent.provides;r===n&&(n=Oa.provides=Object.create(r)),n[e]=t}}function tr(e,t,n=!1){const r=Ra();if(r||io){let i=io?io._context.provides:r?null==r.parent||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&y(t)?t.call(r&&r.proxy):t}}function nr(){return!(!Ra()&&!io)}const rr=Symbol.for("v-scx"),ir=()=>tr(rr);function or(e,t){return cr(e,null,t)}function ar(e,t){return cr(e,null,{flush:"post"})}function sr(e,t){return cr(e,null,{flush:"sync"})}function lr(e,t,n){return cr(e,t,n)}function cr(e,t,n=r){const{immediate:i,deep:a,flush:s,once:l}=n,h=c({},n),f=t&&i||!t&&"post"!==s;let p;if(Ua)if("sync"===s){const e=ir();p=e.__watcherHandles||(e.__watcherHandles=[])}else if(!f){const e=()=>{};return e.stop=o,e.resume=o,e.pause=o,e}const m=Oa;h.call=(e,t,n)=>Mn(e,m,t,n);let g=!1;"post"===s?h.scheduler=e=>{Io(e,m&&m.suspense)}:"sync"!==s&&(g=!0,h.scheduler=(e,t)=>{t?e():Fn(e)}),h.augmentJob=e=>{t&&(e.flags|=4),g&&(e.flags|=2,m&&(e.id=m.uid,e.i=m))};const v=function(e,t,n=r){const{immediate:i,deep:a,once:s,scheduler:l,augmentJob:c,call:h}=n,f=e=>a?e:Kt(e)||!1===a||0===a?Sn(e,1):Sn(e);let p,m,g,v,_=!1,b=!1;if(tn(e)?(m=()=>e.value,_=Kt(e)):Xt(e)?(m=()=>f(e),_=!0):d(e)?(b=!0,_=e.some(e=>Xt(e)||Kt(e)),m=()=>e.map(e=>tn(e)?e.value:Xt(e)?f(e):y(e)?h?h(e,2):e():void 0)):m=y(e)?t?h?()=>h(e,2):e:()=>{if(g){$e();try{g()}finally{Ze()}}const t=xn;xn=p;try{return h?h(e,3,[v]):e(v)}finally{xn=t}}:o,t&&a){const e=m,t=!0===a?1/0:a;m=()=>Sn(e(),t)}const x=ke(),w=()=>{p.stop(),x&&x.active&&u(x.effects,p)};if(s&&t){const e=t;t=(...t)=>{e(...t),w()}}let S=b?new Array(e.length).fill(_n):_n;const E=e=>{if(1&p.flags&&(p.dirty||e))if(t){const e=p.run();if(a||_||(b?e.some((e,t)=>F(e,S[t])):F(e,S))){g&&g();const n=xn;xn=p;try{const n=[e,S===_n?void 0:b&&S[0]===_n?[]:S,v];S=e,h?h(t,3,n):t(...n)}finally{xn=n}}}else p.run()};return c&&c(E),p=new Ne(m),p.scheduler=l?()=>l(E,!1):E,v=e=>wn(e,!1,p),g=p.onStop=()=>{const e=bn.get(p);if(e){if(h)h(e,4);else for(const t of e)t();bn.delete(p)}},t?i?E(!0):S=p.run():l?l(E.bind(null,!0),!0):p.run(),w.pause=p.pause.bind(p),w.resume=p.resume.bind(p),w.stop=w,w}(e,t,h);return Ua&&(p?p.push(v):f&&v()),v}function ur(e,t,n){const r=this.proxy,i=_(e)?e.includes(".")?hr(r,e):()=>r[e]:e.bind(r,r);let o;y(t)?o=t:(o=t.handler,n=t);const a=Pa(this),s=cr(i,o.bind(r),n);return a(),s}function hr(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}const fr=Symbol("_vte"),dr=e=>e.__isTeleport,pr=e=>e&&(e.disabled||""===e.disabled),mr=e=>e&&(e.defer||""===e.defer),gr=e=>"undefined"!=typeof SVGElement&&e instanceof SVGElement,vr=e=>"function"==typeof MathMLElement&&e instanceof MathMLElement,yr=(e,t)=>{const n=e&&e.to;if(_(n)){if(t){return t(n)}return null}return n},_r={name:"Teleport",__isTeleport:!0,process(e,t,n,r,i,o,a,s,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:m,createComment:g}}=c,v=pr(t.props);let{shapeFlag:y,children:_,dynamicChildren:b}=t;if(null==e){const e=t.el=m(""),c=t.anchor=m("");d(e,n,r),d(c,n,r);const h=(e,t)=>{16&y&&u(_,e,t,i,o,a,s,l)},f=()=>{const e=t.target=yr(t.props,p),n=Sr(e,t,m,d);e&&("svg"!==a&&gr(e)?a="svg":"mathml"!==a&&vr(e)&&(a="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(e),v||(h(e,n),wr(t,!1)))};v&&(h(n,c),wr(t,!0)),mr(t.props)?(t.el.__isMounted=!1,Io(()=>{f(),delete t.el.__isMounted},o)):f()}else{if(mr(t.props)&&!1===e.el.__isMounted)return void Io(()=>{_r.process(e,t,n,r,i,o,a,s,l,c)},o);t.el=e.el,t.targetStart=e.targetStart;const u=t.anchor=e.anchor,d=t.target=e.target,m=t.targetAnchor=e.targetAnchor,g=pr(e.props),y=g?n:d,_=g?u:m;if("svg"===a||gr(d)?a="svg":("mathml"===a||vr(d))&&(a="mathml"),b?(f(e.dynamicChildren,b,y,i,o,a,s),Uo(e,t,!0)):l||h(e,t,y,_,i,o,a,s,!1),v)g?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):br(t,n,u,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=yr(t.props,p);e&&br(t,e,null,c,0)}else g&&br(t,d,m,c,1);wr(t,v)}},remove(e,t,n,{um:r,o:{remove:i}},o){const{shapeFlag:a,children:s,anchor:l,targetStart:c,targetAnchor:u,target:h,props:f}=e;if(h&&(i(c),i(u)),o&&i(l),16&a){const e=o||!pr(f);for(let i=0;i<s.length;i++){const o=s[i];r(o,t,n,e,!!o.dynamicChildren)}}},move:br,hydrate:function(e,t,n,r,i,o,{o:{nextSibling:a,parentNode:s,querySelector:l,insert:c,createText:u}},h){function f(e,t,l,c){t.anchor=h(a(e),t,s(e),n,r,i,o),t.targetStart=l,t.targetAnchor=c}const d=t.target=yr(t.props,l),p=pr(t.props);if(d){const s=d._lpa||d.firstChild;if(16&t.shapeFlag)if(p)f(e,t,s,s&&a(s));else{t.anchor=a(e);let l=s;for(;l;){if(l&&8===l.nodeType)if("teleport start anchor"===l.data)t.targetStart=l;else if("teleport anchor"===l.data){t.targetAnchor=l,d._lpa=t.targetAnchor&&a(t.targetAnchor);break}l=a(l)}t.targetAnchor||Sr(d,t,u,c),h(s&&a(s),t,d,n,r,i,o)}wr(t,p)}else p&&16&t.shapeFlag&&f(e,t,e,a(e));return t.anchor&&a(t.anchor)}};function br(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:a,anchor:s,shapeFlag:l,children:c,props:u}=e,h=2===o;if(h&&r(a,t,n),(!h||pr(u))&&16&l)for(let f=0;f<c.length;f++)i(c[f],t,n,2);h&&r(s,t,n)}const xr=_r;function wr(e,t){const n=e.ctx;if(n&&n.ut){let r,i;for(t?(r=e.el,i=e.anchor):(r=e.targetStart,i=e.targetAnchor);r&&r!==i;)1===r.nodeType&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function Sr(e,t,n,r){const i=t.targetStart=n(""),o=t.targetAnchor=n("");return i[fr]=o,e&&(r(i,e),r(o,e)),o}const Er=Symbol("_leaveCb"),Tr=Symbol("_enterCb");function Ar(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return pi(()=>{e.isMounted=!0}),vi(()=>{e.isUnmounting=!0}),e}const Mr=[Function,Array],Cr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Mr,onEnter:Mr,onAfterEnter:Mr,onEnterCancelled:Mr,onBeforeLeave:Mr,onLeave:Mr,onAfterLeave:Mr,onLeaveCancelled:Mr,onBeforeAppear:Mr,onAppear:Mr,onAfterAppear:Mr,onAppearCancelled:Mr},Or=e=>{const t=e.subTree;return t.component?Or(t.component):t};function Rr(e){let t=e[0];if(e.length>1)for(const n of e)if(n.type!==Qo){t=n;break}return t}const Ir={name:"BaseTransition",props:Cr,setup(e,{slots:t}){const n=Ra(),r=Ar();return()=>{const i=t.default&&Fr(t.default(),!0);if(!i||!i.length)return;const o=Rr(i),a=Zt(e),{mode:s}=a;if(r.isLeaving)return Dr(o);const l=Nr(o);if(!l)return Dr(o);let c=Pr(l,a,r,n,e=>c=e);l.type!==Qo&&Lr(l,c);let u=n.subTree&&Nr(n.subTree);if(u&&u.type!==Qo&&!ha(u,l)&&Or(n).type!==Qo){let e=Pr(u,a,r,n);if(Lr(u,e),"out-in"===s&&l.type!==Qo)return r.isLeaving=!0,e.afterLeave=()=>{r.isLeaving=!1,8&n.job.flags||n.update(),delete e.afterLeave,u=void 0},Dr(o);"in-out"===s&&l.type!==Qo?e.delayLeave=(e,t,n)=>{kr(r,u)[String(u.key)]=u,e[Er]=()=>{t(),e[Er]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{n(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return o}}};function kr(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Pr(e,t,n,r,i){const{appear:o,mode:a,persisted:s=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:_,onAppearCancelled:b}=t,x=String(e.key),w=kr(n,e),S=(e,t)=>{e&&Mn(e,r,9,t)},E=(e,t)=>{const n=t[1];S(e,t),d(e)?e.every(e=>e.length<=1)&&n():e.length<=1&&n()},T={mode:a,persisted:s,beforeEnter(t){let r=l;if(!n.isMounted){if(!o)return;r=v||l}t[Er]&&t[Er](!0);const i=w[x];i&&ha(e,i)&&i.el[Er]&&i.el[Er](),S(r,[t])},enter(e){let t=c,r=u,i=h;if(!n.isMounted){if(!o)return;t=y||c,r=_||u,i=b||h}let a=!1;const s=e[Tr]=t=>{a||(a=!0,S(t?i:r,[e]),T.delayedLeave&&T.delayedLeave(),e[Tr]=void 0)};t?E(t,[e,s]):s()},leave(t,r){const i=String(e.key);if(t[Tr]&&t[Tr](!0),n.isUnmounting)return r();S(f,[t]);let o=!1;const a=t[Er]=n=>{o||(o=!0,r(),S(n?g:m,[t]),t[Er]=void 0,w[i]===e&&delete w[i])};w[i]=e,p?E(p,[t,a]):a()},clone(e){const o=Pr(e,t,n,r,i);return i&&i(o),o}};return T}function Dr(e){if(ni(e))return(e=va(e)).children=null,e}function Nr(e){if(!ni(e))return dr(e.type)&&e.children?Rr(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(16&t)return n[0];if(32&t&&y(n.default))return n.default()}}function Lr(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Lr(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Fr(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let a=e[o];const s=null==n?a.key:String(n)+String(null!=a.key?a.key:o);a.type===Zo?(128&a.patchFlag&&i++,r=r.concat(Fr(a.children,t,s))):(t||a.type!==Qo)&&r.push(null!=s?va(a,{key:s}):a)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function Ur(e,t){return y(e)?(()=>c({name:e.name},t,{setup:e}))():e}function Br(){const e=Ra();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function zr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Vr=new WeakMap;function jr(e,t,n,i,o=!1){if(d(e))return void e.forEach((e,r)=>jr(e,t&&(d(t)?t[r]:t),n,i,o));if(ei(i)&&!o)return void(512&i.shapeFlag&&i.type.__asyncResolved&&i.component.subTree.component&&jr(e,t,n,i.component.subTree));const s=4&i.shapeFlag?Wa(i.component):i.el,l=o?null:s,{i:c,r:h}=e,p=t&&t.r,m=c.refs===r?c.refs={}:c.refs,g=c.setupState,v=Zt(g),b=g===r?a:e=>f(v,e);if(null!=p&&p!==h)if(Hr(t),_(p))m[p]=null,b(p)&&(g[p]=null);else if(tn(p)){p.value=null;const e=t;e.k&&(m[e.k]=null)}if(y(h))An(h,c,12,[l,m]);else{const t=_(h),r=tn(h);if(t||r){const i=()=>{if(e.f){const n=t?b(h)?g[h]:m[h]:h.value;if(o)d(n)&&u(n,s);else if(d(n))n.includes(s)||n.push(s);else if(t)m[h]=[s],b(h)&&(g[h]=m[h]);else{const t=[s];h.value=t,e.k&&(m[e.k]=t)}}else t?(m[h]=l,b(h)&&(g[h]=l)):r&&(h.value=l,e.k&&(m[e.k]=l))};if(l){const t=()=>{i(),Vr.delete(e)};t.id=-1,Vr.set(e,t),Io(t,n)}else Hr(e),i()}}}function Hr(e){const t=Vr.get(e);t&&(t.flags|=8,Vr.delete(e))}let Wr=!1;const Gr=()=>{Wr||(Wr=!0)},qr=e=>{if(1===e.nodeType)return(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0},Xr=e=>8===e.nodeType;function Yr(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:a,remove:l,insert:c,createComment:u}}=e,h=(n,r,s,l,u,_=!1)=>{_=_||!!r.dynamicChildren;const b=Xr(n)&&"["===n.data,x=()=>m(n,r,s,l,u,b),{type:w,ref:S,shapeFlag:E,patchFlag:T}=r;let A=n.nodeType;r.el=n,-2===T&&(_=!1,r.dynamicChildren=null);let M=null;switch(w){case Jo:3!==A?""===r.children?(c(r.el=i(""),a(n),n),M=n):M=x():(n.data!==r.children&&(Gr(),n.data=r.children),M=o(n));break;case Qo:y(n)?(M=o(n),v(r.el=n.content.firstChild,n,s)):M=8!==A||b?x():o(n);break;case ea:if(b&&(A=(n=o(n)).nodeType),1===A||3===A){M=n;const e=!r.children.length;for(let t=0;t<r.staticCount;t++)e&&(r.children+=1===M.nodeType?M.outerHTML:M.data),t===r.staticCount-1&&(r.anchor=M),M=o(M);return b?o(M):M}x();break;case Zo:M=b?p(n,r,s,l,u,_):x();break;default:if(1&E)M=1===A&&r.type.toLowerCase()===n.tagName.toLowerCase()||y(n)?f(n,r,s,l,u,_):x();else if(6&E){r.slotScopeIds=u;const e=a(n);if(M=b?g(n):Xr(n)&&"teleport start"===n.data?g(n,n.data,"teleport end"):o(n),t(r,e,null,s,l,qr(e),_),ei(r)&&!r.type.__asyncResolved){let t;b?(t=ma(Zo),t.anchor=M?M.previousSibling:e.lastChild):t=3===n.nodeType?ya(""):ma("div"),t.el=n,r.component.subTree=t}}else 64&E?M=8!==A?x():r.type.hydrate(n,r,s,l,u,_,e,d):128&E&&(M=r.type.hydrate(n,r,s,l,qr(a(n)),u,_,e,h))}return null!=S&&jr(S,null,l,r),M},f=(e,t,n,i,o,a)=>{a=a||!!t.dynamicChildren;const{type:c,props:u,patchFlag:h,shapeFlag:f,dirs:p,transition:m}=t,g="input"===c||"option"===c;if(g||-1!==h){p&&Qn(t,null,n,"created");let c,_=!1;if(y(e)){_=Fo(null,m)&&n&&n.vnode.props&&n.vnode.props.appear;const r=e.content.firstChild;if(_){const e=r.getAttribute("class");e&&(r.$cls=e),m.beforeEnter(r)}v(r,e,n),t.el=e=r}if(16&f&&(!u||!u.innerHTML&&!u.textContent)){let r=d(e.firstChild,t,e,n,i,o,a);for(;r;){Zr(e,1)||Gr();const t=r;r=r.nextSibling,l(t)}}else if(8&f){let n=t.children;"\n"!==n[0]||"PRE"!==e.tagName&&"TEXTAREA"!==e.tagName||(n=n.slice(1));const{textContent:r}=e;r!==n&&r!==n.replace(/\r\n|\r/g,"\n")&&(Zr(e,0)||Gr(),e.textContent=t.children)}if(u)if(g||!a||48&h){const t=e.tagName.includes("-");for(const i in u)(g&&(i.endsWith("value")||"indeterminate"===i)||s(i)&&!C(i)||"."===i[0]||t)&&r(e,i,null,u[i],void 0,n)}else if(u.onClick)r(e,"onClick",null,u.onClick,void 0,n);else if(4&h&&Xt(u.style))for(const e in u.style)u.style[e];(c=u&&u.onVnodeBeforeMount)&&Ta(c,n,t),p&&Qn(t,null,n,"beforeMount"),((c=u&&u.onVnodeMounted)||p||_)&&Ko(()=>{c&&Ta(c,n,t),_&&m.enter(e),p&&Qn(t,null,n,"mounted")},i)}return e.nextSibling},d=(e,t,r,a,s,l,u)=>{u=u||!!t.dynamicChildren;const f=t.children,d=f.length;for(let p=0;p<d;p++){const t=u?f[p]:f[p]=xa(f[p]),m=t.type===Jo;e?(m&&!u&&p+1<d&&xa(f[p+1]).type===Jo&&(c(i(e.data.slice(t.children.length)),r,o(e)),e.data=t.children),e=h(e,t,a,s,l,u)):m&&!t.children?c(t.el=i(""),r):(Zr(r,1)||Gr(),n(null,t,r,null,a,s,qr(r),l))}return e},p=(e,t,n,r,i,s)=>{const{slotScopeIds:l}=t;l&&(i=i?i.concat(l):l);const h=a(e),f=d(o(e),t,h,n,r,i,s);return f&&Xr(f)&&"]"===f.data?o(t.anchor=f):(Gr(),c(t.anchor=u("]"),h,f),f)},m=(e,t,r,i,s,c)=>{if(Zr(e.parentElement,1)||Gr(),t.el=null,c){const t=g(e);for(;;){const n=o(e);if(!n||n===t)break;l(n)}}const u=o(e),h=a(e);return l(e),n(null,t,h,u,r,i,qr(h),s),r&&(r.vnode.el=t.el,go(r,t.el)),u},g=(e,t="[",n="]")=>{let r=0;for(;e;)if((e=o(e))&&Xr(e)&&(e.data===t&&r++,e.data===n)){if(0===r)return o(e);r--}return e},v=(e,t,n)=>{const r=t.parentNode;r&&r.replaceChild(e,t);let i=n;for(;i;)i.vnode.el===t&&(i.vnode.el=i.subTree.el=e),i=i.parent},y=e=>1===e.nodeType&&"TEMPLATE"===e.tagName;return[(e,t)=>{if(!t.hasChildNodes())return n(null,e,t),Vn(),void(t._vnode=e);h(t.firstChild,e,null,null,null),Vn(),t._vnode=e},h]}const Kr="data-allow-mismatch",$r={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Zr(e,t){if(0===t||1===t)for(;e&&!e.hasAttribute(Kr);)e=e.parentElement;const n=e&&e.getAttribute(Kr);if(null==n)return!1;if(""===n)return!0;{const e=n.split(",");return!(0!==t||!e.includes("children"))||e.includes($r[t])}}const Jr=H().requestIdleCallback||(e=>setTimeout(e,1)),Qr=H().cancelIdleCallback||(e=>clearTimeout(e));const ei=e=>!!e.type.__asyncLoader;function ti(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,a=ma(e,r,i);return a.ref=n,a.ce=o,delete t.vnode.ce,a}const ni=e=>e.type.__isKeepAlive,ri={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Ra(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const i=new Map,o=new Set;let a=null;const s=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=r,f=h("div");function d(e){ci(e),u(e,n,s,!0)}function p(e){i.forEach((t,n)=>{const r=Ga(ei(t)?t.type.__asyncResolved||{}:t.type);r&&!e(r)&&m(n)})}function m(e){const t=i.get(e);!t||a&&ha(t,a)?a&&ci(a):d(t),i.delete(e),o.delete(e)}r.activate=(e,t,n,r,i)=>{const o=e.component;c(e,t,n,0,s),l(o.vnode,e,t,n,o,s,r,e.slotScopeIds,i),Io(()=>{o.isDeactivated=!1,o.a&&U(o.a);const t=e.props&&e.props.onVnodeMounted;t&&Ta(t,o.parent,e)},s)},r.deactivate=e=>{const t=e.component;zo(t.m),zo(t.a),c(e,f,null,1,s),Io(()=>{t.da&&U(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&Ta(n,t.parent,e),t.isDeactivated=!0},s)},lr(()=>[e.include,e.exclude],([e,t])=>{e&&p(t=>ii(e,t)),t&&p(e=>!ii(t,e))},{flush:"post",deep:!0});let g=null;const v=()=>{null!=g&&(jo(n.subTree.type)?Io(()=>{i.set(g,ui(n.subTree))},n.subTree.suspense):i.set(g,ui(n.subTree)))};return pi(v),gi(v),vi(()=>{i.forEach(e=>{const{subTree:t,suspense:r}=n,i=ui(t);if(e.type===i.type&&e.key===i.key){ci(i);const e=i.component.da;return void(e&&Io(e,r))}d(e)})}),()=>{if(g=null,!t.default)return a=null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!(ua(r)&&(4&r.shapeFlag||128&r.shapeFlag)))return a=null,r;let s=ui(r);if(s.type===Qo)return a=null,s;const l=s.type,c=Ga(ei(s)?s.type.__asyncResolved||{}:l),{include:u,exclude:h,max:f}=e;if(u&&(!c||!ii(u,c))||h&&c&&ii(h,c))return s.shapeFlag&=-257,a=s,r;const d=null==s.key?l:s.key,p=i.get(d);return s.el&&(s=va(s),128&r.shapeFlag&&(r.ssContent=s)),g=d,p?(s.el=p.el,s.component=p.component,s.transition&&Lr(s,s.transition),s.shapeFlag|=512,o.delete(d),o.add(d)):(o.add(d),f&&o.size>parseInt(f,10)&&m(o.values().next().value)),s.shapeFlag|=256,a=s,jo(r.type)?r:s}}};function ii(e,t){return d(e)?e.some(e=>ii(e,t)):_(e)?e.split(",").includes(t):!!v(e)&&(e.lastIndex=0,e.test(t))}function oi(e,t){si(e,"a",t)}function ai(e,t){si(e,"da",t)}function si(e,t,n=Oa){const r=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(hi(t,r,n),n){let e=n.parent;for(;e&&e.parent;)ni(e.parent.vnode)&&li(r,t,n,e),e=e.parent}}function li(e,t,n,r){const i=hi(t,e,r,!0);yi(()=>{u(r[t],i)},n)}function ci(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ui(e){return 128&e.shapeFlag?e.ssContent:e}function hi(e,t,n=Oa,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...r)=>{$e();const i=Pa(n),o=Mn(t,n,e,r);return i(),Ze(),o});return r?i.unshift(o):i.push(o),o}}const fi=e=>(t,n=Oa)=>{Ua&&"sp"!==e||hi(e,(...e)=>t(...e),n)},di=fi("bm"),pi=fi("m"),mi=fi("bu"),gi=fi("u"),vi=fi("bum"),yi=fi("um"),_i=fi("sp"),bi=fi("rtg"),xi=fi("rtc");function wi(e,t=Oa){hi("ec",e,t)}const Si="components";function Ei(e,t){return Ci(Si,e,!0,t)||e}const Ti=Symbol.for("v-ndc");function Ai(e){return _(e)?Ci(Si,e,!1)||e:e||Ti}function Mi(e){return Ci("directives",e)}function Ci(e,t,n=!0,r=!1){const i=qn||Oa;if(i){const n=i.type;if(e===Si){const e=Ga(n,!1);if(e&&(e===t||e===k(t)||e===N(k(t))))return n}const o=Oi(i[e]||n[e],t)||Oi(i.appContext[e],t);return!o&&r?n:o}}function Oi(e,t){return e&&(e[t]||e[k(t)]||e[N(k(t))])}function Ri(e,t,n,r){let i;const o=n&&n[r],a=d(e);if(a||_(e)){let n=!1,r=!1;a&&Xt(e)&&(n=!Kt(e),r=Yt(e),e=ut(e)),i=new Array(e.length);for(let a=0,s=e.length;a<s;a++)i[a]=t(n?r?en(Qt(e[a])):Qt(e[a]):e[a],a,void 0,o&&o[a])}else if("number"==typeof e){i=new Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,o&&o[n])}else if(x(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,o&&o[n]));else{const n=Object.keys(e);i=new Array(n.length);for(let r=0,a=n.length;r<a;r++){const a=n[r];i[r]=t(e[a],a,r,o&&o[r])}}else i=[];return n&&(n[r]=i),i}function Ii(e,t,n={},r,i){if(qn.ce||qn.parent&&ei(qn.parent)&&qn.parent.ce){const e=Object.keys(n).length>0;return"default"!==t&&(n.name=t),ra(),ca(Zo,null,[ma("slot",n,r&&r())],e?-2:64)}let o=e[t];o&&o._c&&(o._d=!1),ra();const a=o&&ki(o(n)),s=n.key||a&&a.key,l=ca(Zo,{key:(s&&!b(s)?s:"_".concat(t))+(!a&&r?"_fb":"")},a||(r?r():[]),a&&1===e._?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function ki(e){return e.some(e=>!ua(e)||e.type!==Qo&&!(e.type===Zo&&!ki(e.children)))?e:null}const Pi=e=>e?Na(e)?Wa(e):Pi(e.parent):null,Di=c(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Pi(e.parent),$root:e=>Pi(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Xi(e),$forceUpdate:e=>e.f||(e.f=()=>{Fn(e.update)}),$nextTick:e=>e.n||(e.n=Ln.bind(e.proxy)),$watch:e=>ur.bind(e)}),Ni=(e,t)=>e!==r&&!e.__isScriptSetup&&f(e,t),Li={get({_:e},t){if("__v_skip"===t)return!0;const{ctx:n,setupState:i,data:o,props:a,accessCache:s,type:l,appContext:c}=e;if("$"!==t[0]){const e=s[t];if(void 0!==e)switch(e){case 1:return i[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(Ni(i,t))return s[t]=1,i[t];if(o!==r&&f(o,t))return s[t]=2,o[t];if(f(a,t))return s[t]=3,a[t];if(n!==r&&f(n,t))return s[t]=4,n[t];Hi&&(s[t]=0)}}const u=Di[t];let h,d;return u?("$attrs"===t&&st(e.attrs,0,""),u(e)):(h=l.__cssModules)&&(h=h[t])?h:n!==r&&f(n,t)?(s[t]=4,n[t]):(d=c.config.globalProperties,f(d,t)?d[t]:void 0)},set({_:e},t,n){const{data:i,setupState:o,ctx:a}=e;return Ni(o,t)?(o[t]=n,!0):i!==r&&f(i,t)?(i[t]=n,!0):!f(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(a[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:o,props:a,type:s}},l){let c;return!!(n[l]||e!==r&&"$"!==l[0]&&f(e,l)||Ni(t,l)||f(a,l)||f(i,l)||f(Di,l)||f(o.config.globalProperties,l)||(c=s.__cssModules)&&c[l])},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:f(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},Fi=c({},Li,{get(e,t){if(t!==Symbol.unscopables)return Li.get(e,t,e)},has:(e,t)=>"_"!==t[0]&&!X(t)});function Ui(){return Bi().slots}function Bi(e){const t=Ra();return t.setupContext||(t.setupContext=Ha(t))}function zi(e){return d(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function Vi(e,t){const n=zi(e);for(const r in t){if(r.startsWith("__skip"))continue;let e=n[r];e?d(e)||y(e)?e=n[r]={type:e,default:t[r]}:e.default=t[r]:null===e&&(e=n[r]={default:t[r]}),e&&t["__skip_".concat(r)]&&(e.skipFactory=!0)}return n}function ji(e,t){return e&&t?d(e)&&d(t)?e.concat(t):c({},zi(e),zi(t)):e||t}let Hi=!0;function Wi(e){const t=Xi(e),n=e.proxy,r=e.ctx;Hi=!1,t.beforeCreate&&Gi(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:s,watch:l,provide:c,inject:u,created:h,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:_,beforeDestroy:b,beforeUnmount:w,destroyed:S,unmounted:E,render:T,renderTracked:A,renderTriggered:M,errorCaptured:C,serverPrefetch:O,expose:R,inheritAttrs:I,components:k,directives:P,filters:D}=t;if(u&&function(e,t){d(e)&&(e=Zi(e));for(const n in e){const r=e[n];let i;i=x(r)?"default"in r?tr(r.from||n,r.default,!0):tr(r.from||n):tr(r),tn(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}(u,r,null),s)for(const o in s){const e=s[o];y(e)&&(r[o]=e.bind(n))}if(i){const t=i.call(n,n);x(t)&&(e.data=jt(t))}if(Hi=!0,a)for(const d in a){const e=a[d],t=y(e)?e.bind(n,n):y(e.get)?e.get.bind(n,n):o,i=!y(e)&&y(e.set)?e.set.bind(n):o,s=qa({get:t,set:i});Object.defineProperty(r,d,{enumerable:!0,configurable:!0,get:()=>s.value,set:e=>s.value=e})}if(l)for(const o in l)qi(l[o],r,n,o);if(c){const e=y(c)?c.call(n):c;Reflect.ownKeys(e).forEach(t=>{er(t,e[t])})}function N(e,t){d(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(h&&Gi(h,e,"c"),N(di,f),N(pi,p),N(mi,m),N(gi,g),N(oi,v),N(ai,_),N(wi,C),N(xi,A),N(bi,M),N(vi,w),N(yi,E),N(_i,O),d(R))if(R.length){const t=e.exposed||(e.exposed={});R.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||(e.exposed={});T&&e.render===o&&(e.render=T),null!=I&&(e.inheritAttrs=I),k&&(e.components=k),P&&(e.directives=P),O&&zr(e)}function Gi(e,t,n){Mn(d(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function qi(e,t,n,r){let i=r.includes(".")?hr(n,r):()=>n[r];if(_(e)){const n=t[e];y(n)&&lr(i,n)}else if(y(e))lr(i,e.bind(n));else if(x(e))if(d(e))e.forEach(e=>qi(e,t,n,r));else{const r=y(e.handler)?e.handler.bind(n):t[e.handler];y(r)&&lr(i,r,e)}}function Xi(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:a}}=e.appContext,s=o.get(t);let l;return s?l=s:i.length||n||r?(l={},i.length&&i.forEach(e=>Yi(l,e,a,!0)),Yi(l,t,a)):l=t,x(t)&&o.set(t,l),l}function Yi(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Yi(e,o,n,!0),i&&i.forEach(t=>Yi(e,t,n,!0));for(const a in t)if(r&&"expose"===a);else{const r=Ki[a]||n&&n[a];e[a]=r?r(e[a],t[a]):t[a]}return e}const Ki={data:$i,props:eo,emits:eo,methods:Qi,computed:Qi,beforeCreate:Ji,created:Ji,beforeMount:Ji,mounted:Ji,beforeUpdate:Ji,updated:Ji,beforeDestroy:Ji,beforeUnmount:Ji,destroyed:Ji,unmounted:Ji,activated:Ji,deactivated:Ji,errorCaptured:Ji,serverPrefetch:Ji,components:Qi,directives:Qi,watch:function(e,t){if(!e)return t;if(!t)return e;const n=c(Object.create(null),e);for(const r in t)n[r]=Ji(e[r],t[r]);return n},provide:$i,inject:function(e,t){return Qi(Zi(e),Zi(t))}};function $i(e,t){return t?e?function(){return c(y(e)?e.call(this,this):e,y(t)?t.call(this,this):t)}:t:e}function Zi(e){if(d(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ji(e,t){return e?[...new Set([].concat(e,t))]:t}function Qi(e,t){return e?c(Object.create(null),e,t):t}function eo(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:c(Object.create(null),zi(e),zi(null!=t?t:{})):t}function to(){return{app:null,config:{isNativeTag:a,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let no=0;function ro(e,t){return function(n,r=null){y(n)||(n=c({},n)),null==r||x(r)||(r=null);const i=to(),o=new WeakSet,a=[];let s=!1;const l=i.app={_uid:no++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:$a,get config(){return i.config},set config(e){},use:(e,...t)=>(o.has(e)||(e&&y(e.install)?(o.add(e),e.install(l,...t)):y(e)&&(o.add(e),e(l,...t))),l),mixin:e=>(i.mixins.includes(e)||i.mixins.push(e),l),component:(e,t)=>t?(i.components[e]=t,l):i.components[e],directive:(e,t)=>t?(i.directives[e]=t,l):i.directives[e],mount(o,a,c){if(!s){const u=l._ceVNode||ma(n,r);return u.appContext=i,!0===c?c="svg":!1===c&&(c=void 0),a&&t?t(u,o):e(u,o,c),s=!0,l._container=o,o.__vue_app__=l,Wa(u.component)}},onUnmount(e){a.push(e)},unmount(){s&&(Mn(a,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide:(e,t)=>(i.provides[e]=t,l),runWithContext(e){const t=io;io=l;try{return e()}finally{io=t}}};return l}}let io=null;function oo(e,t,n=r){const i=Ra(),o=k(t),a=D(t),s=ao(e,o),l=fn((s,l)=>{let c,u,h=r;return sr(()=>{const t=e[o];F(c,t)&&(c=t,l())}),{get:()=>(s(),n.get?n.get(c):c),set(e){const s=n.set?n.set(e):e;if(!(F(s,c)||h!==r&&F(e,h)))return;const f=i.vnode.props;f&&(t in f||o in f||a in f)&&("onUpdate:".concat(t)in f||"onUpdate:".concat(o)in f||"onUpdate:".concat(a)in f)||(c=e,l()),i.emit("update:".concat(t),s),F(e,s)&&F(e,h)&&!F(s,u)&&l(),h=e,u=s}}});return l[Symbol.iterator]=()=>{let e=0;return{next:()=>e<2?{value:e++?s||r:l,done:!1}:{done:!0}}},l}const ao=(e,t)=>"modelValue"===t||"model-value"===t?e.modelModifiers:e["".concat(t,"Modifiers")]||e["".concat(k(t),"Modifiers")]||e["".concat(D(t),"Modifiers")];function so(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||r;let o=n;const a=t.startsWith("update:"),s=a&&ao(i,t.slice(7));let l;s&&(s.trim&&(o=n.map(e=>_(e)?e.trim():e)),s.number&&(o=n.map(z)));let c=i[l=L(t)]||i[l=L(k(t))];!c&&a&&(c=i[l=L(D(t))]),c&&Mn(c,e,6,o);const u=i[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Mn(u,e,6,o)}}const lo=new WeakMap;function co(e,t,n=!1){const r=n?lo:t.emitsCache,i=r.get(e);if(void 0!==i)return i;const o=e.emits;let a={},s=!1;if(!y(e)){const r=e=>{const n=co(e,t,!0);n&&(s=!0,c(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||s?(d(o)?o.forEach(e=>a[e]=null):c(a,o),x(e)&&r.set(e,a),a):(x(e)&&r.set(e,null),null)}function uo(e,t){return!(!e||!s(t))&&(t=t.slice(2).replace(/Once$/,""),f(e,t[0].toLowerCase()+t.slice(1))||f(e,D(t))||f(e,t))}function ho(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:a,attrs:s,emit:c,render:u,renderCache:h,props:f,data:d,setupState:p,ctx:m,inheritAttrs:g}=e,v=Yn(e);let y,_;try{if(4&n.shapeFlag){const e=i||r,t=e;y=xa(u.call(t,e,h,f,p,d,m)),_=s}else{const e=t;0,y=xa(e.length>1?e(f,{attrs:s,slots:a,emit:c}):e(f,null)),_=t.props?s:fo(s)}}catch(x){ta.length=0,Cn(x,e,1),y=ma(Qo)}let b=y;if(_&&!1!==g){const e=Object.keys(_),{shapeFlag:t}=b;e.length&&7&t&&(o&&e.some(l)&&(_=po(_,o)),b=va(b,_,!1,!0))}return n.dirs&&(b=va(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Lr(b,n.transition),y=b,Yn(v),y}const fo=e=>{let t;for(const n in e)("class"===n||"style"===n||s(n))&&((t||(t={}))[n]=e[n]);return t},po=(e,t)=>{const n={};for(const r in e)l(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function mo(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!uo(n,o))return!0}return!1}function go({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r!==e)break;(e=t.vnode).el=n,t=t.parent}}const vo={},yo=()=>Object.create(vo),_o=e=>Object.getPrototypeOf(e)===vo;function bo(e,t,n,i){const[o,a]=e.propsOptions;let s,l=!1;if(t)for(let r in t){if(C(r))continue;const c=t[r];let u;o&&f(o,u=k(r))?a&&a.includes(u)?(s||(s={}))[u]=c:n[u]=c:uo(e.emitsOptions,r)||r in i&&c===i[r]||(i[r]=c,l=!0)}if(a){const t=Zt(n),i=s||r;for(let r=0;r<a.length;r++){const s=a[r];n[s]=xo(o,t,s,i[s],e,!f(i,s))}}return l}function xo(e,t,n,r,i,o){const a=e[n];if(null!=a){const e=f(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&!a.skipFactory&&y(e)){const{propsDefaults:o}=i;if(n in o)r=o[n];else{const a=Pa(i);r=o[n]=e.call(null,t),a()}}else r=e;i.ce&&i.ce._setProp(n,r)}a[0]&&(o&&!e?r=!1:!a[1]||""!==r&&r!==D(n)||(r=!0))}return r}const wo=new WeakMap;function So(e,t,n=!1){const o=n?wo:t.propsCache,a=o.get(e);if(a)return a;const s=e.props,l={},u=[];let h=!1;if(!y(e)){const r=e=>{h=!0;const[n,r]=So(e,t,!0);c(l,n),r&&u.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!h)return x(e)&&o.set(e,i),i;if(d(s))for(let i=0;i<s.length;i++){const e=k(s[i]);Eo(e)&&(l[e]=r)}else if(s)for(const r in s){const e=k(r);if(Eo(e)){const t=s[r],n=l[e]=d(t)||y(t)?{type:t}:c({},t),i=n.type;let o=!1,a=!0;if(d(i))for(let e=0;e<i.length;++e){const t=i[e],n=y(t)&&t.name;if("Boolean"===n){o=!0;break}"String"===n&&(a=!1)}else o=y(i)&&"Boolean"===i.name;n[0]=o,n[1]=a,(o||f(n,"default"))&&u.push(e)}}const p=[l,u];return x(e)&&o.set(e,p),p}function Eo(e){return"$"!==e[0]&&!C(e)}const To=e=>"_"===e||"_ctx"===e||"$stable"===e,Ao=e=>d(e)?e.map(xa):[xa(e)],Mo=(e,t,n)=>{if(t._n)return t;const r=Zn((...e)=>Ao(t(...e)),n);return r._c=!1,r},Co=(e,t,n)=>{const r=e._ctx;for(const i in e){if(To(i))continue;const n=e[i];if(y(n))t[i]=Mo(0,n,r);else if(null!=n){const e=Ao(n);t[i]=()=>e}}},Oo=(e,t)=>{const n=Ao(t);e.slots.default=()=>n},Ro=(e,t,n)=>{for(const r in t)!n&&To(r)||(e[r]=t[r])},Io=Ko;function ko(e){return Do(e)}function Po(e){return Do(e,Yr)}function Do(e,t){H().__VUE__=!0;const{insert:n,remove:a,patchProp:s,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:m,setScopeId:g=o,insertStaticContent:v}=e,y=(e,t,n,r=null,i=null,o=null,a=void 0,s=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!ha(e,t)&&(r=K(e),W(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Jo:_(e,t,n,r);break;case Qo:b(e,t,n,r);break;case ea:null==e&&x(t,n,r,a);break;case Zo:R(e,t,n,r,i,o,a,s,l);break;default:1&h?w(e,t,n,r,i,o,a,s,l):6&h?I(e,t,n,r,i,o,a,s,l):(64&h||128&h)&&c.process(e,t,n,r,i,o,a,s,l,J)}null!=u&&i?jr(u,e&&e.ref,o,t||e,!t):null==u&&e&&null!=e.ref&&jr(e.ref,null,o,e,!0)},_=(e,t,r,i)=>{if(null==e)n(t.el=c(t.children),r,i);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},b=(e,t,r,i)=>{null==e?n(t.el=u(t.children||""),r,i):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},w=(e,t,n,r,i,o,a,s,l)=>{if("svg"===t.type?a="svg":"math"===t.type&&(a="mathml"),null==e)S(t,n,r,i,o,a,s,l);else{const n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),A(e,t,i,o,a,s,l)}finally{n&&n._endPatch()}}},S=(e,t,r,i,o,a,c,u)=>{let h,f;const{props:p,shapeFlag:m,transition:g,dirs:v}=e;if(h=e.el=l(e.type,a,p&&p.is,p),8&m?d(h,e.children):16&m&&T(e.children,h,null,i,o,No(e,a),c,u),v&&Qn(e,null,i,"created"),E(h,e,e.scopeId,c,i),p){for(const e in p)"value"===e||C(e)||s(h,e,null,p[e],a,i);"value"in p&&s(h,"value",null,p.value,a),(f=p.onVnodeBeforeMount)&&Ta(f,i,e)}v&&Qn(e,null,i,"beforeMount");const y=Fo(o,g);y&&g.beforeEnter(h),n(h,t,r),((f=p&&p.onVnodeMounted)||y||v)&&Io(()=>{f&&Ta(f,i,e),y&&g.enter(h),v&&Qn(e,null,i,"mounted")},o)},E=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let o=0;o<r.length;o++)g(e,r[o]);if(i){let n=i.subTree;if(t===n||jo(n.type)&&(n.ssContent===t||n.ssFallback===t)){const t=i.vnode;E(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},T=(e,t,n,r,i,o,a,s,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=s?wa(e[c]):xa(e[c]);y(null,l,t,n,r,i,o,a,s)}},A=(e,t,n,i,o,a,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:f}=t;u|=16&e.patchFlag;const p=e.props||r,m=t.props||r;let g;if(n&&Lo(n,!1),(g=m.onVnodeBeforeUpdate)&&Ta(g,n,t,e),f&&Qn(t,e,n,"beforeUpdate"),n&&Lo(n,!0),(p.innerHTML&&null==m.innerHTML||p.textContent&&null==m.textContent)&&d(c,""),h?M(e.dynamicChildren,h,c,n,i,No(t,o),a):l||B(e,t,c,null,n,i,No(t,o),a,!1),u>0){if(16&u)O(c,p,m,n,o);else if(2&u&&p.class!==m.class&&s(c,"class",null,m.class,o),4&u&&s(c,"style",p.style,m.style,o),8&u){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const r=e[t],i=p[r],a=m[r];a===i&&"value"!==r||s(c,r,i,a,o,n)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||O(c,p,m,n,o);((g=m.onVnodeUpdated)||f)&&Io(()=>{g&&Ta(g,n,t,e),f&&Qn(t,e,n,"updated")},i)},M=(e,t,n,r,i,o,a)=>{for(let s=0;s<t.length;s++){const l=e[s],c=t[s],u=l.el&&(l.type===Zo||!ha(l,c)||198&l.shapeFlag)?p(l.el):n;y(l,c,u,null,r,i,o,a,!0)}},O=(e,t,n,i,o)=>{if(t!==n){if(t!==r)for(const r in t)C(r)||r in n||s(e,r,t[r],null,o,i);for(const r in n){if(C(r))continue;const a=n[r],l=t[r];a!==l&&"value"!==r&&s(e,r,l,a,o,i)}"value"in n&&s(e,"value",t.value,n.value,o)}},R=(e,t,r,i,o,a,s,l,u)=>{const h=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c("");let{patchFlag:d,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(n(h,r,i),n(f,r,i),T(t.children||[],r,f,o,a,s,l,u)):d>0&&64&d&&p&&e.dynamicChildren&&e.dynamicChildren.length===p.length?(M(e.dynamicChildren,p,r,o,a,s,l),(null!=t.key||o&&t===o.subTree)&&Uo(e,t,!0)):B(e,t,r,f,o,a,s,l,u)},I=(e,t,n,r,i,o,a,s,l)=>{t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,l):P(t,n,r,i,o,a,l):N(e,t,l)},P=(e,t,n,r,i,o,a)=>{const s=e.component=Ca(e,r,i);if(ni(e)&&(s.ctx.renderer=J),Ba(s,!1,a),s.asyncDep){if(i&&i.registerDep(s,L,a),!e.el){const r=s.subTree=ma(Qo);b(null,r,t,n),e.placeholder=r.el}}else L(s,e,t,n,i,o,a)},N=(e,t,n)=>{const r=t.component=e.component;if(function(e,t,n){const{props:r,children:i,component:o}=e,{props:a,children:s,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||mo(r,a,c):!!a);if(1024&l)return!0;if(16&l)return r?mo(r,a,c):!!a;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(a[n]!==r[n]&&!uo(c,n))return!0}}return!1}(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,r.update()}else t.el=e.el,r.vnode=t},L=(e,t,n,r,i,o,a)=>{const s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:l,vnode:c}=e;{const n=Bo(e);if(n)return t&&(t.el=c.el,F(e,t,a)),void n.asyncDep.then(()=>{e.isUnmounted||s()})}let u,h=t;Lo(e,!1),t?(t.el=c.el,F(e,t,a)):t=c,n&&U(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&Ta(u,l,t,c),Lo(e,!0);const f=ho(e),d=e.subTree;e.subTree=f,y(d,f,p(d.el),K(d),e,i,o),t.el=f.el,null===h&&go(e,f.el),r&&Io(r,i),(u=t.props&&t.props.onVnodeUpdated)&&Io(()=>Ta(u,l,t,c),i)}else{let a;const{el:s,props:l}=t,{bm:c,m:u,parent:h,root:f,type:d}=e,p=ei(t);if(Lo(e,!1),c&&U(c),!p&&(a=l&&l.onVnodeBeforeMount)&&Ta(a,h,t),Lo(e,!0),s&&ee){const t=()=>{e.subTree=ho(e),ee(s,e.subTree,e,i,null)};p&&d.__asyncHydrate?d.__asyncHydrate(s,e,t):t()}else{f.ce&&!1!==f.ce._def.shadowRoot&&f.ce._injectChildStyle(d);const a=e.subTree=ho(e);y(null,a,n,r,e,i,o),t.el=a.el}if(u&&Io(u,i),!p&&(a=l&&l.onVnodeMounted)){const e=t;Io(()=>Ta(a,h,e),i)}(256&t.shapeFlag||h&&ei(h.vnode)&&256&h.vnode.shapeFlag)&&e.a&&Io(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();const l=e.effect=new Ne(s);e.scope.off();const c=e.update=l.run.bind(l),u=e.job=l.runIfDirty.bind(l);u.i=e,u.id=e.uid,l.scheduler=()=>Fn(u),Lo(e,!0),c()},F=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:a}}=e,s=Zt(i),[l]=e.propsOptions;let c=!1;if(!(r||a>0)||16&a){let r;bo(e,t,i,o)&&(c=!0);for(const o in s)t&&(f(t,o)||(r=D(o))!==o&&f(t,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(i[o]=xo(l,s,o,void 0,e,!0)):delete i[o]);if(o!==s)for(const e in o)t&&f(t,e)||(delete o[e],c=!0)}else if(8&a){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let a=n[r];if(uo(e.emitsOptions,a))continue;const u=t[a];if(l)if(f(o,a))u!==o[a]&&(o[a]=u,c=!0);else{const t=k(a);i[t]=xo(l,s,t,u,e,!1)}else u!==o[a]&&(o[a]=u,c=!0)}}c&&lt(e.attrs,"set","")}(e,t.props,i,n),((e,t,n)=>{const{vnode:i,slots:o}=e;let a=!0,s=r;if(32&i.shapeFlag){const e=t._;e?n&&1===e?a=!1:Ro(o,t,n):(a=!t.$stable,Co(t,o)),s=t}else t&&(Oo(e,t),s={default:1});if(a)for(const r in o)To(r)||null!=s[r]||delete o[r]})(e,t.children,n),$e(),zn(e),Ze()},B=(e,t,n,r,i,o,a,s,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void V(c,h,n,r,i,o,a,s,l);if(256&f)return void z(c,h,n,r,i,o,a,s,l)}8&p?(16&u&&Y(c,i,o),h!==c&&d(n,h)):16&u?16&p?V(c,h,n,r,i,o,a,s,l):Y(c,i,o,!0):(8&u&&d(n,""),16&p&&T(h,n,r,i,o,a,s,l))},z=(e,t,n,r,o,a,s,l,c)=>{t=t||i;const u=(e=e||i).length,h=t.length,f=Math.min(u,h);let d;for(d=0;d<f;d++){const r=t[d]=c?wa(t[d]):xa(t[d]);y(e[d],r,n,null,o,a,s,l,c)}u>h?Y(e,o,a,!0,!1,f):T(t,n,r,o,a,s,l,c,f)},V=(e,t,n,r,o,a,s,l,c)=>{let u=0;const h=t.length;let f=e.length-1,d=h-1;for(;u<=f&&u<=d;){const r=e[u],i=t[u]=c?wa(t[u]):xa(t[u]);if(!ha(r,i))break;y(r,i,n,null,o,a,s,l,c),u++}for(;u<=f&&u<=d;){const r=e[f],i=t[d]=c?wa(t[d]):xa(t[d]);if(!ha(r,i))break;y(r,i,n,null,o,a,s,l,c),f--,d--}if(u>f){if(u<=d){const e=d+1,i=e<h?t[e].el:r;for(;u<=d;)y(null,t[u]=c?wa(t[u]):xa(t[u]),n,i,o,a,s,l,c),u++}}else if(u>d)for(;u<=f;)W(e[u],o,a,!0),u++;else{const p=u,m=u,g=new Map;for(u=m;u<=d;u++){const e=t[u]=c?wa(t[u]):xa(t[u]);null!=e.key&&g.set(e.key,u)}let v,_=0;const b=d-m+1;let x=!1,w=0;const S=new Array(b);for(u=0;u<b;u++)S[u]=0;for(u=p;u<=f;u++){const r=e[u];if(_>=b){W(r,o,a,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=d;v++)if(0===S[v-m]&&ha(r,t[v])){i=v;break}void 0===i?W(r,o,a,!0):(S[i-m]=u+1,i>=w?w=i:x=!0,y(r,t[i],n,null,o,a,s,l,c),_++)}const E=x?function(e){const t=e.slice(),n=[0];let r,i,o,a,s;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(o=0,a=n.length-1;o<a;)s=o+a>>1,e[n[s]]<l?o=s+1:a=s;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,a=n[o-1];for(;o-- >0;)n[o]=a,a=t[a];return n}(S):i;for(v=E.length-1,u=b-1;u>=0;u--){const e=m+u,i=t[e],f=t[e+1],d=e+1<h?f.el||Vo(f):r;0===S[u]?y(null,i,n,d,o,a,s,l,c):x&&(v<0||u!==E[v]?j(i,n,d,2):v--)}}},j=(e,t,r,i,o=null)=>{const{el:s,type:l,transition:c,children:u,shapeFlag:h}=e;if(6&h)return void j(e.component.subTree,t,r,i);if(128&h)return void e.suspense.move(t,r,i);if(64&h)return void l.move(e,t,r,J);if(l===Zo){n(s,t,r);for(let e=0;e<u.length;e++)j(u[e],t,r,i);return void n(e.anchor,t,r)}if(l===ea)return void(({el:e,anchor:t},r,i)=>{let o;for(;e&&e!==t;)o=m(e),n(e,r,i),e=o;n(t,r,i)})(e,t,r);if(2!==i&&1&h&&c)if(0===i)c.beforeEnter(s),n(s,t,r),Io(()=>c.enter(s),o);else{const{leave:i,delayLeave:o,afterLeave:l}=c,u=()=>{e.ctx.isUnmounted?a(s):n(s,t,r)},h=()=>{s._isLeaving&&s[Er](!0),i(s,()=>{u(),l&&l()})};o?o(s,u,h):h()}else n(s,t,r)},W=(e,t,n,r=!1,i=!1)=>{const{type:o,props:a,ref:s,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:f,cacheIndex:d}=e;if(-2===h&&(i=!1),null!=s&&($e(),jr(s,null,n,e,!0),Ze()),null!=d&&(t.renderCache[d]=void 0),256&u)return void t.ctx.deactivate(e);const p=1&u&&f,m=!ei(e);let g;if(m&&(g=a&&a.onVnodeBeforeUnmount)&&Ta(g,t,e),6&u)X(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&Qn(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,J,r):c&&!c.hasOnce&&(o!==Zo||h>0&&64&h)?Y(c,t,n,!1,!0):(o===Zo&&384&h||!i&&16&u)&&Y(l,t,n),r&&G(e)}(m&&(g=a&&a.onVnodeUnmounted)||p)&&Io(()=>{g&&Ta(g,t,e),p&&Qn(e,null,t,"unmounted")},n)},G=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Zo)return void q(n,r);if(t===ea)return void(({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=m(e),a(e),e=n;a(t)})(e);const o=()=>{a(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,a=()=>t(n,o);r?r(e.el,o,a):a()}else o()},q=(e,t)=>{let n;for(;e!==t;)n=m(e),a(e),e=n;a(t)},X=(e,t,n)=>{const{bum:r,scope:i,job:o,subTree:a,um:s,m:l,a:c}=e;zo(l),zo(c),r&&U(r),i.stop(),o&&(o.flags|=8,W(a,e,t,n)),s&&Io(s,t),Io(()=>{e.isUnmounted=!0},t)},Y=(e,t,n,r=!1,i=!1,o=0)=>{for(let a=o;a<e.length;a++)W(e[a],t,n,r,i)},K=e=>{if(6&e.shapeFlag)return K(e.component.subTree);if(128&e.shapeFlag)return e.suspense.next();const t=m(e.anchor||e.el),n=t&&t[fr];return n?m(n):t};let $=!1;const Z=(e,t,n)=>{let r;null==e?t._vnode&&(W(t._vnode,null,null,!0),r=t._vnode.component):y(t._vnode||null,e,t,null,null,null,n),t._vnode=e,$||($=!0,zn(r),Vn(),$=!1)},J={p:y,um:W,m:j,r:G,mt:P,mc:T,pc:B,pbc:M,n:K,o:e};let Q,ee;return t&&([Q,ee]=t(J)),{render:Z,hydrate:Q,createApp:ro(Z,Q)}}function No({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Lo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Fo(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Uo(e,t,n=!1){const r=e.children,i=t.children;if(d(r)&&d(i))for(let o=0;o<r.length;o++){const t=r[o];let a=i[o];1&a.shapeFlag&&!a.dynamicChildren&&((a.patchFlag<=0||32===a.patchFlag)&&(a=i[o]=wa(i[o]),a.el=t.el),n||-2===a.patchFlag||Uo(t,a)),a.type===Jo&&(-1!==a.patchFlag?a.el=t.el:a.__elIndex=o+(e.type===Zo?1:0)),a.type!==Qo||a.el||(a.el=t.el)}}function Bo(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Bo(t)}function zo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}function Vo(e){if(e.placeholder)return e.placeholder;const t=e.component;return t?Vo(t.subTree):null}const jo=e=>e.__isSuspense;let Ho=0;const Wo={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,a,s,l,c){if(null==e)!function(e,t,n,r,i,o,a,s,l){const{p:c,o:{createElement:u}}=l,h=u("div"),f=e.suspense=Xo(e,i,r,t,h,n,o,a,s,l);c(null,f.pendingBranch=e.ssContent,h,null,r,f,o,a),f.deps>0?(qo(e,"onPending"),qo(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,a),$o(f,e.ssFallback)):f.resolve(!1,!0)}(t,n,r,i,o,a,s,l,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);!function(e,t,n,r,i,o,a,s,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:p,pendingBranch:m,isInFallback:g,isHydrating:v}=h;if(m)h.pendingBranch=f,ha(m,f)?(l(m,f,h.hiddenContainer,null,i,h,o,a,s),h.deps<=0?h.resolve():g&&(v||(l(p,d,n,r,i,null,o,a,s),$o(h,d)))):(h.pendingId=Ho++,v?(h.isHydrating=!1,h.activeBranch=m):c(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),g?(l(null,f,h.hiddenContainer,null,i,h,o,a,s),h.deps<=0?h.resolve():(l(p,d,n,r,i,null,o,a,s),$o(h,d))):p&&ha(p,f)?(l(p,f,n,r,i,h,o,a,s),h.resolve(!0)):(l(null,f,h.hiddenContainer,null,i,h,o,a,s),h.deps<=0&&h.resolve()));else if(p&&ha(p,f))l(p,f,n,r,i,h,o,a,s),$o(h,f);else if(qo(t,"onPending"),h.pendingBranch=f,512&f.shapeFlag?h.pendingId=f.component.suspenseId:h.pendingId=Ho++,l(null,f,h.hiddenContainer,null,i,h,o,a,s),h.deps<=0)h.resolve();else{const{timeout:e,pendingId:t}=h;e>0?setTimeout(()=>{h.pendingId===t&&h.fallback(d)},e):0===e&&h.fallback(d)}}(e,t,n,r,i,a,s,l,c)}},hydrate:function(e,t,n,r,i,o,a,s,l){const c=t.suspense=Xo(t,r,n,e.parentNode,document.createElement("div"),null,i,o,a,s,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,a);0===c.deps&&c.resolve(!1,!0);return u},normalize:function(e){const{shapeFlag:t,children:n}=e,r=32&t;e.ssContent=Yo(r?n.default:n),e.ssFallback=r?Yo(n.fallback):ma(Qo)}},Go=Wo;function qo(e,t){const n=e.props&&e.props[t];y(n)&&n()}function Xo(e,t,n,r,i,o,a,s,l,c,u=!1){const{p:h,m:f,um:d,n:p,o:{parentNode:m,remove:g}}=c;let v;const y=function(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}(e);y&&t&&t.pendingBranch&&(v=t.pendingId,t.deps++);const _=e.props?V(e.props.timeout):void 0,b=o,x={vnode:e,parent:t,parentComponent:n,namespace:a,container:r,hiddenContainer:i,deps:0,pendingId:Ho++,timeout:"number"==typeof _?_:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:r,activeBranch:i,pendingBranch:a,pendingId:s,effects:l,parentComponent:c,container:u,isInFallback:h}=x;let g=!1;x.isHydrating?x.isHydrating=!1:e||(g=i&&a.transition&&"out-in"===a.transition.mode,g&&(i.transition.afterLeave=()=>{s===x.pendingId&&(f(a,u,o===b?p(i):o,0),Bn(l),h&&r.ssFallback&&(r.ssFallback.el=null))}),i&&(m(i.el)===u&&(o=p(i)),d(i,c,x,!0),!g&&h&&r.ssFallback&&Io(()=>r.ssFallback.el=null,x)),g||f(a,u,o,0)),$o(x,a),x.pendingBranch=null,x.isInFallback=!1;let _=x.parent,w=!1;for(;_;){if(_.pendingBranch){_.effects.push(...l),w=!0;break}_=_.parent}w||g||Bn(l),x.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,0!==t.deps||n||t.resolve()),qo(r,"onResolve")},fallback(e){if(!x.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:r,container:i,namespace:o}=x;qo(t,"onFallback");const a=p(n),c=()=>{x.isInFallback&&(h(null,e,i,a,r,null,o,s,l),$o(x,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),x.isInFallback=!0,d(n,r,null,!0),u||c()},move(e,t,n){x.activeBranch&&f(x.activeBranch,e,t,n),x.container=e},next:()=>x.activeBranch&&p(x.activeBranch),registerDep(e,t,n){const r=!!x.pendingBranch;r&&x.deps++;const i=e.vnode.el;e.asyncDep.catch(t=>{Cn(t,e,0)}).then(o=>{if(e.isUnmounted||x.isUnmounted||x.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:s}=e;za(e,o,!1),i&&(s.el=i);const l=!i&&e.subTree.el;t(e,s,m(i||e.subTree.el),i?null:p(e.subTree),x,a,n),l&&(s.placeholder=null,g(l)),go(e,s.el),r&&0===--x.deps&&x.resolve()})},unmount(e,t){x.isUnmounted=!0,x.activeBranch&&d(x.activeBranch,n,e,t),x.pendingBranch&&d(x.pendingBranch,n,e,t)}};return x}function Yo(e){let t;if(y(e)){const n=oa&&e._c;n&&(e._d=!1,ra()),e=e(),n&&(e._d=!0,t=na,ia())}if(d(e)){const t=function(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(!ua(r))return;if(r.type!==Qo||"v-if"===r.children){if(t)return;t=r}}return t}(e);e=t}return e=xa(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function Ko(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):Bn(e)}function $o(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e;let i=t.el;for(;!i&&t.component;)i=(t=t.component.subTree).el;n.el=i,r&&r.subTree===n&&(r.vnode.el=i,go(r,i))}const Zo=Symbol.for("v-fgt"),Jo=Symbol.for("v-txt"),Qo=Symbol.for("v-cmt"),ea=Symbol.for("v-stc"),ta=[];let na=null;function ra(e=!1){ta.push(na=e?null:[])}function ia(){ta.pop(),na=ta[ta.length-1]||null}let oa=1;function aa(e,t=!1){oa+=e,e<0&&na&&t&&(na.hasOnce=!0)}function sa(e){return e.dynamicChildren=oa>0?na||i:null,ia(),oa>0&&na&&na.push(e),e}function la(e,t,n,r,i,o){return sa(pa(e,t,n,r,i,o,!0))}function ca(e,t,n,r,i){return sa(ma(e,t,n,r,i,!0))}function ua(e){return!!e&&!0===e.__v_isVNode}function ha(e,t){return e.type===t.type&&e.key===t.key}const fa=({key:e})=>null!=e?e:null,da=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?_(e)||tn(e)||y(e)?{i:qn,r:e,k:t,f:!!n}:e:null);function pa(e,t=null,n=null,r=0,i=null,o=(e===Zo?0:1),a=!1,s=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fa(t),ref:t&&da(t),scopeId:Xn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:qn};return s?(Sa(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=_(n)?8:16),oa>0&&!a&&na&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&na.push(l),l}const ma=function(e,t=null,n=null,r=0,i=null,o=!1){e&&e!==Ti||(e=Qo);if(ua(e)){const r=va(e,t,!0);return n&&Sa(r,n),oa>0&&!o&&na&&(6&r.shapeFlag?na[na.indexOf(e)]=r:na.push(r)),r.patchFlag=-2,r}a=e,y(a)&&"__vccOpts"in a&&(e=e.__vccOpts);var a;if(t){t=ga(t);let{class:e,style:n}=t;e&&!_(e)&&(t.class=ne(e)),x(n)&&($t(n)&&!d(n)&&(n=c({},n)),t.style=Z(n))}const s=_(e)?1:jo(e)?128:dr(e)?64:x(e)?4:y(e)?2:0;return pa(e,t,n,r,i,s,o,!0)};function ga(e){return e?$t(e)||_o(e)?c({},e):e:null}function va(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:a,children:s,transition:l}=e,c=t?Ea(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&fa(c),ref:t&&t.ref?n&&o?d(o)?o.concat(da(t)):[o,da(t)]:da(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Zo?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&va(e.ssContent),ssFallback:e.ssFallback&&va(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&Lr(u,l.clone(u)),u}function ya(e=" ",t=0){return ma(Jo,null,e,t)}function _a(e,t){const n=ma(ea,null,e);return n.staticCount=t,n}function ba(e="",t=!1){return t?(ra(),ca(Qo,null,e)):ma(Qo,null,e)}function xa(e){return null==e||"boolean"==typeof e?ma(Qo):d(e)?ma(Zo,null,e.slice()):ua(e)?wa(e):ma(Jo,null,String(e))}function wa(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:va(e)}function Sa(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if(d(t))n=16;else if("object"==typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),Sa(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||_o(t)?3===r&&qn&&(1===qn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=qn}}else y(t)?(t={default:t,_ctx:qn},n=32):(t=String(t),64&r?(n=16,t=[ya(t)]):n=8);e.children=t,e.shapeFlag|=n}function Ea(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=ne([t.class,r.class]));else if("style"===e)t.style=Z([t.style,r.style]);else if(s(e)){const n=t[e],i=r[e];!i||n===i||d(n)&&n.includes(i)||(t[e]=n?[].concat(n,i):i)}else""!==e&&(t[e]=r[e])}return t}function Ta(e,t,n,r=null){Mn(e,t,7,[n,r])}const Aa=to();let Ma=0;function Ca(e,t,n){const i=e.type,o=(t?t.appContext:e.appContext)||Aa,a={uid:Ma++,vnode:e,type:i,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Re(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:So(i,o),emitsOptions:co(i,o),emit:null,emitted:null,propsDefaults:r,inheritAttrs:i.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=so.bind(null,a),e.ce&&e.ce(a),a}let Oa=null;const Ra=()=>Oa||qn;let Ia,ka;{const e=H(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};Ia=t("__VUE_INSTANCE_SETTERS__",e=>Oa=e),ka=t("__VUE_SSR_SETTERS__",e=>Ua=e)}const Pa=e=>{const t=Oa;return Ia(e),e.scope.on(),()=>{e.scope.off(),Ia(t)}},Da=()=>{Oa&&Oa.scope.off(),Ia(null)};function Na(e){return 4&e.vnode.shapeFlag}let La,Fa,Ua=!1;function Ba(e,t=!1,n=!1){t&&ka(t);const{props:r,children:i}=e.vnode,o=Na(e);!function(e,t,n,r=!1){const i={},o=yo();e.propsDefaults=Object.create(null),bo(e,t,i,o);for(const a in e.propsOptions[0])a in i||(i[a]=void 0);n?e.props=r?i:Ht(i):e.type.props?e.props=i:e.props=o,e.attrs=o}(e,r,o,t),((e,t,n)=>{const r=e.slots=yo();if(32&e.vnode.shapeFlag){const e=t._;e?(Ro(r,t,n),n&&B(r,"_",e,!0)):Co(t,r)}else t&&Oo(e,t)})(e,i,n||t);const a=o?function(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Li);const{setup:r}=n;if(r){$e();const n=e.setupContext=r.length>1?Ha(e):null,i=Pa(e),o=An(r,e,0,[e.props,n]),a=w(o);if(Ze(),i(),!a&&!e.sp||ei(e)||zr(e),a){if(o.then(Da,Da),t)return o.then(n=>{za(e,n,t)}).catch(t=>{Cn(t,e,0)});e.asyncDep=o}else za(e,o,t)}else Va(e,t)}(e,t):void 0;return t&&ka(!1),a}function za(e,t,n){y(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:x(t)&&(e.setupState=un(t)),Va(e,n)}function Va(e,t,n){const r=e.type;if(!e.render){if(!t&&La&&!r.render){const t=r.template||Xi(e).template;if(t){const{isCustomElement:n,compilerOptions:i}=e.appContext.config,{delimiters:o,compilerOptions:a}=r,s=c(c({isCustomElement:n,delimiters:o},i),a);r.render=La(t,s)}}e.render=r.render||o,Fa&&Fa(e)}{const t=Pa(e);$e();try{Wi(e)}finally{Ze(),t()}}}const ja={get:(e,t)=>(st(e,0,""),e[t])};function Ha(e){const t=t=>{e.exposed=t||{}};return{attrs:new Proxy(e.attrs,ja),slots:e.slots,emit:e.emit,expose:t}}function Wa(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(un(Jt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Di?Di[n](e):void 0,has:(e,t)=>t in e||t in Di})):e.proxy}function Ga(e,t=!0){return y(e)?e.displayName||e.name:e.name||t&&e.__name}const qa=(e,t)=>{const n=function(e,t,n=!1){let r,i;return y(e)?r=e:(r=e.get,i=e.set),new yn(r,i,n)}(e,0,Ua);return n};function Xa(e,t,n){try{aa(-1);const r=arguments.length;return 2===r?x(t)&&!d(t)?ua(t)?ma(e,null,[t]):ma(e,t):ma(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&ua(n)&&(n=[n]),ma(e,t,n))}finally{aa(1)}}function Ya(e,t,n,r){const i=n[r];if(i&&Ka(i,e))return i;const o=t();return o.memo=e.slice(),o.cacheIndex=r,n[r]=o}function Ka(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(F(n[r],t[r]))return!1;return oa>0&&na&&na.push(e),!0}const $a="3.5.26",Za=o,Ja=Tn,Qa=Wn,es=function e(t,n){var r,i;if(Wn=t,Wn)Wn.enabled=!0,Gn.forEach(({event:e,args:t})=>Wn.emit(e,...t)),Gn=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(i=null==(r=window.navigator)?void 0:r.userAgent)?void 0:i.includes("jsdom"))){(n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(t=>{e(t,n)}),setTimeout(()=>{Wn||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Gn=[])},3e3)}else Gn=[]},ts={createComponentInstance:Ca,setupComponent:Ba,renderComponentRoot:ho,setCurrentRenderingInstance:Yn,isVNode:ua,normalizeVNode:xa,getComponentPublicInstance:Wa,ensureValidVNode:ki,pushWarningContext:function(e){En.push(e)},popWarningContext:function(){En.pop()}};let ns;const rs="undefined"!=typeof window&&window.trustedTypes;if(rs)try{ns=rs.createPolicy("vue",{createHTML:e=>e})}catch(ame){}const is=ns?e=>ns.createHTML(e):e=>e,os="undefined"!=typeof document?document:null,as=os&&os.createElement("template"),ss={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i="svg"===t?os.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?os.createElementNS("http://www.w3.org/1998/Math/MathML",e):n?os.createElement(e,{is:n}):os.createElement(e);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>os.createTextNode(e),createComment:e=>os.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>os.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const a=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==o&&(i=i.nextSibling););else{as.innerHTML=is("svg"===r?"<svg>".concat(e,"</svg>"):"mathml"===r?"<math>".concat(e,"</math>"):e);const i=as.content;if("svg"===r||"mathml"===r){const e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[a?a.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ls="transition",cs="animation",us=Symbol("_vtc"),hs={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},fs=c({},Cr,hs),ds=e=>(e.displayName="Transition",e.props=fs,e),ps=ds((e,{slots:t})=>Xa(Ir,vs(e),t)),ms=(e,t=[])=>{d(e)?e.forEach(e=>e(...t)):e&&e(...t)},gs=e=>!!e&&(d(e)?e.some(e=>e.length>1):e.length>1);function vs(e){const t={};for(const c in e)c in hs||(t[c]=e[c]);if(!1===e.css)return t;const{name:n="v",type:r,duration:i,enterFromClass:o="".concat(n,"-enter-from"),enterActiveClass:a="".concat(n,"-enter-active"),enterToClass:s="".concat(n,"-enter-to"),appearFromClass:l=o,appearActiveClass:u=a,appearToClass:h=s,leaveFromClass:f="".concat(n,"-leave-from"),leaveActiveClass:d="".concat(n,"-leave-active"),leaveToClass:p="".concat(n,"-leave-to")}=e,m=function(e){if(null==e)return null;if(x(e))return[ys(e.enter),ys(e.leave)];{const t=ys(e);return[t,t]}}(i),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:_,onEnterCancelled:b,onLeave:w,onLeaveCancelled:S,onBeforeAppear:E=y,onAppear:T=_,onAppearCancelled:A=b}=t,M=(e,t,n,r)=>{e._enterCancelled=r,bs(e,t?h:s),bs(e,t?u:a),n&&n()},C=(e,t)=>{e._isLeaving=!1,bs(e,f),bs(e,p),bs(e,d),t&&t()},O=e=>(t,n)=>{const i=e?T:_,a=()=>M(t,e,n);ms(i,[t,a]),xs(()=>{bs(t,e?l:o),_s(t,e?h:s),gs(i)||Ss(t,r,g,a)})};return c(t,{onBeforeEnter(e){ms(y,[e]),_s(e,o),_s(e,a)},onBeforeAppear(e){ms(E,[e]),_s(e,l),_s(e,u)},onEnter:O(!1),onAppear:O(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>C(e,t);_s(e,f),e._enterCancelled?(_s(e,d),Ms(e)):(Ms(e),_s(e,d)),xs(()=>{e._isLeaving&&(bs(e,f),_s(e,p),gs(w)||Ss(e,r,v,n))}),ms(w,[e,n])},onEnterCancelled(e){M(e,!1,void 0,!0),ms(b,[e])},onAppearCancelled(e){M(e,!0,void 0,!0),ms(A,[e])},onLeaveCancelled(e){C(e),ms(S,[e])}})}function ys(e){return V(e)}function _s(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.add(t)),(e[us]||(e[us]=new Set)).add(t)}function bs(e,t){t.split(/\s+/).forEach(t=>t&&e.classList.remove(t));const n=e[us];n&&(n.delete(t),n.size||(e[us]=void 0))}function xs(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let ws=0;function Ss(e,t,n,r){const i=e._endId=++ws,o=()=>{i===e._endId&&r()};if(null!=n)return setTimeout(o,n);const{type:a,timeout:s,propCount:l}=Es(e,t);if(!a)return r();const c=a+"end";let u=0;const h=()=>{e.removeEventListener(c,f),o()},f=t=>{t.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},s+1),e.addEventListener(c,f)}function Es(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r("".concat(ls,"Delay")),o=r("".concat(ls,"Duration")),a=Ts(i,o),s=r("".concat(cs,"Delay")),l=r("".concat(cs,"Duration")),c=Ts(s,l);let u=null,h=0,f=0;t===ls?a>0&&(u=ls,h=a,f=o.length):t===cs?c>0&&(u=cs,h=c,f=l.length):(h=Math.max(a,c),u=h>0?a>c?ls:cs:null,f=u?u===ls?o.length:l.length:0);return{type:u,timeout:h,propCount:f,hasTransform:u===ls&&/\b(?:transform|all)(?:,|$)/.test(r("".concat(ls,"Property")).toString())}}function Ts(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((t,n)=>As(t)+As(e[n])))}function As(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Ms(e){return(e?e.ownerDocument:document).body.offsetHeight}const Cs=Symbol("_vod"),Os=Symbol("_vsh"),Rs={name:"show",beforeMount(e,{value:t},{transition:n}){e[Cs]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):Is(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Is(e,!0),r.enter(e)):r.leave(e,()=>{Is(e,!1)}):Is(e,t))},beforeUnmount(e,{value:t}){Is(e,t)}};function Is(e,t){e.style.display=t?e[Cs]:"none",e[Os]=!t}const ks=Symbol("");function Ps(e){const t=Ra();if(!t)return;const n=t.ut=(n=e(t.proxy))=>{Array.from(document.querySelectorAll('[data-v-owner="'.concat(t.uid,'"]'))).forEach(e=>Ns(e,n))},r=()=>{const r=e(t.proxy);t.ce?Ns(t.ce,r):Ds(t.subTree,r),n(r)};mi(()=>{Bn(r)}),pi(()=>{lr(r,o,{flush:"post"});const e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),yi(()=>e.disconnect())})}function Ds(e,t){if(128&e.shapeFlag){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Ds(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)Ns(e.el,t);else if(e.type===Zo)e.children.forEach(e=>Ds(e,t));else if(e.type===ea){let{el:n,anchor:r}=e;for(;n&&(Ns(n,t),n!==r);)n=n.nextSibling}}function Ns(e,t){if(1===e.nodeType){const n=e.style;let r="";for(const e in t){const i=Ae(t[e]);n.setProperty("--".concat(e),i),r+="--".concat(e,": ").concat(i,";")}n[ks]=r}}const Ls=/(?:^|;)\s*display\s*:/;const Fs=/\s*!important$/;function Us(e,t,n){if(d(n))n.forEach(n=>Us(e,t,n));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=function(e,t){const n=zs[t];if(n)return n;let r=k(t);if("filter"!==r&&r in e)return zs[t]=r;r=N(r);for(let i=0;i<Bs.length;i++){const n=Bs[i]+r;if(n in e)return zs[t]=n}return t}(e,t);Fs.test(n)?e.setProperty(D(r),n.replace(Fs,""),"important"):e[r]=n}}const Bs=["Webkit","Moz","ms"],zs={};const Vs="http://www.w3.org/1999/xlink";function js(e,t,n,r,i,o=ce(t)){r&&t.startsWith("xlink:")?null==n?e.removeAttributeNS(Vs,t.slice(6,t.length)):e.setAttributeNS(Vs,t,n):null==n||o&&!he(n)?e.removeAttribute(t):e.setAttribute(t,o?"":b(n)?String(n):n)}function Hs(e,t,n,r,i){if("innerHTML"===t||"textContent"===t)return void(null!=n&&(e[t]="innerHTML"===t?is(n):n));const o=e.tagName;if("value"===t&&"PROGRESS"!==o&&!o.includes("-")){const r="OPTION"===o?e.getAttribute("value")||"":e.value,i=null==n?"checkbox"===e.type?"on":"":String(n);return r===i&&"_value"in e||(e.value=i),null==n&&e.removeAttribute(t),void(e._value=n)}let a=!1;if(""===n||null==n){const r=typeof e[t];"boolean"===r?n=he(n):null==n&&"string"===r?(n="",a=!0):"number"===r&&(n=0,a=!0)}try{e[t]=n}catch(ame){}a&&e.removeAttribute(i||t)}function Ws(e,t,n,r){e.addEventListener(t,n,r)}const Gs=Symbol("_vei");function qs(e,t,n,r,i=null){const o=e[Gs]||(e[Gs]={}),a=o[t];if(r&&a)a.value=r;else{const[n,s]=function(e){let t;if(Xs.test(e)){let n;for(t={};n=e.match(Xs);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):D(e.slice(2));return[n,t]}(t);if(r){const a=o[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Mn(function(e,t){if(d(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=$s(),n}(r,i);Ws(e,n,a,s)}else a&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,n,a,s),o[t]=void 0)}}const Xs=/(?:Once|Passive|Capture)$/;let Ys=0;const Ks=Promise.resolve(),$s=()=>Ys||(Ks.then(()=>Ys=0),Ys=Date.now());const Zs=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Js=(e,t,n,r,i,o)=>{const a="svg"===i;"class"===t?function(e,t,n){const r=e[us];r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,a):"style"===t?function(e,t,n){const r=e.style,i=_(n);let o=!1;if(n&&!i){if(t)if(_(t))for(const e of t.split(";")){const t=e.slice(0,e.indexOf(":")).trim();null==n[t]&&Us(r,t,"")}else for(const e in t)null==n[e]&&Us(r,e,"");for(const e in n)"display"===e&&(o=!0),Us(r,e,n[e])}else if(i){if(t!==n){const e=r[ks];e&&(n+=";"+e),r.cssText=n,o=Ls.test(n)}}else t&&e.removeAttribute("style");Cs in e&&(e[Cs]=o?r.display:"",e[Os]&&(r.display="none"))}(e,n,r):s(t)?l(t)||qs(e,t,0,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&Zs(t)&&y(n));if("spellcheck"===t||"draggable"===t||"translate"===t||"autocorrect"===t)return!1;if("sandbox"===t&&"IFRAME"===e.tagName)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Zs(t)&&_(n))return!1;return t in e}(e,t,r,a))?(Hs(e,t,r),e.tagName.includes("-")||"value"!==t&&"checked"!==t&&"selected"!==t||js(e,t,r,a,0,"value"!==t)):!e._isVueCE||!/[A-Z]/.test(t)&&_(r)?("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),js(e,t,r,a)):Hs(e,k(t),r,0,t)};const Qs={};function el(e,t,n){let r=Ur(e,t);A(r)&&(r=c({},r,t));class i extends nl{constructor(e){super(r,e,n)}}return i.def=r,i}const tl="undefined"!=typeof HTMLElement?HTMLElement:class{};class nl extends tl{constructor(e,t={},n=Vl){super(),this._def=e,this._props=t,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._patching=!1,this._dirty=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Vl?this._root=this.shadowRoot:!1!==e.shadowRoot?(this.attachShadow(c({},e.shadowRootOptions,{mode:"open"})),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._resolved||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof nl){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Ln(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null,this._teleportTargets&&(this._teleportTargets.clear(),this._teleportTargets=void 0))})}_processMutations(e){for(const t of e)this._setAttr(t.attributeName)}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(this._processMutations.bind(this)),this._ob.observe(this,{attributes:!0});const e=(e,t=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:n,styles:r}=e;let i;if(n&&!d(n))for(const o in n){const e=n[o];(e===Number||e&&e.type===Number)&&(o in this._props&&(this._props[o]=V(this._props[o])),(i||(i=Object.create(null)))[k(o)]=!0)}this._numberProps=i,this._resolveProps(e),this.shadowRoot&&this._applyStyles(r),this._mount(e)},t=this._def.__asyncLoader;t?this._pendingResolve=t().then(t=>{t.configureApp=this._def.configureApp,e(this._def=t,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const t=this._instance&&this._instance.exposed;if(t)for(const n in t)f(this,n)||Object.defineProperty(this,n,{get:()=>sn(t[n])})}_resolveProps(e){const{props:t}=e,n=d(t)?t:Object.keys(t||{});for(const r of Object.keys(this))"_"!==r[0]&&n.includes(r)&&this._setProp(r,this[r]);for(const r of n.map(k))Object.defineProperty(this,r,{get(){return this._getProp(r)},set(e){this._setProp(r,e,!0,!this._patching)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const t=this.hasAttribute(e);let n=t?this.getAttribute(e):Qs;const r=k(e);t&&this._numberProps&&this._numberProps[r]&&(n=V(n)),this._setProp(r,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,t,n=!0,r=!1){if(t!==this._props[e]&&(this._dirty=!0,t===Qs?delete this._props[e]:(this._props[e]=t,"key"===e&&this._app&&(this._app._ceVNode.key=t)),r&&this._instance&&this._update(),n)){const n=this._ob;n&&(this._processMutations(n.takeRecords()),n.disconnect()),!0===t?this.setAttribute(D(e),""):"string"==typeof t||"number"==typeof t?this.setAttribute(D(e),t+""):t||this.removeAttribute(D(e)),n&&n.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),zl(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const t=ma(this._def,c(e,this._props));return this._instance||(t.ce=e=>{this._instance=e,e.ce=this,e.isCE=!0;const t=(e,t)=>{this.dispatchEvent(new CustomEvent(e,A(t[0])?c({detail:t},t[0]):{detail:t}))};e.emit=(e,...n)=>{t(e,n),D(e)!==e&&t(D(e),n)},this._setParent()}),t}_applyStyles(e,t){if(!e)return;if(t){if(t===this._def||this._styleChildren.has(t))return;this._styleChildren.add(t)}const n=this._nonce;for(let r=e.length-1;r>=0;r--){const t=document.createElement("style");n&&t.setAttribute("nonce",n),t.textContent=e[r],this.shadowRoot.prepend(t)}}_parseSlots(){const e=this._slots={};let t;for(;t=this.firstChild;){const n=1===t.nodeType&&t.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(t),this.removeChild(t)}}_renderSlots(){const e=this._getSlots(),t=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const r=e[n],i=r.getAttribute("name")||"default",o=this._slots[i],a=r.parentNode;if(o)for(const e of o){if(t&&1===e.nodeType){const n=t+"-s",r=document.createTreeWalker(e,1);let i;for(e.setAttribute(n,"");i=r.nextNode();)i.setAttribute(n,"")}a.insertBefore(e,r)}else for(;r.firstChild;)a.insertBefore(r.firstChild,r);a.removeChild(r)}}_getSlots(){const e=[this];this._teleportTargets&&e.push(...this._teleportTargets);const t=new Set;for(const n of e){const e=n.querySelectorAll("slot");for(let n=0;n<e.length;n++)t.add(e[n])}return Array.from(t)}_injectChildStyle(e){this._applyStyles(e.styles,e)}_beginPatch(){this._patching=!0,this._dirty=!1}_endPatch(){this._patching=!1,this._dirty&&this._instance&&this._update()}_removeChildStyle(e){}}function rl(e){const t=Ra(),n=t&&t.ce;return n||null}const il=new WeakMap,ol=new WeakMap,al=Symbol("_moveCb"),sl=Symbol("_enterCb"),ll=e=>(delete e.props.mode,e),cl=ll({name:"TransitionGroup",props:c({},fs,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Ra(),r=Ar();let i,o;return gi(()=>{if(!i.length)return;const t=e.moveClass||"".concat(e.name||"v","-move");if(!function(e,t,n){const r=e.cloneNode(),i=e[us];i&&i.forEach(e=>{e.split(/\s+/).forEach(e=>e&&r.classList.remove(e))});n.split(/\s+/).forEach(e=>e&&r.classList.add(e)),r.style.display="none";const o=1===t.nodeType?t:t.parentNode;o.appendChild(r);const{hasTransform:a}=Es(r);return o.removeChild(r),a}(i[0].el,n.vnode.el,t))return void(i=[]);i.forEach(hl),i.forEach(fl);const r=i.filter(dl);Ms(n.vnode.el),r.forEach(e=>{const n=e.el,r=n.style;_s(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[al]=e=>{e&&e.target!==n||e&&!e.propertyName.endsWith("transform")||(n.removeEventListener("transitionend",i),n[al]=null,bs(n,t))};n.addEventListener("transitionend",i)}),i=[]}),()=>{const a=Zt(e),s=vs(a);let l=a.tag||Zo;if(i=[],o)for(let e=0;e<o.length;e++){const t=o[e];t.el&&t.el instanceof Element&&(i.push(t),Lr(t,Pr(t,s,r,n)),il.set(t,{left:t.el.offsetLeft,top:t.el.offsetTop}))}o=t.default?Fr(t.default()):[];for(let e=0;e<o.length;e++){const t=o[e];null!=t.key&&Lr(t,Pr(t,s,r,n))}return ma(l,null,o)}}}),ul=cl;function hl(e){const t=e.el;t[al]&&t[al](),t[sl]&&t[sl]()}function fl(e){ol.set(e,{left:e.el.offsetLeft,top:e.el.offsetTop})}function dl(e){const t=il.get(e),n=ol.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform="translate(".concat(r,"px,").concat(i,"px)"),t.transitionDuration="0s",e}}const pl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return d(t)?e=>U(t,e):t};function ml(e){e.target.composing=!0}function gl(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vl=Symbol("_assign");function yl(e,t,n){return t&&(e=e.trim()),n&&(e=z(e)),e}const _l={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[vl]=pl(i);const o=r||i.props&&"number"===i.props.type;Ws(e,t?"change":"input",t=>{t.target.composing||e[vl](yl(e.value,n,o))}),(n||o)&&Ws(e,"change",()=>{e.value=yl(e.value,n,o)}),t||(Ws(e,"compositionstart",ml),Ws(e,"compositionend",gl),Ws(e,"change",gl))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},a){if(e[vl]=pl(a),e.composing)return;const s=null==t?"":t;if((!o&&"number"!==e.type||/^0\d/.test(e.value)?e.value:z(e.value))!==s){if(document.activeElement===e&&"range"!==e.type){if(r&&t===n)return;if(i&&e.value.trim()===s)return}e.value=s}}},bl={deep:!0,created(e,t,n){e[vl]=pl(n),Ws(e,"change",()=>{const t=e._modelValue,n=Tl(e),r=e.checked,i=e[vl];if(d(t)){const e=xe(t,n),o=-1!==e;if(r&&!o)i(t.concat(n));else if(!r&&o){const n=[...t];n.splice(e,1),i(n)}}else if(m(t)){const e=new Set(t);r?e.add(n):e.delete(n),i(e)}else i(Al(e,r))})},mounted:xl,beforeUpdate(e,t,n){e[vl]=pl(n),xl(e,t,n)}};function xl(e,{value:t,oldValue:n},r){let i;if(e._modelValue=t,d(t))i=xe(t,r.props.value)>-1;else if(m(t))i=t.has(r.props.value);else{if(t===n)return;i=be(t,Al(e,!0))}e.checked!==i&&(e.checked=i)}const wl={created(e,{value:t},n){e.checked=be(t,n.props.value),e[vl]=pl(n),Ws(e,"change",()=>{e[vl](Tl(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e[vl]=pl(r),t!==n&&(e.checked=be(t,r.props.value))}},Sl={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=m(t);Ws(e,"change",()=>{const t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?z(Tl(e)):Tl(e));e[vl](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,Ln(()=>{e._assigning=!1})}),e[vl]=pl(r)},mounted(e,{value:t}){El(e,t)},beforeUpdate(e,t,n){e[vl]=pl(n)},updated(e,{value:t}){e._assigning||El(e,t)}};function El(e,t){const n=e.multiple,r=d(t);if(!n||r||m(t)){for(let i=0,o=e.options.length;i<o;i++){const o=e.options[i],a=Tl(o);if(n)if(r){const e=typeof a;o.selected="string"===e||"number"===e?t.some(e=>String(e)===String(a)):xe(t,a)>-1}else o.selected=t.has(a);else if(be(Tl(o),t))return void(e.selectedIndex!==i&&(e.selectedIndex=i))}n||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Tl(e){return"_value"in e?e._value:e.value}function Al(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ml={created(e,t,n){Ol(e,t,n,null,"created")},mounted(e,t,n){Ol(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){Ol(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){Ol(e,t,n,r,"updated")}};function Cl(e,t){switch(e){case"SELECT":return Sl;case"TEXTAREA":return _l;default:switch(t){case"checkbox":return bl;case"radio":return wl;default:return _l}}}function Ol(e,t,n,r,i){const o=Cl(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}const Rl=["ctrl","shift","alt","meta"],Il={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>Rl.some(n=>e["".concat(n,"Key")]&&!t.includes(n))},kl=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(n,...r)=>{for(let e=0;e<t.length;e++){const r=Il[t[e]];if(r&&r(n,t))return}return e(n,...r)})},Pl={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Dl=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=n=>{if(!("key"in n))return;const r=D(n.key);return t.some(e=>e===r||Pl[e]===r)?e(n):void 0})},Nl=c({patchProp:Js},ss);let Ll,Fl=!1;function Ul(){return Ll||(Ll=ko(Nl))}function Bl(){return Ll=Fl?Ll:Po(Nl),Fl=!0,Ll}const zl=(...e)=>{Ul().render(...e)},Vl=(...e)=>{const t=Ul().createApp(...e),{mount:n}=t;return t.mount=e=>{const r=Wl(e);if(!r)return;const i=t._component;y(i)||i.render||i.template||(i.template=r.innerHTML),1===r.nodeType&&(r.textContent="");const o=n(r,!1,Hl(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},t},jl=(...e)=>{const t=Bl().createApp(...e),{mount:n}=t;return t.mount=e=>{const t=Wl(e);if(t)return n(t,!0,Hl(t))},t};function Hl(e){return e instanceof SVGElement?"svg":"function"==typeof MathMLElement&&e instanceof MathMLElement?"mathml":void 0}function Wl(e){if(_(e)){return document.querySelector(e)}return e}let Gl=!1;const ql=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Ir,BaseTransitionPropsValidators:Cr,Comment:Qo,DeprecationTypes:null,EffectScope:Re,ErrorCodes:{SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},ErrorTypeStrings:Ja,Fragment:Zo,KeepAlive:ri,ReactiveEffect:Ne,Static:ea,Suspense:Go,Teleport:xr,Text:Jo,TrackOpTypes:{GET:"get",HAS:"has",ITERATE:"iterate"},Transition:ps,TransitionGroup:ul,TriggerOpTypes:{SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},VueElement:nl,assertNumber:function(e,t){},callWithAsyncErrorHandling:Mn,callWithErrorHandling:An,camelize:k,capitalize:N,cloneVNode:va,compatUtils:null,computed:qa,createApp:Vl,createBlock:ca,createCommentVNode:ba,createElementBlock:la,createElementVNode:pa,createHydrationRenderer:Po,createPropsRestProxy:function(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n},createRenderer:ko,createSSRApp:jl,createSlots:function(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(d(r))for(let t=0;t<r.length;t++)e[r[t].name]=r[t].fn;else r&&(e[r.name]=r.key?(...e)=>{const t=r.fn(...e);return t&&(t.key=r.key),t}:r.fn)}return e},createStaticVNode:_a,createTextVNode:ya,createVNode:ma,customRef:fn,defineAsyncComponent:function(e){y(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,hydrate:o,timeout:a,suspensible:s=!0,onError:l}=e;let c,u=null,h=0;const f=()=>{let e;return u||(e=u=t().catch(e=>{if(e=e instanceof Error?e:new Error(String(e)),l)return new Promise((t,n)=>{l(e,()=>t((h++,u=null,f())),()=>n(e),h+1)});throw e}).then(t=>e!==u&&u?u:(t&&(t.__esModule||"Module"===t[Symbol.toStringTag])&&(t=t.default),c=t,t)))};return Ur({name:"AsyncComponentWrapper",__asyncLoader:f,__asyncHydrate(e,t,n){let r=!1;(t.bu||(t.bu=[])).push(()=>r=!0);const i=()=>{r||n()},a=o?()=>{const n=o(i,t=>function(e,t){if(Xr(e)&&"["===e.data){let n=1,r=e.nextSibling;for(;r;){if(1===r.nodeType){if(!1===t(r))break}else if(Xr(r))if("]"===r.data){if(0===--n)break}else"["===r.data&&n++;r=r.nextSibling}}else t(e)}(e,t));n&&(t.bum||(t.bum=[])).push(n)}:i;c?a():f().then(()=>!t.isUnmounted&&a())},get __asyncResolved(){return c},setup(){const e=Oa;if(zr(e),c)return()=>ti(c,e);const t=t=>{u=null,Cn(t,e,13,!r)};if(s&&e.suspense||Ua)return f().then(t=>()=>ti(t,e)).catch(e=>(t(e),()=>r?ma(r,{error:e}):null));const o=nn(!1),l=nn(),h=nn(!!i);return i&&setTimeout(()=>{h.value=!1},i),null!=a&&setTimeout(()=>{if(!o.value&&!l.value){const e=new Error("Async component timed out after ".concat(a,"ms."));t(e),l.value=e}},a),f().then(()=>{o.value=!0,e.parent&&ni(e.parent.vnode)&&e.parent.update()}).catch(e=>{t(e),l.value=e}),()=>o.value&&c?ti(c,e):l.value&&r?ma(r,{error:l.value}):n&&!h.value?ti(n,e):void 0}})},defineComponent:Ur,defineCustomElement:el,defineEmits:function(){return null},defineExpose:function(e){},defineModel:function(){},defineOptions:function(e){},defineProps:function(){return null},defineSSRCustomElement:(e,t)=>el(e,t,jl),defineSlots:function(){return null},devtools:Qa,effect:function(e,t){e.effect instanceof Ne&&(e=e.effect.fn);const n=new Ne(e);t&&c(n,t);try{n.run()}catch(i){throw n.stop(),i}const r=n.run.bind(n);return r.effect=n,r},effectScope:Ie,getCurrentInstance:Ra,getCurrentScope:ke,getCurrentWatcher:function(){return xn},getTransitionRawChildren:Fr,guardReactiveProps:ga,h:Xa,handleError:Cn,hasInjectionContext:nr,hydrate:(...e)=>{Bl().hydrate(...e)},hydrateOnIdle:(e=1e4)=>t=>{const n=Jr(t,{timeout:e});return()=>Qr(n)},hydrateOnInteraction:(e=[])=>(t,n)=>{_(e)&&(e=[e]);let r=!1;const i=e=>{r||(r=!0,o(),t(),e.target.dispatchEvent(new e.constructor(e.type,e)))},o=()=>{n(t=>{for(const n of e)t.removeEventListener(n,i)})};return n(t=>{for(const n of e)t.addEventListener(n,i,{once:!0})}),o},hydrateOnMediaQuery:e=>t=>{if(e){const n=matchMedia(e);if(!n.matches)return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t);t()}},hydrateOnVisible:e=>(t,n)=>{const r=new IntersectionObserver(e=>{for(const n of e)if(n.isIntersecting){r.disconnect(),t();break}},e);return n(e=>{if(e instanceof Element)return function(e){const{top:t,left:n,bottom:r,right:i}=e.getBoundingClientRect(),{innerHeight:o,innerWidth:a}=window;return(t>0&&t<o||r>0&&r<o)&&(n>0&&n<a||i>0&&i<a)}(e)?(t(),r.disconnect(),!1):void r.observe(e)}),()=>r.disconnect()},initCustomFormatter:function(){},initDirectivesForSSR:()=>{Gl||(Gl=!0,_l.getSSRProps=({value:e})=>({value:e}),wl.getSSRProps=({value:e},t)=>{if(t.props&&be(t.props.value,e))return{checked:!0}},bl.getSSRProps=({value:e},t)=>{if(d(e)){if(t.props&&xe(e,t.props.value)>-1)return{checked:!0}}else if(m(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Ml.getSSRProps=(e,t)=>{if("string"!=typeof t.type)return;const n=Cl(t.type.toUpperCase(),t.props&&t.props.type);return n.getSSRProps?n.getSSRProps(e,t):void 0},Rs.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}})},inject:tr,isMemoSame:Ka,isProxy:$t,isReactive:Xt,isReadonly:Yt,isRef:tn,isRuntimeOnly:()=>!La,isShallow:Kt,isVNode:ua,markRaw:Jt,mergeDefaults:Vi,mergeModels:ji,mergeProps:Ea,nextTick:Ln,nodeOps:ss,normalizeClass:ne,normalizeProps:re,normalizeStyle:Z,onActivated:oi,onBeforeMount:di,onBeforeUnmount:vi,onBeforeUpdate:mi,onDeactivated:ai,onErrorCaptured:wi,onMounted:pi,onRenderTracked:xi,onRenderTriggered:bi,onScopeDispose:Pe,onServerPrefetch:_i,onUnmounted:yi,onUpdated:gi,onWatcherCleanup:wn,openBlock:ra,patchProp:Js,popScopeId:$n,provide:er,proxyRefs:un,pushScopeId:Kn,queuePostFlushCb:Bn,reactive:jt,readonly:Wt,ref:nn,registerRuntimeCompiler:function(e){La=e,Fa=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,Fi))}},render:zl,renderList:Ri,renderSlot:Ii,resolveComponent:Ei,resolveDirective:Mi,resolveDynamicComponent:Ai,resolveFilter:null,resolveTransitionHooks:Pr,setBlockTracking:aa,setDevtoolsHook:es,setTransitionHooks:Lr,shallowReactive:Ht,shallowReadonly:Gt,shallowRef:rn,ssrContextKey:rr,ssrUtils:ts,stop:function(e){e.effect.stop()},toDisplayString:Se,toHandlerKey:L,toHandlers:function(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?"on:".concat(r):L(r)]=e[r];return n},toRaw:Zt,toRef:gn,toRefs:dn,toValue:ln,transformVNodeArgs:function(e){},triggerRef:function(e){e.dep&&e.dep.trigger()},unref:sn,useAttrs:function(){return Bi().attrs},useCssModule:function(e="$style"){{const t=Ra();if(!t)return r;const n=t.type.__cssModules;if(!n)return r;const i=n[e];return i||r}},useCssVars:Ps,useHost:rl,useId:Br,useModel:oo,useSSRContext:ir,useShadowRoot:function(){const e=rl();return e&&e.shadowRoot},useSlots:Ui,useTemplateRef:function(e){const t=Ra(),n=rn(null);if(t){const i=t.refs===r?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:e=>n.value=e})}return n},useTransitionState:Ar,vModelCheckbox:bl,vModelDynamic:Ml,vModelRadio:wl,vModelSelect:Sl,vModelText:_l,vShow:Rs,version:$a,warn:Za,watch:lr,watchEffect:or,watchPostEffect:ar,watchSyncEffect:sr,withAsyncContext:function(e){const t=Ra();let n=e();return Da(),w(n)&&(n=n.catch(e=>{throw Pa(t),e})),[n,()=>Pa(t)]},withCtx:Zn,withDefaults:function(e,t){return null},withDirectives:Jn,withKeys:Dl,withMemo:Ya,withModifiers:kl,withScopeId:e=>Zn},Symbol.toStringTag,{value:"Module"}));let Xl;const Yl=e=>Xl=e,Kl=Symbol();function $l(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var Zl,Jl;function Ql(){const e=Ie(!0),t=e.run(()=>nn({}));let n=[],r=[];const i=Jt({install(e){Yl(i),i._a=e,e.provide(Kl,i),e.config.globalProperties.$pinia=i,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}(Jl=Zl||(Zl={})).direct="direct",Jl.patchObject="patch object",Jl.patchFunction="patch function";const ec=()=>{};function tc(e,t,n,r=ec){e.add(t);const i=()=>{e.delete(t)&&r()};return!n&&ke()&&Pe(i),i}function nc(e,...t){e.forEach(e=>{e(...t)})}const rc=e=>e(),ic=Symbol(),oc=Symbol();function ac(e,t){e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const r=t[n],i=e[n];$l(i)&&$l(r)&&e.hasOwnProperty(n)&&!tn(r)&&!Xt(r)?e[n]=ac(i,r):e[n]=r}return e}const sc=Symbol();function lc(e){return!$l(e)||!Object.prototype.hasOwnProperty.call(e,sc)}const{assign:cc}=Object;function uc(e){return!(!tn(e)||!e.effect)}function hc(e,t,n={},r,i,o){let a;const s=cc({actions:{}},n),l={deep:!0};let c,u,h,f=new Set,d=new Set;const p=r.state.value[e];let m;function g(t){let n;c=u=!1,"function"==typeof t?(t(r.state.value[e]),n={type:Zl.patchFunction,storeId:e,events:h}):(ac(r.state.value[e],t),n={type:Zl.patchObject,payload:t,storeId:e,events:h});const i=m=Symbol();Ln().then(()=>{m===i&&(c=!0)}),u=!0,nc(f,n,r.state.value[e])}o||p||(r.state.value[e]={}),nn({});const v=o?function(){const{state:e}=n,t=e?e():{};this.$patch(e=>{cc(e,t)})}:ec;const y=(t,n="")=>{if(ic in t)return t[oc]=n,t;const i=function(){Yl(r);const n=Array.from(arguments),o=new Set,a=new Set;let s;nc(d,{args:n,name:i[oc],store:_,after:function(e){o.add(e)},onError:function(e){a.add(e)}});try{s=t.apply(this&&this.$id===e?this:_,n)}catch(l){throw nc(a,l),l}return s instanceof Promise?s.then(e=>(nc(o,e),e)).catch(e=>(nc(a,e),Promise.reject(e))):(nc(o,s),s)};return i[ic]=!0,i[oc]=n,i},_=jt({_p:r,$id:e,$onAction:tc.bind(null,d),$patch:g,$reset:v,$subscribe(t,n={}){const i=tc(f,t,n.detached,()=>o()),o=a.run(()=>lr(()=>r.state.value[e],r=>{("sync"===n.flush?u:c)&&t({storeId:e,type:Zl.direct,events:h},r)},cc({},l,n)));return i},$dispose:function(){a.stop(),f.clear(),d.clear(),r._s.delete(e)}});r._s.set(e,_);const b=(r._a&&r._a.runWithContext||rc)(()=>r._e.run(()=>(a=Ie()).run(()=>t({action:y}))));for(const x in b){const t=b[x];if(tn(t)&&!uc(t)||Xt(t))o||(p&&lc(t)&&(tn(t)?t.value=p[x]:ac(t,p[x])),r.state.value[e][x]=t);else if("function"==typeof t){const e=y(t,x);b[x]=e,s.actions[x]=t}}return cc(_,b),cc(Zt(_),b),Object.defineProperty(_,"$state",{get:()=>r.state.value[e],set:e=>{g(t=>{cc(t,e)})}}),r._p.forEach(e=>{cc(_,a.run(()=>e({store:_,app:r._a,pinia:r,options:s})))}),p&&o&&n.hydrate&&n.hydrate(_.$state,p),c=!0,u=!0,_}function fc(e,t,n){let r;const i="function"==typeof t;function o(n,o){const a=nr();(n=n||(a?tr(Kl,null):null))&&Yl(n),(n=Xl)._s.has(e)||(i?hc(e,t,r,n):function(e,t,n){const{state:r,actions:i,getters:o}=t,a=n.state.value[e];let s;s=hc(e,function(){a||(n.state.value[e]=r?r():{});const t=dn(n.state.value[e]);return cc(t,i,Object.keys(o||{}).reduce((t,r)=>(t[r]=Jt(qa(()=>{Yl(n);const t=n._s.get(e);return o[r].call(t,t)})),t),{}))},t,n,0,!0)}(e,r,n));return n._s.get(e)}return r=i?n:t,o.$id=e,o}function dc(e){const t=Zt(e),n={};for(const r in t){const i=t[r];i.effect?n[r]=qa({get:()=>e[r],set(t){e[r]=t}}):(tn(i)||Xt(i))&&(n[r]=gn(e,r))}return n}const pc=(e,t)=>{const n=e.storage||sessionStorage,r=e.key||t.$id;if(e.paths){const i=e.paths.reduce((e,n)=>(e[n]=t.$state[n],e),{});n.setItem(r,JSON.stringify(i))}else n.setItem(r,JSON.stringify(t.$state))};var mc=({options:e,store:t})=>{var n,r,i,o;if(null==(n=e.persist)?void 0:n.enabled){const n=[{key:t.$id,storage:sessionStorage}],a=(null==(i=null==(r=e.persist)?void 0:r.strategies)?void 0:i.length)?null==(o=e.persist)?void 0:o.strategies:n;a.forEach(e=>{const n=e.storage||sessionStorage,r=e.key||t.$id,i=n.getItem(r);i&&(t.$patch(JSON.parse(i)),pc(e,t))}),t.$subscribe(()=>{a.forEach(e=>{pc(e,t)})})}};const gc="166",vc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},yc=0,_c=1,bc=2,xc=100,wc=101,Sc=102,Ec=200,Tc=201,Ac=202,Mc=203,Cc=204,Oc=205,Rc=206,Ic=207,kc=208,Pc=209,Dc=210,Nc=211,Lc=212,Fc=213,Uc=214,Bc="attached",zc="detached",Vc=300,jc=301,Hc=302,Wc=303,Gc=304,qc=306,Xc=1e3,Yc=1001,Kc=1002,$c=1003,Zc=1004,Jc=1005,Qc=1006,eu=1007,tu=1008,nu=1009,ru=1010,iu=1011,ou=1012,au=1013,su=1014,lu=1015,cu=1016,uu=1017,hu=1018,fu=1020,du=35902,pu=1021,mu=1022,gu=1023,vu=1024,yu=1025,_u=1026,bu=1027,xu=1028,wu=1029,Su=1030,Eu=1031,Tu=1033,Au=33776,Mu=33777,Cu=33778,Ou=33779,Ru=35840,Iu=35841,ku=35842,Pu=35843,Du=36196,Nu=37492,Lu=37496,Fu=37808,Uu=37809,Bu=37810,zu=37811,Vu=37812,ju=37813,Hu=37814,Wu=37815,Gu=37816,qu=37817,Xu=37818,Yu=37819,Ku=37820,$u=37821,Zu=36492,Ju=36494,Qu=36495,eh=36283,th=36284,nh=36285,rh=36286,ih=2300,oh=2301,ah=2302,sh=2400,lh=2401,ch=2402,uh=2500,hh=2501,fh="",dh="srgb",ph="srgb-linear",mh="display-p3",gh="display-p3-linear",vh="linear",yh="srgb",_h="rec709",bh="p3",xh=7680,wh=512,Sh=513,Eh=514,Th=515,Ah=516,Mh=517,Ch=518,Oh=519,Rh=35044,Ih="300 es",kh=2e3,Ph=2001;class Dh{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e);e.target=null}}}const Nh=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Lh=1234567;const Fh=Math.PI/180,Uh=180/Math.PI;function Bh(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Nh[255&e]+Nh[e>>8&255]+Nh[e>>16&255]+Nh[e>>24&255]+"-"+Nh[255&t]+Nh[t>>8&255]+"-"+Nh[t>>16&15|64]+Nh[t>>24&255]+"-"+Nh[63&n|128]+Nh[n>>8&255]+"-"+Nh[n>>16&255]+Nh[n>>24&255]+Nh[255&r]+Nh[r>>8&255]+Nh[r>>16&255]+Nh[r>>24&255]).toLowerCase()}function zh(e,t,n){return Math.max(t,Math.min(n,e))}function Vh(e,t){return(e%t+t)%t}function jh(e,t,n){return(1-n)*e+n*t}function Hh(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Wh(e,t){switch(t.constructor){case Float32Array:return e;case Uint32Array:return Math.round(4294967295*e);case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int32Array:return Math.round(2147483647*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}}const Gh={DEG2RAD:Fh,RAD2DEG:Uh,generateUUID:Bh,clamp:zh,euclideanModulo:Vh,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:jh,damp:function(e,t,n,r){return jh(e,t,1-Math.exp(-n*r))},pingpong:function(e,t=1){return t-Math.abs(Vh(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(Lh=e);let t=Lh+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*Fh},radToDeg:function(e){return e*Uh},isPowerOfTwo:function(e){return!(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),h=o((t-r)/2),f=a((t-r)/2),d=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*h,l*f,s*c);break;case"YZY":e.set(l*f,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*f,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*d,s*c);break;case"YXY":e.set(l*d,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*d,s*u,s*c)}},normalize:Wh,denormalize:Hh};class qh{constructor(e=0,t=0){qh.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(zh(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xh{constructor(e,t,n,r,i,o,a,s,l){Xh.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l)}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],f=n[5],d=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],_=r[7],b=r[2],x=r[5],w=r[8];return i[0]=o*p+a*v+s*b,i[3]=o*m+a*y+s*x,i[6]=o*g+a*_+s*w,i[1]=l*p+c*v+u*b,i[4]=l*m+c*y+u*x,i[7]=l*g+c*_+u*w,i[2]=h*p+f*v+d*b,i[5]=h*m+f*y+d*x,i[8]=h*g+f*_+d*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=c*o-a*l,h=a*s-c*i,f=l*i-o*s,d=t*u+n*h+r*f;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);const p=1/d;return e[0]=u*p,e[1]=(r*l-c*n)*p,e[2]=(a*n-r*o)*p,e[3]=h*p,e[4]=(c*t-r*s)*p,e[5]=(r*i-a*t)*p,e[6]=f*p,e[7]=(n*s-l*t)*p,e[8]=(o*t-n*i)*p,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);return this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(Yh.makeScale(e,t)),this}rotate(e){return this.premultiply(Yh.makeRotation(-e)),this}translate(e,t){return this.premultiply(Yh.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const Yh=new Xh;function Kh(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}const $h={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Zh(e,t){return new $h[e](t)}function Jh(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Qh(){const e=Jh("canvas");return e.style.display="block",e}const ef={};function tf(e){e in ef||(ef[e]=!0)}const nf=(new Xh).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),rf=(new Xh).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),of={[ph]:{transfer:vh,primaries:_h,toReference:e=>e,fromReference:e=>e},[dh]:{transfer:yh,primaries:_h,toReference:e=>e.convertSRGBToLinear(),fromReference:e=>e.convertLinearToSRGB()},[gh]:{transfer:vh,primaries:bh,toReference:e=>e.applyMatrix3(rf),fromReference:e=>e.applyMatrix3(nf)},[mh]:{transfer:yh,primaries:bh,toReference:e=>e.convertSRGBToLinear().applyMatrix3(rf),fromReference:e=>e.applyMatrix3(nf).convertLinearToSRGB()}},af=new Set([ph,gh]),sf={enabled:!0,_workingColorSpace:ph,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(e){if(!af.has(e))throw new Error('Unsupported working color space, "'.concat(e,'".'));this._workingColorSpace=e},convert:function(e,t,n){if(!1===this.enabled||t===n||!t||!n)return e;const r=of[t].toReference;return(0,of[n].fromReference)(r(e))},fromWorkingColorSpace:function(e,t){return this.convert(e,this._workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this._workingColorSpace)},getPrimaries:function(e){return of[e].primaries},getTransfer:function(e){return e===fh?vh:of[e].transfer}};function lf(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function cf(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}let uf;class hf{static getDataURL(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===uf&&(uf=Jh("canvas")),uf.width=e.width,uf.height=e.height;const n=uf.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=uf}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=Jh("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height),i=r.data;for(let e=0;e<i.length;e++)i[e]=255*lf(i[e]/255);return n.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let e=0;e<t.length;e++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[e]=Math.floor(255*lf(t[e]/255)):t[e]=lf(t[e]);return{data:t,width:e.width,height:e.height}}return e}}let ff=0;class df{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:ff++}),this.uuid=Bh(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const n={uuid:this.uuid,url:""},r=this.data;if(null!==r){let e;if(Array.isArray(r)){e=[];for(let t=0,n=r.length;t<n;t++)r[t].isDataTexture?e.push(pf(r[t].image)):e.push(pf(r[t]))}else e=pf(r);n.url=e}return t||(e.images[this.uuid]=n),n}}function pf(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap?hf.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:{}}let mf=0;class gf extends Dh{constructor(e=gf.DEFAULT_IMAGE,t=gf.DEFAULT_MAPPING,n=1001,r=1001,i=1006,o=1008,a=1023,s=1009,l=gf.DEFAULT_ANISOTROPY,c=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:mf++}),this.uuid=Bh(),this.name="",this.source=new df(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=r,this.magFilter=i,this.minFilter=o,this.anisotropy=l,this.format=a,this.internalFormat=null,this.type=s,this.offset=new qh(0,0),this.repeat=new qh(1,1),this.center=new qh(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xh,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Vc)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Xc:e.x=e.x-Math.floor(e.x);break;case Yc:e.x=e.x<0?0:1;break;case Kc:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Xc:e.y=e.y-Math.floor(e.y);break;case Yc:e.y=e.y<0?0:1;break;case Kc:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){!0===e&&this.pmremVersion++}}gf.DEFAULT_IMAGE=null,gf.DEFAULT_MAPPING=Vc,gf.DEFAULT_ANISOTROPY=1;class vf{constructor(e=0,t=0,n=0,r=1){vf.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(u+p)<a&&Math.abs(d+m)<a&&Math.abs(l+f+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(f+1)/2,v=(g+1)/2,y=(c+h)/4,_=(u+p)/4,b=(d+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=_/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=b/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=_/i,r=b/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-d)*(m-d)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-d)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+f+g-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class yf extends Dh{constructor(e=1,t=1,n={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new vf(0,0,e,t),this.scissorTest=!1,this.viewport=new vf(0,0,e,t);const r={width:e,height:t,depth:1};n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Qc,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},n);const i=new gf(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace);i.flipY=!1,i.generateMipmaps=n.generateMipmaps,i.internalFormat=n.internalFormat,this.textures=[];const o=n.count;for(let a=0;a<o;a++)this.textures[a]=i.clone(),this.textures[a].isRenderTargetTexture=!0;this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this.depthTexture=n.depthTexture,this.samples=n.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let r=0,i=this.textures.length;r<i;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=n;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++)this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new df(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class _f extends yf{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class bf extends gf{constructor(e=null,t=1,n=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=$c,this.minFilter=$c,this.wrapR=Yc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class xf extends gf{constructor(e=null,t=1,n=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:r},this.magFilter=$c,this.minFilter=$c,this.wrapR=Yc,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class wf{constructor(e=0,t=0,n=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=r}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],f=i[o+1],d=i[o+2],p=i[o+3];if(0===a)return e[t+0]=s,e[t+1]=l,e[t+2]=c,void(e[t+3]=u);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=d,void(e[t+3]=p);if(u!==p||s!==h||l!==f||c!==d){let e=1-a;const t=s*h+l*f+c*d+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+h*i,l=l*e+f*i,c=c*e+d*i,u=u*e+p*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],f=i[o+2],d=i[o+3];return e[t]=a*d+c*u+s*f-l*h,e[t+1]=s*d+c*h+l*u-a*f,e[t+2]=l*d+c*f+a*h-s*u,e[t+3]=c*d-a*u-s*h-l*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),h=s(n/2),f=s(r/2),d=s(i/2);switch(o){case"XYZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"YXZ":this._x=h*c*u+l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"ZXY":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u-h*f*d;break;case"ZYX":this._x=h*c*u-l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u+h*f*d;break;case"YZX":this._x=h*c*u+l*f*d,this._y=l*f*u+h*c*d,this._z=l*c*d-h*f*u,this._w=l*c*u-h*f*d;break;case"XZY":this._x=h*c*u-l*f*d,this._y=l*f*u-h*c*d,this._z=l*c*d+h*f*u,this._w=l*c*u+h*f*d}return!0===t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+a+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zh(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),r=Math.sqrt(1-n),i=Math.sqrt(n);return this.set(r*Math.sin(e),r*Math.cos(e),i*Math.sin(t),i*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Sf{constructor(e=0,t=0,n=0){Sf.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(Tf.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(Tf.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=2*(o*r-a*n),c=2*(a*t-i*r),u=2*(i*n-o*t);return this.x=t+s*l+o*u-a*c,this.y=n+s*c+a*l-i*u,this.z=r+s*u+i*c-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return Ef.copy(this).projectOnVector(e),this.sub(Ef)}reflect(e){return this.sub(Ef.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(zh(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=2*Math.random()-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ef=new Sf,Tf=new wf;class Af{constructor(e=new Sf(1/0,1/0,1/0),t=new Sf(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Cf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Cf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Cf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(void 0!==n){const r=n.getAttribute("position");if(!0===t&&void 0!==r&&!0!==e.isInstancedMesh)for(let t=0,n=r.count;t<n;t++)!0===e.isMesh?e.getVertexPosition(t,Cf):Cf.fromBufferAttribute(r,t),Cf.applyMatrix4(e.matrixWorld),this.expandByPoint(Cf);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),Of.copy(e.boundingBox)):(null===n.boundingBox&&n.computeBoundingBox(),Of.copy(n.boundingBox)),Of.applyMatrix4(e.matrixWorld),this.union(Of)}const r=e.children;for(let i=0,o=r.length;i<o;i++)this.expandByObject(r[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Cf),Cf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lf),Ff.subVectors(this.max,Lf),Rf.subVectors(e.a,Lf),If.subVectors(e.b,Lf),kf.subVectors(e.c,Lf),Pf.subVectors(If,Rf),Df.subVectors(kf,If),Nf.subVectors(Rf,kf);let t=[0,-Pf.z,Pf.y,0,-Df.z,Df.y,0,-Nf.z,Nf.y,Pf.z,0,-Pf.x,Df.z,0,-Df.x,Nf.z,0,-Nf.x,-Pf.y,Pf.x,0,-Df.y,Df.x,0,-Nf.y,Nf.x,0];return!!zf(t,Rf,If,kf,Ff)&&(t=[1,0,0,0,1,0,0,0,1],!!zf(t,Rf,If,kf,Ff)&&(Uf.crossVectors(Pf,Df),t=[Uf.x,Uf.y,Uf.z],zf(t,Rf,If,kf,Ff)))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Cf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(Cf).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Mf[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Mf[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Mf[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Mf[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Mf[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Mf[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Mf[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Mf[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Mf)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mf=[new Sf,new Sf,new Sf,new Sf,new Sf,new Sf,new Sf,new Sf],Cf=new Sf,Of=new Af,Rf=new Sf,If=new Sf,kf=new Sf,Pf=new Sf,Df=new Sf,Nf=new Sf,Lf=new Sf,Ff=new Sf,Uf=new Sf,Bf=new Sf;function zf(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){Bf.fromArray(e,o);const a=i.x*Math.abs(Bf.x)+i.y*Math.abs(Bf.y)+i.z*Math.abs(Bf.z),s=t.dot(Bf),l=n.dot(Bf),c=r.dot(Bf);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const Vf=new Af,jf=new Sf,Hf=new Sf;class Wf{constructor(e=new Sf,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Vf.setFromPoints(e).getCenter(n);let r=0;for(let i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;jf.subVectors(e,this.center);const t=jf.lengthSq();if(t>this.radius*this.radius){const e=Math.sqrt(t),n=.5*(e-this.radius);this.center.addScaledVector(jf,n/e),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(Hf.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(jf.copy(e.center).add(Hf)),this.expandByPoint(jf.copy(e.center).sub(Hf))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Gf=new Sf,qf=new Sf,Xf=new Sf,Yf=new Sf,Kf=new Sf,$f=new Sf,Zf=new Sf;class Jf{constructor(e=new Sf,t=new Sf(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Gf)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Gf.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Gf.copy(this.origin).addScaledVector(this.direction,t),Gf.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){qf.copy(e).add(t).multiplyScalar(.5),Xf.copy(t).sub(e).normalize(),Yf.copy(this.origin).sub(qf);const i=.5*e.distanceTo(t),o=-this.direction.dot(Xf),a=Yf.dot(this.direction),s=-Yf.dot(Xf),l=Yf.lengthSq(),c=Math.abs(1-o*o);let u,h,f,d;if(c>0)if(u=o*s-a,h=o*a-s,d=i*c,u>=0)if(h>=-d)if(h<=d){const e=1/c;u*=e,h*=e,f=u*(u+o*h+2*a)+h*(o*u+h+2*s)+l}else h=i,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*s)+l;else h=-i,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*s)+l;else h<=-d?(u=Math.max(0,-(-o*i+a)),h=u>0?-i:Math.min(Math.max(-i,-s),i),f=-u*u+h*(h+2*s)+l):h<=d?(u=0,h=Math.min(Math.max(-i,-s),i),f=h*(h+2*s)+l):(u=Math.max(0,-(o*i+a)),h=u>0?i:Math.min(Math.max(-i,-s),i),f=-u*u+h*(h+2*s)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+a)),f=-u*u+h*(h+2*s)+l;return n&&n.copy(this.origin).addScaledVector(this.direction,u),r&&r.copy(qf).addScaledVector(Xf,h),f}intersectSphere(e,t){Gf.subVectors(e.center,this.origin);const n=Gf.dot(this.direction),r=Gf.dot(Gf)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||isNaN(n))&&(n=i),(o<r||isNaN(r))&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,Gf)}intersectTriangle(e,t,n,r,i){Kf.subVectors(t,e),$f.subVectors(n,e),Zf.crossVectors(Kf,$f);let o,a=this.direction.dot(Zf);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Yf.subVectors(this.origin,e);const s=o*this.direction.dot($f.crossVectors(Yf,$f));if(s<0)return null;const l=o*this.direction.dot(Kf.cross(Yf));if(l<0)return null;if(s+l>a)return null;const c=-o*Yf.dot(Zf);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class Qf{constructor(e,t,n,r,i,o,a,s,l,c,u,h,f,d,p,m){Qf.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,n,r,i,o,a,s,l,c,u,h,f,d,p,m)}set(e,t,n,r,i,o,a,s,l,c,u,h,f,d,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Qf).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/ed.setFromMatrixColumn(e,0).length(),i=1/ed.setFromMatrixColumn(e,1).length(),o=1/ed.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nd,e,rd)}lookAt(e,t,n){const r=this.elements;return ad.subVectors(e,t),0===ad.lengthSq()&&(ad.z=1),ad.normalize(),id.crossVectors(n,ad),0===id.lengthSq()&&(1===Math.abs(n.z)?ad.x+=1e-4:ad.z+=1e-4,ad.normalize(),id.crossVectors(n,ad)),id.normalize(),od.crossVectors(ad,id),r[0]=id.x,r[4]=od.x,r[8]=ad.x,r[1]=id.y,r[5]=od.y,r[9]=ad.y,r[2]=id.z,r[6]=od.z,r[10]=ad.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],f=n[13],d=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],b=n[15],x=r[0],w=r[4],S=r[8],E=r[12],T=r[1],A=r[5],M=r[9],C=r[13],O=r[2],R=r[6],I=r[10],k=r[14],P=r[3],D=r[7],N=r[11],L=r[15];return i[0]=o*x+a*T+s*O+l*P,i[4]=o*w+a*A+s*R+l*D,i[8]=o*S+a*M+s*I+l*N,i[12]=o*E+a*C+s*k+l*L,i[1]=c*x+u*T+h*O+f*P,i[5]=c*w+u*A+h*R+f*D,i[9]=c*S+u*M+h*I+f*N,i[13]=c*E+u*C+h*k+f*L,i[2]=d*x+p*T+m*O+g*P,i[6]=d*w+p*A+m*R+g*D,i[10]=d*S+p*M+m*I+g*N,i[14]=d*E+p*C+m*k+g*L,i[3]=v*x+y*T+_*O+b*P,i[7]=v*w+y*A+_*R+b*D,i[11]=v*S+y*M+_*I+b*N,i[15]=v*E+y*C+_*k+b*L,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],f=e[14];return e[3]*(+i*s*u-r*l*u-i*a*h+n*l*h+r*a*f-n*s*f)+e[7]*(+t*s*f-t*l*h+i*o*h-r*o*f+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*f-i*o*u+n*o*f+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*h+r*o*u-n*o*h+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],h=e[10],f=e[11],d=e[12],p=e[13],m=e[14],g=e[15],v=u*m*l-p*h*l+p*s*f-a*m*f-u*s*g+a*h*g,y=d*h*l-c*m*l-d*s*f+o*m*f+c*s*g-o*h*g,_=c*p*l-d*u*l+d*a*f-o*p*f-c*a*g+o*u*g,b=d*u*s-c*p*s-d*a*h+o*p*h+c*a*m-o*u*m,x=t*v+n*y+r*_+i*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/x;return e[0]=v*w,e[1]=(p*h*i-u*m*i-p*r*f+n*m*f+u*r*g-n*h*g)*w,e[2]=(a*m*i-p*s*i+p*r*l-n*m*l-a*r*g+n*s*g)*w,e[3]=(u*s*i-a*h*i-u*r*l+n*h*l+a*r*f-n*s*f)*w,e[4]=y*w,e[5]=(c*m*i-d*h*i+d*r*f-t*m*f-c*r*g+t*h*g)*w,e[6]=(d*s*i-o*m*i-d*r*l+t*m*l+o*r*g-t*s*g)*w,e[7]=(o*h*i-c*s*i+c*r*l-t*h*l-o*r*f+t*s*f)*w,e[8]=_*w,e[9]=(d*u*i-c*p*i-d*n*f+t*p*f+c*n*g-t*u*g)*w,e[10]=(o*p*i-d*a*i+d*n*l-t*p*l-o*n*g+t*a*g)*w,e[11]=(c*a*i-o*u*i-c*n*l+t*u*l+o*n*f-t*a*f)*w,e[12]=b*w,e[13]=(c*p*r-d*u*r+d*n*h-t*p*h-c*n*m+t*u*m)*w,e[14]=(d*a*r-o*p*r-d*n*s+t*p*s+o*n*m-t*a*m)*w,e[15]=(o*u*r-c*a*r+c*n*s-t*u*s-o*n*h+t*a*h)*w,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,r,i,o){return this.set(1,n,i,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,h=i*l,f=i*c,d=i*u,p=o*c,m=o*u,g=a*u,v=s*l,y=s*c,_=s*u,b=n.x,x=n.y,w=n.z;return r[0]=(1-(p+g))*b,r[1]=(f+_)*b,r[2]=(d-y)*b,r[3]=0,r[4]=(f-_)*x,r[5]=(1-(h+g))*x,r[6]=(m+v)*x,r[7]=0,r[8]=(d+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=ed.set(r[0],r[1],r[2]).length();const o=ed.set(r[4],r[5],r[6]).length(),a=ed.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],td.copy(this);const s=1/i,l=1/o,c=1/a;return td.elements[0]*=s,td.elements[1]*=s,td.elements[2]*=s,td.elements[4]*=l,td.elements[5]*=l,td.elements[6]*=l,td.elements[8]*=c,td.elements[9]*=c,td.elements[10]*=c,t.setFromRotationMatrix(td),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o,a=2e3){const s=this.elements,l=2*i/(t-e),c=2*i/(n-r),u=(t+e)/(t-e),h=(n+r)/(n-r);let f,d;if(a===kh)f=-(o+i)/(o-i),d=-2*o*i/(o-i);else{if(a!==Ph)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-i),d=-o*i/(o-i)}return s[0]=l,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=c,s[9]=h,s[13]=0,s[2]=0,s[6]=0,s[10]=f,s[14]=d,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,t,n,r,i,o,a=2e3){const s=this.elements,l=1/(t-e),c=1/(n-r),u=1/(o-i),h=(t+e)*l,f=(n+r)*c;let d,p;if(a===kh)d=(o+i)*u,p=-2*u;else{if(a!==Ph)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);d=i*u,p=-1*u}return s[0]=2*l,s[4]=0,s[8]=0,s[12]=-h,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-f,s[2]=0,s[6]=0,s[10]=p,s[14]=-d,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const ed=new Sf,td=new Qf,nd=new Sf(0,0,0),rd=new Sf(1,1,1),id=new Sf,od=new Sf,ad=new Sf,sd=new Qf,ld=new wf;class cd{constructor(e=0,t=0,n=0,r=cd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r=this._order){return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const r=e.elements,i=r[0],o=r[4],a=r[8],s=r[1],l=r[5],c=r[9],u=r[2],h=r[6],f=r[10];switch(t){case"XYZ":this._y=Math.asin(zh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-zh(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(zh(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-u,f),this._z=Math.atan2(-o,l)):(this._y=0,this._z=Math.atan2(s,i));break;case"ZYX":this._y=Math.asin(-zh(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(s,i)):(this._x=0,this._z=Math.atan2(-o,l));break;case"YZX":this._z=Math.asin(zh(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,l),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-zh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(a,i)):(this._x=Math.atan2(-c,f),this._y=0)}return this._order=t,!0===n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return sd.makeRotationFromQuaternion(e),this.setFromRotationMatrix(sd,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return ld.setFromEuler(this),this.setFromQuaternion(ld,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cd.DEFAULT_ORDER="XYZ";class ud{constructor(){this.mask=1}set(e){this.mask=1<<e>>>0}enable(e){this.mask|=1<<e}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e}disable(e){this.mask&=~(1<<e)}disableAll(){this.mask=0}test(e){return 0!==(this.mask&e.mask)}isEnabled(e){return!!(this.mask&1<<e)}}let hd=0;const fd=new Sf,dd=new wf,pd=new Qf,md=new Sf,gd=new Sf,vd=new Sf,yd=new wf,_d=new Sf(1,0,0),bd=new Sf(0,1,0),xd=new Sf(0,0,1),wd={type:"added"},Sd={type:"removed"},Ed={type:"childadded",child:null},Td={type:"childremoved",child:null};class Ad extends Dh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:hd++}),this.uuid=Bh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ad.DEFAULT_UP.clone();const e=new Sf,t=new cd,n=new wf,r=new Sf(1,1,1);t._onChange(function(){n.setFromEuler(t,!1)}),n._onChange(function(){t.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Qf},normalMatrix:{value:new Xh}}),this.matrix=new Qf,this.matrixWorld=new Qf,this.matrixAutoUpdate=Ad.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ad.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new ud,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return dd.setFromAxisAngle(e,t),this.quaternion.multiply(dd),this}rotateOnWorldAxis(e,t){return dd.setFromAxisAngle(e,t),this.quaternion.premultiply(dd),this}rotateX(e){return this.rotateOnAxis(_d,e)}rotateY(e){return this.rotateOnAxis(bd,e)}rotateZ(e){return this.rotateOnAxis(xd,e)}translateOnAxis(e,t){return fd.copy(e).applyQuaternion(this.quaternion),this.position.add(fd.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(_d,e)}translateY(e){return this.translateOnAxis(bd,e)}translateZ(e){return this.translateOnAxis(xd,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(pd.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?md.copy(e):md.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),gd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?pd.lookAt(gd,md,this.up):pd.lookAt(md,gd,this.up),this.quaternion.setFromRotationMatrix(pd),r&&(pd.extractRotation(r.matrixWorld),dd.setFromRotationMatrix(pd),this.quaternion.premultiply(dd.invert()))}add(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this||e&&e.isObject3D&&(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(wd),Ed.child=e,this.dispatchEvent(Ed),Ed.child=null),this}remove(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Sd),Td.child=e,this.dispatchEvent(Td),Td.child=null),this}removeFromParent(){const e=this.parent;return null!==e&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),pd.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),pd.multiply(e.parent.matrixWorld)),e.applyMatrix4(pd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(wd),Ed.child=e,this.dispatchEvent(Ed),Ed.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const r=this.children;for(let i=0,o=r.length;i<o;i++)r[i].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gd,e,vd),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(gd,yd,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)}traverseVisible(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++){t[n].updateMatrixWorld(e)}}updateWorldMatrix(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),!0===this.matrixWorldAutoUpdate&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++){e[t].updateWorldMatrix(!1,!0)}}}toJSON(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(e=>({boxInitialized:e.boxInitialized,boxMin:e.box.min.toArray(),boxMax:e.box.max.toArray(),sphereInitialized:e.sphereInitialized,sphereRadius:e.sphere.radius,sphereCenter:e.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),null!==this._colorsTexture&&(r.colorsTexture=this._colorsTexture.toJSON(e)),null!==this.boundingSphere&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),null!==this.boundingBox&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()})),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let t=0;t<this.animations.length;t++){const n=this.animations[t];r.animations.push(i(e.animations,n))}}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes),l=o(e.skeletons),c=o(e.animations),u=o(e.nodes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s),l.length>0&&(n.skeletons=l),c.length>0&&(n.animations=c),u.length>0&&(n.nodes=u)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}}clone(e){return(new this.constructor).copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let n=0;n<e.children.length;n++){const t=e.children[n];this.add(t.clone())}return this}}Ad.DEFAULT_UP=new Sf(0,1,0),Ad.DEFAULT_MATRIX_AUTO_UPDATE=!0,Ad.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Md=new Sf,Cd=new Sf,Od=new Sf,Rd=new Sf,Id=new Sf,kd=new Sf,Pd=new Sf,Dd=new Sf,Nd=new Sf,Ld=new Sf;class Fd{constructor(e=new Sf,t=new Sf,n=new Sf){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,r){r.subVectors(n,t),Md.subVectors(e,t),r.cross(Md);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){Md.subVectors(r,t),Cd.subVectors(n,t),Od.subVectors(e,t);const o=Md.dot(Md),a=Md.dot(Cd),s=Md.dot(Od),l=Cd.dot(Cd),c=Cd.dot(Od),u=o*l-a*a;if(0===u)return i.set(0,0,0),null;const h=1/u,f=(l*s-a*c)*h,d=(o*c-a*s)*h;return i.set(1-f-d,d,f)}static containsPoint(e,t,n,r){return null!==this.getBarycoord(e,t,n,r,Rd)&&(Rd.x>=0&&Rd.y>=0&&Rd.x+Rd.y<=1)}static getInterpolation(e,t,n,r,i,o,a,s){return null===this.getBarycoord(e,t,n,r,Rd)?(s.x=0,s.y=0,"z"in s&&(s.z=0),"w"in s&&(s.w=0),null):(s.setScalar(0),s.addScaledVector(i,Rd.x),s.addScaledVector(o,Rd.y),s.addScaledVector(a,Rd.z),s)}static isFrontFacing(e,t,n,r){return Md.subVectors(n,t),Cd.subVectors(e,t),Md.cross(Cd).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Md.subVectors(this.c,this.b),Cd.subVectors(this.a,this.b),.5*Md.cross(Cd).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Fd.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Fd.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,r,i){return Fd.getInterpolation(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Fd.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Fd.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,r=this.b,i=this.c;let o,a;Id.subVectors(r,n),kd.subVectors(i,n),Dd.subVectors(e,n);const s=Id.dot(Dd),l=kd.dot(Dd);if(s<=0&&l<=0)return t.copy(n);Nd.subVectors(e,r);const c=Id.dot(Nd),u=kd.dot(Nd);if(c>=0&&u<=c)return t.copy(r);const h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(Id,o);Ld.subVectors(e,i);const f=Id.dot(Ld),d=kd.dot(Ld);if(d>=0&&f<=d)return t.copy(i);const p=f*l-s*d;if(p<=0&&l>=0&&d<=0)return a=l/(l-d),t.copy(n).addScaledVector(kd,a);const m=c*d-f*u;if(m<=0&&u-c>=0&&f-d>=0)return Pd.subVectors(i,r),a=(u-c)/(u-c+(f-d)),t.copy(r).addScaledVector(Pd,a);const g=1/(m+p+h);return o=p*g,a=h*g,t.copy(n).addScaledVector(Id,o).addScaledVector(kd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Ud={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Bd={h:0,s:0,l:0},zd={h:0,s:0,l:0};function Vd(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}class jd{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(void 0===t&&void 0===n){const t=e;t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=dh){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,sf.toWorkingColorSpace(this,t),this}setRGB(e,t,n,r=sf.workingColorSpace){return this.r=e,this.g=t,this.b=n,sf.toWorkingColorSpace(this,r),this}setHSL(e,t,n,r=sf.workingColorSpace){if(e=Vh(e,1),t=zh(t,0,1),n=zh(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=Vd(i,r,e+1/3),this.g=Vd(i,r,e),this.b=Vd(i,r,e-1/3)}return sf.toWorkingColorSpace(this,r),this}setStyle(e,t=dh){function n(e){void 0!==e&&parseFloat(e)}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let e;const i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(e=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setRGB(Math.min(255,parseInt(e[1],10))/255,Math.min(255,parseInt(e[2],10))/255,Math.min(255,parseInt(e[3],10))/255,t);if(e=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setRGB(Math.min(100,parseInt(e[1],10))/100,Math.min(100,parseInt(e[2],10))/100,Math.min(100,parseInt(e[3],10))/100,t);break;case"hsl":case"hsla":if(e=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(e[4]),this.setHSL(parseFloat(e[1])/360,parseFloat(e[2])/100,parseFloat(e[3])/100,t)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const e=r[1],n=e.length;if(3===n)return this.setRGB(parseInt(e.charAt(0),16)/15,parseInt(e.charAt(1),16)/15,parseInt(e.charAt(2),16)/15,t);if(6===n)return this.setHex(parseInt(e,16),t)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=dh){const n=Ud[e.toLowerCase()];return void 0!==n&&this.setHex(n,t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lf(e.r),this.g=lf(e.g),this.b=lf(e.b),this}copyLinearToSRGB(e){return this.r=cf(e.r),this.g=cf(e.g),this.b=cf(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=dh){return sf.fromWorkingColorSpace(Hd.copy(this),e),65536*Math.round(zh(255*Hd.r,0,255))+256*Math.round(zh(255*Hd.g,0,255))+Math.round(zh(255*Hd.b,0,255))}getHexString(e=dh){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=sf.workingColorSpace){sf.fromWorkingColorSpace(Hd.copy(this),t);const n=Hd.r,r=Hd.g,i=Hd.b,o=Math.max(n,r,i),a=Math.min(n,r,i);let s,l;const c=(a+o)/2;if(a===o)s=0,l=0;else{const e=o-a;switch(l=c<=.5?e/(o+a):e/(2-o-a),o){case n:s=(r-i)/e+(r<i?6:0);break;case r:s=(i-n)/e+2;break;case i:s=(n-r)/e+4}s/=6}return e.h=s,e.s=l,e.l=c,e}getRGB(e,t=sf.workingColorSpace){return sf.fromWorkingColorSpace(Hd.copy(this),t),e.r=Hd.r,e.g=Hd.g,e.b=Hd.b,e}getStyle(e=dh){sf.fromWorkingColorSpace(Hd.copy(this),e);const t=Hd.r,n=Hd.g,r=Hd.b;return e!==dh?"color(".concat(e," ").concat(t.toFixed(3)," ").concat(n.toFixed(3)," ").concat(r.toFixed(3),")"):"rgb(".concat(Math.round(255*t),",").concat(Math.round(255*n),",").concat(Math.round(255*r),")")}offsetHSL(e,t,n){return this.getHSL(Bd),this.setHSL(Bd.h+e,Bd.s+t,Bd.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Bd),e.getHSL(zd);const n=jh(Bd.h,zd.h,t),r=jh(Bd.s,zd.s,t),i=jh(Bd.l,zd.l,t);return this.setHSL(n,r,i),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,r=this.b,i=e.elements;return this.r=i[0]*t+i[3]*n+i[6]*r,this.g=i[1]*t+i[4]*n+i[7]*r,this.b=i[2]*t+i[5]*n+i[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Hd=new jd;jd.NAMES=Ud;let Wd=0;class Gd extends Dh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Wd++}),this.uuid=Bh(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Cc,this.blendDst=Oc,this.blendEquation=xc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new jd(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=xh,this.stencilZFail=xh,this.stencilZPass=xh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n)continue;const r=this[t];void 0!==r&&(r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),void 0!==this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.dispersion&&(n.dispersion=this.dispersion),void 0!==this.iridescence&&(n.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(n.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(n.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapRotation&&(n.envMapRotation=this.envMapRotation.toArray()),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),!0===this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=!0),this.blendSrc!==Cc&&(n.blendSrc=this.blendSrc),this.blendDst!==Oc&&(n.blendDst=this.blendDst),this.blendEquation!==xc&&(n.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(n.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(n.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(n.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(n.depthFunc=this.depthFunc),!1===this.depthTest&&(n.depthTest=this.depthTest),!1===this.depthWrite&&(n.depthWrite=this.depthWrite),!1===this.colorWrite&&(n.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(n.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(n.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(n.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==xh&&(n.stencilFail=this.stencilFail),this.stencilZFail!==xh&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==xh&&(n.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(n.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaHash&&(n.alphaHash=!0),!0===this.alphaToCoverage&&(n.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=!0),!0===this.forceSinglePass&&(n.forceSinglePass=!0),!0===this.wireframe&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),!1===this.fog&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}onBuild(){}onBeforeRender(){}}class qd extends Gd{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new jd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cd,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Xd=Yd();function Yd(){const e=new ArrayBuffer(4),t=new Float32Array(e),n=new Uint32Array(e),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const e=l-127;e<-27?(r[l]=0,r[256|l]=32768,i[l]=24,i[256|l]=24):e<-14?(r[l]=1024>>-e-14,r[256|l]=1024>>-e-14|32768,i[l]=-e-1,i[256|l]=-e-1):e<=15?(r[l]=e+15<<10,r[256|l]=e+15<<10|32768,i[l]=13,i[256|l]=13):e<128?(r[l]=31744,r[256|l]=64512,i[l]=24,i[256|l]=24):(r[l]=31744,r[256|l]=64512,i[l]=13,i[256|l]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let e=l<<13,t=0;for(;!(8388608&e);)e<<=1,t-=8388608;e&=-8388609,t+=947912704,o[l]=e|t}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)32!==l&&(s[l]=1024);return{floatView:t,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function Kd(e){Math.abs(e),e=zh(e,-65504,65504),Xd.floatView[0]=e;const t=Xd.uint32View[0],n=t>>23&511;return Xd.baseTable[n]+((8388607&t)>>Xd.shiftTable[n])}function $d(e){const t=e>>10;return Xd.uint32View[0]=Xd.mantissaTable[Xd.offsetTable[t]+(1023&e)]+Xd.exponentTable[t],Xd.floatView[0]}const Zd={toHalfFloat:Kd,fromHalfFloat:$d},Jd=new Sf,Qd=new qh;class ep{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=n,this.usage=Rh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=lu,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return tf("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Qd.fromBufferAttribute(this,t),Qd.applyMatrix3(e),this.setXY(t,Qd.x,Qd.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Jd.fromBufferAttribute(this,t),Jd.applyMatrix3(e),this.setXYZ(t,Jd.x,Jd.y,Jd.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)Jd.fromBufferAttribute(this,t),Jd.applyMatrix4(e),this.setXYZ(t,Jd.x,Jd.y,Jd.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Jd.fromBufferAttribute(this,t),Jd.applyNormalMatrix(e),this.setXYZ(t,Jd.x,Jd.y,Jd.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Jd.fromBufferAttribute(this,t),Jd.transformDirection(e),this.setXYZ(t,Jd.x,Jd.y,Jd.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Hh(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wh(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Hh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Hh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Hh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Hh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array),i=Wh(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Rh&&(e.usage=this.usage),e}}class tp extends ep{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class np extends ep{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class rp extends ep{constructor(e,t,n){super(new Float32Array(e),t,n)}}let ip=0;const op=new Qf,ap=new Ad,sp=new Sf,lp=new Af,cp=new Af,up=new Sf;class hp extends Dh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:ip++}),this.uuid=Bh(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Kh(e)?np:tp)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new Xh).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return op.makeRotationFromQuaternion(e),this.applyMatrix4(op),this}rotateX(e){return op.makeRotationX(e),this.applyMatrix4(op),this}rotateY(e){return op.makeRotationY(e),this.applyMatrix4(op),this}rotateZ(e){return op.makeRotationZ(e),this.applyMatrix4(op),this}translate(e,t,n){return op.makeTranslation(e,t,n),this.applyMatrix4(op),this}scale(e,t,n){return op.makeScale(e,t,n),this.applyMatrix4(op),this}lookAt(e){return ap.lookAt(e),ap.updateMatrix(),this.applyMatrix4(ap.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(sp).negate(),this.translate(sp.x,sp.y,sp.z),this}setFromPoints(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new rp(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Af);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingBox.set(new Sf(-1/0,-1/0,-1/0),new Sf(1/0,1/0,1/0));else{if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];lp.setFromBufferAttribute(n),this.morphTargetsRelative?(up.addVectors(this.boundingBox.min,lp.min),this.boundingBox.expandByPoint(up),up.addVectors(this.boundingBox.max,lp.max),this.boundingBox.expandByPoint(up)):(this.boundingBox.expandByPoint(lp.min),this.boundingBox.expandByPoint(lp.max))}}else this.boundingBox.makeEmpty();isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Wf);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)this.boundingSphere.set(new Sf,1/0);else if(e){const n=this.boundingSphere.center;if(lp.setFromBufferAttribute(e),t)for(let e=0,i=t.length;e<i;e++){const n=t[e];cp.setFromBufferAttribute(n),this.morphTargetsRelative?(up.addVectors(lp.min,cp.min),lp.expandByPoint(up),up.addVectors(lp.max,cp.max),lp.expandByPoint(up)):(lp.expandByPoint(cp.min),lp.expandByPoint(cp.max))}lp.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)up.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(up));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)up.fromBufferAttribute(o,t),a&&(sp.fromBufferAttribute(e,t),up.add(sp)),r=Math.max(r,n.distanceToSquared(up))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return;const n=t.position,r=t.normal,i=t.uv;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new ep(new Float32Array(4*n.count),4));const o=this.getAttribute("tangent"),a=[],s=[];for(let S=0;S<n.count;S++)a[S]=new Sf,s[S]=new Sf;const l=new Sf,c=new Sf,u=new Sf,h=new qh,f=new qh,d=new qh,p=new Sf,m=new Sf;function g(e,t,r){l.fromBufferAttribute(n,e),c.fromBufferAttribute(n,t),u.fromBufferAttribute(n,r),h.fromBufferAttribute(i,e),f.fromBufferAttribute(i,t),d.fromBufferAttribute(i,r),c.sub(l),u.sub(l),f.sub(h),d.sub(h);const o=1/(f.x*d.y-d.x*f.y);isFinite(o)&&(p.copy(c).multiplyScalar(d.y).addScaledVector(u,-f.y).multiplyScalar(o),m.copy(u).multiplyScalar(f.x).addScaledVector(c,-d.x).multiplyScalar(o),a[e].add(p),a[t].add(p),a[r].add(p),s[e].add(m),s[t].add(m),s[r].add(m))}let v=this.groups;0===v.length&&(v=[{start:0,count:e.count}]);for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)g(e.getX(r+0),e.getX(r+1),e.getX(r+2))}const y=new Sf,_=new Sf,b=new Sf,x=new Sf;function w(e){b.fromBufferAttribute(r,e),x.copy(b);const t=a[e];y.copy(t),y.sub(b.multiplyScalar(b.dot(t))).normalize(),_.crossVectors(x,t);const n=_.dot(s[e])<0?-1:1;o.setXYZW(e,y.x,y.y,y.z,n)}for(let S=0,E=v.length;S<E;++S){const t=v[S],n=t.start;for(let r=n,i=n+t.count;r<i;r+=3)w(e.getX(r+0)),w(e.getX(r+1)),w(e.getX(r+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new ep(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new Sf,i=new Sf,o=new Sf,a=new Sf,s=new Sf,l=new Sf,c=new Sf,u=new Sf;if(e)for(let h=0,f=e.count;h<f;h+=3){const f=e.getX(h+0),d=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,f),i.fromBufferAttribute(t,d),o.fromBufferAttribute(t,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,f),s.fromBufferAttribute(n,d),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(f,a.x,a.y,a.z),n.setXYZ(d,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,h=t.count;e<h;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)up.fromBufferAttribute(e,t),up.normalize(),e.setXYZ(t,up.x,up.y,up.z)}toNonIndexed(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let l=0,c=t.length;l<c;l++){a=e.isInterleavedBufferAttribute?t[l]*e.data.stride+e.offset:t[l]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new ep(o,r,i)}if(null===this.index)return this;const t=new hp,n=this.index.array,r=this.attributes;for(const a in r){const i=e(r[a],n);t.setAttribute(a,i)}const i=this.morphAttributes;for(const a in i){const r=[],o=i[a];for(let t=0,i=o.length;t<i;t++){const i=e(o[t],n);r.push(i)}t.morphAttributes[a]=r}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,s=o.length;a<s;a++){const e=o[a];t.addGroup(e.start,e.count,e.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const s in n){const t=n[s];e.data.attributes[s]=t.toJSON(e.data)}const r={};let i=!1;for(const s in this.morphAttributes){const t=this.morphAttributes[s],n=[];for(let r=0,i=t.length;r<i;r++){const i=t[r];n.push(i.toJSON(e.data))}n.length>0&&(r[s]=n,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const l in r){const e=r[l];this.setAttribute(l,e.clone(t))}const i=e.morphAttributes;for(const l in i){const e=[],n=i[l];for(let r=0,i=n.length;r<i;r++)e.push(n[r].clone(t));this.morphAttributes[l]=e}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const e=o[l];this.addGroup(e.start,e.count,e.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fp=new Qf,dp=new Jf,pp=new Wf,mp=new Sf,gp=new Sf,vp=new Sf,yp=new Sf,_p=new Sf,bp=new Sf,xp=new qh,wp=new qh,Sp=new qh,Ep=new Sf,Tp=new Sf,Ap=new Sf,Mp=new Sf,Cp=new Sf;class Op extends Ad{constructor(e=new hp,t=new qd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}getVertexPosition(e,t){const n=this.geometry,r=n.attributes.position,i=n.morphAttributes.position,o=n.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(i&&a){bp.set(0,0,0);for(let n=0,r=i.length;n<r;n++){const r=a[n],s=i[n];0!==r&&(_p.fromBufferAttribute(s,e),o?bp.addScaledVector(_p,r):bp.addScaledVector(_p.sub(t),r))}t.add(bp)}return t}raycast(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0!==r){if(null===n.boundingSphere&&n.computeBoundingSphere(),pp.copy(n.boundingSphere),pp.applyMatrix4(i),dp.copy(e.ray).recast(e.near),!1===pp.containsPoint(dp.origin)){if(null===dp.intersectSphere(pp,mp))return;if(dp.origin.distanceToSquared(mp)>(e.far-e.near)**2)return}fp.copy(i).invert(),dp.copy(e.ray).applyMatrix4(fp),null!==n.boundingBox&&!1===dp.intersectsBox(n.boundingBox)||this._computeIntersections(e,t,dp)}}_computeIntersections(e,t,n){let r;const i=this.geometry,o=this.material,a=i.index,s=i.attributes.position,l=i.attributes.uv,c=i.attributes.uv1,u=i.attributes.normal,h=i.groups,f=i.drawRange;if(null!==a)if(Array.isArray(o))for(let d=0,p=h.length;d<p;d++){const i=h[d],s=o[i.materialIndex];for(let o=Math.max(i.start,f.start),h=Math.min(a.count,Math.min(i.start+i.count,f.start+f.count));o<h;o+=3){r=Rp(this,s,e,n,l,c,u,a.getX(o),a.getX(o+1),a.getX(o+2)),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),s=Math.min(a.count,f.start+f.count);i<s;i+=3){r=Rp(this,o,e,n,l,c,u,a.getX(i),a.getX(i+1),a.getX(i+2)),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}else if(void 0!==s)if(Array.isArray(o))for(let d=0,p=h.length;d<p;d++){const i=h[d],a=o[i.materialIndex];for(let o=Math.max(i.start,f.start),h=Math.min(s.count,Math.min(i.start+i.count,f.start+f.count));o<h;o+=3){r=Rp(this,a,e,n,l,c,u,o,o+1,o+2),r&&(r.faceIndex=Math.floor(o/3),r.face.materialIndex=i.materialIndex,t.push(r))}}else{for(let i=Math.max(0,f.start),a=Math.min(s.count,f.start+f.count);i<a;i+=3){r=Rp(this,o,e,n,l,c,u,i,i+1,i+2),r&&(r.faceIndex=Math.floor(i/3),t.push(r))}}}}function Rp(e,t,n,r,i,o,a,s,l,c){e.getVertexPosition(s,gp),e.getVertexPosition(l,vp),e.getVertexPosition(c,yp);const u=function(e,t,n,r,i,o,a,s){let l;if(l=1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,0===t.side,s),null===l)return null;Cp.copy(s),Cp.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(Cp);return c<n.near||c>n.far?null:{distance:c,point:Cp.clone(),object:e}}(e,t,n,r,gp,vp,yp,Mp);if(u){i&&(xp.fromBufferAttribute(i,s),wp.fromBufferAttribute(i,l),Sp.fromBufferAttribute(i,c),u.uv=Fd.getInterpolation(Mp,gp,vp,yp,xp,wp,Sp,new qh)),o&&(xp.fromBufferAttribute(o,s),wp.fromBufferAttribute(o,l),Sp.fromBufferAttribute(o,c),u.uv1=Fd.getInterpolation(Mp,gp,vp,yp,xp,wp,Sp,new qh)),a&&(Ep.fromBufferAttribute(a,s),Tp.fromBufferAttribute(a,l),Ap.fromBufferAttribute(a,c),u.normal=Fd.getInterpolation(Mp,gp,vp,yp,Ep,Tp,Ap,new Sf),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const e={a:s,b:l,c:c,normal:new Sf,materialIndex:0};Fd.getNormal(gp,vp,yp,e.normal),u.face=e}return u}class Ip extends hp{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let h=0,f=0;function d(e,t,n,r,i,o,d,p,m,g,v){const y=o/m,_=d/g,b=o/2,x=d/2,w=p/2,S=m+1,E=g+1;let T=0,A=0;const M=new Sf;for(let a=0;a<E;a++){const o=a*_-x;for(let s=0;s<S;s++){const h=s*y-b;M[e]=h*r,M[t]=o*i,M[n]=w,l.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=p>0?1:-1,c.push(M.x,M.y,M.z),u.push(s/m),u.push(1-a/g),T+=1}}for(let a=0;a<g;a++)for(let e=0;e<m;e++){const t=h+e+S*a,n=h+e+S*(a+1),r=h+(e+1)+S*(a+1),i=h+(e+1)+S*a;s.push(t,n,i),s.push(n,r,i),A+=6}a.addGroup(f,A,v),f+=A,h+=T}d("z","y","x",-1,-1,n,t,e,o,i,0),d("z","y","x",1,-1,n,t,-e,o,i,1),d("x","z","y",1,1,e,n,t,r,o,2),d("x","z","y",1,-1,e,n,-t,r,o,3),d("x","y","z",1,-1,e,t,n,r,i,4),d("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new rp(l,3)),this.setAttribute("normal",new rp(c,3)),this.setAttribute("uv",new rp(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ip(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function kp(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?t[n][r]=null:t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function Pp(e){const t={};for(let n=0;n<e.length;n++){const r=kp(e[n]);for(const e in r)t[e]=r[e]}return t}function Dp(e){const t=e.getRenderTarget();return null===t?e.outputColorSpace:!0===t.isXRRenderTarget?t.texture.colorSpace:sf.workingColorSpace}const Np={clone:kp,merge:Pp};class Lp extends Gd{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=kp(e.uniforms),this.uniformsGroups=function(e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n].clone());return t}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const n=this.uniforms[r].value;n&&n.isTexture?t.uniforms[r]={type:"t",value:n.toJSON(e).uuid}:n&&n.isColor?t.uniforms[r]={type:"c",value:n.getHex()}:n&&n.isVector2?t.uniforms[r]={type:"v2",value:n.toArray()}:n&&n.isVector3?t.uniforms[r]={type:"v3",value:n.toArray()}:n&&n.isVector4?t.uniforms[r]={type:"v4",value:n.toArray()}:n&&n.isMatrix3?t.uniforms[r]={type:"m3",value:n.toArray()}:n&&n.isMatrix4?t.uniforms[r]={type:"m4",value:n.toArray()}:t.uniforms[r]={value:n}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const r in this.extensions)!0===this.extensions[r]&&(n[r]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class Fp extends Ad{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qf,this.projectionMatrix=new Qf,this.projectionMatrixInverse=new Qf,this.coordinateSystem=kh}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}const Up=new Sf,Bp=new qh,zp=new qh;class Vp extends Fp{constructor(e=50,t=1,n=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Uh*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*Fh*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Uh*Math.atan(Math.tan(.5*Fh*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Up.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Up.x,Up.y).multiplyScalar(-e/Up.z),Up.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Up.x,Up.y).multiplyScalar(-e/Up.z)}getViewSize(e,t){return this.getViewBounds(e,Bp,zp),t.subVectors(zp,Bp)}setViewOffset(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*Fh*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const jp=-90;class Hp extends Ad{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Vp(jp,1,e,t);r.layers=this.layers,this.add(r);const i=new Vp(jp,1,e,t);i.layers=this.layers,this.add(i);const o=new Vp(jp,1,e,t);o.layers=this.layers,this.add(o);const a=new Vp(jp,1,e,t);a.layers=this.layers,this.add(a);const s=new Vp(jp,1,e,t);s.layers=this.layers,this.add(s);const l=new Vp(jp,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,r,i,o,a,s]=t;for(const l of t)this.remove(l);if(e===kh)n.up.set(0,1,0),n.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),i.up.set(0,0,-1),i.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),s.up.set(0,1,0),s.lookAt(0,0,-1);else{if(e!==Ph)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);n.up.set(0,-1,0),n.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),i.up.set(0,0,1),i.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),s.up.set(0,-1,0),s.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,o,a,s,l,c]=this.children,u=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),d=e.xr.enabled;e.xr.enabled=!1;const p=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,r),e.render(t,i),e.setRenderTarget(n,1,r),e.render(t,o),e.setRenderTarget(n,2,r),e.render(t,a),e.setRenderTarget(n,3,r),e.render(t,s),e.setRenderTarget(n,4,r),e.render(t,l),n.texture.generateMipmaps=p,e.setRenderTarget(n,5,r),e.render(t,c),e.setRenderTarget(u,h,f),e.xr.enabled=d,n.texture.needsPMREMUpdate=!0}}class Wp extends gf{constructor(e,t,n,r,i,o,a,s,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:jc,n,r,i,o,a,s,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Gp extends _f{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},r=[n,n,n,n,n,n];this.texture=new Wp(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Qc}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",o=new Ip(5,5,5),a=new Lp({name:"CubemapFromEquirect",uniforms:kp(n),vertexShader:r,fragmentShader:i,side:1,blending:0});a.uniforms.tEquirect.value=t;const s=new Op(o,a),l=t.minFilter;t.minFilter===tu&&(t.minFilter=Qc);return new Hp(1,10,this).update(e,s),t.minFilter=l,s.geometry.dispose(),s.material.dispose(),this}clear(e,t,n,r){const i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,n,r);e.setRenderTarget(i)}}const qp=new Sf,Xp=new Sf,Yp=new Xh;class Kp{constructor(e=new Sf(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=qp.subVectors(n,t).cross(Xp.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(qp),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(e.start).addScaledVector(n,i)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||Yp.getNormalMatrix(e),r=this.coplanarPoint(qp).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const $p=new Wf,Zp=new Sf;class Jp{constructor(e=new Kp,t=new Kp,n=new Kp,r=new Kp,i=new Kp,o=new Kp){this.planes=[e,t,n,r,i,o]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=2e3){const n=this.planes,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],_=r[15];if(n[0].setComponents(s-i,h-l,m-f,_-g).normalize(),n[1].setComponents(s+i,h+l,m+f,_+g).normalize(),n[2].setComponents(s+o,h+c,m+d,_+v).normalize(),n[3].setComponents(s-o,h-c,m-d,_-v).normalize(),n[4].setComponents(s-a,h-u,m-p,_-y).normalize(),t===kh)n[5].setComponents(s+a,h+u,m+p,_+y).normalize();else{if(t!==Ph)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);n[5].setComponents(a,u,p,y).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),$p.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),$p.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($p)}intersectsSprite(e){return $p.center.set(0,0,0),$p.radius=.7071067811865476,$p.applyMatrix4(e.matrixWorld),this.intersectsSphere($p)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Zp.x=r.normal.x>0?e.max.x:e.min.x,Zp.y=r.normal.y>0?e.max.y:e.min.y,Zp.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Zp)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function Qp(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function em(e){const t=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),t.get(e)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);const r=t.get(n);r&&(e.deleteBuffer(r.buffer),t.delete(n))},update:function(n,r){if(n.isGLBufferAttribute){const e=t.get(n);return void((!e||e.version<n.version)&&t.set(n,{buffer:n.buffer,type:n.type,bytesPerElement:n.elementSize,version:n.version}))}n.isInterleavedBufferAttribute&&(n=n.data);const i=t.get(n);if(void 0===i)t.set(n,function(t,n){const r=t.array,i=t.usage,o=r.byteLength,a=e.createBuffer();let s;if(e.bindBuffer(n,a),e.bufferData(n,r,i),t.onUploadCallback(),r instanceof Float32Array)s=e.FLOAT;else if(r instanceof Uint16Array)s=t.isFloat16BufferAttribute?e.HALF_FLOAT:e.UNSIGNED_SHORT;else if(r instanceof Int16Array)s=e.SHORT;else if(r instanceof Uint32Array)s=e.UNSIGNED_INT;else if(r instanceof Int32Array)s=e.INT;else if(r instanceof Int8Array)s=e.BYTE;else if(r instanceof Uint8Array)s=e.UNSIGNED_BYTE;else{if(!(r instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+r);s=e.UNSIGNED_BYTE}return{buffer:a,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version,size:o}}(n,r));else if(i.version<n.version){if(i.size!==n.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");!function(t,n,r){const i=n.array,o=n._updateRange,a=n.updateRanges;if(e.bindBuffer(r,t),-1===o.count&&0===a.length&&e.bufferSubData(r,0,i),0!==a.length){for(let t=0,n=a.length;t<n;t++){const n=a[t];e.bufferSubData(r,n.start*i.BYTES_PER_ELEMENT,i,n.start,n.count)}n.clearUpdateRanges()}-1!==o.count&&(e.bufferSubData(r,o.offset*i.BYTES_PER_ELEMENT,i,o.offset,o.count),o.count=-1),n.onUploadCallback()}(i.buffer,n,r),i.version=n.version}}}}class tm extends hp{constructor(e=1,t=1,n=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=e/2,o=t/2,a=Math.floor(n),s=Math.floor(r),l=a+1,c=s+1,u=e/a,h=t/s,f=[],d=[],p=[],m=[];for(let g=0;g<c;g++){const e=g*h-o;for(let t=0;t<l;t++){const n=t*u-i;d.push(n,-e,0),p.push(0,0,1),m.push(t/a),m.push(1-g/s)}}for(let g=0;g<s;g++)for(let e=0;e<a;e++){const t=e+l*g,n=e+l*(g+1),r=e+1+l*(g+1),i=e+1+l*g;f.push(t,n,i),f.push(n,r,i)}this.setIndex(f),this.setAttribute("position",new rp(d,3)),this.setAttribute("normal",new rp(p,3)),this.setAttribute("uv",new rp(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tm(e.width,e.height,e.widthSegments,e.heightSegments)}}const nm={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\t#ifdef ALPHA_TO_COVERAGE\n\tdiffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );\n\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\tif ( diffuseColor.a < alphaTest ) discard;\n\t#endif\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",batching_pars_vertex:"#ifdef USE_BATCHING\n\t#if ! defined( GL_ANGLE_multi_draw )\n\t#define gl_DrawID _gl_DrawID\n\tuniform int _gl_DrawID;\n\t#endif\n\tuniform highp sampler2D batchingTexture;\n\tuniform highp usampler2D batchingIdTexture;\n\tmat4 getBatchingMatrix( const in float i ) {\n\t\tint size = textureSize( batchingTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n\tfloat getIndirectIndex( const in int i ) {\n\t\tint size = textureSize( batchingIdTexture, 0 ).x;\n\t\tint x = i % size;\n\t\tint y = i / size;\n\t\treturn float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );\n\t}\n#endif\n#ifdef USE_BATCHING_COLOR\n\tuniform sampler2D batchingColorTexture;\n\tvec3 getBatchingColor( const in float i ) {\n\t\tint size = textureSize( batchingColorTexture, 0 ).x;\n\t\tint j = int( i );\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\treturn texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;\n\t}\n#endif",batching_vertex:"#ifdef USE_BATCHING\n\tmat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#ifdef ALPHA_TO_COVERAGE\n\t\tfloat distanceToPlane, distanceGradient;\n\t\tfloat clipOpacity = 1.0;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\tclipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\tif ( clipOpacity == 0.0 ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tfloat unionClipOpacity = 1.0;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tdistanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;\n\t\t\t\tdistanceGradient = fwidth( distanceToPlane ) / 2.0;\n\t\t\t\tunionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tclipOpacity *= 1.0 - unionClipOpacity;\n\t\t#endif\n\t\tdiffuseColor.a *= clipOpacity;\n\t\tif ( diffuseColor.a == 0.0 ) discard;\n\t#else\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\t\tbool clipped = true;\n\t\t\t#pragma unroll_loop_start\n\t\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\t\tplane = clippingPlanes[ i ];\n\t\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t\t}\n\t\t\t#pragma unroll_loop_end\n\t\t\tif ( clipped ) discard;\n\t\t#endif\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif\n#ifdef USE_BATCHING_COLOR\n\tvec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );\n\tvColor.xyz *= batchingColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = objectTangent;\n#endif\n#ifdef USE_BATCHING\n\tmat3 bm = mat3( batchingMatrix );\n\ttransformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );\n\ttransformedNormal = bm * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = bm * transformedTangent;\n\t#endif\n#endif\n#ifdef USE_INSTANCING\n\tmat3 im = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );\n\ttransformedNormal = im * transformedNormal;\n\t#ifdef USE_TANGENT\n\t\ttransformedTangent = im * transformedTangent;\n\t#endif\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\ttransformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform mat3 envMapRotation;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif ( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_DISPERSION\n\tmaterial.dispersion = dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tif( material.anisotropy == 0.0 ) {\n\t\tanisotropyV = vec2( 1.0, 0.0 );\n\t} else {\n\t\tanisotropyV /= material.anisotropy;\n\t\tmaterial.anisotropy = saturate( material.anisotropy );\n\t}\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\tfloat dispersion;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tgl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\tvFragDepth = 1.0 + gl_Position.w;\n\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphinstance_vertex:"#ifdef USE_INSTANCING_MORPH\n\tfloat morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\tfloat morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tmorphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;\n\t}\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_INSTANCING_MORPH\n\t\tuniform float morphTargetBaseInfluence;\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t#endif\n\tuniform sampler2DArray morphTargetsTexture;\n\tuniform ivec2 morphTargetsTextureSize;\n\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t}\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t}\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_BATCHING\n\tmvPosition = batchingMatrix * mvPosition;\n#endif\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tfloat shadow = 1.0;\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\t\n\t\tfloat lightToPositionLength = length( lightToPosition );\n\t\tif ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {\n\t\t\tfloat dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\t\tdp += shadowBias;\n\t\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\t\tshadow = (\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t\t) * ( 1.0 / 9.0 );\n\t\t\t#else\n\t\t\t\tshadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t\t#endif\n\t\t}\n\t\treturn mix( 1.0, shadow, shadowIntensity );\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowIntensity;\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tint size = textureSize( boneTexture, 0 ).x;\n\t\tint j = int( i ) * 4;\n\t\tint x = j % size;\n\t\tint y = j / size;\n\t\tvec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );\n\t\tvec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );\n\t\tvec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );\n\t\tvec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );\n\t\treturn mat4( v1, v2, v3, v4 );\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nconst mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.6605, - 0.1246, - 0.0182 ),\n\tvec3( - 0.5876, 1.1329, - 0.1006 ),\n\tvec3( - 0.0728, - 0.0083, 1.1187 )\n);\nconst mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(\n\tvec3( 0.6274, 0.0691, 0.0164 ),\n\tvec3( 0.3293, 0.9195, 0.0880 ),\n\tvec3( 0.0433, 0.0113, 0.8956 )\n);\nvec3 agxDefaultContrastApprox( vec3 x ) {\n\tvec3 x2 = x * x;\n\tvec3 x4 = x2 * x2;\n\treturn + 15.5 * x4 * x2\n\t\t- 40.14 * x4 * x\n\t\t+ 31.96 * x4\n\t\t- 6.868 * x2 * x\n\t\t+ 0.4298 * x2\n\t\t+ 0.1191 * x\n\t\t- 0.00232;\n}\nvec3 AgXToneMapping( vec3 color ) {\n\tconst mat3 AgXInsetMatrix = mat3(\n\t\tvec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),\n\t\tvec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),\n\t\tvec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )\n\t);\n\tconst mat3 AgXOutsetMatrix = mat3(\n\t\tvec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),\n\t\tvec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),\n\t\tvec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )\n\t);\n\tconst float AgxMinEv = - 12.47393;\tconst float AgxMaxEv = 4.026069;\n\tcolor *= toneMappingExposure;\n\tcolor = LINEAR_SRGB_TO_LINEAR_REC2020 * color;\n\tcolor = AgXInsetMatrix * color;\n\tcolor = max( color, 1e-10 );\tcolor = log2( color );\n\tcolor = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );\n\tcolor = clamp( color, 0.0, 1.0 );\n\tcolor = agxDefaultContrastApprox( color );\n\tcolor = AgXOutsetMatrix * color;\n\tcolor = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );\n\tcolor = LINEAR_REC2020_TO_LINEAR_SRGB * color;\n\tcolor = clamp( color, 0.0, 1.0 );\n\treturn color;\n}\nvec3 NeutralToneMapping( vec3 color ) {\n\tconst float StartCompression = 0.8 - 0.04;\n\tconst float Desaturation = 0.15;\n\tcolor *= toneMappingExposure;\n\tfloat x = min( color.r, min( color.g, color.b ) );\n\tfloat offset = x < 0.08 ? x - 6.25 * x * x : 0.04;\n\tcolor -= offset;\n\tfloat peak = max( color.r, max( color.g, color.b ) );\n\tif ( peak < StartCompression ) return color;\n\tfloat d = 1. - StartCompression;\n\tfloat newPeak = 1. - d * d / ( peak + d - StartCompression );\n\tcolor *= newPeak / peak;\n\tfloat g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );\n\treturn mix( color, vec3( newPeak ), g );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec4 transmittedLight;\n\t\tvec3 transmittance;\n\t\t#ifdef USE_DISPERSION\n\t\t\tfloat halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;\n\t\t\tvec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );\n\t\t\tfor ( int i = 0; i < 3; i ++ ) {\n\t\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );\n\t\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\n\t\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\t\trefractionCoords += 1.0;\n\t\t\t\trefractionCoords /= 2.0;\n\t\t\n\t\t\t\tvec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );\n\t\t\t\ttransmittedLight[ i ] = transmissionSample[ i ];\n\t\t\t\ttransmittedLight.a += transmissionSample.a;\n\t\t\t\ttransmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];\n\t\t\t}\n\t\t\ttransmittedLight.a /= 3.0;\n\t\t\n\t\t#else\n\t\t\n\t\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\t\trefractionCoords += 1.0;\n\t\t\trefractionCoords /= 2.0;\n\t\t\ttransmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\t\ttransmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\t\n\t\t#endif\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_BATCHING\n\t\tworldPosition = batchingMatrix * worldPosition;\n\t#endif\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nuniform mat3 backgroundRotation;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <skinbase_vertex>\n\t#include <morphinstance_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <clipping_planes_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_DISPERSION\n\tuniform float dispersion;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <batching_pars_vertex>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <batching_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <batching_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphinstance_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},rm={common:{diffuse:{value:new jd(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xh},alphaMap:{value:null},alphaMapTransform:{value:new Xh},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xh}},envmap:{envMap:{value:null},envMapRotation:{value:new Xh},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xh}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xh}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xh},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xh},normalScale:{value:new qh(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xh},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xh}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xh}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xh}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new jd(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new jd(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xh},alphaTest:{value:0},uvTransform:{value:new Xh}},sprite:{diffuse:{value:new jd(16777215)},opacity:{value:1},center:{value:new qh(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xh},alphaMap:{value:null},alphaMapTransform:{value:new Xh},alphaTest:{value:0}}},im={basic:{uniforms:Pp([rm.common,rm.specularmap,rm.envmap,rm.aomap,rm.lightmap,rm.fog]),vertexShader:nm.meshbasic_vert,fragmentShader:nm.meshbasic_frag},lambert:{uniforms:Pp([rm.common,rm.specularmap,rm.envmap,rm.aomap,rm.lightmap,rm.emissivemap,rm.bumpmap,rm.normalmap,rm.displacementmap,rm.fog,rm.lights,{emissive:{value:new jd(0)}}]),vertexShader:nm.meshlambert_vert,fragmentShader:nm.meshlambert_frag},phong:{uniforms:Pp([rm.common,rm.specularmap,rm.envmap,rm.aomap,rm.lightmap,rm.emissivemap,rm.bumpmap,rm.normalmap,rm.displacementmap,rm.fog,rm.lights,{emissive:{value:new jd(0)},specular:{value:new jd(1118481)},shininess:{value:30}}]),vertexShader:nm.meshphong_vert,fragmentShader:nm.meshphong_frag},standard:{uniforms:Pp([rm.common,rm.envmap,rm.aomap,rm.lightmap,rm.emissivemap,rm.bumpmap,rm.normalmap,rm.displacementmap,rm.roughnessmap,rm.metalnessmap,rm.fog,rm.lights,{emissive:{value:new jd(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nm.meshphysical_vert,fragmentShader:nm.meshphysical_frag},toon:{uniforms:Pp([rm.common,rm.aomap,rm.lightmap,rm.emissivemap,rm.bumpmap,rm.normalmap,rm.displacementmap,rm.gradientmap,rm.fog,rm.lights,{emissive:{value:new jd(0)}}]),vertexShader:nm.meshtoon_vert,fragmentShader:nm.meshtoon_frag},matcap:{uniforms:Pp([rm.common,rm.bumpmap,rm.normalmap,rm.displacementmap,rm.fog,{matcap:{value:null}}]),vertexShader:nm.meshmatcap_vert,fragmentShader:nm.meshmatcap_frag},points:{uniforms:Pp([rm.points,rm.fog]),vertexShader:nm.points_vert,fragmentShader:nm.points_frag},dashed:{uniforms:Pp([rm.common,rm.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nm.linedashed_vert,fragmentShader:nm.linedashed_frag},depth:{uniforms:Pp([rm.common,rm.displacementmap]),vertexShader:nm.depth_vert,fragmentShader:nm.depth_frag},normal:{uniforms:Pp([rm.common,rm.bumpmap,rm.normalmap,rm.displacementmap,{opacity:{value:1}}]),vertexShader:nm.meshnormal_vert,fragmentShader:nm.meshnormal_frag},sprite:{uniforms:Pp([rm.sprite,rm.fog]),vertexShader:nm.sprite_vert,fragmentShader:nm.sprite_frag},background:{uniforms:{uvTransform:{value:new Xh},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nm.background_vert,fragmentShader:nm.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Xh}},vertexShader:nm.backgroundCube_vert,fragmentShader:nm.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nm.cube_vert,fragmentShader:nm.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nm.equirect_vert,fragmentShader:nm.equirect_frag},distanceRGBA:{uniforms:Pp([rm.common,rm.displacementmap,{referencePosition:{value:new Sf},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nm.distanceRGBA_vert,fragmentShader:nm.distanceRGBA_frag},shadow:{uniforms:Pp([rm.lights,rm.fog,{color:{value:new jd(0)},opacity:{value:1}}]),vertexShader:nm.shadow_vert,fragmentShader:nm.shadow_frag}};im.physical={uniforms:Pp([im.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xh},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xh},clearcoatNormalScale:{value:new qh(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xh},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xh},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xh},sheen:{value:0},sheenColor:{value:new jd(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xh},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xh},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xh},transmissionSamplerSize:{value:new qh},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xh},attenuationDistance:{value:0},attenuationColor:{value:new jd(0)},specularColor:{value:new jd(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xh},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xh},anisotropyVector:{value:new qh},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xh}}]),vertexShader:nm.meshphysical_vert,fragmentShader:nm.meshphysical_frag};const om={r:0,b:0,g:0},am=new cd,sm=new Qf;function lm(e,t,n,r,i,o,a){const s=new jd(0);let l,c,u=!0===o?0:1,h=null,f=0,d=null;function p(e){let r=!0===e.isScene?e.background:null;if(r&&r.isTexture){r=(e.backgroundBlurriness>0?n:t).get(r)}return r}function m(t,n){t.getRGB(om,Dp(e)),r.buffers.color.setClear(om.r,om.g,om.b,n,a)}return{getClearColor:function(){return s},setClearColor:function(e,t=1){s.set(e),u=t,m(s,u)},getClearAlpha:function(){return u},setClearAlpha:function(e){u=e,m(s,u)},render:function(t){let n=!1;const i=p(t);null===i?m(s,u):i&&i.isColor&&(m(i,1),n=!0);const o=e.xr.getEnvironmentBlendMode();"additive"===o?r.buffers.color.setClear(0,0,0,1,a):"alpha-blend"===o&&r.buffers.color.setClear(0,0,0,0,a),(e.autoClear||n)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil))},addToRenderList:function(t,n){const r=p(n);r&&(r.isCubeTexture||r.mapping===qc)?(void 0===c&&(c=new Op(new Ip(1,1,1),new Lp({name:"BackgroundCubeMaterial",uniforms:kp(im.backgroundCube.uniforms),vertexShader:im.backgroundCube.vertexShader,fragmentShader:im.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),am.copy(n.backgroundRotation),am.x*=-1,am.y*=-1,am.z*=-1,r.isCubeTexture&&!1===r.isRenderTargetTexture&&(am.y*=-1,am.z*=-1),c.material.uniforms.envMap.value=r,c.material.uniforms.flipEnvMap.value=r.isCubeTexture&&!1===r.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=n.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(sm.makeRotationFromEuler(am)),c.material.toneMapped=sf.getTransfer(r.colorSpace)!==yh,h===r&&f===r.version&&d===e.toneMapping||(c.material.needsUpdate=!0,h=r,f=r.version,d=e.toneMapping),c.layers.enableAll(),t.unshift(c,c.geometry,c.material,0,0,null)):r&&r.isTexture&&(void 0===l&&(l=new Op(new tm(2,2),new Lp({name:"BackgroundMaterial",uniforms:kp(im.background.uniforms),vertexShader:im.background.vertexShader,fragmentShader:im.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(l)),l.material.uniforms.t2D.value=r,l.material.uniforms.backgroundIntensity.value=n.backgroundIntensity,l.material.toneMapped=sf.getTransfer(r.colorSpace)!==yh,!0===r.matrixAutoUpdate&&r.updateMatrix(),l.material.uniforms.uvTransform.value.copy(r.matrix),h===r&&f===r.version&&d===e.toneMapping||(l.material.needsUpdate=!0,h=r,f=r.version,d=e.toneMapping),l.layers.enableAll(),t.unshift(l,l.geometry,l.material,0,0,null))}}}function cm(e,t){const n=e.getParameter(e.MAX_VERTEX_ATTRIBS),r={},i=c(null);let o=i,a=!1;function s(t){return e.bindVertexArray(t)}function l(t){return e.deleteVertexArray(t)}function c(e){const t=[],r=[],i=[];for(let o=0;o<n;o++)t[o]=0,r[o]=0,i[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:r,attributeDivisors:i,object:e,attributes:{},index:null}}function u(){const e=o.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function h(e){f(e,0)}function f(t,n){const r=o.newAttributes,i=o.enabledAttributes,a=o.attributeDivisors;r[t]=1,0===i[t]&&(e.enableVertexAttribArray(t),i[t]=1),a[t]!==n&&(e.vertexAttribDivisor(t,n),a[t]=n)}function d(){const t=o.newAttributes,n=o.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function p(t,n,r,i,o,a,s){!0===s?e.vertexAttribIPointer(t,n,r,o,a):e.vertexAttribPointer(t,n,r,i,o,a)}function m(){g(),a=!0,o!==i&&(o=i,s(o.object))}function g(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:function(n,i,l,m,g){let v=!1;const y=function(t,n,i){const o=!0===i.wireframe;let a=r[t.id];void 0===a&&(a={},r[t.id]=a);let s=a[n.id];void 0===s&&(s={},a[n.id]=s);let l=s[o];void 0===l&&(l=c(e.createVertexArray()),s[o]=l);return l}(m,l,i);o!==y&&(o=y,s(o.object)),v=function(e,t,n,r){const i=o.attributes,a=t.attributes;let s=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){const t=i[o];let n=a[o];if(void 0===n&&("instanceMatrix"===o&&e.instanceMatrix&&(n=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(n=e.instanceColor)),void 0===t)return!0;if(t.attribute!==n)return!0;if(n&&t.data!==n.data)return!0;s++}}return o.attributesNum!==s||o.index!==r}(n,m,l,g),v&&function(e,t,n,r){const i={},a=t.attributes;let s=0;const l=n.getAttributes();for(const o in l){if(l[o].location>=0){let t=a[o];void 0===t&&("instanceMatrix"===o&&e.instanceMatrix&&(t=e.instanceMatrix),"instanceColor"===o&&e.instanceColor&&(t=e.instanceColor));const n={};n.attribute=t,t&&t.data&&(n.data=t.data),i[o]=n,s++}}o.attributes=i,o.attributesNum=s,o.index=r}(n,m,l,g),null!==g&&t.update(g,e.ELEMENT_ARRAY_BUFFER),(v||a)&&(a=!1,function(n,r,i,o){u();const a=o.attributes,s=i.getAttributes(),l=r.defaultAttributeValues;for(const c in s){const r=s[c];if(r.location>=0){let i=a[c];if(void 0===i&&("instanceMatrix"===c&&n.instanceMatrix&&(i=n.instanceMatrix),"instanceColor"===c&&n.instanceColor&&(i=n.instanceColor)),void 0!==i){const a=i.normalized,s=i.itemSize,l=t.get(i);if(void 0===l)continue;const c=l.buffer,u=l.type,d=l.bytesPerElement,m=u===e.INT||u===e.UNSIGNED_INT||i.gpuType===au;if(i.isInterleavedBufferAttribute){const t=i.data,l=t.stride,g=i.offset;if(t.isInstancedInterleavedBuffer){for(let e=0;e<r.locationSize;e++)f(r.location+e,t.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=t.meshPerAttribute*t.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,a,l*d,(g+s/r.locationSize*e)*d,m)}else{if(i.isInstancedBufferAttribute){for(let e=0;e<r.locationSize;e++)f(r.location+e,i.meshPerAttribute);!0!==n.isInstancedMesh&&void 0===o._maxInstanceCount&&(o._maxInstanceCount=i.meshPerAttribute*i.count)}else for(let e=0;e<r.locationSize;e++)h(r.location+e);e.bindBuffer(e.ARRAY_BUFFER,c);for(let e=0;e<r.locationSize;e++)p(r.location+e,s/r.locationSize,u,a,s*d,s/r.locationSize*e*d,m)}}else if(void 0!==l){const t=l[c];if(void 0!==t)switch(t.length){case 2:e.vertexAttrib2fv(r.location,t);break;case 3:e.vertexAttrib3fv(r.location,t);break;case 4:e.vertexAttrib4fv(r.location,t);break;default:e.vertexAttrib1fv(r.location,t)}}}}d()}(n,i,l,m),null!==g&&e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,t.get(g).buffer))},reset:m,resetDefaultState:g,dispose:function(){m();for(const e in r){const t=r[e];for(const e in t){const n=t[e];for(const e in n)l(n[e].object),delete n[e];delete t[e]}delete r[e]}},releaseStatesOfGeometry:function(e){if(void 0===r[e.id])return;const t=r[e.id];for(const n in t){const e=t[n];for(const t in e)l(e[t].object),delete e[t];delete t[n]}delete r[e.id]},releaseStatesOfProgram:function(e){for(const t in r){const n=r[t];if(void 0===n[e.id])continue;const i=n[e.id];for(const e in i)l(i[e].object),delete i[e];delete n[e.id]}},initAttributes:u,enableAttribute:h,disableUnusedAttributes:d}}function um(e,t,n){let r;function i(t,i,o){0!==o&&(e.drawArraysInstanced(r,t,i,o),n.update(i,r,o))}this.setMode=function(e){r=e},this.render=function(t,i){e.drawArrays(r,t,i),n.update(i,r,1)},this.renderInstances=i,this.renderMultiDraw=function(e,i,o){if(0===o)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,e,0,i,0,o);let a=0;for(let t=0;t<o;t++)a+=i[t];n.update(a,r,1)},this.renderMultiDrawInstances=function(e,o,a,s){if(0===a)return;const l=t.get("WEBGL_multi_draw");if(null===l)for(let t=0;t<e.length;t++)i(e[t],o[t],s[t]);else{l.multiDrawArraysInstancedWEBGL(r,e,0,o,0,s,0,a);let t=0;for(let e=0;e<a;e++)t+=o[e];for(let e=0;e<s.length;e++)n.update(t,r,s[e])}}}function hm(e,t,n,r){let i;function o(t){if("highp"===t){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let a=void 0!==n.precision?n.precision:"highp";const s=o(a);s!==a&&(a=s);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);return{isWebGL2:!0,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===t.has("EXT_texture_filter_anisotropic")){const n=t.get("EXT_texture_filter_anisotropic");i=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:o,textureFormatReadable:function(t){return t===gu||r.convert(t)===e.getParameter(e.IMPLEMENTATION_COLOR_READ_FORMAT)},textureTypeReadable:function(n){const i=n===cu&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(n!==nu&&r.convert(n)!==e.getParameter(e.IMPLEMENTATION_COLOR_READ_TYPE)&&n!==lu&&!i)},precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:e.getParameter(e.MAX_TEXTURE_SIZE),maxCubemapSize:e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE),maxAttributes:e.getParameter(e.MAX_VERTEX_ATTRIBS),maxVertexUniforms:e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS),maxVaryings:e.getParameter(e.MAX_VARYING_VECTORS),maxFragmentUniforms:e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS),vertexTextures:u>0,maxSamples:e.getParameter(e.MAX_SAMPLES)}}function fm(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new Kp,s=new Xh,l={value:null,needsUpdate:!1};function c(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let n=0,l=r;n!==o;++n,l+=4)a.copy(e[n]).applyMatrix4(i,s),a.normal.toArray(c,l),c[l+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t){const n=0!==e.length||t||0!==r||i;return i=t,r=e.length,n},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(e,t){n=c(e,t,0)},this.setState=function(a,s,u){const h=a.clippingPlanes,f=a.clipIntersection,d=a.clipShadows,p=e.get(a);if(!i||null===h||0===h.length||o&&!d)o?c(null):function(){l.value!==n&&(l.value=n,l.needsUpdate=r>0);t.numPlanes=r,t.numIntersection=0}();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=c(h,s,t,u);for(let r=0;r!==t;++r)i[r]=n[r];p.clippingState=i,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=e}}}function dm(e){let t=new WeakMap;function n(e,t){return t===Wc?e.mapping=jc:t===Gc&&(e.mapping=Hc),e}function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping;if(o===Wc||o===Gc){if(t.has(i)){return n(t.get(i).texture,i.mapping)}{const o=i.image;if(o&&o.height>0){const a=new Gp(o.height);return a.fromEquirectangularTexture(e,i),t.set(i,a),i.addEventListener("dispose",r),n(a.texture,i.mapping)}return null}}}return i},dispose:function(){t=new WeakMap}}}class pm extends Fp{constructor(e=-1,t=1,n=1,r=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const mm=[.125,.215,.35,.446,.526,.582],gm=20,vm=new pm,ym=new jd;let _m=null,bm=0,xm=0,wm=!1;const Sm=(1+Math.sqrt(5))/2,Em=1/Sm,Tm=[new Sf(-Sm,Em,0),new Sf(Sm,Em,0),new Sf(-Em,0,Sm),new Sf(Em,0,Sm),new Sf(0,Sm,-Em),new Sf(0,Sm,Em),new Sf(-1,1,-1),new Sf(1,1,-1),new Sf(-1,1,1),new Sf(1,1,1)];class Am{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){_m=this._renderer.getRenderTarget(),bm=this._renderer.getActiveCubeFace(),xm=this._renderer.getActiveMipmapLevel(),wm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=Rm(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=Om(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(_m,bm,xm),this._renderer.xr.enabled=wm,e.scissorTest=!1,Cm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===jc||e.mapping===Hc?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),_m=this._renderer.getRenderTarget(),bm=this._renderer.getActiveCubeFace(),xm=this._renderer.getActiveMipmapLevel(),wm=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:Qc,minFilter:Qc,generateMipmaps:!1,type:cu,format:gu,colorSpace:ph,depthBuffer:!1},r=Mm(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Mm(e,t,n);const{_lodMax:r}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function(e){const t=[],n=[],r=[];let i=e;const o=e-4+1+mm.length;for(let a=0;a<o;a++){const o=Math.pow(2,i);n.push(o);let s=1/o;a>e-4?s=mm[a-e+4-1]:0===a&&(s=0),r.push(s);const l=1/(o-2),c=-l,u=1+l,h=[c,c,u,c,u,u,c,c,u,u,c,u],f=6,d=6,p=3,m=2,g=1,v=new Float32Array(p*d*f),y=new Float32Array(m*d*f),_=new Float32Array(g*d*f);for(let e=0;e<f;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];v.set(r,p*d*e),y.set(h,m*d*e);const i=[e,e,e,e,e,e];_.set(i,g*d*e)}const b=new hp;b.setAttribute("position",new ep(v,p)),b.setAttribute("uv",new ep(y,m)),b.setAttribute("faceIndex",new ep(_,g)),t.push(b),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(r)),this._blurMaterial=function(e,t,n){const r=new Float32Array(gm),i=new Sf(0,1,0),o=new Lp({name:"SphericalGaussianBlur",defines:{n:gm,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1});return o}(r,e,t)}return r}_compileMaterial(e){const t=new Op(this._lodPlanes[0],e);this._renderer.compile(t,vm)}_sceneToCubeUV(e,t,n,r){const i=new Vp(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,c=s.toneMapping;s.getClearColor(ym),s.toneMapping=0,s.autoClear=!1;const u=new qd({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),h=new Op(new Ip,u);let f=!1;const d=e.background;d?d.isColor&&(u.color.copy(d),e.background=null,f=!0):(u.color.copy(ym),f=!0);for(let p=0;p<6;p++){const t=p%3;0===t?(i.up.set(0,o[p],0),i.lookAt(a[p],0,0)):1===t?(i.up.set(0,0,o[p]),i.lookAt(0,a[p],0)):(i.up.set(0,o[p],0),i.lookAt(0,0,a[p]));const n=this._cubeSize;Cm(r,t*n,p>2?n:0,n,n),s.setRenderTarget(r),f&&s.render(h,i),s.render(e,i)}h.geometry.dispose(),h.material.dispose(),s.toneMapping=c,s.autoClear=l,e.background=d}_textureToCubeUV(e,t){const n=this._renderer,r=e.mapping===jc||e.mapping===Hc;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=Rm()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Om());const i=r?this._cubemapMaterial:this._equirectMaterial,o=new Op(this._lodPlanes[0],i);i.uniforms.envMap.value=e;const a=this._cubeSize;Cm(t,0,0,3*a,2*a),n.setRenderTarget(t),n.render(o,vm)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let i=1;i<r;i++){const t=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),n=Tm[(r-i-1)%Tm.length];this._blur(e,i-1,i,t,n)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial,c=new Op(this._lodPlanes[r],l),u=l.uniforms,h=this._sizeLods[n]-1,f=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,d=i/f,p=isFinite(i)?1+Math.floor(3*d):gm,m=[];let g=0;for(let _=0;_<gm;++_){const e=_/d,t=Math.exp(-e*e/2);m.push(t),0===_?g+=t:_<p&&(g+=2*t)}for(let _=0;_<m.length;_++)m[_]=m[_]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a);const{_lodMax:v}=this;u.dTheta.value=f,u.mipInt.value=v-n;const y=this._sizeLods[r];Cm(t,3*y*(r>v-4?r-v+4:0),4*(this._cubeSize-y),3*y,2*y),s.setRenderTarget(t),s.render(c,vm)}}function Mm(e,t,n){const r=new _f(e,t,n);return r.texture.mapping=qc,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cm(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Om(){return new Lp({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Rm(){return new Lp({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function Im(e){let t=new WeakMap,n=null;function r(e){const n=e.target;n.removeEventListener("dispose",r);const i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){const o=i.mapping,a=o===Wc||o===Gc,s=o===jc||o===Hc;if(a||s){let o=t.get(i);const l=void 0!==o?o.texture.pmremVersion:0;if(i.isRenderTargetTexture&&i.pmremVersion!==l)return null===n&&(n=new Am(e)),o=a?n.fromEquirectangular(i,o):n.fromCubemap(i,o),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),o.texture;if(void 0!==o)return o.texture;{const l=i.image;return a&&l&&l.height>0||s&&l&&function(e){let t=0;const n=6;for(let r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)?(null===n&&(n=new Am(e)),o=a?n.fromEquirectangular(i):n.fromCubemap(i),o.texture.pmremVersion=i.pmremVersion,t.set(i,o),i.addEventListener("dispose",r),o.texture):null}}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function km(e){const t={};function n(n){if(void 0!==t[n])return t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(e){const t=n(e);return null===t&&tf("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Pm(e,t,n,r){const i={},o=new WeakMap;function a(e){const s=e.target;null!==s.index&&t.remove(s.index);for(const n in s.attributes)t.remove(s.attributes[n]);for(const n in s.morphAttributes){const e=s.morphAttributes[n];for(let n=0,r=e.length;n<r;n++)t.remove(e[n])}s.removeEventListener("dispose",a),delete i[s.id];const l=o.get(s);l&&(t.remove(l),o.delete(s)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{if(void 0===i)return;{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}}const s=new(Kh(n)?np:tp)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",a),i[t.id]=!0,n.memory.geometries++),t},update:function(n){const r=n.attributes;for(const o in r)t.update(r[o],e.ARRAY_BUFFER);const i=n.morphAttributes;for(const o in i){const n=i[o];for(let r=0,i=n.length;r<i;r++)t.update(n[r],e.ARRAY_BUFFER)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function Dm(e,t,n){let r,i,o;function a(t,a,s){0!==s&&(e.drawElementsInstanced(r,a,i,t*o,s),n.update(a,r,s))}this.setMode=function(e){r=e},this.setIndex=function(e){i=e.type,o=e.bytesPerElement},this.render=function(t,a){e.drawElements(r,a,i,t*o),n.update(a,r,1)},this.renderInstances=a,this.renderMultiDraw=function(e,o,a){if(0===a)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,o,0,i,e,0,a);let s=0;for(let t=0;t<a;t++)s+=o[t];n.update(s,r,1)},this.renderMultiDrawInstances=function(e,s,l,c){if(0===l)return;const u=t.get("WEBGL_multi_draw");if(null===u)for(let t=0;t<e.length;t++)a(e[t]/o,s[t],c[t]);else{u.multiDrawElementsInstancedWEBGL(r,s,0,i,e,0,c,0,l);let t=0;for(let e=0;e<l;e++)t+=s[e];for(let e=0;e<c.length;e++)n.update(t,r,c[e])}}}function Nm(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(n,r,i){switch(t.calls++,r){case e.TRIANGLES:t.triangles+=i*(n/3);break;case e.LINES:t.lines+=i*(n/2);break;case e.LINE_STRIP:t.lines+=i*(n-1);break;case e.LINE_LOOP:t.lines+=i*n;break;case e.POINTS:t.points+=i*n}}}}function Lm(e,t,n){const r=new WeakMap,i=new vf;return{update:function(o,a,s){const l=o.morphTargetInfluences,c=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=void 0!==c?c.length:0;let h=r.get(a);if(void 0===h||h.count!==u){let e=function(){v.dispose(),r.delete(a),a.removeEventListener("dispose",e)};void 0!==h&&h.texture.dispose();const n=void 0!==a.morphAttributes.position,o=void 0!==a.morphAttributes.normal,s=void 0!==a.morphAttributes.color,l=a.morphAttributes.position||[],c=a.morphAttributes.normal||[],f=a.morphAttributes.color||[];let d=0;!0===n&&(d=1),!0===o&&(d=2),!0===s&&(d=3);let p=a.attributes.position.count*d,m=1;p>t.maxTextureSize&&(m=Math.ceil(p/t.maxTextureSize),p=t.maxTextureSize);const g=new Float32Array(p*m*4*u),v=new bf(g,p,m,u);v.type=lu,v.needsUpdate=!0;const y=4*d;for(let t=0;t<u;t++){const e=l[t],r=c[t],a=f[t],u=p*m*4*t;for(let t=0;t<e.count;t++){const l=t*y;!0===n&&(i.fromBufferAttribute(e,t),g[u+l+0]=i.x,g[u+l+1]=i.y,g[u+l+2]=i.z,g[u+l+3]=0),!0===o&&(i.fromBufferAttribute(r,t),g[u+l+4]=i.x,g[u+l+5]=i.y,g[u+l+6]=i.z,g[u+l+7]=0),!0===s&&(i.fromBufferAttribute(a,t),g[u+l+8]=i.x,g[u+l+9]=i.y,g[u+l+10]=i.z,g[u+l+11]=4===a.itemSize?i.w:1)}}h={count:u,texture:v,size:new qh(p,m)},r.set(a,h),a.addEventListener("dispose",e)}if(!0===o.isInstancedMesh&&null!==o.morphTexture)s.getUniforms().setValue(e,"morphTexture",o.morphTexture,n);else{let t=0;for(let e=0;e<l.length;e++)t+=l[e];const n=a.morphTargetsRelative?1:1-t;s.getUniforms().setValue(e,"morphTargetBaseInfluence",n),s.getUniforms().setValue(e,"morphTargetInfluences",l)}s.getUniforms().setValue(e,"morphTargetsTexture",h.texture,n),s.getUniforms().setValue(e,"morphTargetsTextureSize",h.size)}}}function Fm(e,t,n,r){let i=new WeakMap;function o(e){const t=e.target;t.removeEventListener("dispose",o),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(a){const s=r.render.frame,l=a.geometry,c=t.get(a,l);if(i.get(c)!==s&&(t.update(c),i.set(c,s)),a.isInstancedMesh&&(!1===a.hasEventListener("dispose",o)&&a.addEventListener("dispose",o),i.get(a)!==s&&(n.update(a.instanceMatrix,e.ARRAY_BUFFER),null!==a.instanceColor&&n.update(a.instanceColor,e.ARRAY_BUFFER),i.set(a,s))),a.isSkinnedMesh){const e=a.skeleton;i.get(e)!==s&&(e.update(),i.set(e,s))}return c},dispose:function(){i=new WeakMap}}}class Um extends gf{constructor(e,t,n,r,i,o,a,s,l,c=1026){if(c!==_u&&c!==bu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===_u&&(n=su),void 0===n&&c===bu&&(n=fu),super(null,r,i,o,a,s,c,n,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:$c,this.minFilter=void 0!==s?s:$c,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}const Bm=new gf,zm=new Um(1,1),Vm=new bf,jm=new xf,Hm=new Wp,Wm=[],Gm=[],qm=new Float32Array(16),Xm=new Float32Array(9),Ym=new Float32Array(4);function Km(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=Wm[i];if(void 0===o&&(o=new Float32Array(i),Wm[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function $m(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Zm(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Jm(e,t){let n=Gm[t];void 0===n&&(n=new Int32Array(t),Gm[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Qm(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function eg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($m(n,t))return;e.uniform2fv(this.addr,t),Zm(n,t)}}function tg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if($m(n,t))return;e.uniform3fv(this.addr,t),Zm(n,t)}}function ng(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($m(n,t))return;e.uniform4fv(this.addr,t),Zm(n,t)}}function rg(e,t){const n=this.cache,r=t.elements;if(void 0===r){if($m(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zm(n,t)}else{if($m(n,r))return;Ym.set(r),e.uniformMatrix2fv(this.addr,!1,Ym),Zm(n,r)}}function ig(e,t){const n=this.cache,r=t.elements;if(void 0===r){if($m(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zm(n,t)}else{if($m(n,r))return;Xm.set(r),e.uniformMatrix3fv(this.addr,!1,Xm),Zm(n,r)}}function og(e,t){const n=this.cache,r=t.elements;if(void 0===r){if($m(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zm(n,t)}else{if($m(n,r))return;qm.set(r),e.uniformMatrix4fv(this.addr,!1,qm),Zm(n,r)}}function ag(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function sg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2i(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($m(n,t))return;e.uniform2iv(this.addr,t),Zm(n,t)}}function lg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3i(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if($m(n,t))return;e.uniform3iv(this.addr,t),Zm(n,t)}}function cg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($m(n,t))return;e.uniform4iv(this.addr,t),Zm(n,t)}}function ug(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function hg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2ui(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if($m(n,t))return;e.uniform2uiv(this.addr,t),Zm(n,t)}}function fg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3ui(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else{if($m(n,t))return;e.uniform3uiv(this.addr,t),Zm(n,t)}}function dg(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if($m(n,t))return;e.uniform4uiv(this.addr,t),Zm(n,t)}}function pg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();let o;r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),this.type===e.SAMPLER_2D_SHADOW?(zm.compareFunction=515,o=zm):o=Bm,n.setTexture2D(t||o,i)}function mg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||jm,i)}function gg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Hm,i)}function vg(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Vm,i)}function yg(e,t){e.uniform1fv(this.addr,t)}function _g(e,t){const n=Km(t,this.size,2);e.uniform2fv(this.addr,n)}function bg(e,t){const n=Km(t,this.size,3);e.uniform3fv(this.addr,n)}function xg(e,t){const n=Km(t,this.size,4);e.uniform4fv(this.addr,n)}function wg(e,t){const n=Km(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Sg(e,t){const n=Km(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Eg(e,t){const n=Km(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Tg(e,t){e.uniform1iv(this.addr,t)}function Ag(e,t){e.uniform2iv(this.addr,t)}function Mg(e,t){e.uniform3iv(this.addr,t)}function Cg(e,t){e.uniform4iv(this.addr,t)}function Og(e,t){e.uniform1uiv(this.addr,t)}function Rg(e,t){e.uniform2uiv(this.addr,t)}function Ig(e,t){e.uniform3uiv(this.addr,t)}function kg(e,t){e.uniform4uiv(this.addr,t)}function Pg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);$m(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let a=0;a!==i;++a)n.setTexture2D(t[a]||Bm,o[a])}function Dg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);$m(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let a=0;a!==i;++a)n.setTexture3D(t[a]||jm,o[a])}function Ng(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);$m(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let a=0;a!==i;++a)n.setTextureCube(t[a]||Hm,o[a])}function Lg(e,t,n){const r=this.cache,i=t.length,o=Jm(n,i);$m(r,o)||(e.uniform1iv(this.addr,o),Zm(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(t[a]||Vm,o[a])}class Fg{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=function(e){switch(e){case 5126:return Qm;case 35664:return eg;case 35665:return tg;case 35666:return ng;case 35674:return rg;case 35675:return ig;case 35676:return og;case 5124:case 35670:return ag;case 35667:case 35671:return sg;case 35668:case 35672:return lg;case 35669:case 35673:return cg;case 5125:return ug;case 36294:return hg;case 36295:return fg;case 36296:return dg;case 35678:case 36198:case 36298:case 36306:case 35682:return pg;case 35679:case 36299:case 36307:return mg;case 35680:case 36300:case 36308:case 36293:return gg;case 36289:case 36303:case 36311:case 36292:return vg}}(t.type)}}class Ug{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=function(e){switch(e){case 5126:return yg;case 35664:return _g;case 35665:return bg;case 35666:return xg;case 35674:return wg;case 35675:return Sg;case 35676:return Eg;case 5124:case 35670:return Tg;case 35667:case 35671:return Ag;case 35668:case 35672:return Mg;case 35669:case 35673:return Cg;case 5125:return Og;case 36294:return Rg;case 36295:return Ig;case 36296:return kg;case 35678:case 36198:case 36298:case 36306:case 35682:return Pg;case 35679:case 36299:case 36307:return Dg;case 35680:case 36300:case 36308:case 36293:return Ng;case 36289:case 36303:case 36311:case 36292:return Lg}}(t.type)}}class Bg{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}}}const zg=/(\w+)(\])?(\[|\.)?/g;function Vg(e,t){e.seq.push(t),e.map[t.id]=t}function jg(e,t,n){const r=e.name,i=r.length;for(zg.lastIndex=0;;){const o=zg.exec(r),a=zg.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){Vg(n,void 0===c?new Fg(s,e,t):new Ug(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new Bg(s),Vg(n,e)),n=e}}}class Hg{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);jg(n,e.getUniformLocation(t,n.name),this)}}setValue(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)}setOptional(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)}static upload(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}}static seqWithValue(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n}}function Wg(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}let Gg=0;function qg(e,t,n){const r=e.getShaderParameter(t,e.COMPILE_STATUS),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const r=parseInt(o[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){const n=e.split("\n"),r=[],i=Math.max(t-6,0),o=Math.min(t+6,n.length);for(let a=i;a<o;a++){const e=a+1;r.push("".concat(e===t?">":" "," ").concat(e,": ").concat(n[a]))}return r.join("\n")}(e.getShaderSource(t),r)}return i}function Xg(e,t){const n=function(e){const t=sf.getPrimaries(sf.workingColorSpace),n=sf.getPrimaries(e);let r;switch(t===n?r="":t===bh&&n===_h?r="LinearDisplayP3ToLinearSRGB":t===_h&&n===bh&&(r="LinearSRGBToLinearDisplayP3"),e){case ph:case gh:return[r,"LinearTransferOETF"];case dh:case mh:return[r,"sRGBTransferOETF"];default:return[r,"LinearTransferOETF"]}}(t);return"vec4 ".concat(e,"( vec4 value ) { return ").concat(n[0],"( ").concat(n[1],"( value ) ); }")}function Yg(e,t){let n;switch(t){case 1:default:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 6:n="AgX";break;case 7:n="Neutral";break;case 5:n="Custom"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Kg(e){return""!==e}function $g(e,t){const n=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function Zg(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const Jg=/^[ \t]*#include +<([\w\d./]+)>/gm;function Qg(e){return e.replace(Jg,tv)}const ev=new Map;function tv(e,t){let n=nm[t];if(void 0===n){const e=ev.get(t);if(void 0===e)throw new Error("Can not resolve #include <"+t+">");n=nm[e]}return Qg(n)}const nv=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rv(e){return e.replace(nv,iv)}function iv(e,t,n,r){let i="";for(let o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function ov(e){let t="precision ".concat(e.precision," float;\n\tprecision ").concat(e.precision," int;\n\tprecision ").concat(e.precision," sampler2D;\n\tprecision ").concat(e.precision," samplerCube;\n\tprecision ").concat(e.precision," sampler3D;\n\tprecision ").concat(e.precision," sampler2DArray;\n\tprecision ").concat(e.precision," sampler2DShadow;\n\tprecision ").concat(e.precision," samplerCubeShadow;\n\tprecision ").concat(e.precision," sampler2DArrayShadow;\n\tprecision ").concat(e.precision," isampler2D;\n\tprecision ").concat(e.precision," isampler3D;\n\tprecision ").concat(e.precision," isamplerCube;\n\tprecision ").concat(e.precision," isampler2DArray;\n\tprecision ").concat(e.precision," usampler2D;\n\tprecision ").concat(e.precision," usampler3D;\n\tprecision ").concat(e.precision," usamplerCube;\n\tprecision ").concat(e.precision," usampler2DArray;\n\t");return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function av(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case jc:case Hc:t="ENVMAP_TYPE_CUBE";break;case qc:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===Hc&&(t="ENVMAP_MODE_REFRACTION");return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),f=function(e){const t=e.envMapCubeUVHeight;if(null===t)return null;const n=Math.log2(t)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),d=function(e){return[e.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",e.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Kg).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Kg).join("\n"),g.length>0&&(g+="\n"),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p].filter(Kg).join("\n"),v.length>0&&(v+="\n")):(g=[ov(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","\tuniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Kg).join("\n"),v=[ov(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&!1===n.flatShading?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?nm.tonemapping_pars_fragment:"",0!==n.toneMapping?Yg("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nm.colorspace_pars_fragment,Xg("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Kg).join("\n")),a=Qg(a),a=$g(a,n),a=Zg(a,n),s=Qg(s),s=$g(s,n),s=Zg(s,n),a=rv(a),s=rv(s),!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=[d,"#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in",n.glslVersion===Ih?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Ih?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const _=y+g+a,b=y+v+s,x=Wg(i,i.VERTEX_SHADER,_),w=Wg(i,i.FRAGMENT_SHADER,b);function S(t){if(e.debug.checkShaderErrors){const n=i.getProgramInfoLog(m).trim(),r=i.getShaderInfoLog(x).trim(),o=i.getShaderInfoLog(w).trim();let a=!0,s=!0;if(!1===i.getProgramParameter(m,i.LINK_STATUS))if(a=!1,"function"==typeof e.debug.onShaderError)e.debug.onShaderError(i,m,x,w);else{qg(i,x,"vertex"),qg(i,w,"fragment")}else""!==n||""!==r&&""!==o||(s=!1);s&&(t.diagnostics={runnable:a,programLog:n,vertexShader:{log:r,prefix:g},fragmentShader:{log:o,prefix:v}})}i.deleteShader(x),i.deleteShader(w),E=new Hg(i,m),T=function(e,t){const n={},r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i),o=r.name;let a=1;r.type===e.FLOAT_MAT2&&(a=2),r.type===e.FLOAT_MAT3&&(a=3),r.type===e.FLOAT_MAT4&&(a=4),n[o]={type:r.type,location:e.getAttribLocation(t,o),locationSize:a}}return n}(i,m)}let E,T;i.attachShader(m,x),i.attachShader(m,w),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),this.getUniforms=function(){return void 0===E&&S(this),E},this.getAttributes=function(){return void 0===T&&S(this),T};let A=!1===n.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===A&&(A=i.getProgramParameter(m,37297)),A},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Gg++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=w,this}let sv=0;class lv{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(i)&&(o.add(i),i.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,0===n.usedTimes&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return void 0===n&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return void 0===n&&(n=new cv(e),t.set(e,n)),n}}class cv{constructor(e){this.id=sv++,this.code=e,this.usedTimes=0}}function uv(e,t,n,r,i,o,a){const s=new ud,l=new lv,c=new Set,u=[],h=i.logarithmicDepthBuffer,f=i.vertexTextures;let d=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(e){return c.add(e),0===e?"uv":"uv".concat(e)}return{getParameters:function(o,s,u,g,v){const y=g.fog,_=v.geometry,b=o.isMeshStandardMaterial?g.environment:null,x=(o.isMeshStandardMaterial?n:t).get(o.envMap||b),w=x&&x.mapping===qc?x.image.height:null,S=p[o.type];null!==o.precision&&(d=i.getMaxPrecision(o.precision),o.precision);const E=_.morphAttributes.position||_.morphAttributes.normal||_.morphAttributes.color,T=void 0!==E?E.length:0;let A,M,C,O,R=0;if(void 0!==_.morphAttributes.position&&(R=1),void 0!==_.morphAttributes.normal&&(R=2),void 0!==_.morphAttributes.color&&(R=3),S){const e=im[S];A=e.vertexShader,M=e.fragmentShader}else A=o.vertexShader,M=o.fragmentShader,l.update(o),C=l.getVertexShaderID(o),O=l.getFragmentShaderID(o);const I=e.getRenderTarget(),k=!0===v.isInstancedMesh,P=!0===v.isBatchedMesh,D=!!o.map,N=!!o.matcap,L=!!x,F=!!o.aoMap,U=!!o.lightMap,B=!!o.bumpMap,z=!!o.normalMap,V=!!o.displacementMap,j=!!o.emissiveMap,H=!!o.metalnessMap,W=!!o.roughnessMap,G=o.anisotropy>0,q=o.clearcoat>0,X=o.dispersion>0,Y=o.iridescence>0,K=o.sheen>0,$=o.transmission>0,Z=G&&!!o.anisotropyMap,J=q&&!!o.clearcoatMap,Q=q&&!!o.clearcoatNormalMap,ee=q&&!!o.clearcoatRoughnessMap,te=Y&&!!o.iridescenceMap,ne=Y&&!!o.iridescenceThicknessMap,re=K&&!!o.sheenColorMap,ie=K&&!!o.sheenRoughnessMap,oe=!!o.specularMap,ae=!!o.specularColorMap,se=!!o.specularIntensityMap,le=$&&!!o.transmissionMap,ce=$&&!!o.thicknessMap,ue=!!o.gradientMap,he=!!o.alphaMap,fe=o.alphaTest>0,de=!!o.alphaHash,pe=!!o.extensions;let me=0;o.toneMapped&&(null!==I&&!0!==I.isXRRenderTarget||(me=e.toneMapping));const ge={shaderID:S,shaderType:o.type,shaderName:o.name,vertexShader:A,fragmentShader:M,defines:o.defines,customVertexShaderID:C,customFragmentShaderID:O,isRawShaderMaterial:!0===o.isRawShaderMaterial,glslVersion:o.glslVersion,precision:d,batching:P,batchingColor:P&&null!==v._colorsTexture,instancing:k,instancingColor:k&&null!==v.instanceColor,instancingMorph:k&&null!==v.morphTexture,supportsVertexTextures:f,outputColorSpace:null===I?e.outputColorSpace:!0===I.isXRRenderTarget?I.texture.colorSpace:ph,alphaToCoverage:!!o.alphaToCoverage,map:D,matcap:N,envMap:L,envMapMode:L&&x.mapping,envMapCubeUVHeight:w,aoMap:F,lightMap:U,bumpMap:B,normalMap:z,displacementMap:f&&V,emissiveMap:j,normalMapObjectSpace:z&&1===o.normalMapType,normalMapTangentSpace:z&&0===o.normalMapType,metalnessMap:H,roughnessMap:W,anisotropy:G,anisotropyMap:Z,clearcoat:q,clearcoatMap:J,clearcoatNormalMap:Q,clearcoatRoughnessMap:ee,dispersion:X,iridescence:Y,iridescenceMap:te,iridescenceThicknessMap:ne,sheen:K,sheenColorMap:re,sheenRoughnessMap:ie,specularMap:oe,specularColorMap:ae,specularIntensityMap:se,transmission:$,transmissionMap:le,thicknessMap:ce,gradientMap:ue,opaque:!1===o.transparent&&1===o.blending&&!1===o.alphaToCoverage,alphaMap:he,alphaTest:fe,alphaHash:de,combine:o.combine,mapUv:D&&m(o.map.channel),aoMapUv:F&&m(o.aoMap.channel),lightMapUv:U&&m(o.lightMap.channel),bumpMapUv:B&&m(o.bumpMap.channel),normalMapUv:z&&m(o.normalMap.channel),displacementMapUv:V&&m(o.displacementMap.channel),emissiveMapUv:j&&m(o.emissiveMap.channel),metalnessMapUv:H&&m(o.metalnessMap.channel),roughnessMapUv:W&&m(o.roughnessMap.channel),anisotropyMapUv:Z&&m(o.anisotropyMap.channel),clearcoatMapUv:J&&m(o.clearcoatMap.channel),clearcoatNormalMapUv:Q&&m(o.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ee&&m(o.clearcoatRoughnessMap.channel),iridescenceMapUv:te&&m(o.iridescenceMap.channel),iridescenceThicknessMapUv:ne&&m(o.iridescenceThicknessMap.channel),sheenColorMapUv:re&&m(o.sheenColorMap.channel),sheenRoughnessMapUv:ie&&m(o.sheenRoughnessMap.channel),specularMapUv:oe&&m(o.specularMap.channel),specularColorMapUv:ae&&m(o.specularColorMap.channel),specularIntensityMapUv:se&&m(o.specularIntensityMap.channel),transmissionMapUv:le&&m(o.transmissionMap.channel),thicknessMapUv:ce&&m(o.thicknessMap.channel),alphaMapUv:he&&m(o.alphaMap.channel),vertexTangents:!!_.attributes.tangent&&(z||G),vertexColors:o.vertexColors,vertexAlphas:!0===o.vertexColors&&!!_.attributes.color&&4===_.attributes.color.itemSize,pointsUvs:!0===v.isPoints&&!!_.attributes.uv&&(D||he),fog:!!y,useFog:!0===o.fog,fogExp2:!!y&&y.isFogExp2,flatShading:!0===o.flatShading,sizeAttenuation:!0===o.sizeAttenuation,logarithmicDepthBuffer:h,skinning:!0===v.isSkinnedMesh,morphTargets:void 0!==_.morphAttributes.position,morphNormals:void 0!==_.morphAttributes.normal,morphColors:void 0!==_.morphAttributes.color,morphTargetsCount:T,morphTextureStride:R,numDirLights:s.directional.length,numPointLights:s.point.length,numSpotLights:s.spot.length,numSpotLightMaps:s.spotLightMap.length,numRectAreaLights:s.rectArea.length,numHemiLights:s.hemi.length,numDirLightShadows:s.directionalShadowMap.length,numPointLightShadows:s.pointShadowMap.length,numSpotLightShadows:s.spotShadowMap.length,numSpotLightShadowsWithMaps:s.numSpotLightShadowsWithMaps,numLightProbes:s.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:o.dithering,shadowMapEnabled:e.shadowMap.enabled&&u.length>0,shadowMapType:e.shadowMap.type,toneMapping:me,decodeVideoTexture:D&&!0===o.map.isVideoTexture&&sf.getTransfer(o.map.colorSpace)===yh,premultipliedAlpha:o.premultipliedAlpha,doubleSided:2===o.side,flipSided:1===o.side,useDepthPacking:o.depthPacking>=0,depthPacking:o.depthPacking||0,index0AttributeName:o.index0AttributeName,extensionClipCullDistance:pe&&!0===o.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(pe&&!0===o.extensions.multiDraw||P)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:o.customProgramCacheKey()};return ge.vertexUv1s=c.has(1),ge.vertexUv2s=c.has(2),ge.vertexUv3s=c.has(3),c.clear(),ge},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputColorSpace),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.mapUv),e.push(t.alphaMapUv),e.push(t.lightMapUv),e.push(t.aoMapUv),e.push(t.bumpMapUv),e.push(t.normalMapUv),e.push(t.displacementMapUv),e.push(t.emissiveMapUv),e.push(t.metalnessMapUv),e.push(t.roughnessMapUv),e.push(t.anisotropyMapUv),e.push(t.clearcoatMapUv),e.push(t.clearcoatNormalMapUv),e.push(t.clearcoatRoughnessMapUv),e.push(t.iridescenceMapUv),e.push(t.iridescenceThicknessMapUv),e.push(t.sheenColorMapUv),e.push(t.sheenRoughnessMapUv),e.push(t.specularMapUv),e.push(t.specularColorMapUv),e.push(t.specularIntensityMapUv),e.push(t.transmissionMapUv),e.push(t.thicknessMapUv),e.push(t.combine),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numSpotLightMaps),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.numSpotLightShadowsWithMaps),e.push(t.numLightProbes),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection),e.push(t.depthPacking)}(n,t),function(e,t){s.disableAll(),t.supportsVertexTextures&&s.enable(0);t.instancing&&s.enable(1);t.instancingColor&&s.enable(2);t.instancingMorph&&s.enable(3);t.matcap&&s.enable(4);t.envMap&&s.enable(5);t.normalMapObjectSpace&&s.enable(6);t.normalMapTangentSpace&&s.enable(7);t.clearcoat&&s.enable(8);t.iridescence&&s.enable(9);t.alphaTest&&s.enable(10);t.vertexColors&&s.enable(11);t.vertexAlphas&&s.enable(12);t.vertexUv1s&&s.enable(13);t.vertexUv2s&&s.enable(14);t.vertexUv3s&&s.enable(15);t.vertexTangents&&s.enable(16);t.anisotropy&&s.enable(17);t.alphaHash&&s.enable(18);t.batching&&s.enable(19);t.dispersion&&s.enable(20);t.batchingColor&&s.enable(21);e.push(s.mask),s.disableAll(),t.fog&&s.enable(0);t.useFog&&s.enable(1);t.flatShading&&s.enable(2);t.logarithmicDepthBuffer&&s.enable(3);t.skinning&&s.enable(4);t.morphTargets&&s.enable(5);t.morphNormals&&s.enable(6);t.morphColors&&s.enable(7);t.premultipliedAlpha&&s.enable(8);t.shadowMapEnabled&&s.enable(9);t.doubleSided&&s.enable(10);t.flipSided&&s.enable(11);t.useDepthPacking&&s.enable(12);t.dithering&&s.enable(13);t.transmission&&s.enable(14);t.sheen&&s.enable(15);t.opaque&&s.enable(16);t.pointsUvs&&s.enable(17);t.decodeVideoTexture&&s.enable(18);t.alphaToCoverage&&s.enable(19);e.push(s.mask)}(n,t),n.push(e.outputColorSpace)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=p[e.type];let n;if(t){const e=im[t];n=Np.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,i=u.length;e<i;e++){const t=u[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new av(e,n,t,o),u.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){const t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},releaseShaderCache:function(e){l.remove(e)},programs:u,dispose:function(){l.dispose()}}}function hv(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function fv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function dv(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function pv(){const e=[];let t=0;const n=[],r=[],i=[];function o(n,r,i,o,a,s){let l=e[t];return void 0===l?(l={id:n.id,object:n,geometry:r,material:i,groupOrder:o,renderOrder:n.renderOrder,z:a,group:s},e[t]=l):(l.id=n.id,l.object=n,l.geometry=r,l.material=i,l.groupOrder=o,l.renderOrder=n.renderOrder,l.z=a,l.group=s),t++,l}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.push(u):!0===a.transparent?i.push(u):n.push(u)},unshift:function(e,t,a,s,l,c){const u=o(e,t,a,s,l,c);a.transmission>0?r.unshift(u):!0===a.transparent?i.unshift(u):n.unshift(u)},finish:function(){for(let n=t,r=e.length;n<r;n++){const t=e[n];if(null===t.id)break;t.id=null,t.object=null,t.geometry=null,t.material=null,t.group=null}},sort:function(e,t){n.length>1&&n.sort(e||fv),r.length>1&&r.sort(t||dv),i.length>1&&i.sort(t||dv)}}}function mv(){let e=new WeakMap;return{get:function(t,n){const r=e.get(t);let i;return void 0===r?(i=new pv,e.set(t,[i])):n>=r.length?(i=new pv,r.push(i)):i=r[n],i},dispose:function(){e=new WeakMap}}}function gv(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new Sf,color:new jd};break;case"SpotLight":n={position:new Sf,direction:new Sf,color:new jd,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Sf,color:new jd,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Sf,skyColor:new jd,groundColor:new jd};break;case"RectAreaLight":n={color:new jd,position:new Sf,halfWidth:new Sf,halfHeight:new Sf}}return e[t.id]=n,n}}}let vv=0;function yv(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function _v(e){const t=new gv,n=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qh};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qh,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let s=0;s<9;s++)r.probe.push(new Sf);const i=new Sf,o=new Qf,a=new Qf;return{setup:function(i){let o=0,a=0,s=0;for(let e=0;e<9;e++)r.probe[e].set(0,0,0);let l=0,c=0,u=0,h=0,f=0,d=0,p=0,m=0,g=0,v=0,y=0;i.sort(yv);for(let e=0,b=i.length;e<b;e++){const _=i[e],b=_.color,x=_.intensity,w=_.distance,S=_.shadow&&_.shadow.map?_.shadow.map.texture:null;if(_.isAmbientLight)o+=b.r*x,a+=b.g*x,s+=b.b*x;else if(_.isLightProbe){for(let e=0;e<9;e++)r.probe[e].addScaledVector(_.sh.coefficients[e],x);y++}else if(_.isDirectionalLight){const e=t.get(_);if(e.color.copy(_.color).multiplyScalar(_.intensity),_.castShadow){const e=_.shadow,t=n.get(_);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,r.directionalShadow[l]=t,r.directionalShadowMap[l]=S,r.directionalShadowMatrix[l]=_.shadow.matrix,d++}r.directional[l]=e,l++}else if(_.isSpotLight){const e=t.get(_);e.position.setFromMatrixPosition(_.matrixWorld),e.color.copy(b).multiplyScalar(x),e.distance=w,e.coneCos=Math.cos(_.angle),e.penumbraCos=Math.cos(_.angle*(1-_.penumbra)),e.decay=_.decay,r.spot[u]=e;const i=_.shadow;if(_.map&&(r.spotLightMap[g]=_.map,g++,i.updateMatrices(_),_.castShadow&&v++),r.spotLightMatrix[u]=i.matrix,_.castShadow){const e=n.get(_);e.shadowIntensity=i.intensity,e.shadowBias=i.bias,e.shadowNormalBias=i.normalBias,e.shadowRadius=i.radius,e.shadowMapSize=i.mapSize,r.spotShadow[u]=e,r.spotShadowMap[u]=S,m++}u++}else if(_.isRectAreaLight){const e=t.get(_);e.color.copy(b).multiplyScalar(x),e.halfWidth.set(.5*_.width,0,0),e.halfHeight.set(0,.5*_.height,0),r.rectArea[h]=e,h++}else if(_.isPointLight){const e=t.get(_);if(e.color.copy(_.color).multiplyScalar(_.intensity),e.distance=_.distance,e.decay=_.decay,_.castShadow){const e=_.shadow,t=n.get(_);t.shadowIntensity=e.intensity,t.shadowBias=e.bias,t.shadowNormalBias=e.normalBias,t.shadowRadius=e.radius,t.shadowMapSize=e.mapSize,t.shadowCameraNear=e.camera.near,t.shadowCameraFar=e.camera.far,r.pointShadow[c]=t,r.pointShadowMap[c]=S,r.pointShadowMatrix[c]=_.shadow.matrix,p++}r.point[c]=e,c++}else if(_.isHemisphereLight){const e=t.get(_);e.skyColor.copy(_.color).multiplyScalar(x),e.groundColor.copy(_.groundColor).multiplyScalar(x),r.hemi[f]=e,f++}}h>0&&(!0===e.has("OES_texture_float_linear")?(r.rectAreaLTC1=rm.LTC_FLOAT_1,r.rectAreaLTC2=rm.LTC_FLOAT_2):(r.rectAreaLTC1=rm.LTC_HALF_1,r.rectAreaLTC2=rm.LTC_HALF_2)),r.ambient[0]=o,r.ambient[1]=a,r.ambient[2]=s;const _=r.hash;_.directionalLength===l&&_.pointLength===c&&_.spotLength===u&&_.rectAreaLength===h&&_.hemiLength===f&&_.numDirectionalShadows===d&&_.numPointShadows===p&&_.numSpotShadows===m&&_.numSpotMaps===g&&_.numLightProbes===y||(r.directional.length=l,r.spot.length=u,r.rectArea.length=h,r.point.length=c,r.hemi.length=f,r.directionalShadow.length=d,r.directionalShadowMap.length=d,r.pointShadow.length=p,r.pointShadowMap.length=p,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=d,r.pointShadowMatrix.length=p,r.spotLightMatrix.length=m+g-v,r.spotLightMap.length=g,r.numSpotLightShadowsWithMaps=v,r.numLightProbes=y,_.directionalLength=l,_.pointLength=c,_.spotLength=u,_.rectAreaLength=h,_.hemiLength=f,_.numDirectionalShadows=d,_.numPointShadows=p,_.numSpotShadows=m,_.numSpotMaps=g,_.numLightProbes=y,r.version=vv++)},setupView:function(e,t){let n=0,s=0,l=0,c=0,u=0;const h=t.matrixWorldInverse;for(let f=0,d=e.length;f<d;f++){const t=e[f];if(t.isDirectionalLight){const e=r.directional[n];e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),n++}else if(t.isSpotLight){const e=r.spot[l];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),e.direction.setFromMatrixPosition(t.matrixWorld),i.setFromMatrixPosition(t.target.matrixWorld),e.direction.sub(i),e.direction.transformDirection(h),l++}else if(t.isRectAreaLight){const e=r.rectArea[c];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),a.identity(),o.copy(t.matrixWorld),o.premultiply(h),a.extractRotation(o),e.halfWidth.set(.5*t.width,0,0),e.halfHeight.set(0,.5*t.height,0),e.halfWidth.applyMatrix4(a),e.halfHeight.applyMatrix4(a),c++}else if(t.isPointLight){const e=r.point[s];e.position.setFromMatrixPosition(t.matrixWorld),e.position.applyMatrix4(h),s++}else if(t.isHemisphereLight){const e=r.hemi[u];e.direction.setFromMatrixPosition(t.matrixWorld),e.direction.transformDirection(h),u++}}},state:r}}function bv(e){const t=new _v(e),n=[],r=[];const i={lightsArray:n,shadowsArray:r,camera:null,lights:t,transmissionRenderTarget:{}};return{init:function(e){i.camera=e,n.length=0,r.length=0},state:i,setupLights:function(){t.setup(n)},setupLightsView:function(e){t.setupView(n,e)},pushLight:function(e){n.push(e)},pushShadow:function(e){r.push(e)}}}function xv(e){let t=new WeakMap;return{get:function(n,r=0){const i=t.get(n);let o;return void 0===i?(o=new bv(e),t.set(n,[o])):r>=i.length?(o=new bv(e),i.push(o)):o=i[r],o},dispose:function(){t=new WeakMap}}}class wv extends Gd{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class Sv extends Gd{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Ev(e,t,n){let r=new Jp;const i=new qh,o=new qh,a=new vf,s=new wv({depthPacking:3201}),l=new Sv,c={},u=n.maxTextureSize,h={[yc]:1,[_c]:0,[bc]:2},f=new Lp({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new qh},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=f.clone();d.defines.HORIZONTAL_PASS=1;const p=new hp;p.setAttribute("position",new ep(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Op(p,f),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let v=this.type;function y(n,r){const o=t.update(m);f.defines.VSM_SAMPLES!==n.blurSamples&&(f.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,f.needsUpdate=!0,d.needsUpdate=!0),null===n.mapPass&&(n.mapPass=new _f(i.x,i.y)),f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,o,f,m,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,o,d,m,null)}function _(t,n,r,i){let o=null;const a=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(void 0!==a)o=a;else if(o=!0===r.isPointLight?l:s,e.localClippingEnabled&&!0===n.clipShadows&&Array.isArray(n.clippingPlanes)&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0||n.map&&n.alphaTest>0){const e=o.uuid,t=n.uuid;let r=c[e];void 0===r&&(r={},c[e]=r);let i=r[t];void 0===i&&(i=o.clone(),r[t]=i,n.addEventListener("dispose",x)),o=i}if(o.visible=n.visible,o.wireframe=n.wireframe,o.side=3===i?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:h[n.side],o.alphaMap=n.alphaMap,o.alphaTest=n.alphaTest,o.map=n.map,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.clipIntersection=n.clipIntersection,o.displacementMap=n.displacementMap,o.displacementScale=n.displacementScale,o.displacementBias=n.displacementBias,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,!0===r.isPointLight&&!0===o.isMeshDistanceMaterial){e.properties.get(o).light=r}return o}function b(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),l=n.material;if(Array.isArray(l)){const t=r.groups;for(let c=0,u=t.length;c<u;c++){const u=t[c],h=l[u.materialIndex];if(h&&h.visible){const t=_(n,h,a,s);n.onBeforeShadow(e,n,i,o,r,t,u),e.renderBufferDirect(o,null,r,t,n,u),n.onAfterShadow(e,n,i,o,r,t,u)}}}else if(l.visible){const t=_(n,l,a,s);n.onBeforeShadow(e,n,i,o,r,t,null),e.renderBufferDirect(o,null,r,t,n,null),n.onAfterShadow(e,n,i,o,r,t,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)b(l[e],i,o,a,s)}function x(e){e.target.removeEventListener("dispose",x);for(const t in c){const n=c[t],r=e.target.uuid;if(r in n){n[r].dispose(),delete n[r]}}}this.render=function(t,n,s){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===t.length)return;const l=e.getRenderTarget(),c=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),f=e.state;f.setBlending(0),f.buffers.color.setClear(1,1,1,1),f.buffers.depth.setTest(!0),f.setScissorTest(!1);const d=3!==v&&3===this.type,p=3===v&&3!==this.type;for(let m=0,g=t.length;m<g;m++){const l=t[m],c=l.shadow;if(void 0===c)continue;if(!1===c.autoUpdate&&!1===c.needsUpdate)continue;i.copy(c.mapSize);const h=c.getFrameExtents();if(i.multiply(h),o.copy(c.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/h.x),i.x=o.x*h.x,c.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/h.y),i.y=o.y*h.y,c.mapSize.y=o.y)),null===c.map||!0===d||!0===p){const e=3!==this.type?{minFilter:$c,magFilter:$c}:{};null!==c.map&&c.map.dispose(),c.map=new _f(i.x,i.y,e),c.map.texture.name=l.name+".shadowMap",c.camera.updateProjectionMatrix()}e.setRenderTarget(c.map),e.clear();const g=c.getViewportCount();for(let e=0;e<g;e++){const t=c.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),f.viewport(a),c.updateMatrices(l,e),r=c.getFrustum(),b(n,s,c.camera,l,this.type)}!0!==c.isPointLightShadow&&3===this.type&&y(c,s),c.needsUpdate=!1}v=this.type,g.needsUpdate=!1,e.setRenderTarget(l,c,h)}}function Tv(e){const t=new function(){let t=!1;const n=new vf;let r=null;const i=new vf(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},n=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(t){t?B(e.DEPTH_TEST):z(e.DEPTH_TEST)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){switch(t){case 0:e.depthFunc(e.NEVER);break;case 1:e.depthFunc(e.ALWAYS);break;case 2:e.depthFunc(e.LESS);break;case 3:default:e.depthFunc(e.LEQUAL);break;case 4:e.depthFunc(e.EQUAL);break;case 5:e.depthFunc(e.GEQUAL);break;case 6:e.depthFunc(e.GREATER);break;case 7:e.depthFunc(e.NOTEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},r=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(n){t||(n?B(e.STENCIL_TEST):z(e.STENCIL_TEST))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}},i=new WeakMap,o=new WeakMap;let a={},s={},l=new WeakMap,c=[],u=null,h=!1,f=null,d=null,p=null,m=null,g=null,v=null,y=null,_=new jd(0,0,0),b=0,x=!1,w=null,S=null,E=null,T=null,A=null;const M=e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let C=!1,O=0;const R=e.getParameter(e.VERSION);-1!==R.indexOf("WebGL")?(O=parseFloat(/^WebGL (\d)/.exec(R)[1]),C=O>=1):-1!==R.indexOf("OpenGL ES")&&(O=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),C=O>=2);let I=null,k={};const P=e.getParameter(e.SCISSOR_BOX),D=e.getParameter(e.VIEWPORT),N=(new vf).fromArray(P),L=(new vf).fromArray(D);function F(t,n,r,i){const o=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(let s=0;s<r;s++)t===e.TEXTURE_3D||t===e.TEXTURE_2D_ARRAY?e.texImage3D(n,0,e.RGBA,1,1,i,0,e.RGBA,e.UNSIGNED_BYTE,o):e.texImage2D(n+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,o);return a}const U={};function B(t){!0!==a[t]&&(e.enable(t),a[t]=!0)}function z(t){!1!==a[t]&&(e.disable(t),a[t]=!1)}U[e.TEXTURE_2D]=F(e.TEXTURE_2D,e.TEXTURE_2D,1),U[e.TEXTURE_CUBE_MAP]=F(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6),U[e.TEXTURE_2D_ARRAY]=F(e.TEXTURE_2D_ARRAY,e.TEXTURE_2D_ARRAY,1,1),U[e.TEXTURE_3D]=F(e.TEXTURE_3D,e.TEXTURE_3D,1,1),t.setClear(0,0,0,1),n.setClear(1),r.setClear(0),B(e.DEPTH_TEST),n.setFunc(3),W(!1),G(1),B(e.CULL_FACE),H(0);const V={[xc]:e.FUNC_ADD,[wc]:e.FUNC_SUBTRACT,[Sc]:e.FUNC_REVERSE_SUBTRACT};V[103]=e.MIN,V[104]=e.MAX;const j={[Ec]:e.ZERO,[Tc]:e.ONE,[Ac]:e.SRC_COLOR,[Cc]:e.SRC_ALPHA,[Dc]:e.SRC_ALPHA_SATURATE,[kc]:e.DST_COLOR,[Rc]:e.DST_ALPHA,[Mc]:e.ONE_MINUS_SRC_COLOR,[Oc]:e.ONE_MINUS_SRC_ALPHA,[Pc]:e.ONE_MINUS_DST_COLOR,[Ic]:e.ONE_MINUS_DST_ALPHA,[Nc]:e.CONSTANT_COLOR,[Lc]:e.ONE_MINUS_CONSTANT_COLOR,[Fc]:e.CONSTANT_ALPHA,[Uc]:e.ONE_MINUS_CONSTANT_ALPHA};function H(t,n,r,i,o,a,s,l,c,u){if(0!==t){if(!1===h&&(B(e.BLEND),h=!0),5===t)o=o||n,a=a||r,s=s||i,n===d&&o===g||(e.blendEquationSeparate(V[n],V[o]),d=n,g=o),r===p&&i===m&&a===v&&s===y||(e.blendFuncSeparate(j[r],j[i],j[a],j[s]),p=r,m=i,v=a,y=s),!1!==l.equals(_)&&c===b||(e.blendColor(l.r,l.g,l.b,c),_.copy(l),b=c),f=t,x=!1;else if(t!==f||u!==x){if(d===xc&&g===xc||(e.blendEquation(e.FUNC_ADD),d=xc,g=xc),u)switch(t){case 1:e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.ONE,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else switch(t){case 1:e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA);break;case 2:e.blendFunc(e.SRC_ALPHA,e.ONE);break;case 3:e.blendFuncSeparate(e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ZERO,e.ONE);break;case 4:e.blendFunc(e.ZERO,e.SRC_COLOR)}p=null,m=null,v=null,y=null,_.set(0,0,0),b=0,f=t,x=u}}else!0===h&&(z(e.BLEND),h=!1)}function W(t){w!==t&&(t?e.frontFace(e.CW):e.frontFace(e.CCW),w=t)}function G(t){0!==t?(B(e.CULL_FACE),t!==S&&(1===t?e.cullFace(e.BACK):2===t?e.cullFace(e.FRONT):e.cullFace(e.FRONT_AND_BACK))):z(e.CULL_FACE),S=t}function q(t,n,r){t?(B(e.POLYGON_OFFSET_FILL),T===n&&A===r||(e.polygonOffset(n,r),T=n,A=r)):z(e.POLYGON_OFFSET_FILL)}return{buffers:{color:t,depth:n,stencil:r},enable:B,disable:z,bindFramebuffer:function(t,n){return s[t]!==n&&(e.bindFramebuffer(t,n),s[t]=n,t===e.DRAW_FRAMEBUFFER&&(s[e.FRAMEBUFFER]=n),t===e.FRAMEBUFFER&&(s[e.DRAW_FRAMEBUFFER]=n),!0)},drawBuffers:function(t,n){let r=c,i=!1;if(t){r=l.get(n),void 0===r&&(r=[],l.set(n,r));const o=t.textures;if(r.length!==o.length||r[0]!==e.COLOR_ATTACHMENT0){for(let t=0,n=o.length;t<n;t++)r[t]=e.COLOR_ATTACHMENT0+t;r.length=o.length,i=!0}}else r[0]!==e.BACK&&(r[0]=e.BACK,i=!0);i&&e.drawBuffers(r)},useProgram:function(t){return u!==t&&(e.useProgram(t),u=t,!0)},setBlending:H,setMaterial:function(i,o){2===i.side?z(e.CULL_FACE):B(e.CULL_FACE);let a=1===i.side;o&&(a=!a),W(a),1===i.blending&&!1===i.transparent?H(0):H(i.blending,i.blendEquation,i.blendSrc,i.blendDst,i.blendEquationAlpha,i.blendSrcAlpha,i.blendDstAlpha,i.blendColor,i.blendAlpha,i.premultipliedAlpha),n.setFunc(i.depthFunc),n.setTest(i.depthTest),n.setMask(i.depthWrite),t.setMask(i.colorWrite);const s=i.stencilWrite;r.setTest(s),s&&(r.setMask(i.stencilWriteMask),r.setFunc(i.stencilFunc,i.stencilRef,i.stencilFuncMask),r.setOp(i.stencilFail,i.stencilZFail,i.stencilZPass)),q(i.polygonOffset,i.polygonOffsetFactor,i.polygonOffsetUnits),!0===i.alphaToCoverage?B(e.SAMPLE_ALPHA_TO_COVERAGE):z(e.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:W,setCullFace:G,setLineWidth:function(t){t!==E&&(C&&e.lineWidth(t),E=t)},setPolygonOffset:q,setScissorTest:function(t){t?B(e.SCISSOR_TEST):z(e.SCISSOR_TEST)},activeTexture:function(t){void 0===t&&(t=e.TEXTURE0+M-1),I!==t&&(e.activeTexture(t),I=t)},bindTexture:function(t,n,r){void 0===r&&(r=null===I?e.TEXTURE0+M-1:I);let i=k[r];void 0===i&&(i={type:void 0,texture:void 0},k[r]=i),i.type===t&&i.texture===n||(I!==r&&(e.activeTexture(r),I=r),e.bindTexture(t,n||U[t]),i.type=t,i.texture=n)},unbindTexture:function(){const t=k[I];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){}},compressedTexImage3D:function(){try{e.compressedTexImage3D.apply(e,arguments)}catch(t){}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){}},updateUBOMapping:function(t,n){let r=o.get(n);void 0===r&&(r=new WeakMap,o.set(n,r));let i=r.get(t);void 0===i&&(i=e.getUniformBlockIndex(n,t.name),r.set(t,i))},uniformBlockBinding:function(t,n){const r=o.get(n).get(t);i.get(n)!==r&&(e.uniformBlockBinding(n,r,t.__bindingPointIndex),i.set(n,r))},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){}},compressedTexSubImage3D:function(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(t){}},scissor:function(t){!1===N.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),N.copy(t))},viewport:function(t){!1===L.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),L.copy(t))},reset:function(){e.disable(e.BLEND),e.disable(e.CULL_FACE),e.disable(e.DEPTH_TEST),e.disable(e.POLYGON_OFFSET_FILL),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.disable(e.SAMPLE_ALPHA_TO_COVERAGE),e.blendEquation(e.FUNC_ADD),e.blendFunc(e.ONE,e.ZERO),e.blendFuncSeparate(e.ONE,e.ZERO,e.ONE,e.ZERO),e.blendColor(0,0,0,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(e.LESS),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(e.ALWAYS,0,4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.clearStencil(0),e.cullFace(e.BACK),e.frontFace(e.CCW),e.polygonOffset(0,0),e.activeTexture(e.TEXTURE0),e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),e.bindFramebuffer(e.READ_FRAMEBUFFER,null),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),a={},I=null,k={},s={},l=new WeakMap,c=[],u=null,h=!1,f=null,d=null,p=null,m=null,g=null,v=null,y=null,_=new jd(0,0,0),b=0,x=!1,w=null,S=null,E=null,T=null,A=null,N.set(0,0,e.canvas.width,e.canvas.height),L.set(0,0,e.canvas.width,e.canvas.height),t.reset(),n.reset(),r.reset()}}}function Av(e,t,n,r){const i=function(e){switch(e){case nu:case ru:return{byteLength:1,components:1};case ou:case iu:case cu:return{byteLength:2,components:1};case uu:case hu:return{byteLength:2,components:4};case su:case au:case lu:return{byteLength:4,components:1};case du:return{byteLength:4,components:3}}throw new Error("Unknown texture type ".concat(e,"."))}(r);switch(n){case pu:case vu:return e*t;case yu:return e*t*2;case xu:case wu:return e*t/i.components*i.byteLength;case Su:case Eu:return e*t*2/i.components*i.byteLength;case mu:return e*t*3/i.components*i.byteLength;case gu:case Tu:return e*t*4/i.components*i.byteLength;case Au:case Mu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Cu:case Ou:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Iu:case Pu:return Math.max(e,16)*Math.max(t,8)/4;case Ru:case ku:return Math.max(e,8)*Math.max(t,8)/2;case Du:case Nu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*8;case Lu:case Fu:return Math.floor((e+3)/4)*Math.floor((t+3)/4)*16;case Uu:return Math.floor((e+4)/5)*Math.floor((t+3)/4)*16;case Bu:return Math.floor((e+4)/5)*Math.floor((t+4)/5)*16;case zu:return Math.floor((e+5)/6)*Math.floor((t+4)/5)*16;case Vu:return Math.floor((e+5)/6)*Math.floor((t+5)/6)*16;case ju:return Math.floor((e+7)/8)*Math.floor((t+4)/5)*16;case Hu:return Math.floor((e+7)/8)*Math.floor((t+5)/6)*16;case Wu:return Math.floor((e+7)/8)*Math.floor((t+7)/8)*16;case Gu:return Math.floor((e+9)/10)*Math.floor((t+4)/5)*16;case qu:return Math.floor((e+9)/10)*Math.floor((t+5)/6)*16;case Xu:return Math.floor((e+9)/10)*Math.floor((t+7)/8)*16;case Yu:return Math.floor((e+9)/10)*Math.floor((t+9)/10)*16;case Ku:return Math.floor((e+11)/12)*Math.floor((t+9)/10)*16;case $u:return Math.floor((e+11)/12)*Math.floor((t+11)/12)*16;case Zu:case Ju:case Qu:return Math.ceil(e/4)*Math.ceil(t/4)*16;case eh:case th:return Math.ceil(e/4)*Math.ceil(t/4)*8;case nh:case rh:return Math.ceil(e/4)*Math.ceil(t/4)*16}throw new Error("Unable to determine texture byte length for ".concat(n," format."))}const Mv={contain:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2):(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0),e},cover:function(e,t){const n=e.image&&e.image.width?e.image.width/e.image.height:1;return n>t?(e.repeat.x=t/n,e.repeat.y=1,e.offset.x=(1-e.repeat.x)/2,e.offset.y=0):(e.repeat.x=1,e.repeat.y=n/t,e.offset.x=0,e.offset.y=(1-e.repeat.y)/2),e},fill:function(e){return e.repeat.x=1,e.repeat.y=1,e.offset.x=0,e.offset.y=0,e},getByteLength:Av};function Cv(e,t,n,r,i,o,a){const s=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,l="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),c=new qh,u=new WeakMap;let h;const f=new WeakMap;let d=!1;try{d="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function p(e,t){return d?new OffscreenCanvas(e,t):Jh("canvas")}function m(e,t,n){let r=1;const i=z(e);if((i.width>n||i.height>n)&&(r=n/Math.max(i.width,i.height)),r<1){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap||"undefined"!=typeof VideoFrame&&e instanceof VideoFrame){const n=Math.floor(r*i.width),o=Math.floor(r*i.height);void 0===h&&(h=p(n,o));const a=t?p(n,o):h;a.width=n,a.height=o;return a.getContext("2d").drawImage(e,0,0,n,o),a}return e}return e}function g(e){return e.generateMipmaps&&e.minFilter!==$c&&e.minFilter!==Qc}function v(t){e.generateMipmap(t)}function y(n,r,i,o,a=!1){if(null!==n&&void 0!==e[n])return e[n];let s=r;if(r===e.RED&&(i===e.FLOAT&&(s=e.R32F),i===e.HALF_FLOAT&&(s=e.R16F),i===e.UNSIGNED_BYTE&&(s=e.R8)),r===e.RED_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.R8UI),i===e.UNSIGNED_SHORT&&(s=e.R16UI),i===e.UNSIGNED_INT&&(s=e.R32UI),i===e.BYTE&&(s=e.R8I),i===e.SHORT&&(s=e.R16I),i===e.INT&&(s=e.R32I)),r===e.RG&&(i===e.FLOAT&&(s=e.RG32F),i===e.HALF_FLOAT&&(s=e.RG16F),i===e.UNSIGNED_BYTE&&(s=e.RG8)),r===e.RG_INTEGER&&(i===e.UNSIGNED_BYTE&&(s=e.RG8UI),i===e.UNSIGNED_SHORT&&(s=e.RG16UI),i===e.UNSIGNED_INT&&(s=e.RG32UI),i===e.BYTE&&(s=e.RG8I),i===e.SHORT&&(s=e.RG16I),i===e.INT&&(s=e.RG32I)),r===e.RGB&&i===e.UNSIGNED_INT_5_9_9_9_REV&&(s=e.RGB9_E5),r===e.RGBA){const t=a?vh:sf.getTransfer(o);i===e.FLOAT&&(s=e.RGBA32F),i===e.HALF_FLOAT&&(s=e.RGBA16F),i===e.UNSIGNED_BYTE&&(s=t===yh?e.SRGB8_ALPHA8:e.RGBA8),i===e.UNSIGNED_SHORT_4_4_4_4&&(s=e.RGBA4),i===e.UNSIGNED_SHORT_5_5_5_1&&(s=e.RGB5_A1)}return s!==e.R16F&&s!==e.R32F&&s!==e.RG16F&&s!==e.RG32F&&s!==e.RGBA16F&&s!==e.RGBA32F||t.get("EXT_color_buffer_float"),s}function _(t,n){let r;return t?null===n||n===su||n===fu?r=e.DEPTH24_STENCIL8:n===lu?r=e.DEPTH32F_STENCIL8:n===ou&&(r=e.DEPTH24_STENCIL8):null===n||n===su||n===fu?r=e.DEPTH_COMPONENT24:n===lu?r=e.DEPTH_COMPONENT32F:n===ou&&(r=e.DEPTH_COMPONENT16),r}function b(e,t){return!0===g(e)||e.isFramebufferTexture&&e.minFilter!==$c&&e.minFilter!==Qc?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function x(e){const t=e.target;t.removeEventListener("dispose",x),function(e){const t=r.get(e);if(void 0===t.__webglInit)return;const n=e.source,i=f.get(n);if(i){const r=i[t.__cacheKey];r.usedTimes--,0===r.usedTimes&&S(e),0===Object.keys(i).length&&f.delete(n)}r.remove(e)}(t),t.isVideoTexture&&u.delete(t)}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=r.get(t);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let r=0;r<6;r++){if(Array.isArray(n.__webglFramebuffer[r]))for(let t=0;t<n.__webglFramebuffer[r].length;t++)e.deleteFramebuffer(n.__webglFramebuffer[r][t]);else e.deleteFramebuffer(n.__webglFramebuffer[r]);n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[r])}else{if(Array.isArray(n.__webglFramebuffer))for(let t=0;t<n.__webglFramebuffer.length;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer);if(n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer)for(let t=0;t<n.__webglColorRenderbuffer.length;t++)n.__webglColorRenderbuffer[t]&&e.deleteRenderbuffer(n.__webglColorRenderbuffer[t]);n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer)}const i=t.textures;for(let o=0,s=i.length;o<s;o++){const t=r.get(i[o]);t.__webglTexture&&(e.deleteTexture(t.__webglTexture),a.memory.textures--),r.remove(i[o])}r.remove(t)}(n)}function S(t){const n=r.get(t);e.deleteTexture(n.__webglTexture);const i=t.source;delete f.get(i)[n.__cacheKey],a.memory.textures--}let E=0;function T(t,i){const o=r.get(t);if(t.isVideoTexture&&function(e){const t=a.render.frame;u.get(e)!==t&&(u.set(e,t),e.update())}(t),!1===t.isRenderTargetTexture&&t.version>0&&o.__version!==t.version){const e=t.image;if(null===e);else if(!1!==e.complete)return void I(o,t,i)}n.bindTexture(e.TEXTURE_2D,o.__webglTexture,e.TEXTURE0+i)}const A={[Xc]:e.REPEAT,[Yc]:e.CLAMP_TO_EDGE,[Kc]:e.MIRRORED_REPEAT},M={[$c]:e.NEAREST,[Zc]:e.NEAREST_MIPMAP_NEAREST,[Jc]:e.NEAREST_MIPMAP_LINEAR,[Qc]:e.LINEAR,[eu]:e.LINEAR_MIPMAP_NEAREST,[tu]:e.LINEAR_MIPMAP_LINEAR},C={[wh]:e.NEVER,[Oh]:e.ALWAYS,[Sh]:e.LESS,[Th]:e.LEQUAL,[Eh]:e.EQUAL,[Ch]:e.GEQUAL,[Ah]:e.GREATER,[Mh]:e.NOTEQUAL};function O(n,o){if(o.type===lu&&!1===t.has("OES_texture_float_linear")&&(o.magFilter===Qc||o.magFilter===eu||o.magFilter===Jc||o.magFilter===tu||o.minFilter===Qc||o.minFilter===eu||o.minFilter===Jc||o.minFilter),e.texParameteri(n,e.TEXTURE_WRAP_S,A[o.wrapS]),e.texParameteri(n,e.TEXTURE_WRAP_T,A[o.wrapT]),n!==e.TEXTURE_3D&&n!==e.TEXTURE_2D_ARRAY||e.texParameteri(n,e.TEXTURE_WRAP_R,A[o.wrapR]),e.texParameteri(n,e.TEXTURE_MAG_FILTER,M[o.magFilter]),e.texParameteri(n,e.TEXTURE_MIN_FILTER,M[o.minFilter]),o.compareFunction&&(e.texParameteri(n,e.TEXTURE_COMPARE_MODE,e.COMPARE_REF_TO_TEXTURE),e.texParameteri(n,e.TEXTURE_COMPARE_FUNC,C[o.compareFunction])),!0===t.has("EXT_texture_filter_anisotropic")){if(o.magFilter===$c)return;if(o.minFilter!==Jc&&o.minFilter!==tu)return;if(o.type===lu&&!1===t.has("OES_texture_float_linear"))return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){const a=t.get("EXT_texture_filter_anisotropic");e.texParameterf(n,a.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy}}}function R(t,n){let r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",x));const i=n.source;let o=f.get(i);void 0===o&&(o={},f.set(i,o));const s=function(e){const t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.wrapR||0),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.colorSpace),t.join()}(n);if(s!==t.__cacheKey){void 0===o[s]&&(o[s]={texture:e.createTexture(),usedTimes:0},a.memory.textures++,r=!0),o[s].usedTimes++;const i=o[t.__cacheKey];void 0!==i&&(o[t.__cacheKey].usedTimes--,0===i.usedTimes&&S(n)),t.__cacheKey=s,t.__webglTexture=o[s].texture}return r}function I(t,a,s){let l=e.TEXTURE_2D;(a.isDataArrayTexture||a.isCompressedArrayTexture)&&(l=e.TEXTURE_2D_ARRAY),a.isData3DTexture&&(l=e.TEXTURE_3D);const c=R(t,a),u=a.source;n.bindTexture(l,t.__webglTexture,e.TEXTURE0+s);const h=r.get(u);if(u.version!==h.__version||!0===c){n.activeTexture(e.TEXTURE0+s);const t=sf.getPrimaries(sf.workingColorSpace),r=a.colorSpace===fh?null:sf.getPrimaries(a.colorSpace),f=a.colorSpace===fh||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,f);let d=m(a.image,!1,i.maxTextureSize);d=B(a,d);const p=o.convert(a.format,a.colorSpace),x=o.convert(a.type);let w,S=y(a.internalFormat,p,x,a.colorSpace,a.isVideoTexture);O(l,a);const E=a.mipmaps,T=!0!==a.isVideoTexture,A=void 0===h.__version||!0===c,M=u.dataReady,C=b(a,d);if(a.isDepthTexture)S=_(a.format===bu,a.type),A&&(T?n.texStorage2D(e.TEXTURE_2D,1,S,d.width,d.height):n.texImage2D(e.TEXTURE_2D,0,S,d.width,d.height,0,p,x,null));else if(a.isDataTexture)if(E.length>0){T&&A&&n.texStorage2D(e.TEXTURE_2D,C,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,x,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,x,w.data);a.generateMipmaps=!1}else T?(A&&n.texStorage2D(e.TEXTURE_2D,C,S,d.width,d.height),M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,d.width,d.height,p,x,d.data)):n.texImage2D(e.TEXTURE_2D,0,S,d.width,d.height,0,p,x,d.data);else if(a.isCompressedTexture)if(a.isCompressedArrayTexture){T&&A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,E[0].width,E[0].height,d.depth);for(let t=0,r=E.length;t<r;t++)if(w=E[t],a.format!==gu){if(null!==p)if(T){if(M)if(a.layerUpdates.size>0){const r=Av(w.width,w.height,a.format,a.type);for(const i of a.layerUpdates){const o=w.data.subarray(i*r/w.data.BYTES_PER_ELEMENT,(i+1)*r/w.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,i,w.width,w.height,1,p,o,0,0)}a.clearLayerUpdates()}else n.compressedTexSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,w.data,0,0)}else n.compressedTexImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,d.depth,0,w.data,0,0)}else T?M&&n.texSubImage3D(e.TEXTURE_2D_ARRAY,t,0,0,0,w.width,w.height,d.depth,p,x,w.data):n.texImage3D(e.TEXTURE_2D_ARRAY,t,S,w.width,w.height,d.depth,0,p,x,w.data)}else{T&&A&&n.texStorage2D(e.TEXTURE_2D,C,S,E[0].width,E[0].height);for(let t=0,r=E.length;t<r;t++)w=E[t],a.format!==gu?null!==p&&(T?M&&n.compressedTexSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,w.data):n.compressedTexImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,w.data)):T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,w.width,w.height,p,x,w.data):n.texImage2D(e.TEXTURE_2D,t,S,w.width,w.height,0,p,x,w.data)}else if(a.isDataArrayTexture)if(T){if(A&&n.texStorage3D(e.TEXTURE_2D_ARRAY,C,S,d.width,d.height,d.depth),M)if(a.layerUpdates.size>0){const t=Av(d.width,d.height,a.format,a.type);for(const r of a.layerUpdates){const i=d.data.subarray(r*t/d.data.BYTES_PER_ELEMENT,(r+1)*t/d.data.BYTES_PER_ELEMENT);n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,r,d.width,d.height,1,p,x,i)}a.clearLayerUpdates()}else n.texSubImage3D(e.TEXTURE_2D_ARRAY,0,0,0,0,d.width,d.height,d.depth,p,x,d.data)}else n.texImage3D(e.TEXTURE_2D_ARRAY,0,S,d.width,d.height,d.depth,0,p,x,d.data);else if(a.isData3DTexture)T?(A&&n.texStorage3D(e.TEXTURE_3D,C,S,d.width,d.height,d.depth),M&&n.texSubImage3D(e.TEXTURE_3D,0,0,0,0,d.width,d.height,d.depth,p,x,d.data)):n.texImage3D(e.TEXTURE_3D,0,S,d.width,d.height,d.depth,0,p,x,d.data);else if(a.isFramebufferTexture){if(A)if(T)n.texStorage2D(e.TEXTURE_2D,C,S,d.width,d.height);else{let t=d.width,r=d.height;for(let i=0;i<C;i++)n.texImage2D(e.TEXTURE_2D,i,S,t,r,0,p,x,null),t>>=1,r>>=1}}else if(E.length>0){if(T&&A){const t=z(E[0]);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}for(let t=0,r=E.length;t<r;t++)w=E[t],T?M&&n.texSubImage2D(e.TEXTURE_2D,t,0,0,p,x,w):n.texImage2D(e.TEXTURE_2D,t,S,p,x,w);a.generateMipmaps=!1}else if(T){if(A){const t=z(d);n.texStorage2D(e.TEXTURE_2D,C,S,t.width,t.height)}M&&n.texSubImage2D(e.TEXTURE_2D,0,0,0,p,x,d)}else n.texImage2D(e.TEXTURE_2D,0,S,p,x,d);g(a)&&v(l),h.__version=u.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}function k(t,i,a,l,c,u){const h=o.convert(a.format,a.colorSpace),f=o.convert(a.type),d=y(a.internalFormat,h,f,a.colorSpace);if(!r.get(i).__hasExternalTextures){const t=Math.max(1,i.width>>u),r=Math.max(1,i.height>>u);c===e.TEXTURE_3D||c===e.TEXTURE_2D_ARRAY?n.texImage3D(c,u,d,t,r,i.depth,0,h,f,null):n.texImage2D(c,u,d,t,r,0,h,f,null)}n.bindFramebuffer(e.FRAMEBUFFER,t),U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,l,c,r.get(a).__webglTexture,0,F(i)):(c===e.TEXTURE_2D||c>=e.TEXTURE_CUBE_MAP_POSITIVE_X&&c<=e.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&e.framebufferTexture2D(e.FRAMEBUFFER,l,c,r.get(a).__webglTexture,u),n.bindFramebuffer(e.FRAMEBUFFER,null)}function P(t,n,r){if(e.bindRenderbuffer(e.RENDERBUFFER,t),n.depthBuffer){const i=n.depthTexture,o=i&&i.isDepthTexture?i.type:null,a=_(n.stencilBuffer,o),l=n.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,c=F(n);U(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,c,a,n.width,n.height):r?e.renderbufferStorageMultisample(e.RENDERBUFFER,c,a,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,a,n.width,n.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,l,e.RENDERBUFFER,t)}else{const t=n.textures;for(let i=0;i<t.length;i++){const a=t[i],l=o.convert(a.format,a.colorSpace),c=o.convert(a.type),u=y(a.internalFormat,l,c,a.colorSpace),h=F(n);r&&!1===U(n)?e.renderbufferStorageMultisample(e.RENDERBUFFER,h,u,n.width,n.height):U(n)?s.renderbufferStorageMultisampleEXT(e.RENDERBUFFER,h,u,n.width,n.height):e.renderbufferStorage(e.RENDERBUFFER,u,n.width,n.height)}}e.bindRenderbuffer(e.RENDERBUFFER,null)}function D(t){const i=r.get(t),o=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(o)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(e.FRAMEBUFFER,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),T(i.depthTexture,0);const o=r.get(i.depthTexture).__webglTexture,a=F(i);if(i.depthTexture.format===_u)U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,o,0);else{if(i.depthTexture.format!==bu)throw new Error("Unknown depthTexture format");U(i)?s.framebufferTexture2DMultisampleEXT(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0,a):e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,o,0)}}(i.__webglFramebuffer,t)}else if(o){i.__webglDepthbuffer=[];for(let r=0;r<6;r++)n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[r]),i.__webglDepthbuffer[r]=e.createRenderbuffer(),P(i.__webglDepthbuffer[r],t,!1)}else n.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),P(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(e.FRAMEBUFFER,null)}const N=[],L=[];function F(e){return Math.min(i.maxSamples,e.samples)}function U(e){const n=r.get(e);return e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function B(e,t){const n=e.colorSpace;e.format,e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||n!==ph&&n!==fh&&sf.getTransfer(n),t}function z(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement?(c.width=e.naturalWidth||e.width,c.height=e.naturalHeight||e.height):"undefined"!=typeof VideoFrame&&e instanceof VideoFrame?(c.width=e.displayWidth,c.height=e.displayHeight):(c.width=e.width,c.height=e.height),c}this.allocateTextureUnit=function(){const e=E;return i.maxTextures,E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=T,this.setTexture2DArray=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?I(o,t,i):n.bindTexture(e.TEXTURE_2D_ARRAY,o.__webglTexture,e.TEXTURE0+i)},this.setTexture3D=function(t,i){const o=r.get(t);t.version>0&&o.__version!==t.version?I(o,t,i):n.bindTexture(e.TEXTURE_3D,o.__webglTexture,e.TEXTURE0+i)},this.setTextureCube=function(t,a){const s=r.get(t);t.version>0&&s.__version!==t.version?function(t,a,s){if(6!==a.image.length)return;const l=R(t,a),c=a.source;n.bindTexture(e.TEXTURE_CUBE_MAP,t.__webglTexture,e.TEXTURE0+s);const u=r.get(c);if(c.version!==u.__version||!0===l){n.activeTexture(e.TEXTURE0+s);const t=sf.getPrimaries(sf.workingColorSpace),r=a.colorSpace===fh?null:sf.getPrimaries(a.colorSpace),h=a.colorSpace===fh||t===r?e.NONE:e.BROWSER_DEFAULT_WEBGL;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,a.flipY),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultiplyAlpha),e.pixelStorei(e.UNPACK_ALIGNMENT,a.unpackAlignment),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,h);const f=a.isCompressedTexture||a.image[0].isCompressedTexture,d=a.image[0]&&a.image[0].isDataTexture,p=[];for(let e=0;e<6;e++)p[e]=f||d?d?a.image[e].image:a.image[e]:m(a.image[e],!0,i.maxCubemapSize),p[e]=B(a,p[e]);const _=p[0],x=o.convert(a.format,a.colorSpace),w=o.convert(a.type),S=y(a.internalFormat,x,w,a.colorSpace),E=!0!==a.isVideoTexture,T=void 0===u.__version||!0===l,A=c.dataReady;let M,C=b(a,_);if(O(e.TEXTURE_CUBE_MAP,a),f){E&&T&&n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,_.width,_.height);for(let t=0;t<6;t++){M=p[t].mipmaps;for(let r=0;r<M.length;r++){const i=M[r];a.format!==gu?null!==x&&(E?A&&n.compressedTexSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,i.data):n.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,i.data)):E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r,S,i.width,i.height,0,x,w,i.data)}}}else{if(M=a.mipmaps,E&&T){M.length>0&&C++;const t=z(p[0]);n.texStorage2D(e.TEXTURE_CUBE_MAP,C,S,t.width,t.height)}for(let t=0;t<6;t++)if(d){E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,p[t].width,p[t].height,x,w,p[t].data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,p[t].width,p[t].height,0,x,w,p[t].data);for(let r=0;r<M.length;r++){const i=M[r].image[t].image;E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,i.width,i.height,x,w,i.data):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,i.width,i.height,0,x,w,i.data)}}else{E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,0,0,x,w,p[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,S,x,w,p[t]);for(let r=0;r<M.length;r++){const i=M[r];E?A&&n.texSubImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,0,0,x,w,i.image[t]):n.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,r+1,S,x,w,i.image[t])}}}g(a)&&v(e.TEXTURE_CUBE_MAP),u.__version=c.version,a.onUpdate&&a.onUpdate(a)}t.__version=a.version}(s,t,a):n.bindTexture(e.TEXTURE_CUBE_MAP,s.__webglTexture,e.TEXTURE0+a)},this.rebindTextures=function(t,n,i){const o=r.get(t);void 0!==n&&k(o.__webglFramebuffer,t,t.texture,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,0),void 0!==i&&D(t)},this.setupRenderTarget=function(t){const i=t.texture,s=r.get(t),l=r.get(i);t.addEventListener("dispose",w);const c=t.textures,u=!0===t.isWebGLCubeRenderTarget,h=c.length>1;if(h||(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=i.version,a.memory.textures++),u){s.__webglFramebuffer=[];for(let t=0;t<6;t++)if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer[t]=[];for(let n=0;n<i.mipmaps.length;n++)s.__webglFramebuffer[t][n]=e.createFramebuffer()}else s.__webglFramebuffer[t]=e.createFramebuffer()}else{if(i.mipmaps&&i.mipmaps.length>0){s.__webglFramebuffer=[];for(let t=0;t<i.mipmaps.length;t++)s.__webglFramebuffer[t]=e.createFramebuffer()}else s.__webglFramebuffer=e.createFramebuffer();if(h)for(let t=0,n=c.length;t<n;t++){const n=r.get(c[t]);void 0===n.__webglTexture&&(n.__webglTexture=e.createTexture(),a.memory.textures++)}if(t.samples>0&&!1===U(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=[],n.bindFramebuffer(e.FRAMEBUFFER,s.__webglMultisampledFramebuffer);for(let n=0;n<c.length;n++){const r=c[n];s.__webglColorRenderbuffer[n]=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,s.__webglColorRenderbuffer[n]);const i=o.convert(r.format,r.colorSpace),a=o.convert(r.type),l=y(r.internalFormat,i,a,r.colorSpace,!0===t.isXRRenderTarget),u=F(t);e.renderbufferStorageMultisample(e.RENDERBUFFER,u,l,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+n,e.RENDERBUFFER,s.__webglColorRenderbuffer[n])}e.bindRenderbuffer(e.RENDERBUFFER,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),P(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(e.FRAMEBUFFER,null)}}if(u){n.bindTexture(e.TEXTURE_CUBE_MAP,l.__webglTexture),O(e.TEXTURE_CUBE_MAP,i);for(let n=0;n<6;n++)if(i.mipmaps&&i.mipmaps.length>0)for(let r=0;r<i.mipmaps.length;r++)k(s.__webglFramebuffer[n][r],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,r);else k(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0);g(i)&&v(e.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(h){for(let i=0,o=c.length;i<o;i++){const o=c[i],a=r.get(o);n.bindTexture(e.TEXTURE_2D,a.__webglTexture),O(e.TEXTURE_2D,o),k(s.__webglFramebuffer,t,o,e.COLOR_ATTACHMENT0+i,e.TEXTURE_2D,0),g(o)&&v(e.TEXTURE_2D)}n.unbindTexture()}else{let r=e.TEXTURE_2D;if((t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(r=t.isWebGL3DRenderTarget?e.TEXTURE_3D:e.TEXTURE_2D_ARRAY),n.bindTexture(r,l.__webglTexture),O(r,i),i.mipmaps&&i.mipmaps.length>0)for(let n=0;n<i.mipmaps.length;n++)k(s.__webglFramebuffer[n],t,i,e.COLOR_ATTACHMENT0,r,n);else k(s.__webglFramebuffer,t,i,e.COLOR_ATTACHMENT0,r,0);g(i)&&v(r),n.unbindTexture()}t.depthBuffer&&D(t)},this.updateRenderTargetMipmap=function(t){const i=t.textures;for(let o=0,a=i.length;o<a;o++){const a=i[o];if(g(a)){const i=t.isWebGLCubeRenderTarget?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D,o=r.get(a).__webglTexture;n.bindTexture(i,o),v(i),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(t.samples>0)if(!1===U(t)){const i=t.textures,o=t.width,a=t.height;let s=e.COLOR_BUFFER_BIT;const c=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT,u=r.get(t),h=i.length>1;if(h)for(let t=0;t<i.length;t++)n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,null),n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,null,0);n.bindFramebuffer(e.READ_FRAMEBUFFER,u.__webglMultisampledFramebuffer),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglFramebuffer);for(let n=0;n<i.length;n++){if(t.resolveDepthBuffer&&(t.depthBuffer&&(s|=e.DEPTH_BUFFER_BIT),t.stencilBuffer&&t.resolveStencilBuffer&&(s|=e.STENCIL_BUFFER_BIT)),h){e.framebufferRenderbuffer(e.READ_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,u.__webglColorRenderbuffer[n]);const t=r.get(i[n]).__webglTexture;e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}e.blitFramebuffer(0,0,o,a,0,0,o,a,s,e.NEAREST),!0===l&&(N.length=0,L.length=0,N.push(e.COLOR_ATTACHMENT0+n),t.depthBuffer&&!1===t.resolveDepthBuffer&&(N.push(c),L.push(c),e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,L)),e.invalidateFramebuffer(e.READ_FRAMEBUFFER,N))}if(n.bindFramebuffer(e.READ_FRAMEBUFFER,null),n.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),h)for(let t=0;t<i.length;t++){n.bindFramebuffer(e.FRAMEBUFFER,u.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.RENDERBUFFER,u.__webglColorRenderbuffer[t]);const o=r.get(i[t]).__webglTexture;n.bindFramebuffer(e.FRAMEBUFFER,u.__webglFramebuffer),e.framebufferTexture2D(e.DRAW_FRAMEBUFFER,e.COLOR_ATTACHMENT0+t,e.TEXTURE_2D,o,0)}n.bindFramebuffer(e.DRAW_FRAMEBUFFER,u.__webglMultisampledFramebuffer)}else if(t.depthBuffer&&!1===t.resolveDepthBuffer&&l){const n=t.stencilBuffer?e.DEPTH_STENCIL_ATTACHMENT:e.DEPTH_ATTACHMENT;e.invalidateFramebuffer(e.DRAW_FRAMEBUFFER,[n])}},this.setupDepthRenderbuffer=D,this.setupFrameBufferTexture=k,this.useMultisampledRTT=U}function Ov(e,t){return{convert:function(n,r=""){let i;const o=sf.getTransfer(r);if(n===nu)return e.UNSIGNED_BYTE;if(n===uu)return e.UNSIGNED_SHORT_4_4_4_4;if(n===hu)return e.UNSIGNED_SHORT_5_5_5_1;if(n===du)return e.UNSIGNED_INT_5_9_9_9_REV;if(n===ru)return e.BYTE;if(n===iu)return e.SHORT;if(n===ou)return e.UNSIGNED_SHORT;if(n===au)return e.INT;if(n===su)return e.UNSIGNED_INT;if(n===lu)return e.FLOAT;if(n===cu)return e.HALF_FLOAT;if(n===pu)return e.ALPHA;if(n===mu)return e.RGB;if(n===gu)return e.RGBA;if(n===vu)return e.LUMINANCE;if(n===yu)return e.LUMINANCE_ALPHA;if(n===_u)return e.DEPTH_COMPONENT;if(n===bu)return e.DEPTH_STENCIL;if(n===xu)return e.RED;if(n===wu)return e.RED_INTEGER;if(n===Su)return e.RG;if(n===Eu)return e.RG_INTEGER;if(n===Tu)return e.RGBA_INTEGER;if(n===Au||n===Mu||n===Cu||n===Ou)if(o===yh){if(i=t.get("WEBGL_compressed_texture_s3tc_srgb"),null===i)return null;if(n===Au)return i.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===Mu)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===Cu)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===Ou)return i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(i=t.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(n===Au)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===Mu)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===Cu)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===Ou)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(n===Ru||n===Iu||n===ku||n===Pu){if(i=t.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(n===Ru)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Iu)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===ku)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Pu)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(n===Du||n===Nu||n===Lu){if(i=t.get("WEBGL_compressed_texture_etc"),null===i)return null;if(n===Du||n===Nu)return o===yh?i.COMPRESSED_SRGB8_ETC2:i.COMPRESSED_RGB8_ETC2;if(n===Lu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:i.COMPRESSED_RGBA8_ETC2_EAC}if(n===Fu||n===Uu||n===Bu||n===zu||n===Vu||n===ju||n===Hu||n===Wu||n===Gu||n===qu||n===Xu||n===Yu||n===Ku||n===$u){if(i=t.get("WEBGL_compressed_texture_astc"),null===i)return null;if(n===Fu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:i.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Uu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:i.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Bu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:i.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===zu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:i.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Vu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:i.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===ju)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:i.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Hu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:i.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Wu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:i.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===Gu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:i.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===qu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:i.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Xu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:i.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Yu)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:i.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Ku)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:i.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===$u)return o===yh?i.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:i.COMPRESSED_RGBA_ASTC_12x12_KHR}if(n===Zu||n===Ju||n===Qu){if(i=t.get("EXT_texture_compression_bptc"),null===i)return null;if(n===Zu)return o===yh?i.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:i.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===Ju)return i.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Qu)return i.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(n===eh||n===th||n===nh||n===rh){if(i=t.get("EXT_texture_compression_rgtc"),null===i)return null;if(n===Zu)return i.COMPRESSED_RED_RGTC1_EXT;if(n===th)return i.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===nh)return i.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===rh)return i.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return n===fu?e.UNSIGNED_INT_24_8:void 0!==e[n]?e[n]:null}}}class Rv extends Vp{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let Iv=class extends Ad{constructor(){super(),this.isGroup=!0,this.type="Group"}};const kv={type:"move"};class Pv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Iv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Iv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Sf,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Sf),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Iv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Sf,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Sf),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const o of e.hand.values()){const e=t.getJointPose(o,n),r=this._getHandJoint(l,o);null!==e&&(r.matrix.fromArray(e.transform.matrix),r.matrix.decompose(r.position,r.rotation,r.scale),r.matrixWorldNeedsUpdate=!0,r.jointRadius=e.radius),r.visible=null!==e}const r=l.joints["index-finger-tip"],i=l.joints["thumb-tip"],a=r.position.distanceTo(i.position),s=.02,c=.005;l.inputState.pinching&&a>s+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&a<=s-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,n),null===r&&null!==i&&(r=i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(kv)))}return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const n=new Iv;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Dv{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,n){if(null===this.texture){const r=new gf;e.properties.get(r).__webglTexture=t.texture,t.depthNear==n.depthNear&&t.depthFar==n.depthFar||(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(null!==this.texture&&null===this.mesh){const t=e.cameras[0].viewport,n=new Lp({vertexShader:"\nvoid main() {\n\n\tgl_Position = vec4( position, 1.0 );\n\n}",fragmentShader:"\nuniform sampler2DArray depthColor;\nuniform float depthWidth;\nuniform float depthHeight;\n\nvoid main() {\n\n\tvec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );\n\n\tif ( coord.x >= 1.0 ) {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;\n\n\t} else {\n\n\t\tgl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;\n\n\t}\n\n}",uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Op(new tm(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Nv extends Dh{constructor(e,t){super();const n=this;let r=null,i=1,o=null,a="local-floor",s=1,l=null,c=null,u=null,h=null,f=null,d=null;const p=new Dv,m=t.getContextAttributes();let g=null,v=null;const y=[],_=[],b=new qh;let x=null;const w=new Vp;w.layers.enable(1),w.viewport=new vf;const S=new Vp;S.layers.enable(2),S.viewport=new vf;const E=[w,S],T=new Rv;T.layers.enable(1),T.layers.enable(2);let A=null,M=null;function C(e){const t=_.indexOf(e.inputSource);if(-1===t)return;const n=y[t];void 0!==n&&(n.update(e.inputSource,e.frame,l||o),n.dispatchEvent({type:e.type,data:e.inputSource}))}function O(){r.removeEventListener("select",C),r.removeEventListener("selectstart",C),r.removeEventListener("selectend",C),r.removeEventListener("squeeze",C),r.removeEventListener("squeezestart",C),r.removeEventListener("squeezeend",C),r.removeEventListener("end",O),r.removeEventListener("inputsourceschange",R);for(let e=0;e<y.length;e++){const t=_[e];null!==t&&(_[e]=null,y[e].disconnect(t))}A=null,M=null,p.reset(),e.setRenderTarget(g),f=null,h=null,u=null,r=null,v=null,N.stop(),n.isPresenting=!1,e.setPixelRatio(x),e.setSize(b.width,b.height,!1),n.dispatchEvent({type:"sessionend"})}function R(e){for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=_.indexOf(n);r>=0&&(_[r]=null,y[r].disconnect(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t];let r=_.indexOf(n);if(-1===r){for(let e=0;e<y.length;e++){if(e>=_.length){_.push(n),r=e;break}if(null===_[e]){_[e]=n,r=e;break}}if(-1===r)break}const i=y[r];i&&i.connect(n)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getGripSpace()},this.getHand=function(e){let t=y[e];return void 0===t&&(t=new Pv,y[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,n.isPresenting},this.setReferenceSpaceType=function(e){a=e,n.isPresenting},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(e){l=e},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return u},this.getFrame=function(){return d},this.getSession=function(){return r},this.setSession=async function(c){if(r=c,null!==r){if(g=e.getRenderTarget(),r.addEventListener("select",C),r.addEventListener("selectstart",C),r.addEventListener("selectend",C),r.addEventListener("squeeze",C),r.addEventListener("squeezestart",C),r.addEventListener("squeezeend",C),r.addEventListener("end",O),r.addEventListener("inputsourceschange",R),!0!==m.xrCompatible&&await t.makeXRCompatible(),x=e.getPixelRatio(),e.getSize(b),void 0===r.renderState.layers){const n={antialias:m.antialias,alpha:!0,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};f=new XRWebGLLayer(r,t,n),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),v=new _f(f.framebufferWidth,f.framebufferHeight,{format:gu,type:nu,colorSpace:e.outputColorSpace,stencilBuffer:m.stencil})}else{let n=null,o=null,a=null;m.depth&&(a=m.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,n=m.stencil?bu:_u,o=m.stencil?fu:su);const s={colorFormat:t.RGBA8,depthFormat:a,scaleFactor:i};u=new XRWebGLBinding(r,t),h=u.createProjectionLayer(s),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),v=new _f(h.textureWidth,h.textureHeight,{format:gu,type:nu,depthTexture:new Um(h.textureWidth,h.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,n),stencilBuffer:m.stencil,colorSpace:e.outputColorSpace,samples:m.antialias?4:0,resolveDepthBuffer:!1===h.ignoreDepthValues})}v.isXRRenderTarget=!0,this.setFoveation(s),l=null,o=await r.requestReferenceSpace(a),N.setContext(r),N.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode},this.getDepthTexture=function(){return p.getDepthTexture()};const I=new Sf,k=new Sf;function P(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}this.updateCamera=function(e){if(null===r)return;null!==p.texture&&(e.near=p.depthNear,e.far=p.depthFar),T.near=S.near=w.near=e.near,T.far=S.far=w.far=e.far,A===T.near&&M===T.far||(r.updateRenderState({depthNear:T.near,depthFar:T.far}),A=T.near,M=T.far,w.near=A,w.far=M,S.near=A,S.far=M,w.updateProjectionMatrix(),S.updateProjectionMatrix(),e.updateProjectionMatrix());const t=e.parent,n=T.cameras;P(T,t);for(let r=0;r<n.length;r++)P(n[r],t);2===n.length?function(e,t,n){I.setFromMatrixPosition(t.matrixWorld),k.setFromMatrixPosition(n.matrixWorld);const r=I.distanceTo(k),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],f=a*u,d=a*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();const g=a+p,v=s+p,y=f-m,_=d+(r-m),b=l*s/v*g,x=c*s/v*g;e.projectionMatrix.makePerspective(y,_,b,x,g,v),e.projectionMatrixInverse.copy(e.projectionMatrix).invert()}(T,w,S):T.projectionMatrix.copy(w.projectionMatrix),function(e,t,n){null===n?e.matrix.copy(t.matrixWorld):(e.matrix.copy(n.matrixWorld),e.matrix.invert(),e.matrix.multiply(t.matrixWorld));e.matrix.decompose(e.position,e.quaternion,e.scale),e.updateMatrixWorld(!0),e.projectionMatrix.copy(t.projectionMatrix),e.projectionMatrixInverse.copy(t.projectionMatrixInverse),e.isPerspectiveCamera&&(e.fov=2*Uh*Math.atan(1/e.projectionMatrix.elements[5]),e.zoom=1)}(e,T,t)},this.getCamera=function(){return T},this.getFoveation=function(){if(null!==h||null!==f)return s},this.setFoveation=function(e){s=e,null!==h&&(h.fixedFoveation=e),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=e)},this.hasDepthSensing=function(){return null!==p.texture},this.getDepthSensingMesh=function(){return p.getMesh(T)};let D=null;const N=new Qp;N.setAnimationLoop(function(t,i){if(c=i.getViewerPose(l||o),d=i,null!==c){const t=c.views;null!==f&&(e.setRenderTargetFramebuffer(v,f.framebuffer),e.setRenderTarget(v));let n=!1;t.length!==T.cameras.length&&(T.cameras.length=0,n=!0);for(let r=0;r<t.length;r++){const i=t[r];let o=null;if(null!==f)o=f.getViewport(i);else{const t=u.getViewSubImage(h,i);o=t.viewport,0===r&&(e.setRenderTargetTextures(v,t.colorTexture,h.ignoreDepthValues?void 0:t.depthStencilTexture),e.setRenderTarget(v))}let a=E[r];void 0===a&&(a=new Vp,a.layers.enable(r),a.viewport=new vf,E[r]=a),a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.quaternion,a.scale),a.projectionMatrix.fromArray(i.projectionMatrix),a.projectionMatrixInverse.copy(a.projectionMatrix).invert(),a.viewport.set(o.x,o.y,o.width,o.height),0===r&&(T.matrix.copy(a.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),!0===n&&T.cameras.push(a)}const i=r.enabledFeatures;if(i&&i.includes("depth-sensing")){const n=u.getDepthInformation(t[0]);n&&n.isValid&&n.texture&&p.init(e,n,r.renderState)}}for(let e=0;e<y.length;e++){const t=_[e],n=y[e];null!==t&&void 0!==n&&n.update(t,i,l||o)}D&&D(t,i),i.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:i}),d=null}),this.setAnimationLoop=function(e){D=e},this.dispose=function(){}}}const Lv=new cd,Fv=new Qf;function Uv(e,t){function n(e,t){!0===e.matrixAutoUpdate&&e.updateMatrix(),t.value.copy(e.matrix)}function r(e,r){e.opacity.value=r.opacity,r.color&&e.diffuse.value.copy(r.color),r.emissive&&e.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(e.map.value=r.map,n(r.map,e.mapTransform)),r.alphaMap&&(e.alphaMap.value=r.alphaMap,n(r.alphaMap,e.alphaMapTransform)),r.bumpMap&&(e.bumpMap.value=r.bumpMap,n(r.bumpMap,e.bumpMapTransform),e.bumpScale.value=r.bumpScale,1===r.side&&(e.bumpScale.value*=-1)),r.normalMap&&(e.normalMap.value=r.normalMap,n(r.normalMap,e.normalMapTransform),e.normalScale.value.copy(r.normalScale),1===r.side&&e.normalScale.value.negate()),r.displacementMap&&(e.displacementMap.value=r.displacementMap,n(r.displacementMap,e.displacementMapTransform),e.displacementScale.value=r.displacementScale,e.displacementBias.value=r.displacementBias),r.emissiveMap&&(e.emissiveMap.value=r.emissiveMap,n(r.emissiveMap,e.emissiveMapTransform)),r.specularMap&&(e.specularMap.value=r.specularMap,n(r.specularMap,e.specularMapTransform)),r.alphaTest>0&&(e.alphaTest.value=r.alphaTest);const i=t.get(r),o=i.envMap,a=i.envMapRotation;o&&(e.envMap.value=o,Lv.copy(a),Lv.x*=-1,Lv.y*=-1,Lv.z*=-1,o.isCubeTexture&&!1===o.isRenderTargetTexture&&(Lv.y*=-1,Lv.z*=-1),e.envMapRotation.value.setFromMatrix4(Fv.makeRotationFromEuler(Lv)),e.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,e.reflectivity.value=r.reflectivity,e.ior.value=r.ior,e.refractionRatio.value=r.refractionRatio),r.lightMap&&(e.lightMap.value=r.lightMap,e.lightMapIntensity.value=r.lightMapIntensity,n(r.lightMap,e.lightMapTransform)),r.aoMap&&(e.aoMap.value=r.aoMap,e.aoMapIntensity.value=r.aoMapIntensity,n(r.aoMap,e.aoMapTransform))}return{refreshFogUniforms:function(t,n){n.color.getRGB(t.fogColor.value,Dp(e)),n.isFog?(t.fogNear.value=n.near,t.fogFar.value=n.far):n.isFogExp2&&(t.fogDensity.value=n.density)},refreshMaterialUniforms:function(e,i,o,a,s){i.isMeshBasicMaterial||i.isMeshLambertMaterial?r(e,i):i.isMeshToonMaterial?(r(e,i),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,i)):i.isMeshPhongMaterial?(r(e,i),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,i)):i.isMeshStandardMaterial?(r(e,i),function(e,t){e.metalness.value=t.metalness,t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap,n(t.metalnessMap,e.metalnessMapTransform));e.roughness.value=t.roughness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap,n(t.roughnessMap,e.roughnessMapTransform));t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(e,i),i.isMeshPhysicalMaterial&&function(e,t,r){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap,n(t.sheenColorMap,e.sheenColorMapTransform)),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap,n(t.sheenRoughnessMap,e.sheenRoughnessMapTransform)));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap,n(t.clearcoatMap,e.clearcoatMapTransform)),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap,n(t.clearcoatRoughnessMap,e.clearcoatRoughnessMapTransform)),t.clearcoatNormalMap&&(e.clearcoatNormalMap.value=t.clearcoatNormalMap,n(t.clearcoatNormalMap,e.clearcoatNormalMapTransform),e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),1===t.side&&e.clearcoatNormalScale.value.negate()));t.dispersion>0&&(e.dispersion.value=t.dispersion);t.iridescence>0&&(e.iridescence.value=t.iridescence,e.iridescenceIOR.value=t.iridescenceIOR,e.iridescenceThicknessMinimum.value=t.iridescenceThicknessRange[0],e.iridescenceThicknessMaximum.value=t.iridescenceThicknessRange[1],t.iridescenceMap&&(e.iridescenceMap.value=t.iridescenceMap,n(t.iridescenceMap,e.iridescenceMapTransform)),t.iridescenceThicknessMap&&(e.iridescenceThicknessMap.value=t.iridescenceThicknessMap,n(t.iridescenceThicknessMap,e.iridescenceThicknessMapTransform)));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=r.texture,e.transmissionSamplerSize.value.set(r.width,r.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap,n(t.transmissionMap,e.transmissionMapTransform)),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap,n(t.thicknessMap,e.thicknessMapTransform)),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));t.anisotropy>0&&(e.anisotropyVector.value.set(t.anisotropy*Math.cos(t.anisotropyRotation),t.anisotropy*Math.sin(t.anisotropyRotation)),t.anisotropyMap&&(e.anisotropyMap.value=t.anisotropyMap,n(t.anisotropyMap,e.anisotropyMapTransform)));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap,n(t.specularColorMap,e.specularColorMapTransform));t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap,n(t.specularIntensityMap,e.specularIntensityMapTransform))}(e,i,s)):i.isMeshMatcapMaterial?(r(e,i),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,i)):i.isMeshDepthMaterial?r(e,i):i.isMeshDistanceMaterial?(r(e,i),function(e,n){const r=t.get(n).light;e.referencePosition.value.setFromMatrixPosition(r.matrixWorld),e.nearDistance.value=r.shadow.camera.near,e.farDistance.value=r.shadow.camera.far}(e,i)):i.isMeshNormalMaterial?r(e,i):i.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform))}(e,i),i.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,i)):i.isPointsMaterial?function(e,t,r,i){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*r,e.scale.value=.5*i,t.map&&(e.map.value=t.map,n(t.map,e.uvTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i,o,a):i.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map,n(t.map,e.mapTransform));t.alphaMap&&(e.alphaMap.value=t.alphaMap,n(t.alphaMap,e.alphaMapTransform));t.alphaTest>0&&(e.alphaTest.value=t.alphaTest)}(e,i):i.isShadowMaterial?(e.color.value.copy(i.color),e.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Bv(e,t,n,r){let i={},o={},a=[];const s=e.getParameter(e.MAX_UNIFORM_BUFFER_BINDINGS);function l(e,t,n,r){const i=e.value,o=t+"_"+n;if(void 0===r[o])return r[o]="number"==typeof i||"boolean"==typeof i?i:i.clone(),!0;{const e=r[o];if("number"==typeof i||"boolean"==typeof i){if(e!==i)return r[o]=i,!0}else if(!1===e.equals(i))return e.copy(i),!0}return!1}function c(e){const t={boundary:0,storage:0};return"number"==typeof e||"boolean"==typeof e?(t.boundary=4,t.storage=4):e.isVector2?(t.boundary=8,t.storage=8):e.isVector3||e.isColor?(t.boundary=16,t.storage=12):e.isVector4?(t.boundary=16,t.storage=16):e.isMatrix3?(t.boundary=48,t.storage=48):e.isMatrix4?(t.boundary=64,t.storage=64):e.isTexture,t}function u(t){const n=t.target;n.removeEventListener("dispose",u);const r=a.indexOf(n.__bindingPointIndex);a.splice(r,1),e.deleteBuffer(i[n.id]),delete i[n.id],delete o[n.id]}return{bind:function(e,t){const n=t.program;r.uniformBlockBinding(e,n)},update:function(n,h){let f=i[n.id];void 0===f&&(!function(e){const t=e.uniforms;let n=0;const r=16;for(let o=0,a=t.length;o<a;o++){const e=Array.isArray(t[o])?t[o]:[t[o]];for(let t=0,i=e.length;t<i;t++){const i=e[t],o=Array.isArray(i.value)?i.value:[i.value];for(let e=0,t=o.length;e<t;e++){const t=c(o[e]),a=n%r;0!==a&&r-a<t.boundary&&(n+=r-a),i.__data=new Float32Array(t.storage/Float32Array.BYTES_PER_ELEMENT),i.__offset=n,n+=t.storage}}}const i=n%r;i>0&&(n+=r-i);e.__size=n,e.__cache={}}(n),f=function(t){const n=function(){for(let e=0;e<s;e++)if(-1===a.indexOf(e))return a.push(e),e;return 0}();t.__bindingPointIndex=n;const r=e.createBuffer(),i=t.__size,o=t.usage;return e.bindBuffer(e.UNIFORM_BUFFER,r),e.bufferData(e.UNIFORM_BUFFER,i,o),e.bindBuffer(e.UNIFORM_BUFFER,null),e.bindBufferBase(e.UNIFORM_BUFFER,n,r),r}(n),i[n.id]=f,n.addEventListener("dispose",u));const d=h.program;r.updateUBOMapping(n,d);const p=t.render.frame;o[n.id]!==p&&(!function(t){const n=i[t.id],r=t.uniforms,o=t.__cache;e.bindBuffer(e.UNIFORM_BUFFER,n);for(let i=0,a=r.length;i<a;i++){const t=Array.isArray(r[i])?r[i]:[r[i]];for(let n=0,r=t.length;n<r;n++){const r=t[n];if(!0===l(r,i,n,o)){const t=r.__offset,n=Array.isArray(r.value)?r.value:[r.value];let i=0;for(let o=0;o<n.length;o++){const a=n[o],s=c(a);"number"==typeof a||"boolean"==typeof a?(r.__data[0]=a,e.bufferSubData(e.UNIFORM_BUFFER,t+i,r.__data)):a.isMatrix3?(r.__data[0]=a.elements[0],r.__data[1]=a.elements[1],r.__data[2]=a.elements[2],r.__data[3]=0,r.__data[4]=a.elements[3],r.__data[5]=a.elements[4],r.__data[6]=a.elements[5],r.__data[7]=0,r.__data[8]=a.elements[6],r.__data[9]=a.elements[7],r.__data[10]=a.elements[8],r.__data[11]=0):(a.toArray(r.__data,i),i+=s.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(e.UNIFORM_BUFFER,t,r.__data)}}}e.bindBuffer(e.UNIFORM_BUFFER,null)}(n),o[n.id]=p)},dispose:function(){for(const t in i)e.deleteBuffer(i[t]);a=[],i={},o={}}}}class zv{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new jd(e),this.density=t}clone(){return new zv(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Vv{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new jd(e),this.near=t,this.far=n}clone(){return new Vv(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jv extends Ad{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new cd,this.environmentIntensity=1,this.environmentRotation=new cd,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),1!==this.environmentIntensity&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class Hv{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Rh,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Bh()}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}get updateRange(){return tf("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Bh()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wv=new Sf;class Gv{constructor(e,t,n,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.applyMatrix4(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.applyNormalMatrix(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)Wv.fromBufferAttribute(this,t),Wv.transformDirection(e),this.setXYZ(t,Wv.x,Wv.y,Wv.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Hh(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=Wh(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=Wh(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Wh(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Wh(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Wh(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Hh(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Hh(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Hh(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Hh(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}setXYZW(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array),i=Wh(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}clone(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new ep(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Gv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(void 0===e){const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class qv extends Gd{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new jd(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xv;const Yv=new Sf,Kv=new Sf,$v=new Sf,Zv=new qh,Jv=new qh,Qv=new Qf,ey=new Sf,ty=new Sf,ny=new Sf,ry=new qh,iy=new qh,oy=new qh;class ay extends Ad{constructor(e=new qv){if(super(),this.isSprite=!0,this.type="Sprite",void 0===Xv){Xv=new hp;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),t=new Hv(e,5);Xv.setIndex([0,1,2,0,2,3]),Xv.setAttribute("position",new Gv(t,3,0,!1)),Xv.setAttribute("uv",new Gv(t,2,3,!1))}this.geometry=Xv,this.material=e,this.center=new qh(.5,.5)}raycast(e,t){e.camera,Kv.setFromMatrixScale(this.matrixWorld),Qv.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),$v.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Kv.multiplyScalar(-$v.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;sy(ey.set(-.5,-.5,0),$v,o,Kv,r,i),sy(ty.set(.5,-.5,0),$v,o,Kv,r,i),sy(ny.set(.5,.5,0),$v,o,Kv,r,i),ry.set(0,0),iy.set(1,0),oy.set(1,1);let a=e.ray.intersectTriangle(ey,ty,ny,!1,Yv);if(null===a&&(sy(ty.set(-.5,.5,0),$v,o,Kv,r,i),iy.set(0,1),a=e.ray.intersectTriangle(ey,ny,ty,!1,Yv),null===a))return;const s=e.ray.origin.distanceTo(Yv);s<e.near||s>e.far||t.push({distance:s,point:Yv.clone(),uv:Fd.getInterpolation(Yv,ey,ty,ny,ry,iy,oy,new qh),face:null,object:this})}copy(e,t){return super.copy(e,t),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}function sy(e,t,n,r,i,o){Zv.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(Jv.x=o*Zv.x-i*Zv.y,Jv.y=i*Zv.x+o*Zv.y):Jv.copy(Zv),e.copy(t),e.x+=Jv.x,e.y+=Jv.y,e.applyMatrix4(Qv)}const ly=new Sf,cy=new Sf;class uy extends Ad{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,r=t.length;n<r;n++){const e=t[n];this.addLevel(e.object.clone(),e.distance,e.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const r=this.levels;let i;for(i=0;i<r.length&&!(t<r[i].distance);i++);return r.splice(i,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r;n++){let r=t[n].distance;if(t[n].object.visible&&(r-=r*t[n].hysteresis),e<r)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){ly.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(ly);this.getObjectForDistance(n).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ly.setFromMatrixPosition(e.matrixWorld),cy.setFromMatrixPosition(this.matrixWorld);const n=ly.distanceTo(cy)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i;r++){let e=t[r].distance;if(t[r].object.visible&&(e-=e*t[r].hysteresis),!(n>=e))break;t[r-1].object.visible=!1,t[r].object.visible=!0}for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let r=0,i=n.length;r<i;r++){const e=n[r];t.object.levels.push({object:e.object.uuid,distance:e.distance,hysteresis:e.hysteresis})}return t}}const hy=new Sf,fy=new vf,dy=new vf,py=new Sf,my=new Qf,gy=new Sf,vy=new Wf,yy=new Qf,_y=new Jf;class by extends Op{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Bc,this.bindMatrix=new Qf,this.bindMatrixInverse=new Qf,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;null===this.boundingBox&&(this.boundingBox=new Af),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gy),this.boundingBox.expandByPoint(gy)}computeBoundingSphere(){const e=this.geometry;null===this.boundingSphere&&(this.boundingSphere=new Wf),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,gy),this.boundingSphere.expandByPoint(gy)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,r=this.matrixWorld;void 0!==n&&(null===this.boundingSphere&&this.computeBoundingSphere(),vy.copy(this.boundingSphere),vy.applyMatrix4(r),!1!==e.ray.intersectsSphere(vy)&&(yy.copy(r).invert(),_y.copy(e.ray).applyMatrix4(yy),null!==this.boundingBox&&!1===_y.intersectsBox(this.boundingBox)||this._computeIntersections(e,t,_y)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new vf,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Bc?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===zc&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}applyBoneTransform(e,t){const n=this.skeleton,r=this.geometry;fy.fromBufferAttribute(r.attributes.skinIndex,e),dy.fromBufferAttribute(r.attributes.skinWeight,e),hy.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){const e=dy.getComponent(i);if(0!==e){const r=fy.getComponent(i);my.multiplyMatrices(n.bones[r].matrixWorld,n.boneInverses[r]),t.addScaledVector(py.copy(hy).applyMatrix4(my),e)}}return t.applyMatrix4(this.bindMatrixInverse)}}class xy extends Ad{constructor(){super(),this.isBone=!0,this.type="Bone"}}class wy extends gf{constructor(e=null,t=1,n=1,r,i,o,a,s,l=1003,c=1003,u,h){super(null,o,a,s,l,c,r,i,u,h),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Sy=new Qf,Ey=new Qf;class Ty{constructor(e=[],t=[]){this.uuid=Bh(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Qf)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const t=new Qf;this.bones[e]&&t.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(t)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.copy(t.parent.matrixWorld).invert(),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let i=0,o=e.length;i<o;i++){const r=e[i]?e[i].matrixWorld:Ey;Sy.multiplyMatrices(r,t[i]),Sy.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}clone(){return new Ty(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(4*this.bones.length);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new wy(t,e,e,gu,lu);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}}dispose(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,r=e.bones.length;n<r;n++){let r=t[e.bones[n]];void 0===r&&(r=new xy),this.bones.push(r),this.boneInverses.push((new Qf).fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let r=0,i=t.length;r<i;r++){const i=t[r];e.bones.push(i.uuid);const o=n[r];e.boneInverses.push(o.toArray())}return e}}class Ay extends ep{constructor(e,t,n,r=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const My=new Qf,Cy=new Qf,Oy=[],Ry=new Af,Iy=new Qf,ky=new Op,Py=new Wf;class Dy extends Op{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Ay(new Float32Array(16*n),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<n;r++)this.setMatrixAt(r,Iy)}computeBoundingBox(){const e=this.geometry,t=this.count;null===this.boundingBox&&(this.boundingBox=new Af),null===e.boundingBox&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,My),Ry.copy(e.boundingBox).applyMatrix4(My),this.boundingBox.union(Ry)}computeBoundingSphere(){const e=this.geometry,t=this.count;null===this.boundingSphere&&(this.boundingSphere=new Wf),null===e.boundingSphere&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,My),Py.copy(e.boundingSphere).applyMatrix4(My),this.boundingSphere.union(Py)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),null!==e.morphTexture&&(this.morphTexture=e.morphTexture.clone()),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,3*e)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,16*e)}getMorphAt(e,t){const n=t.morphTargetInfluences,r=this.morphTexture.source.data.data,i=e*(n.length+1)+1;for(let o=0;o<n.length;o++)n[o]=r[i+o]}raycast(e,t){const n=this.matrixWorld,r=this.count;if(ky.geometry=this.geometry,ky.material=this.material,void 0!==ky.material&&(null===this.boundingSphere&&this.computeBoundingSphere(),Py.copy(this.boundingSphere),Py.applyMatrix4(n),!1!==e.ray.intersectsSphere(Py)))for(let i=0;i<r;i++){this.getMatrixAt(i,My),Cy.multiplyMatrices(n,My),ky.matrixWorld=Cy,ky.raycast(e,Oy);for(let e=0,n=Oy.length;e<n;e++){const n=Oy[e];n.instanceId=i,n.object=this,t.push(n)}Oy.length=0}}setColorAt(e,t){null===this.instanceColor&&(this.instanceColor=new Ay(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,16*e)}setMorphAt(e,t){const n=t.morphTargetInfluences,r=n.length+1;null===this.morphTexture&&(this.morphTexture=new wy(new Float32Array(r*this.count),r,this.count,xu,lu));const i=this.morphTexture.source.data.data;let o=0;for(let l=0;l<n.length;l++)o+=n[l];const a=this.geometry.morphTargetsRelative?1:1-o,s=r*e;i[s]=a,i.set(n,s+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),null!==this.morphTexture&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function Ny(e,t){return e.z-t.z}function Ly(e,t){return t.z-e.z}class Fy{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1,index:-1});const o=r[this.index];i.push(o),this.index++,o.start=e.start,o.count=e.count,o.z=t,o.index=n}reset(){this.list.length=0,this.index=0}}const Uy=new Qf,By=new Qf,zy=new Qf,Vy=new jd(1,1,1),jy=new Qf,Hy=new Jp,Wy=new Af,Gy=new Wf,qy=new Sf,Xy=new Sf,Yy=new Sf,Ky=new Fy,$y=new Op,Zy=[];function Jy(e,t,n=0){const r=t.itemSize;if(e.isInterleavedBufferAttribute||e.array.constructor!==t.array.constructor){const i=e.count;for(let o=0;o<i;o++)for(let i=0;i<r;i++)t.setComponent(o+n,i,e.getComponent(o,i))}else t.array.set(e.array,n*r);t.needsUpdate=!0}class Qy extends Op{get maxInstanceCount(){return this._maxInstanceCount}constructor(e,t,n=2*t,r){super(new hp,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawInfo=[],this._drawRanges=[],this._reservedRanges=[],this._bounds=[],this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(4*this._maxInstanceCount);e=4*Math.ceil(e/4),e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new wy(t,e,e,gu,lu);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new wy(t,e,e,wu,su);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxIndexCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new wy(t,e,e,gu,lu);n.colorSpace=sf.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,r=this._maxIndexCount;if(!1===this._geometryInitialized){for(const r in e.attributes){const i=e.getAttribute(r),{array:o,itemSize:a,normalized:s}=i,l=new o.constructor(n*a),c=new ep(l,a,s);t.setAttribute(r,c)}if(null!==e.getIndex()){const e=n>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new ep(e,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(Boolean(e.getIndex())!==Boolean(t.getIndex()))throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error('BatchedMesh: Added geometry missing "'.concat(n,'". All geometries must have consistent attributes.'));const r=e.getAttribute(n),i=t.getAttribute(n);if(r.itemSize!==i.itemSize||r.normalized!==i.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Af);const e=this._geometryCount,t=this.boundingBox,n=this._drawInfo;t.makeEmpty();for(let r=0;r<e;r++){if(!1===n[r].active)continue;const e=n[r].geometryIndex;this.getMatrixAt(r,Uy),this.getBoundingBoxAt(e,Wy).applyMatrix4(Uy),t.union(Wy)}}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Wf);const e=this.boundingSphere,t=this._drawInfo;e.makeEmpty();for(let n=0,r=t.length;n<r;n++){if(!1===t[n].active)continue;const r=t[n].geometryIndex;this.getMatrixAt(n,Uy),this.getBoundingSphereAt(r,Gy).applyMatrix4(Uy),e.union(Gy)}}addInstance(e){if(this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");this._drawInfo.push({visible:!0,active:!0,geometryIndex:e});const t=this._drawInfo.length-1,n=this._matricesTexture,r=n.image.data;zy.toArray(r,16*t),n.needsUpdate=!0;const i=this._colorsTexture;return i&&(Vy.toArray(i.image.data,4*t),i.needsUpdate=!0),t}addGeometry(e,t=-1,n=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._drawInfo.length>=this._maxInstanceCount)throw new Error("BatchedMesh: Maximum item count reached.");const r={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let i=null;const o=this._reservedRanges,a=this._drawRanges,s=this._bounds;0!==this._geometryCount&&(i=o[o.length-1]),r.vertexCount=-1===t?e.getAttribute("position").count:t,r.vertexStart=null===i?0:i.vertexStart+i.vertexCount;const l=e.getIndex(),c=null!==l;if(c&&(r.indexCount=-1===n?l.count:n,r.indexStart=null===i?0:i.indexStart+i.indexCount),-1!==r.indexStart&&r.indexStart+r.indexCount>this._maxIndexCount||r.vertexStart+r.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const u=this._geometryCount;return this._geometryCount++,o.push(r),a.push({start:c?r.indexStart:r.vertexStart,count:-1}),s.push({boxInitialized:!1,box:new Af,sphereInitialized:!1,sphere:new Wf}),this.setGeometryAt(u,e),u}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,r=null!==n.getIndex(),i=n.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(r&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const s=a.vertexStart,l=a.vertexCount;for(const f in n.attributes){const e=t.getAttribute(f),r=n.getAttribute(f);Jy(e,r,s);const i=e.itemSize;for(let t=e.count,n=l;t<n;t++){const e=s+t;for(let t=0;t<i;t++)r.setComponent(e,t,0)}r.needsUpdate=!0,r.addUpdateRange(s*i,l*i)}if(r){const e=a.indexStart;for(let t=0;t<o.count;t++)i.setX(e+t,s+o.getX(t));for(let t=o.count,n=a.indexCount;t<n;t++)i.setX(e+t,s);i.needsUpdate=!0,i.addUpdateRange(e,a.indexCount)}const c=this._bounds[e];null!==t.boundingBox?(c.box.copy(t.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,null!==t.boundingSphere?(c.sphere.copy(t.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const u=this._drawRanges[e],h=t.getAttribute("position");return u.count=r?o.count:h.count,this._visibilityChanged=!0,e}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.box,i=this.geometry;if(!1===n.boxInitialized){r.makeEmpty();const t=i.index,o=i.attributes.position,a=this._drawRanges[e];for(let e=a.start,n=a.start+a.count;e<n;e++){let n=e;t&&(n=t.getX(n)),r.expandByPoint(qy.fromBufferAttribute(o,n))}n.boxInitialized=!0}return t.copy(r),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this._bounds[e],r=n.sphere,i=this.geometry;if(!1===n.sphereInitialized){r.makeEmpty(),this.getBoundingBoxAt(e,Wy),Wy.getCenter(r.center);const t=i.index,o=i.attributes.position,a=this._drawRanges[e];let s=0;for(let e=a.start,n=a.start+a.count;e<n;e++){let n=e;t&&(n=t.getX(n)),qy.fromBufferAttribute(o,n),s=Math.max(s,r.center.distanceToSquared(qy))}r.radius=Math.sqrt(s),n.sphereInitialized=!0}return t.copy(r),t}setMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture,i=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active||(t.toArray(i,16*e),r.needsUpdate=!0),this}getMatrixAt(e,t){const n=this._drawInfo,r=this._matricesTexture.image.data;return e>=n.length||!1===n[e].active?null:t.fromArray(r,16*e)}setColorAt(e,t){null===this._colorsTexture&&this._initColorsTexture();const n=this._colorsTexture,r=this._colorsTexture.image.data,i=this._drawInfo;return e>=i.length||!1===i[e].active||(t.toArray(r,4*e),n.needsUpdate=!0),this}getColorAt(e,t){const n=this._colorsTexture.image.data,r=this._drawInfo;return e>=r.length||!1===r[e].active?null:t.fromArray(n,4*e)}setVisibleAt(e,t){const n=this._drawInfo;return e>=n.length||!1===n[e].active||n[e].visible===t||(n[e].visible=t,this._visibilityChanged=!0),this}getVisibleAt(e){const t=this._drawInfo;return!(e>=t.length||!1===t[e].active)&&t[e].visible}raycast(e,t){const n=this._drawInfo,r=this._drawRanges,i=this.matrixWorld,o=this.geometry;$y.material=this.material,$y.geometry.index=o.index,$y.geometry.attributes=o.attributes,null===$y.geometry.boundingBox&&($y.geometry.boundingBox=new Af),null===$y.geometry.boundingSphere&&($y.geometry.boundingSphere=new Wf);for(let a=0,s=n.length;a<s;a++){if(!n[a].visible||!n[a].active)continue;const o=n[a].geometryIndex,s=r[o];$y.geometry.setDrawRange(s.start,s.count),this.getMatrixAt(a,$y.matrixWorld).premultiply(i),this.getBoundingBoxAt(o,$y.geometry.boundingBox),this.getBoundingSphereAt(o,$y.geometry.boundingSphere),$y.raycast(e,Zy);for(let e=0,n=Zy.length;e<n;e++){const n=Zy[e];n.object=this,n.batchId=a,t.push(n)}Zy.length=0}$y.material=null,$y.geometry.index=null,$y.geometry.attributes={},$y.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=null!==e.boundingBox?e.boundingBox.clone():null,this.boundingSphere=null!==e.boundingSphere?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(e=>({...e})),this._reservedRanges=e._reservedRanges.map(e=>({...e})),this._drawInfo=e._drawInfo.map(e=>({...e})),this._bounds=e._bounds.map(e=>({boxInitialized:e.boxInitialized,box:e.box.clone(),sphereInitialized:e.sphereInitialized,sphere:e.sphere.clone()})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),null!==this._colorsTexture&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,null!==this._colorsTexture&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,t,n,r,i){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=r.getIndex(),a=null===o?1:o.array.BYTES_PER_ELEMENT,s=this._drawInfo,l=this._multiDrawStarts,c=this._multiDrawCounts,u=this._drawRanges,h=this.perObjectFrustumCulled,f=this._indirectTexture,d=f.image.data;h&&(jy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),Hy.setFromProjectionMatrix(jy,e.coordinateSystem));let p=0;if(this.sortObjects){By.copy(this.matrixWorld).invert(),qy.setFromMatrixPosition(n.matrixWorld).applyMatrix4(By),Xy.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(By);for(let n=0,r=s.length;n<r;n++)if(s[n].visible&&s[n].active){const e=s[n].geometryIndex;this.getMatrixAt(n,Uy),this.getBoundingSphereAt(e,Gy).applyMatrix4(Uy);let t=!1;if(h&&(t=!Hy.intersectsSphere(Gy)),!t){const t=Yy.subVectors(Gy.center,qy).dot(Xy);Ky.push(u[e],t,n)}}const e=Ky.list,t=this.customSort;null===t?e.sort(i.transparent?Ly:Ny):t.call(this,e,n);for(let n=0,r=e.length;n<r;n++){const t=e[n];l[p]=t.start*a,c[p]=t.count,d[p]=t.index,p++}Ky.reset()}else for(let m=0,g=s.length;m<g;m++)if(s[m].visible&&s[m].active){const e=s[m].geometryIndex;let t=!1;if(h&&(this.getMatrixAt(m,Uy),this.getBoundingSphereAt(e,Gy).applyMatrix4(Uy),t=!Hy.intersectsSphere(Gy)),!t){const t=u[e];l[p]=t.start*a,c[p]=t.count,d[p]=m,p++}}f.needsUpdate=!0,this._multiDrawCount=p,this._visibilityChanged=!1}onBeforeShadow(e,t,n,r,i,o){this.onBeforeRender(e,null,r,i,o)}}class e_ extends Gd{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new jd(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const t_=new Sf,n_=new Sf,r_=new Qf,i_=new Jf,o_=new Wf,a_=new Sf,s_=new Sf;class l_ extends Ad{constructor(e=new hp,t=new e_){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)t_.fromBufferAttribute(t,e-1),n_.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=t_.distanceTo(n_);e.setAttribute("lineDistance",new rp(n,1))}return this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),o_.copy(n.boundingSphere),o_.applyMatrix4(r),o_.radius+=i,!1===e.ray.intersectsSphere(o_))return;r_.copy(r).invert(),i_.copy(e.ray).applyMatrix4(r_);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=this.isLineSegments?2:1,c=n.index,u=n.attributes.position;if(null!==c){const n=Math.max(0,o.start),r=Math.min(c.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c.getX(i),r=c.getX(i+1),o=c_(this,e,i_,s,n,r);o&&t.push(o)}if(this.isLineLoop){const i=c.getX(r-1),o=c.getX(n),a=c_(this,e,i_,s,i,o);a&&t.push(a)}}else{const n=Math.max(0,o.start),r=Math.min(u.count,o.start+o.count);for(let i=n,o=r-1;i<o;i+=l){const n=c_(this,e,i_,s,i,i+1);n&&t.push(n)}if(this.isLineLoop){const i=c_(this,e,i_,s,r-1,n);i&&t.push(i)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function c_(e,t,n,r,i,o){const a=e.geometry.attributes.position;t_.fromBufferAttribute(a,i),n_.fromBufferAttribute(a,o);if(n.distanceSqToSegment(t_,n_,a_,s_)>r)return;a_.applyMatrix4(e.matrixWorld);const s=t.ray.origin.distanceTo(a_);return s<t.near||s>t.far?void 0:{distance:s,point:s_.clone().applyMatrix4(e.matrixWorld),index:i,face:null,faceIndex:null,object:e}}const u_=new Sf,h_=new Sf;class f_ extends l_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)u_.fromBufferAttribute(t,e),h_.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+u_.distanceTo(h_);e.setAttribute("lineDistance",new rp(n,1))}return this}}class d_ extends l_{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class p_ extends Gd{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new jd(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const m_=new Qf,g_=new Jf,v_=new Wf,y_=new Sf;class __ extends Ad{constructor(e=new hp,t=new p_){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,o=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),v_.copy(n.boundingSphere),v_.applyMatrix4(r),v_.radius+=i,!1===e.ray.intersectsSphere(v_))return;m_.copy(r).invert(),g_.copy(e.ray).applyMatrix4(m_);const a=i/((this.scale.x+this.scale.y+this.scale.z)/3),s=a*a,l=n.index,c=n.attributes.position;if(null!==l){for(let n=Math.max(0,o.start),i=Math.min(l.count,o.start+o.count);n<i;n++){const i=l.getX(n);y_.fromBufferAttribute(c,i),b_(y_,i,s,r,e,t,this)}}else{for(let n=Math.max(0,o.start),i=Math.min(c.count,o.start+o.count);n<i;n++)y_.fromBufferAttribute(c,n),b_(y_,n,s,r,e,t,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){const n=e[t[0]];if(void 0!==n){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,t=n.length;e<t;e++){const t=n[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[t]=e}}}}}function b_(e,t,n,r,i,o,a){const s=g_.distanceSqToPoint(e);if(s<n){const n=new Sf;g_.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a})}}class x_ extends gf{constructor(e,t,n,r,i,o,a,s,l,c,u,h){super(null,o,a,s,l,c,r,i,u,h),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class w_{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return null}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)}getTangent(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new qh:new Sf);return s.copy(a).sub(o).normalize(),s}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t){const n=new Sf,r=[],i=[],o=[],a=new Sf,s=new Qf;for(let f=0;f<=e;f++){const t=f/e;r[f]=this.getTangentAt(t,new Sf)}i[0]=new Sf,o[0]=new Sf;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let f=1;f<=e;f++){if(i[f]=i[f-1].clone(),o[f]=o[f-1].clone(),a.crossVectors(r[f-1],r[f]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(zh(r[f-1].dot(r[f]),-1,1));i[f].applyMatrix4(s.makeRotationAxis(a,e))}o[f].crossVectors(r[f],i[f])}if(!0===t){let t=Math.acos(zh(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class S_ extends w_{constructor(e=0,t=0,n=1,r=1,i=0,o=2*Math.PI,a=!1,s=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a,this.aRotation=s}getPoint(e,t=new qh){const n=t,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class E_ extends S_{constructor(e,t,n,r,i,o){super(e,t,n,n,r,i,o),this.isArcCurve=!0,this.type="ArcCurve"}}function T_(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}const A_=new Sf,M_=new T_,C_=new T_,O_=new T_;class R_ extends w_{constructor(e=[],t=!1,n="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=r}getPoint(e,t=new Sf){const n=t,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?a=r[(l-1)%i]:(A_.subVectors(r[0],r[1]).add(r[0]),a=A_);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(A_.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=A_),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),M_.initNonuniformCatmullRom(a.x,u.x,h.x,s.x,t,n,r),C_.initNonuniformCatmullRom(a.y,u.y,h.y,s.y,t,n,r),O_.initNonuniformCatmullRom(a.z,u.z,h.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(M_.initCatmullRom(a.x,u.x,h.x,s.x,this.tension),C_.initCatmullRom(a.y,u.y,h.y,s.y,this.tension),O_.initCatmullRom(a.z,u.z,h.z,s.z,this.tension));return n.set(M_.calc(c),C_.calc(c),O_.calc(c)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new Sf).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function I_(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function k_(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function P_(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}class D_ extends w_{constructor(e=new qh,t=new qh,n=new qh,r=new qh){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new qh){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(P_(e,r.x,i.x,o.x,a.x),P_(e,r.y,i.y,o.y,a.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class N_ extends w_{constructor(e=new Sf,t=new Sf,n=new Sf,r=new Sf){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=r}getPoint(e,t=new Sf){const n=t,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(P_(e,r.x,i.x,o.x,a.x),P_(e,r.y,i.y,o.y,a.y),P_(e,r.z,i.z,o.z,a.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class L_ extends w_{constructor(e=new qh,t=new qh){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new qh){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new qh){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class F_ extends w_{constructor(e=new Sf,t=new Sf){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Sf){const n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Sf){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class U_ extends w_{constructor(e=new qh,t=new qh,n=new qh){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new qh){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(k_(e,r.x,i.x,o.x),k_(e,r.y,i.y,o.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class B_ extends w_{constructor(e=new Sf,t=new Sf,n=new Sf){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Sf){const n=t,r=this.v0,i=this.v1,o=this.v2;return n.set(k_(e,r.x,i.x,o.x),k_(e,r.y,i.y,o.y),k_(e,r.z,i.z,o.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class z_ extends w_{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new qh){const n=t,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(I_(a,s.x,l.x,c.x,u.x),I_(a,s.y,l.y,c.y,u.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new qh).fromArray(n))}return this}}var V_=Object.freeze({__proto__:null,ArcCurve:E_,CatmullRomCurve3:R_,CubicBezierCurve:D_,CubicBezierCurve3:N_,EllipseCurve:S_,LineCurve:L_,LineCurve3:F_,QuadraticBezierCurve:U_,QuadraticBezierCurve3:B_,SplineCurve:z_});class j_ extends w_{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=!0===e.isVector2?"LineCurve":"LineCurve3";this.curves.push(new V_[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),r=this.getCurveLengths();let i=0;for(;i<r.length;){if(r[i]>=n){const e=r[i]-n,o=this.curves[i],a=o.getLength(),s=0===a?0:1-e/a;return o.getPointAt(s,t)}i++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new V_[n.type]).fromJSON(n))}return this}}class H_ extends j_{constructor(e){super(),this.type="Path",this.currentPoint=new qh,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new L_(this.currentPoint.clone(),new qh(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,r){const i=new U_(this.currentPoint.clone(),new qh(e,t),new qh(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}bezierCurveTo(e,t,n,r,i,o){const a=new D_(this.currentPoint.clone(),new qh(e,t),new qh(n,r),new qh(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new z_(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this}absarc(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this}ellipse(e,t,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,a,s),this}absellipse(e,t,n,r,i,o,a,s){const l=new S_(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class W_ extends hp{constructor(e=[new qh(0,-.5),new qh(.5,0),new qh(0,.5)],t=12,n=0,r=2*Math.PI){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t),r=zh(r,0,2*Math.PI);const i=[],o=[],a=[],s=[],l=[],c=1/t,u=new Sf,h=new qh,f=new Sf,d=new Sf,p=new Sf;let m=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,p.copy(f),f.normalize(),s.push(f.x,f.y,f.z);break;case e.length-1:s.push(p.x,p.y,p.z);break;default:m=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,f.x=1*g,f.y=-m,f.z=0*g,d.copy(f),f.x+=p.x,f.y+=p.y,f.z+=p.z,f.normalize(),s.push(f.x,f.y,f.z),p.copy(d)}for(let v=0;v<=t;v++){const i=n+v*c*r,f=Math.sin(i),d=Math.cos(i);for(let n=0;n<=e.length-1;n++){u.x=e[n].x*f,u.y=e[n].y,u.z=e[n].x*d,o.push(u.x,u.y,u.z),h.x=v/t,h.y=n/(e.length-1),a.push(h.x,h.y);const r=s[3*n+0]*f,i=s[3*n+1],c=s[3*n+0]*d;l.push(r,i,c)}}for(let v=0;v<t;v++)for(let t=0;t<e.length-1;t++){const n=t+v*e.length,r=n,o=n+e.length,a=n+e.length+1,s=n+1;i.push(r,o,s),i.push(a,s,o)}this.setIndex(i),this.setAttribute("position",new rp(o,3)),this.setAttribute("uv",new rp(a,2)),this.setAttribute("normal",new rp(l,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.points,e.segments,e.phiStart,e.phiLength)}}class G_ extends W_{constructor(e=1,t=1,n=4,r=8){const i=new H_;i.absarc(0,-t/2,e,1.5*Math.PI,0),i.absarc(0,t/2,e,0,.5*Math.PI),super(i.getPoints(n),r),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:n,radialSegments:r}}static fromJSON(e){return new G_(e.radius,e.length,e.capSegments,e.radialSegments)}}class q_ extends hp{constructor(e=1,t=32,n=0,r=2*Math.PI){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},t=Math.max(3,t);const i=[],o=[],a=[],s=[],l=new Sf,c=new qh;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let u=0,h=3;u<=t;u++,h+=3){const i=n+u/t*r;l.x=e*Math.cos(i),l.y=e*Math.sin(i),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,s.push(c.x,c.y)}for(let u=1;u<=t;u++)i.push(u,u+1,0);this.setIndex(i),this.setAttribute("position",new rp(o,3)),this.setAttribute("normal",new rp(a,3)),this.setAttribute("uv",new rp(s,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class X_ extends hp{constructor(e=1,t=1,n=1,r=32,i=1,o=!1,a=0,s=2*Math.PI){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;r=Math.floor(r),i=Math.floor(i);const c=[],u=[],h=[],f=[];let d=0;const p=[],m=n/2;let g=0;function v(n){const i=d,o=new qh,p=new Sf;let v=0;const y=!0===n?e:t,_=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*_,0),h.push(0,_,0),f.push(.5,.5),d++;const b=d;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*_,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,_,0),o.x=.5*n+.5,o.y=.5*i*_+.5,f.push(o.x,o.y),d++}for(let e=0;e<r;e++){const t=i+e,r=b+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new Sf,v=new Sf;let y=0;const _=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,_,p).normalize(),h.push(o.x,o.y,o.z),f.push(t,1-g),c.push(d++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new rp(u,3)),this.setAttribute("normal",new rp(h,3)),this.setAttribute("uv",new rp(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Y_ extends X_{constructor(e=1,t=1,n=32,r=1,i=!1,o=0,a=2*Math.PI){super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Y_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class K_ extends hp{constructor(e=[],t=[],n=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r};const i=[],o=[];function a(e,t,n,r){const i=r+1,o=[];for(let a=0;a<=i;a++){o[a]=[];const r=e.clone().lerp(n,a/i),s=t.clone().lerp(n,a/i),l=i-a;for(let e=0;e<=l;e++)o[a][e]=0===e&&a===i?r:r.clone().lerp(s,e/l)}for(let a=0;a<i;a++)for(let e=0;e<2*(i-a)-1;e++){const t=Math.floor(e/2);e%2==0?(s(o[a][t+1]),s(o[a+1][t]),s(o[a][t])):(s(o[a][t+1]),s(o[a+1][t+1]),s(o[a+1][t]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}function h(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}!function(e){const n=new Sf,r=new Sf,i=new Sf;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r),function(e){const t=new Sf;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new Sf;for(let t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];const n=u(e)/2/Math.PI+.5,r=h(e)/Math.PI+.5;o.push(n,1-r)}(function(){const e=new Sf,t=new Sf,n=new Sf,r=new Sf,a=new qh,s=new qh,l=new qh;for(let h=0,f=0;h<i.length;h+=9,f+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[f+0],o[f+1]),s.set(o[f+2],o[f+3]),l.set(o[f+4],o[f+5]),r.copy(e).add(t).add(n).divideScalar(3);const d=u(r);c(a,f+0,e,d),c(s,f+2,t,d),c(l,f+4,n,d)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new rp(i,3)),this.setAttribute("normal",new rp(i.slice(),3)),this.setAttribute("uv",new rp(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new K_(e.vertices,e.indices,e.radius,e.details)}}class $_ extends K_{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $_(e.radius,e.detail)}}const Z_=new Sf,J_=new Sf,Q_=new Sf,eb=new Fd;class tb extends hp{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},null!==e){const n=4,r=Math.pow(10,n),i=Math.cos(Fh*t),o=e.getIndex(),a=e.getAttribute("position"),s=o?o.count:a.count,l=[0,0,0],c=["a","b","c"],u=new Array(3),h={},f=[];for(let e=0;e<s;e+=3){o?(l[0]=o.getX(e),l[1]=o.getX(e+1),l[2]=o.getX(e+2)):(l[0]=e,l[1]=e+1,l[2]=e+2);const{a:t,b:n,c:s}=eb;if(t.fromBufferAttribute(a,l[0]),n.fromBufferAttribute(a,l[1]),s.fromBufferAttribute(a,l[2]),eb.getNormal(Q_),u[0]="".concat(Math.round(t.x*r),",").concat(Math.round(t.y*r),",").concat(Math.round(t.z*r)),u[1]="".concat(Math.round(n.x*r),",").concat(Math.round(n.y*r),",").concat(Math.round(n.z*r)),u[2]="".concat(Math.round(s.x*r),",").concat(Math.round(s.y*r),",").concat(Math.round(s.z*r)),u[0]!==u[1]&&u[1]!==u[2]&&u[2]!==u[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=u[e],r=u[t],o=eb[c[e]],a=eb[c[t]],s="".concat(n,"_").concat(r),d="".concat(r,"_").concat(n);d in h&&h[d]?(Q_.dot(h[d].normal)<=i&&(f.push(o.x,o.y,o.z),f.push(a.x,a.y,a.z)),h[d]=null):s in h||(h[s]={index0:l[e],index1:l[t],normal:Q_.clone()})}}for(const e in h)if(h[e]){const{index0:t,index1:n}=h[e];Z_.fromBufferAttribute(a,t),J_.fromBufferAttribute(a,n),f.push(Z_.x,Z_.y,Z_.z),f.push(J_.x,J_.y,J_.z)}this.setAttribute("position",new rp(f,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class nb extends H_{constructor(e){super(e),this.uuid=Bh(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new H_).fromJSON(n))}return this}}const rb=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let o=ib(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,h,f,d;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=ib(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(mb(c));for(i.sort(hb),o=0;o<i.length;o++)n=fb(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],f=e[t+1],h<s&&(s=h),f<l&&(l=f),h>c&&(c=h),f>u&&(u=f);d=Math.max(c-s,u-l),d=0!==d?32767/d:0}return ab(o,a,n,s,l,d,0),a};function ib(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Tb(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Tb(o,e[o],e[o+1],a);return a&&_b(a,a.next)&&(Ab(a),a=a.next),a}function ob(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!_b(r,r.next)&&0!==yb(r.prev,r,r.next))r=r.next;else{if(Ab(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function ab(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=pb(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?lb(e,r,i,o):sb(e))t.push(s.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),Ab(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?ab(e=cb(ob(e),t,n),t,n,r,i,o,2):2===a&&ub(e,t,n,r,i,o):ab(ob(e),t,n,r,i,o,1);break}}function sb(e){const t=e.prev,n=e,r=e.next;if(yb(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=i<o?i<a?i:a:o<a?o:a,h=s<l?s<c?s:c:l<c?l:c,f=i>o?i>a?i:a:o>a?o:a,d=s>l?s>c?s:c:l>c?l:c;let p=r.next;for(;p!==t;){if(p.x>=u&&p.x<=f&&p.y>=h&&p.y<=d&&gb(i,s,o,l,a,c,p.x,p.y)&&yb(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function lb(e,t,n,r){const i=e.prev,o=e,a=e.next;if(yb(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,f=a.y,d=s<l?s<c?s:c:l<c?l:c,p=u<h?u<f?u:f:h<f?h:f,m=s>l?s>c?s:c:l>c?l:c,g=u>h?u>f?u:f:h>f?h:f,v=pb(d,p,t,n,r),y=pb(m,g,t,n,r);let _=e.prevZ,b=e.nextZ;for(;_&&_.z>=v&&b&&b.z<=y;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==a&&gb(s,u,l,h,c,f,_.x,_.y)&&yb(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&gb(s,u,l,h,c,f,b.x,b.y)&&yb(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=d&&_.x<=m&&_.y>=p&&_.y<=g&&_!==i&&_!==a&&gb(s,u,l,h,c,f,_.x,_.y)&&yb(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&b!==i&&b!==a&&gb(s,u,l,h,c,f,b.x,b.y)&&yb(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function cb(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!_b(i,o)&&bb(i,r,r.next,o)&&Sb(i,o)&&Sb(o,i)&&(t.push(i.i/n|0),t.push(r.i/n|0),t.push(o.i/n|0),Ab(r),Ab(r.next),r=e=o),r=r.next}while(r!==e);return ob(r)}function ub(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&vb(a,e)){let s=Eb(a,e);return a=ob(a,a.next),s=ob(s,s.next),ab(a,t,n,r,i,o,0),void ab(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function hb(e,t){return e.x-t.x}function fb(e,t){const n=function(e,t){let n,r=t,i=-1/0;const o=e.x,a=e.y;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){const e=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(e<=o&&e>i&&(i=e,n=r.x<r.next.x?r:r.next,e===o))return n}r=r.next}while(r!==t);if(!n)return null;const s=n,l=n.x,c=n.y;let u,h=1/0;r=n;do{o>=r.x&&r.x>=l&&o!==r.x&&gb(a<c?o:i,a,l,c,a<c?i:o,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(o-r.x),Sb(r,e)&&(u<h||u===h&&(r.x>n.x||r.x===n.x&&db(n,r)))&&(n=r,h=u)),r=r.next}while(r!==s);return n}(e,t);if(!n)return t;const r=Eb(n,e);return ob(r,r.next),ob(n,n.next)}function db(e,t){return yb(e.prev,e,t.prev)<0&&yb(t.next,e,e.next)<0}function pb(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function mb(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function gb(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function vb(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&bb(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Sb(e,t)&&Sb(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(yb(e.prev,e,t.prev)||yb(e,t.prev,t))||_b(e,t)&&yb(e.prev,e,e.next)>0&&yb(t.prev,t,t.next)>0)}function yb(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function _b(e,t){return e.x===t.x&&e.y===t.y}function bb(e,t,n,r){const i=wb(yb(e,t,n)),o=wb(yb(e,t,r)),a=wb(yb(n,r,e)),s=wb(yb(n,r,t));return i!==o&&a!==s||(!(0!==i||!xb(e,n,t))||(!(0!==o||!xb(e,r,t))||(!(0!==a||!xb(n,e,r))||!(0!==s||!xb(n,t,r)))))}function xb(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function wb(e){return e>0?1:e<0?-1:0}function Sb(e,t){return yb(e.prev,e,e.next)<0?yb(e,t,e.next)>=0&&yb(e,e.prev,t)>=0:yb(e,t,e.prev)<0||yb(e,e.next,t)<0}function Eb(e,t){const n=new Mb(e.i,e.x,e.y),r=new Mb(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Tb(e,t,n,r){const i=new Mb(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Ab(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Mb(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class Cb{static area(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}static isClockWise(e){return Cb.area(e)<0}static triangulateShape(e,t){const n=[],r=[],i=[];Ob(e),Rb(n,e);let o=e.length;t.forEach(Ob);for(let s=0;s<t.length;s++)r.push(o),o+=t[s].length,Rb(n,t[s]);const a=rb(n,r);for(let s=0;s<a.length;s+=3)i.push(a.slice(s,s+3));return i}}function Ob(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Rb(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class Ib extends hp{constructor(e=new nb([new qh(.5,.5),new qh(-.5,.5),new qh(-.5,-.5),new qh(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let a=0,s=e.length;a<s;a++){o(e[a])}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,l=void 0!==t.depth?t.depth:1;let c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:.2,h=void 0!==t.bevelSize?t.bevelSize:u-.1,f=void 0!==t.bevelOffset?t.bevelOffset:0,d=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:kb;let g,v,y,_,b,x=!1;p&&(g=p.getSpacedPoints(s),x=!0,c=!1,v=p.computeFrenetFrames(s,!1),y=new Sf,_=new Sf,b=new Sf),c||(d=0,u=0,h=0,f=0);const w=e.extractPoints(a);let S=w.shape;const E=w.holes;if(!Cb.isClockWise(S)){S=S.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];Cb.isClockWise(t)&&(E[e]=t.reverse())}}const T=Cb.triangulateShape(S,E),A=S;for(let t=0,n=E.length;t<n;t++){const e=E[t];S=S.concat(e)}function M(e,t,n){return e.clone().addScaledVector(t,n)}const C=S.length,O=T.length;function R(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),f=Math.sqrt(l*l+c*c),d=t.x-s/h,p=t.y+a/h,m=((n.x-c/f-d)*c-(n.y+l/f-p)*l)/(a*c-s*l);r=d+a*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new qh(r,i);o=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new qh(r/o,i/o)}const I=[];for(let t=0,n=A.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),I[t]=R(A[t],A[r],A[i]);const k=[];let P,D=I.concat();for(let t=0,n=E.length;t<n;t++){const e=E[t];P=[];for(let t=0,n=e.length,r=n-1,i=t+1;t<n;t++,r++,i++)r===n&&(r=0),i===n&&(i=0),P[t]=R(e[t],e[r],e[i]);k.push(P),D=D.concat(P)}for(let t=0;t<d;t++){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=A.length;t<i;t++){const e=M(A[t],I[t],r);F(e.x,e.y,-n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];P=k[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],P[t],r);F(i.x,i.y,-n)}}}const N=h+f;for(let t=0;t<C;t++){const e=c?M(S[t],D[t],N):S[t];x?(_.copy(v.normals[0]).multiplyScalar(e.x),y.copy(v.binormals[0]).multiplyScalar(e.y),b.copy(g[0]).add(_).add(y),F(b.x,b.y,b.z)):F(e.x,e.y,0)}for(let t=1;t<=s;t++)for(let e=0;e<C;e++){const n=c?M(S[e],D[e],N):S[e];x?(_.copy(v.normals[t]).multiplyScalar(n.x),y.copy(v.binormals[t]).multiplyScalar(n.y),b.copy(g[t]).add(_).add(y),F(b.x,b.y,b.z)):F(n.x,n.y,l/s*t)}for(let t=d-1;t>=0;t--){const e=t/d,n=u*Math.cos(e*Math.PI/2),r=h*Math.sin(e*Math.PI/2)+f;for(let t=0,i=A.length;t<i;t++){const e=M(A[t],I[t],r);F(e.x,e.y,l+n)}for(let t=0,i=E.length;t<i;t++){const e=E[t];P=k[t];for(let t=0,i=e.length;t<i;t++){const i=M(e[t],P[t],r);x?F(i.x,i.y+g[s-1].y,g[s-1].x+n):F(i.x,i.y,l+n)}}}function L(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*d;e<n;e++){const n=C*e,o=C*(e+1);B(t+r+n,t+i+n,t+i+o,t+r+o)}}}function F(e,t,n){o.push(e),o.push(t),o.push(n)}function U(e,t,i){z(e),z(t),z(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);V(a[0]),V(a[1]),V(a[2])}function B(e,t,i,o){z(e),z(t),z(o),z(t),z(i),z(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);V(s[0]),V(s[1]),V(s[3]),V(s[1]),V(s[2]),V(s[3])}function z(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function V(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=C*e;for(let n=0;n<O;n++){const e=T[n];U(e[2]+t,e[1]+t,e[0]+t)}e=s+2*d,t=C*e;for(let n=0;n<O;n++){const e=T[n];U(e[0]+t,e[1]+t,e[2]+t)}}else{for(let e=0;e<O;e++){const t=T[e];U(t[2],t[1],t[0])}for(let e=0;e<O;e++){const t=T[e];U(t[0]+C*s,t[1]+C*s,t[2]+C*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;L(A,t),t+=A.length;for(let n=0,r=E.length;n<r;n++){const e=E[n];L(e,t),t+=e.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new rp(r,3)),this.setAttribute("uv",new rp(i,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let r=0,i=e.length;r<i;r++){const t=e[r];n.shapes.push(t.uuid)}else n.shapes.push(e.uuid);n.options=Object.assign({},t),void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const n=[];for(let i=0,o=e.shapes.length;i<o;i++){const r=t[e.shapes[i]];n.push(r)}const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new V_[r.type]).fromJSON(r)),new Ib(n,e.options)}}const kb={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new qh(o,a),new qh(s,l),new qh(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],f=t[3*i],d=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<Math.abs(a-c)?[new qh(a,1-l),new qh(c,1-h),new qh(f,1-p),new qh(m,1-v)]:[new qh(s,1-l),new qh(u,1-h),new qh(d,1-p),new qh(g,1-v)]}};class Pb extends K_{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Pb(e.radius,e.detail)}}class Db extends K_{constructor(e=1,t=0){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Db(e.radius,e.detail)}}class Nb extends hp{constructor(e=.5,t=1,n=32,r=1,i=0,o=2*Math.PI){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},n=Math.max(3,n);const a=[],s=[],l=[],c=[];let u=e;const h=(t-e)/(r=Math.max(1,r)),f=new Sf,d=new qh;for(let p=0;p<=r;p++){for(let e=0;e<=n;e++){const r=i+e/n*o;f.x=u*Math.cos(r),f.y=u*Math.sin(r),s.push(f.x,f.y,f.z),l.push(0,0,1),d.x=(f.x/t+1)/2,d.y=(f.y/t+1)/2,c.push(d.x,d.y)}u+=h}for(let p=0;p<r;p++){const e=p*(n+1);for(let t=0;t<n;t++){const r=t+e,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new rp(s,3)),this.setAttribute("normal",new rp(l,3)),this.setAttribute("uv",new rp(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nb(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Lb extends hp{constructor(e=new nb([new qh(0,.5),new qh(-.5,-.5),new qh(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))l(e);else for(let c=0;c<e.length;c++)l(e[c]),this.addGroup(a,s,c),a+=s,s=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Cb.isClockWise(c)&&(c=c.reverse());for(let t=0,n=u.length;t<n;t++){const e=u[t];!0===Cb.isClockWise(e)&&(u[t]=e.reverse())}const h=Cb.triangulateShape(c,u);for(let t=0,n=u.length;t<n;t++){const e=u[t];c=c.concat(e)}for(let t=0,n=c.length;t<n;t++){const e=c[t];r.push(e.x,e.y,0),i.push(0,0,1),o.push(e.x,e.y)}for(let t=0,r=h.length;t<r;t++){const e=h[t],r=e[0]+a,i=e[1]+a,o=e[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new rp(r,3)),this.setAttribute("normal",new rp(i,3)),this.setAttribute("uv",new rp(o,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}static fromJSON(e,t){const n=[];for(let r=0,i=e.shapes.length;r<i;r++){const i=t[e.shapes[r]];n.push(i)}return new Lb(n,e.curveSegments)}}class Fb extends hp{constructor(e=1,t=32,n=16,r=0,i=2*Math.PI,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new Sf,h=new Sf,f=[],d=[],p=[],m=[];for(let g=0;g<=n;g++){const f=[],v=g/n;let y=0;0===g&&0===o?y=.5/t:g===n&&s===Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),d.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),f.push(l++)}c.push(f)}for(let g=0;g<n;g++)for(let e=0;e<t;e++){const t=c[g][e+1],r=c[g][e],i=c[g+1][e],a=c[g+1][e+1];(0!==g||o>0)&&f.push(t,r,a),(g!==n-1||s<Math.PI)&&f.push(r,i,a)}this.setIndex(f),this.setAttribute("position",new rp(d,3)),this.setAttribute("normal",new rp(p,3)),this.setAttribute("uv",new rp(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Fb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ub extends K_{constructor(e=1,t=0){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ub(e.radius,e.detail)}}class Bb extends hp{constructor(e=1,t=.4,n=12,r=48,i=2*Math.PI){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},n=Math.floor(n),r=Math.floor(r);const o=[],a=[],s=[],l=[],c=new Sf,u=new Sf,h=new Sf;for(let f=0;f<=n;f++)for(let o=0;o<=r;o++){const d=o/r*i,p=f/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(d),u.y=(e+t*Math.cos(p))*Math.sin(d),u.z=t*Math.sin(p),a.push(u.x,u.y,u.z),c.x=e*Math.cos(d),c.y=e*Math.sin(d),h.subVectors(u,c).normalize(),s.push(h.x,h.y,h.z),l.push(o/r),l.push(f/n)}for(let f=1;f<=n;f++)for(let e=1;e<=r;e++){const t=(r+1)*f+e-1,n=(r+1)*(f-1)+e-1,i=(r+1)*(f-1)+e,a=(r+1)*f+e;o.push(t,n,a),o.push(n,i,a)}this.setIndex(o),this.setAttribute("position",new rp(a,3)),this.setAttribute("normal",new rp(s,3)),this.setAttribute("uv",new rp(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bb(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class zb extends hp{constructor(e=1,t=.4,n=64,r=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},n=Math.floor(n),r=Math.floor(r);const a=[],s=[],l=[],c=[],u=new Sf,h=new Sf,f=new Sf,d=new Sf,p=new Sf,m=new Sf,g=new Sf;for(let y=0;y<=n;++y){const a=y/n*i*Math.PI*2;v(a,i,o,e,f),v(a+.01,i,o,e,d),m.subVectors(d,f),g.addVectors(d,f),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),a=t*Math.sin(i);u.x=f.x+(o*g.x+a*p.x),u.y=f.y+(o*g.y+a*p.y),u.z=f.z+(o*g.z+a*p.z),s.push(u.x,u.y,u.z),h.subVectors(u,f).normalize(),l.push(h.x,h.y,h.z),c.push(y/n),c.push(e/r)}}for(let y=1;y<=n;y++)for(let e=1;e<=r;e++){const t=(r+1)*(y-1)+(e-1),n=(r+1)*y+(e-1),i=(r+1)*y+e,o=(r+1)*(y-1)+e;a.push(t,n,o),a.push(n,i,o)}function v(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new rp(s,3)),this.setAttribute("normal",new rp(l,3)),this.setAttribute("uv",new rp(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zb(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Vb extends hp{constructor(e=new B_(new Sf(-1,-1,0),new Sf(-1,1,0),new Sf(1,1,0)),t=64,n=1,r=8,i=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i};const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new Sf,s=new Sf,l=new qh;let c=new Sf;const u=[],h=[],f=[],d=[];function p(i){c=e.getPointAt(i/t,c);const l=o.normals[i],f=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*f.x,s.y=o*l.y+i*f.y,s.z=o*l.z+i*f.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,f.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;d.push(n,i,a),d.push(i,o,a)}}()}(),this.setIndex(d),this.setAttribute("position",new rp(u,3)),this.setAttribute("normal",new rp(h,3)),this.setAttribute("uv",new rp(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Vb((new V_[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class jb extends hp{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},null!==e){const t=[],n=new Set,r=new Sf,i=new Sf;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,l=s.length;e<l;++e){const l=s[e],c=l.start;for(let e=c,s=c+l.count;e<s;e+=3)for(let l=0;l<3;l++){const s=a.getX(e+l),c=a.getX(e+(l+1)%3);r.fromBufferAttribute(o,s),i.fromBufferAttribute(o,c),!0===Hb(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}}else{const o=e.attributes.position;for(let e=0,a=o.count/3;e<a;e++)for(let s=0;s<3;s++){const a=3*e+s,l=3*e+(s+1)%3;r.fromBufferAttribute(o,a),i.fromBufferAttribute(o,l),!0===Hb(r,i,n)&&(t.push(r.x,r.y,r.z),t.push(i.x,i.y,i.z))}}this.setAttribute("position",new rp(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Hb(e,t,n){const r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Wb=Object.freeze({__proto__:null,BoxGeometry:Ip,CapsuleGeometry:G_,CircleGeometry:q_,ConeGeometry:Y_,CylinderGeometry:X_,DodecahedronGeometry:$_,EdgesGeometry:tb,ExtrudeGeometry:Ib,IcosahedronGeometry:Pb,LatheGeometry:W_,OctahedronGeometry:Db,PlaneGeometry:tm,PolyhedronGeometry:K_,RingGeometry:Nb,ShapeGeometry:Lb,SphereGeometry:Fb,TetrahedronGeometry:Ub,TorusGeometry:Bb,TorusKnotGeometry:zb,TubeGeometry:Vb,WireframeGeometry:jb});class Gb extends Gd{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new jd(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class qb extends Lp{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Xb extends Gd{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new jd(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cd,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yb extends Xb{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qh(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return zh(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new jd(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new jd(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new jd(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Kb extends Gd{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new jd(16777215),this.specular=new jd(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cd,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class $b extends Gd{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new jd(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Zb extends Gd{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Jb extends Gd{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new jd(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new jd(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new cd,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Qb extends Gd{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new jd(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new qh(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ex extends e_{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function tx(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)}function nx(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function rx(e){const t=e.length,n=new Array(t);for(let r=0;r!==t;++r)n[r]=r;return n.sort(function(t,n){return e[t]-e[n]}),n}function ix(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i}function ox(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}const ax={convertArray:tx,isTypedArray:nx,getKeyframeOrder:rx,sortedArray:ix,flattenJSON:ox,subclip:function(e,t,n,r,i=30){const o=e.clone();o.name=t;const a=[];for(let l=0;l<o.tracks.length;++l){const e=o.tracks[l],t=e.getValueSize(),s=[],c=[];for(let o=0;o<e.times.length;++o){const a=e.times[o]*i;if(!(a<n||a>=r)){s.push(e.times[o]);for(let n=0;n<t;++n)c.push(e.values[o*t+n])}}0!==s.length&&(e.times=tx(s,e.times.constructor),e.values=tx(c,e.values.constructor),a.push(e))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e,t=0,n=e,r=30){r<=0&&(r=30);const i=n.tracks.length,o=t/r;for(let a=0;a<i;++a){const t=n.tracks[a],r=t.ValueTypeName;if("bool"===r||"string"===r)continue;const i=e.tracks.find(function(e){return e.name===t.name&&e.ValueTypeName===r});if(void 0===i)continue;let s=0;const l=t.getValueSize();t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=t.times.length-1;let f;if(o<=t.times[0]){const e=s,n=l-s;f=t.values.slice(e,n)}else if(o>=t.times[h]){const e=h*l+s,n=e+l-s;f=t.values.slice(e,n)}else{const e=t.createInterpolant(),n=s,r=l-s;e.evaluate(o),f=e.resultBuffer.slice(n,r)}if("quaternion"===r){(new wf).fromArray(f).normalize().conjugate().toArray(f)}const d=i.times.length;for(let e=0;e<d;++e){const t=e*u+c;if("quaternion"===r)wf.multiplyQuaternionsFlat(i.values,t,f,0,i.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)i.values[t+n]-=f[n]}}}return e.blendMode=hh,e}};class sx{constructor(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(!(e>=i)){const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0;break n}break e}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let o=0;o!==r;++o)t[o]=n[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class lx extends sx{constructor(e,t,n,r){super(e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:sh,endingEnd:sh}}intervalChanged_(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case lh:i=e,a=2*t-n;break;case ch:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case lh:o=e,s=2*n-t;break;case ch:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(n-t)/(r-t),p=d*d,m=p*d,g=-h*m+2*h*p-h*d,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1,y=(-1-f)*m+(1.5+f)*p+.5*d,_=f*m-f*p;for(let b=0;b!==a;++b)i[b]=g*o[c+b]+v*o[l+b]+y*o[s+b]+_*o[u+b];return i}}class cx extends sx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let h=0;h!==a;++h)i[h]=o[l+h]*u+o[s+h]*c;return i}}class ux extends sx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class hx{constructor(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=tx(t,this.TimeBufferType),this.values=tx(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:tx(e.times,Array),values:tx(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new ux(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new cx(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new lx(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case ih:t=this.InterpolantFactoryMethodDiscrete;break;case oh:t=this.InterpolantFactoryMethodLinear;break;case ah:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ih;case this.InterpolantFactoryMethodLinear:return oh;case this.InterpolantFactoryMethodSmooth:return ah}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this}trim(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=n.slice(i,o),this.values=this.values.slice(i*e,o*e)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(e=!1);let o=null;for(let a=0;a!==i;a++){const t=n[a];if("number"==typeof t&&isNaN(t)){e=!1;break}if(null!==o&&o>t){e=!1;break}o=t}if(void 0!==r&&nx(r))for(let a=0,s=r.length;a!==s;++a){const t=r[a];if(isNaN(t)){e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),r=this.getInterpolation()===ah,i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==e[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}hx.prototype.TimeBufferType=Float32Array,hx.prototype.ValueBufferType=Float32Array,hx.prototype.DefaultInterpolation=oh;class fx extends hx{constructor(e,t,n){super(e,t,n)}}fx.prototype.ValueTypeName="bool",fx.prototype.ValueBufferType=Array,fx.prototype.DefaultInterpolation=ih,fx.prototype.InterpolantFactoryMethodLinear=void 0,fx.prototype.InterpolantFactoryMethodSmooth=void 0;class dx extends hx{}dx.prototype.ValueTypeName="color";class px extends hx{}px.prototype.ValueTypeName="number";class mx extends sx{constructor(e,t,n,r){super(e,t,n,r)}interpolate_(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)wf.slerpFlat(i,0,o,l-a,o,l,s);return i}}class gx extends hx{InterpolantFactoryMethodLinear(e){return new mx(this.times,this.values,this.getValueSize(),e)}}gx.prototype.ValueTypeName="quaternion",gx.prototype.InterpolantFactoryMethodSmooth=void 0;class vx extends hx{constructor(e,t,n){super(e,t,n)}}vx.prototype.ValueTypeName="string",vx.prototype.ValueBufferType=Array,vx.prototype.DefaultInterpolation=ih,vx.prototype.InterpolantFactoryMethodLinear=void 0,vx.prototype.InterpolantFactoryMethodSmooth=void 0;class yx extends hx{}yx.prototype.ValueTypeName="vector";class _x{constructor(e="",t=-1,n=[],r=2500){this.name=e,this.tracks=n,this.duration=t,this.blendMode=r,this.uuid=Bh(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let o=0,a=n.length;o!==a;++o)t.push(bx(n[o]).scale(r));const i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=n.length;i!==o;++i)t.push(hx.toJSON(n[i]));return r}static CreateFromMorphTargetSequence(e,t,n,r){const i=t.length,o=[];for(let a=0;a<i;a++){let e=[],s=[];e.push((a+i-1)%i,a,(a+1)%i),s.push(0,1,0);const l=rx(e);e=ix(e,1,l),s=ix(s,1,l),r||0!==e[0]||(e.push(i),s.push(s[0])),o.push(new px(".morphTargetInfluences["+t[a].name+"]",e,s).scale(1/n))}return new this(e,-1,o)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let r=0;r<n.length;r++)if(n[r].name===t)return n[r];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let a=0,s=e.length;a<s;a++){const t=e[a],n=t.name.match(i);if(n&&n.length>1){const e=n[1];let i=r[e];i||(r[e]=i=[]),i.push(t)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,n));return o}static parseAnimation(e,t){if(!e)return null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];ox(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let c=0;c<l.length;c++){const e=l[c].keys;if(e&&0!==e.length)if(e[0].morphTargets){const t={};let n;for(n=0;n<e.length;n++)if(e[n].morphTargets)for(let r=0;r<e[n].morphTargets.length;r++)t[e[n].morphTargets[r]]=-1;for(const i in t){const t=[],o=[];for(let r=0;r!==e[n].morphTargets.length;++r){const r=e[n];t.push(r.time),o.push(r.morphTarget===i?1:0)}r.push(new px(".morphTargetInfluence["+i+"]",t,o))}s=t.length*o}else{const i=".bones["+t[c].name+"]";n(yx,i+".position",e,"pos",r),n(gx,i+".quaternion",e,"rot",r),n(yx,i+".scale",e,"scl",r)}}if(0===r.length)return null;return new this(i,s,r,a)}resetDuration(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function bx(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return px;case"vector":case"vector2":case"vector3":case"vector4":return yx;case"color":return dx;case"quaternion":return gx;case"bool":case"boolean":return fx;case"string":return vx}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];ox(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}const xx={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};class wx{constructor(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}}const Sx=new wx;class Ex{constructor(e){this.manager=void 0!==e?e:Sx,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(r,i){n.load(e,r,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ex.DEFAULT_MATERIAL_NAME="__DEFAULT";const Tx={};class Ax extends Error{constructor(e,t){super(e),this.response=t}}class Mx extends Ex{constructor(e){super(e)}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=xx.get(e);if(void 0!==i)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(void 0!==Tx[e])return void Tx[e].push({onLoad:t,onProgress:n,onError:r});Tx[e]=[],Tx[e].push({onLoad:t,onProgress:n,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,s=this.responseType;fetch(o).then(t=>{if(200===t.status||0===t.status){if(t.status,"undefined"==typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;const n=Tx[e],r=t.body.getReader(),i=t.headers.get("X-File-Size")||t.headers.get("Content-Length"),o=i?parseInt(i):0,a=0!==o;let s=0;const l=new ReadableStream({start(e){!function t(){r.read().then(({done:r,value:i})=>{if(r)e.close();else{s+=i.byteLength;const r=new ProgressEvent("progress",{lengthComputable:a,loaded:s,total:o});for(let e=0,t=n.length;e<t;e++){const t=n[e];t.onProgress&&t.onProgress(r)}e.enqueue(i),t()}},t=>{e.error(t)})}()}});return new Response(l)}throw new Ax('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText),t)}).then(e=>{switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then(e=>(new DOMParser).parseFromString(e,a));case"json":return e.json();default:if(void 0===a)return e.text();{const t=/charset="?([^;"\s]*)"?/i.exec(a),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then(e=>r.decode(e))}}}).then(t=>{xx.add(e,t);const n=Tx[e];delete Tx[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onLoad&&r.onLoad(t)}}).catch(t=>{const n=Tx[e];if(void 0===n)throw this.manager.itemError(e),t;delete Tx[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Cx extends Ex{constructor(e){super(e)}load(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=xx.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o;const a=Jh("img");function s(){c(),xx.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){c(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function c(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}class Ox extends Ad{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new jd(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),void 0!==this.target&&(t.object.target=this.target.uuid),t}}class Rx extends Ox{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ad.DEFAULT_UP),this.updateMatrix(),this.groundColor=new jd(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Ix=new Qf,kx=new Sf,Px=new Sf;class Dx{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new qh(512,512),this.map=null,this.mapPass=null,this.matrix=new Qf,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Jp,this._frameExtents=new qh(1,1),this._viewportCount=1,this._viewports=[new vf(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;kx.setFromMatrixPosition(e.matrixWorld),t.position.copy(kx),Px.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Px),t.updateMatrixWorld(),Ix.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ix),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(Ix)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const e={};return 1!==this.intensity&&(e.intensity=this.intensity),0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Nx extends Dx{constructor(){super(new Vp(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,n=2*Uh*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Lx extends Ox{constructor(e,t,n=0,r=Math.PI/3,i=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ad.DEFAULT_UP),this.updateMatrix(),this.target=new Ad,this.distance=n,this.angle=r,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new Nx}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Fx=new Qf,Ux=new Sf,Bx=new Sf;class zx extends Dx{constructor(){super(new Vp(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new qh(4,2),this._viewportCount=6,this._viewports=[new vf(2,1,1,1),new vf(0,1,1,1),new vf(3,1,1,1),new vf(1,1,1,1),new vf(3,0,1,1),new vf(1,0,1,1)],this._cubeDirections=[new Sf(1,0,0),new Sf(-1,0,0),new Sf(0,0,1),new Sf(0,0,-1),new Sf(0,1,0),new Sf(0,-1,0)],this._cubeUps=[new Sf(0,1,0),new Sf(0,1,0),new Sf(0,1,0),new Sf(0,1,0),new Sf(0,0,1),new Sf(0,0,-1)]}updateMatrices(e,t=0){const n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),Ux.setFromMatrixPosition(e.matrixWorld),n.position.copy(Ux),Bx.copy(n.position),Bx.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(Bx),n.updateMatrixWorld(),r.makeTranslation(-Ux.x,-Ux.y,-Ux.z),Fx.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Fx)}}class Vx extends Ox{constructor(e,t,n=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=r,this.shadow=new zx}get power(){return 4*this.intensity*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class jx extends Dx{constructor(){super(new pm(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Hx extends Ox{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ad.DEFAULT_UP),this.updateMatrix(),this.target=new Ad,this.shadow=new jx}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Wx extends Ox{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class Gx extends Ox{constructor(e,t,n=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class qx{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Sf)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e=[],t=0){const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}class Xx extends Ox{constructor(e=new qx,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Yx extends Ex{constructor(e){super(e),this.textures={}}load(e,t,n,r){const i=this,o=new Mx(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(ame){r&&r(ame),i.manager.itemError(e)}},n,r)}parse(e){const t=this.textures;function n(e){return t[e],t[e]}const r=Yx.createMaterialFromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new jd).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.dispersion&&(r.dispersion=e.dispersion),void 0!==e.iridescence&&(r.iridescence=e.iridescence),void 0!==e.iridescenceIOR&&(r.iridescenceIOR=e.iridescenceIOR),void 0!==e.iridescenceThicknessRange&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.anisotropy&&(r.anisotropy=e.anisotropy),void 0!==e.anisotropyRotation&&(r.anisotropyRotation=e.anisotropyRotation),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.alphaHash&&(r.alphaHash=e.alphaHash),void 0!==e.depthFunc&&(r.depthFunc=e.depthFunc),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.blendSrc&&(r.blendSrc=e.blendSrc),void 0!==e.blendDst&&(r.blendDst=e.blendDst),void 0!==e.blendEquation&&(r.blendEquation=e.blendEquation),void 0!==e.blendSrcAlpha&&(r.blendSrcAlpha=e.blendSrcAlpha),void 0!==e.blendDstAlpha&&(r.blendDstAlpha=e.blendDstAlpha),void 0!==e.blendEquationAlpha&&(r.blendEquationAlpha=e.blendEquationAlpha),void 0!==e.blendColor&&void 0!==r.blendColor&&r.blendColor.setHex(e.blendColor),void 0!==e.blendAlpha&&(r.blendAlpha=e.blendAlpha),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),void 0!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.forceSinglePass&&(r.forceSinglePass=e.forceSinglePass),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const i in e.uniforms){const t=e.uniforms[i];switch(r.uniforms[i]={},t.type){case"t":r.uniforms[i].value=n(t.value);break;case"c":r.uniforms[i].value=(new jd).setHex(t.value);break;case"v2":r.uniforms[i].value=(new qh).fromArray(t.value);break;case"v3":r.uniforms[i].value=(new Sf).fromArray(t.value);break;case"v4":r.uniforms[i].value=(new vf).fromArray(t.value);break;case"m3":r.uniforms[i].value=(new Xh).fromArray(t.value);break;case"m4":r.uniforms[i].value=(new Qf).fromArray(t.value);break;default:r.uniforms[i].value=t.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.glslVersion&&(r.glslVersion=e.glslVersion),void 0!==e.extensions)for(const i in e.extensions)r.extensions[i]=e.extensions[i];if(void 0!==e.lights&&(r.lights=e.lights),void 0!==e.clipping&&(r.clipping=e.clipping),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new qh).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapRotation&&r.envMapRotation.fromArray(e.envMapRotation),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new qh).fromArray(e.clearcoatNormalScale)),void 0!==e.iridescenceMap&&(r.iridescenceMap=n(e.iridescenceMap)),void 0!==e.iridescenceThicknessMap&&(r.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.anisotropyMap&&(r.anisotropyMap=n(e.anisotropyMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){return new{ShadowMaterial:Gb,SpriteMaterial:qv,RawShaderMaterial:qb,ShaderMaterial:Lp,PointsMaterial:p_,MeshPhysicalMaterial:Yb,MeshStandardMaterial:Xb,MeshPhongMaterial:Kb,MeshToonMaterial:$b,MeshNormalMaterial:Zb,MeshLambertMaterial:Jb,MeshDepthMaterial:wv,MeshDistanceMaterial:Sv,MeshBasicMaterial:qd,MeshMatcapMaterial:Qb,LineDashedMaterial:ex,LineBasicMaterial:e_,Material:Gd}[e]}}class Kx{static decodeText(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(ame){return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}static resolveURL(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class $x extends hp{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Zx extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(ame){r&&r(ame),i.manager.itemError(e)}},n,r)}parse(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers,i=r[t],o=new Uint32Array(i).buffer;return n[t]=o,o}(e,i.buffer),a=Zh(i.type,o),s=new Hv(a,i.stride);return s.uuid=i.uuid,t[r]=s,s}const i=e.isInstancedBufferGeometry?new $x:new hp,o=e.data.index;if(void 0!==o){const e=Zh(o.type,o.array);i.setIndex(new ep(e,1))}const a=e.data.attributes;for(const u in a){const t=a[u];let n;if(t.isInterleavedBufferAttribute){const i=r(e.data,t.data);n=new Gv(i,t.itemSize,t.offset,t.normalized)}else{const e=Zh(t.type,t.array);n=new(t.isInstancedBufferAttribute?Ay:ep)(e,t.itemSize,t.normalized)}void 0!==t.name&&(n.name=t.name),void 0!==t.usage&&n.setUsage(t.usage),i.setAttribute(u,n)}const s=e.data.morphAttributes;if(s)for(const u in s){const t=s[u],n=[];for(let i=0,o=t.length;i<o;i++){const o=t[i];let a;if(o.isInterleavedBufferAttribute){const t=r(e.data,o.data);a=new Gv(t,o.itemSize,o.offset,o.normalized)}else{const e=Zh(o.type,o.array);a=new ep(e,o.itemSize,o.normalized)}void 0!==o.name&&(a.name=o.name),n.push(a)}i.morphAttributes[u]=n}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const e=l[u];i.addGroup(e.start,e.count,e.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new Sf;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Wf(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}const Jx={UVMapping:Vc,CubeReflectionMapping:jc,CubeRefractionMapping:Hc,EquirectangularReflectionMapping:Wc,EquirectangularRefractionMapping:Gc,CubeUVReflectionMapping:qc},Qx={RepeatWrapping:Xc,ClampToEdgeWrapping:Yc,MirroredRepeatWrapping:Kc},ew={NearestFilter:$c,NearestMipmapNearestFilter:Zc,NearestMipmapLinearFilter:Jc,LinearFilter:Qc,LinearMipmapNearestFilter:eu,LinearMipmapLinearFilter:tu};let tw;class nw{static getContext(){return void 0===tw&&(tw=new(window.AudioContext||window.webkitAudioContext)),tw}static setContext(e){tw=e}}const rw=new Qf,iw=new Qf,ow=new Qf;class aw{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=sw();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function sw(){return("undefined"==typeof performance?Date:performance).now()}const lw=new Sf,cw=new wf,uw=new Sf,hw=new Sf;class fw extends Ad{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(!0===this.isPlaying)return;if(!1===this.hasPlaybackControl)return;this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,null!==this.source&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(!1!==this._connected){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,!0===this.isPlaying&&void 0!==this.source.detune&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1!==this.hasPlaybackControl&&this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const dw=new Sf,pw=new wf,mw=new Sf,gw=new Sf;class vw{constructor(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){a.setValue(n,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,r,i){if(r>=.5)for(let o=0;o!==i;++o)e[t+o]=e[n+o]}_slerp(e,t,n,r){wf.slerpFlat(e,t,e,t,e,n,r)}_slerpAdditive(e,t,n,r,i){const o=this._workIndex*i;wf.multiplyQuaternionsFlat(e,o,e,t,e,n),wf.slerpFlat(e,t,e,t,e,o,r)}_lerp(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}}_lerpAdditive(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}}const yw="\\[\\]\\.:\\/",_w=new RegExp("["+yw+"]","g"),bw="[^"+yw+"]",xw="[^"+yw.replace("\\.","")+"]",ww=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",bw)+/(WCOD+)?/.source.replace("WCOD",xw)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",bw)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",bw)+"$"),Sw=["material","materials","bones","map"];class Ew{constructor(e,t,n){this.path=t,this.parsedPath=n||Ew.parseTrackName(t),this.node=Ew.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Ew.Composite(e,t,n):new Ew(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(_w,"")}static parseTrackName(e){const t=ww.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Sw.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Ew.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return;if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material)return;if(!e.material.map)return;e=e.material.map;break;default:if(void 0===e[n])return;e=e[n]}if(void 0!==r){if(void 0===e[r])return;e=e[r]}}const o=e[r];if(void 0===o){t.nodeName;return}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return;if(!e.geometry.morphAttributes)return;void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Ew.Composite=class{constructor(e,t,n){const r=n||Ew.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}},Ew.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ew.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ew.prototype.GetterByBindingType=[Ew.prototype._getValue_direct,Ew.prototype._getValue_array,Ew.prototype._getValue_arrayElement,Ew.prototype._getValue_toArray],Ew.prototype.SetterByBindingTypeAndVersioning=[[Ew.prototype._setValue_direct,Ew.prototype._setValue_direct_setNeedsUpdate,Ew.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_array,Ew.prototype._setValue_array_setNeedsUpdate,Ew.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_arrayElement,Ew.prototype._setValue_arrayElement_setNeedsUpdate,Ew.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ew.prototype._setValue_fromArray,Ew.prototype._setValue_fromArray_setNeedsUpdate,Ew.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Tw{constructor(e,t,n=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=r;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:sh,endingEnd:sh};for(let l=0;l!==o;++l){const e=i[l].createInterpolant(null);a[l]=e,e.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;r<0||0===n?t=0:(this._startTime=null,t=n*r)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;if(this.blendMode===hh)for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);else for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=2202===n;if(0===e)return-1===i||!o||1&~i?r:t-r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&!(1&~i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=lh,r.endingEnd=lh):(r.endingStart=e?this.zeroSlopeAtStart?lh:sh:ch,r.endingEnd=t?this.zeroSlopeAtEnd?lh:sh:ch)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}const Aw=new Float32Array(1);class Mw{constructor(e){this.value=e}clone(){return new Mw(void 0===this.value.clone?this.value:this.value.clone())}}let Cw=0;const Ow=new Qf;function Rw(e,t){return e.distance-t.distance}function Iw(e,t,n,r){let i=!0;if(e.layers.test(t.layers)){!1===e.raycast(t,n)&&(i=!1)}if(!0===i&&!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Iw(r[e],t,n,!0)}}const kw=new qh;const Pw=new Sf,Dw=new Sf;const Nw=new Sf;const Lw=new Sf,Fw=new Qf,Uw=new Qf;function Bw(e){const t=[];!0===e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,Bw(e.children[n]));return t}const zw=new Sf,Vw=new jd,jw=new jd;const Hw=new Sf,Ww=new Sf,Gw=new Sf;const qw=new Sf,Xw=new Fp;function Yw(e,t,n,r,i,o,a){qw.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],qw.x,qw.y,qw.z)}}const Kw=new Af;const $w=new Sf;let Zw,Jw;"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:gc}})),"undefined"!=typeof window&&(window.__THREE__||(window.__THREE__=gc));const Qw=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:4,AddEquation:xc,AddOperation:2,AdditiveAnimationBlendMode:hh,AdditiveBlending:2,AgXToneMapping:6,AlphaFormat:pu,AlwaysCompare:519,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:Wx,AnimationAction:Tw,AnimationClip:_x,AnimationLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(n){try{t(i.parse(JSON.parse(n)))}catch(ame){r&&r(ame),i.manager.itemError(e)}},n,r)}parse(e){const t=[];for(let n=0;n<e.length;n++){const r=_x.parse(e[n]);t.push(r)}return t}},AnimationMixer:class extends Dh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let u=0;u!==i;++u){const e=r[u],i=e.name;let l=c[i];if(void 0!==l)++l.referenceCount,o[u]=l;else{if(l=o[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,s,i));continue}const r=t&&t._propertyBindings[u].binding.parsedPath;l=new vw(Ew.create(n,i,r),e.ValueTypeName,e.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,s,i),o[u]=l}a[u].resultBuffer=l.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0===--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions}_addInactiveAction(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,r=t.length;n!==r;++n){const e=t[n];0===--e.referenceCount&&this._removeInactiveBinding(e)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_addInactiveBinding(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new cx(new Float32Array(2),new Float32Array(2),1,Aw),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}clipAction(e,t,n){const r=t||this._root,i=r.uuid;let o="string"==typeof e?_x.findByName(r,e):e;const a=null!==o?o.uuid:e,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:uh),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Tw(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c}existingAction(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?_x.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null}stopAllAction(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let l=0;l!==n;++l){t[l]._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let l=0;l!==s;++l)a[l].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const i in n){const e=n[i].actionByRoot[t];void 0!==e&&(this._deactivateAction(e),this._removeInactiveAction(e))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const i in r){const e=r[i];e.restoreOriginalState(),this._removeInactiveBinding(e)}}uncacheAction(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}},AnimationObjectGroup:class{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Bh(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let f=t[h];if(void 0===f){f=s++,t[h]=f,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Ew(u,n[e],r[e]))}else if(f<l){a=e[f];const s=--l,c=e[s];t[c.uuid]=f,e[f]=c,t[h]=s,e[s]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[f];t[f]=o,void 0===a&&(a=new Ew(u,n[e],r[e])),t[s]=a}}else e[f]}this.nCachedObjects_=l}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const a=--i,s=e[a],c=--o,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];i>0&&(t[a.uuid]=l),e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i}subscribe_(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(let h=c,f=s.length;h!==f;++h){const n=s[h];u[h]=new Ew(n,e,t)}return u}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}},AnimationUtils:ax,ArcCurve:E_,ArrayCamera:Rv,ArrowHelper:class extends Ad{constructor(e=new Sf(0,0,1),t=new Sf(0,0,0),n=1,r=16776960,i=.2*n,o=.2*i){super(),this.type="ArrowHelper",void 0===Zw&&(Zw=new hp,Zw.setAttribute("position",new rp([0,0,0,0,1,0],3)),Jw=new X_(0,.5,1,5,1),Jw.translate(0,-.5,0)),this.position.copy(t),this.line=new l_(Zw,new e_({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Op(Jw,new qd({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{$w.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle($w,t)}}setLength(e,t=.2*e,n=.2*t){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}},AttachedBindMode:Bc,Audio:fw,AudioAnalyser:class{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}},AudioContext:nw,AudioListener:class extends Ad{constructor(){super(),this.type="AudioListener",this.context=nw.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new aw}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(lw,cw,uw),hw.set(0,0,-1).applyQuaternion(cw),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(lw.x,e),t.positionY.linearRampToValueAtTime(lw.y,e),t.positionZ.linearRampToValueAtTime(lw.z,e),t.forwardX.linearRampToValueAtTime(hw.x,e),t.forwardY.linearRampToValueAtTime(hw.y,e),t.forwardZ.linearRampToValueAtTime(hw.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(lw.x,lw.y,lw.z),t.setOrientation(hw.x,hw.y,hw.z,n.x,n.y,n.z)}},AudioLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new Mx(this.manager);function a(t){r&&r(t),i.manager.itemError(e)}o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(e){try{const n=e.slice(0);nw.getContext().decodeAudioData(n,function(e){t(e)}).catch(a)}catch(ame){a(ame)}},n,r)}},AxesHelper:class extends f_{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new hp;n.setAttribute("position",new rp(t,3)),n.setAttribute("color",new rp([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new e_({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}setColors(e,t,n){const r=new jd,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BatchedMesh:Qy,Bone:xy,BooleanKeyframeTrack:fx,Box2:class{constructor(e=new qh(1/0,1/0),t=new qh(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=kw.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,kw).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Box3:Af,Box3Helper:class extends f_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new hp;r.setIndex(new ep(n,1)),r.setAttribute("position",new rp([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new e_({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},BoxGeometry:Ip,BoxHelper:class extends f_{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new hp;i.setIndex(new ep(n,1)),i.setAttribute("position",new ep(r,3)),super(i,new e_({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==this.object&&Kw.setFromObject(this.object),Kw.isEmpty())return;const t=Kw.min,n=Kw.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}},BufferAttribute:ep,BufferGeometry:hp,BufferGeometryLoader:Zx,ByteType:ru,Cache:xx,Camera:Fp,CameraHelper:class extends f_{constructor(e){const t=new hp,n=new e_({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={};function a(e,t){s(e),s(t)}function s(e){r.push(0,0,0),i.push(0,0,0),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4"),t.setAttribute("position",new rp(r,3)),t.setAttribute("color",new rp(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const l=new jd(16755200),c=new jd(16711680),u=new jd(43775),h=new jd(16777215),f=new jd(3355443);this.setColors(l,c,u,h,f)}setColors(e,t,n,r,i){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,n.r,n.g,n.b),o.setXYZ(33,n.r,n.g,n.b),o.setXYZ(34,n.r,n.g,n.b),o.setXYZ(35,n.r,n.g,n.b),o.setXYZ(36,n.r,n.g,n.b),o.setXYZ(37,n.r,n.g,n.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap;Xw.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Yw("c",t,e,Xw,0,0,-1),Yw("t",t,e,Xw,0,0,1),Yw("n1",t,e,Xw,-1,-1,-1),Yw("n2",t,e,Xw,1,-1,-1),Yw("n3",t,e,Xw,-1,1,-1),Yw("n4",t,e,Xw,1,1,-1),Yw("f1",t,e,Xw,-1,-1,1),Yw("f2",t,e,Xw,1,-1,1),Yw("f3",t,e,Xw,-1,1,1),Yw("f4",t,e,Xw,1,1,1),Yw("u1",t,e,Xw,.7,1.1,-1),Yw("u2",t,e,Xw,-.7,1.1,-1),Yw("u3",t,e,Xw,0,2,-1),Yw("cf1",t,e,Xw,-1,0,1),Yw("cf2",t,e,Xw,1,0,1),Yw("cf3",t,e,Xw,0,-1,1),Yw("cf4",t,e,Xw,0,1,1),Yw("cn1",t,e,Xw,-1,0,-1),Yw("cn2",t,e,Xw,1,0,-1),Yw("cn3",t,e,Xw,0,-1,-1),Yw("cn4",t,e,Xw,0,1,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}},CanvasTexture:class extends gf{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isCanvasTexture=!0,this.needsUpdate=!0}},CapsuleGeometry:G_,CatmullRomCurve3:R_,CineonToneMapping:3,CircleGeometry:q_,ClampToEdgeWrapping:Yc,Clock:aw,Color:jd,ColorKeyframeTrack:dx,ColorManagement:sf,CompressedArrayTexture:class extends x_{constructor(e,t,n,r,i,o){super(e,t,n,i,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Yc,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}},CompressedCubeTexture:class extends x_{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,jc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}},CompressedTexture:x_,CompressedTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=[],a=new x_,s=new Mx(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=Qc),a.image=o,a.format=n.format,a.needsUpdate=!0,t&&t(a))},n,r)}if(Array.isArray(e))for(let u=0,h=e.length;u<h;++u)c(u);else s.load(e,function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}a.image=o}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Qc),a.format=n.format,a.needsUpdate=!0,t&&t(a)},n,r);return a}},ConeGeometry:Y_,ConstantAlphaFactor:213,ConstantColorFactor:211,CubeCamera:Hp,CubeReflectionMapping:jc,CubeRefractionMapping:Hc,CubeTexture:Wp,CubeTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=new Wp;i.colorSpace=dh;const o=new Cx(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))},void 0,r)}for(let l=0;l<e.length;++l)s(l);return i}},CubeUVReflectionMapping:qc,CubicBezierCurve:D_,CubicBezierCurve3:N_,CubicInterpolant:lx,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:w_,CurvePath:j_,CustomBlending:5,CustomToneMapping:5,CylinderGeometry:X_,Cylindrical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.theta=t,this.y=n,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return(new this.constructor).copy(this)}},Data3DTexture:xf,DataArrayTexture:bf,DataTexture:wy,DataTextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=new wy,a=new Mx(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,function(e){let n;try{n=i.parse(e)}catch(a){if(void 0===r)return;r(a)}void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:Yc,o.wrapT=void 0!==n.wrapT?n.wrapT:Yc,o.magFilter=void 0!==n.magFilter?n.magFilter:Qc,o.minFilter=void 0!==n.minFilter?n.minFilter:Qc,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.colorSpace&&(o.colorSpace=n.colorSpace),void 0!==n.flipY&&(o.flipY=n.flipY),void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=tu),1===n.mipmapCount&&(o.minFilter=Qc),void 0!==n.generateMipmaps&&(o.generateMipmaps=n.generateMipmaps),o.needsUpdate=!0,t&&t(o,n)},n,r),o}},DataUtils:Zd,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:Sx,DepthFormat:_u,DepthStencilFormat:bu,DepthTexture:Um,DetachedBindMode:zc,DirectionalLight:Hx,DirectionalLightHelper:class extends Ad{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",void 0===t&&(t=1);let r=new hp;r.setAttribute("position",new rp([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new e_({fog:!1,toneMapped:!1});this.lightPlane=new l_(r,i),this.add(this.lightPlane),r=new hp,r.setAttribute("position",new rp([0,0,0,0,0,1],3)),this.targetLine=new l_(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Hw.setFromMatrixPosition(this.light.matrixWorld),Ww.setFromMatrixPosition(this.light.target.matrixWorld),Gw.subVectors(Ww,Hw),this.lightPlane.lookAt(Ww),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Ww),this.targetLine.scale.z=Gw.length()}},DiscreteInterpolant:ux,DisplayP3ColorSpace:mh,DodecahedronGeometry:$_,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:tb,EllipseCurve:S_,EqualCompare:514,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:Wc,EquirectangularRefractionMapping:Gc,Euler:cd,EventDispatcher:Dh,ExtrudeGeometry:Ib,FileLoader:Mx,Float16BufferAttribute:class extends ep{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=$d(this.array[e*this.itemSize]);return this.normalized&&(t=Hh(t,this.array)),t}setX(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize]=Kd(t),this}getY(e){let t=$d(this.array[e*this.itemSize+1]);return this.normalized&&(t=Hh(t,this.array)),t}setY(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+1]=Kd(t),this}getZ(e){let t=$d(this.array[e*this.itemSize+2]);return this.normalized&&(t=Hh(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+2]=Kd(t),this}getW(e){let t=$d(this.array[e*this.itemSize+3]);return this.normalized&&(t=Hh(t,this.array)),t}setW(e,t){return this.normalized&&(t=Wh(t,this.array)),this.array[e*this.itemSize+3]=Kd(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array)),this.array[e+0]=Kd(t),this.array[e+1]=Kd(n),this}setXYZ(e,t,n,r){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array)),this.array[e+0]=Kd(t),this.array[e+1]=Kd(n),this.array[e+2]=Kd(r),this}setXYZW(e,t,n,r,i){return e*=this.itemSize,this.normalized&&(t=Wh(t,this.array),n=Wh(n,this.array),r=Wh(r,this.array),i=Wh(i,this.array)),this.array[e+0]=Kd(t),this.array[e+1]=Kd(n),this.array[e+2]=Kd(r),this.array[e+3]=Kd(i),this}},Float32BufferAttribute:rp,FloatType:lu,Fog:Vv,FogExp2:zv,FramebufferTexture:class extends gf{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=$c,this.minFilter=$c,this.generateMipmaps=!1,this.needsUpdate=!0}},FrontSide:0,Frustum:Jp,GLBufferAttribute:class{constructor(e,t,n,r,i){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}set needsUpdate(e){!0===e&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}},GLSL1:"100",GLSL3:Ih,GreaterCompare:516,GreaterDepth:6,GreaterEqualCompare:518,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:class extends f_{constructor(e=10,t=10,n=4473924,r=8947848){n=new jd(n),r=new jd(r);const i=t/2,o=e/t,a=e/2,s=[],l=[];for(let u=0,h=0,f=-a;u<=t;u++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);const e=u===i?n:r;e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3,e.toArray(l,h),h+=3}const c=new hp;c.setAttribute("position",new rp(s,3)),c.setAttribute("color",new rp(l,3));super(c,new e_({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},Group:Iv,HalfFloatType:cu,HemisphereLight:Rx,HemisphereLightHelper:class extends Ad{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const r=new Db(t);r.rotateY(.5*Math.PI),this.material=new qd({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new ep(o,3)),this.add(new Op(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");Vw.copy(this.light.color),jw.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?Vw:jw;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(zw.setFromMatrixPosition(this.light.matrixWorld).negate())}},IcosahedronGeometry:Pb,ImageBitmapLoader:class extends Ex{constructor(e){super(e),this.isImageBitmapLoader=!0,this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=xx.get(e);if(void 0!==o)return i.manager.itemStart(e),o.then?void o.then(n=>{t&&t(n),i.manager.itemEnd(e)}).catch(e=>{r&&r(e)}):(setTimeout(function(){t&&t(o),i.manager.itemEnd(e)},0),o);const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",a.headers=this.requestHeader;const s=fetch(e,a).then(function(e){return e.blob()}).then(function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))}).then(function(n){return xx.add(e,n),t&&t(n),i.manager.itemEnd(e),n}).catch(function(t){r&&r(t),xx.remove(e),i.manager.itemError(e),i.manager.itemEnd(e)});xx.add(e,s),i.manager.itemStart(e)}},ImageLoader:Cx,ImageUtils:hf,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Ay,InstancedBufferGeometry:$x,InstancedInterleavedBuffer:class extends Hv{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}},InstancedMesh:Dy,Int16BufferAttribute:class extends ep{constructor(e,t,n){super(new Int16Array(e),t,n)}},Int32BufferAttribute:class extends ep{constructor(e,t,n){super(new Int32Array(e),t,n)}},Int8BufferAttribute:class extends ep{constructor(e,t,n){super(new Int8Array(e),t,n)}},IntType:au,InterleavedBuffer:Hv,InterleavedBufferAttribute:Gv,Interpolant:sx,InterpolateDiscrete:ih,InterpolateLinear:oh,InterpolateSmooth:ah,InvertStencilOp:5386,KeepStencilOp:xh,KeyframeTrack:hx,LOD:uy,LatheGeometry:W_,Layers:ud,LessCompare:513,LessDepth:2,LessEqualCompare:515,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:Ox,LightProbe:Xx,Line:l_,Line3:class{constructor(e=new Sf,t=new Sf){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Pw.subVectors(e,this.start),Dw.subVectors(this.end,this.start);const n=Dw.dot(Dw);let r=Dw.dot(Pw)/n;return t&&(r=zh(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return(new this.constructor).copy(this)}},LineBasicMaterial:e_,LineCurve:L_,LineCurve3:F_,LineDashedMaterial:ex,LineLoop:d_,LineSegments:f_,LinearDisplayP3ColorSpace:gh,LinearFilter:Qc,LinearInterpolant:cx,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:tu,LinearMipmapNearestFilter:eu,LinearSRGBColorSpace:ph,LinearToneMapping:1,LinearTransfer:vh,Loader:Ex,LoaderUtils:Kx,LoadingManager:wx,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:yu,LuminanceFormat:vu,MOUSE:vc,Material:Gd,MaterialLoader:Yx,MathUtils:Gh,Matrix3:Xh,Matrix4:Qf,MaxEquation:104,Mesh:Op,MeshBasicMaterial:qd,MeshDepthMaterial:wv,MeshDistanceMaterial:Sv,MeshLambertMaterial:Jb,MeshMatcapMaterial:Qb,MeshNormalMaterial:Zb,MeshPhongMaterial:Kb,MeshPhysicalMaterial:Yb,MeshStandardMaterial:Xb,MeshToonMaterial:$b,MinEquation:103,MirroredRepeatWrapping:Kc,MixOperation:1,MultiplyBlending:4,MultiplyOperation:0,NearestFilter:$c,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:Jc,NearestMipmapNearestFilter:Zc,NeutralToneMapping:7,NeverCompare:512,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColorSpace:fh,NoToneMapping:0,NormalAnimationBlendMode:uh,NormalBlending:1,NotEqualCompare:517,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:px,Object3D:Ad,ObjectLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Kx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Mx(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(n){let o=null;try{o=JSON.parse(n)}catch(s){return void(void 0!==r&&r(s))}const a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):void 0!==r&&r(new Error("THREE.ObjectLoader: Can't load "+e))},n,r)}async loadAsync(e,t){const n=""===this.path?Kx.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||n;const r=new Mx(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials);const i=await r.loadAsync(e,t),o=JSON.parse(i),a=o.metadata;if(void 0===a||void 0===a.type||"geometry"===a.type.toLowerCase())throw new Error("THREE.ObjectLoader: Can't load "+e);return await this.parseAsync(o)}parse(e,t){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=this.parseImages(e.images,function(){void 0!==t&&t(l)}),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),c=this.parseSkeletons(e.skeletons,l);if(this.bindSkeletons(l,c),this.bindLightTargets(l),void 0!==t){let e=!1;for(const t in o)if(o[t].data instanceof HTMLImageElement){e=!0;break}!1===e&&t(l)}return l}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,n),i=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a,o,t),l=this.parseSkeletons(e.skeletons,s);return this.bindSkeletons(s,l),s}parseShapes(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new nb).fromJSON(e[n]);t[r.uuid]=r}return t}parseSkeletons(e,t){const n={},r={};if(t.traverse(function(e){e.isBone&&(r[e.uuid]=e)}),void 0!==e)for(let i=0,o=e.length;i<o;i++){const t=(new Ty).fromJSON(e[i],r);n[t.uuid]=t}return n}parseGeometries(e,t){const n={};if(void 0!==e){const r=new Zx;for(let i=0,o=e.length;i<o;i++){let o;const a=e[i];switch(a.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(a);break;default:a.type in Wb&&(o=Wb[a.type].fromJSON(a,t))}o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.userData&&(o.userData=a.userData),n[a.uuid]=o}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Yx;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t={};if(void 0!==e)for(let n=0;n<e.length;n++){const r=e[n],i=_x.parse(r);t[i.uuid]=i}return t}parseImages(e,t){const n=this,r={};let i;function o(e){if("string"==typeof e){const t=e;return function(e){return n.manager.itemStart(e),i.load(e,function(){n.manager.itemEnd(e)},void 0,function(){n.manager.itemError(e),n.manager.itemEnd(e)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t)}return e.data?{data:Zh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){const n=new wx(t);i=new Cx(n),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const n=e[t],i=n.url;if(Array.isArray(i)){const e=[];for(let t=0,n=i.length;t<n;t++){const n=o(i[t]);null!==n&&(n instanceof HTMLImageElement?e.push(n):e.push(new wy(n.data,n.width,n.height)))}r[n.uuid]=new df(e)}else{const e=o(n.url);r[n.uuid]=new df(e)}}}return r}async parseImagesAsync(e){const t=this,n={};let r;async function i(e){if("string"==typeof e){const n=e,i=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:t.resourcePath+n;return await r.loadAsync(i)}return e.data?{data:Zh(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){r=new Cx(this.manager),r.setCrossOrigin(this.crossOrigin);for(let t=0,r=e.length;t<r;t++){const r=e[t],o=r.url;if(Array.isArray(o)){const e=[];for(let t=0,n=o.length;t<n;t++){const n=o[t],r=await i(n);null!==r&&(r instanceof HTMLImageElement?e.push(r):e.push(new wy(r.data,r.width,r.height)))}n[r.uuid]=new df(e)}else{const e=await i(r.url);n[r.uuid]=new df(e)}}}return n}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:t[e]}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];o.image,t[o.image];const a=t[o.image],s=a.data;let l;Array.isArray(s)?(l=new Wp,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new wy:new gf,s&&(l.needsUpdate=!0)),l.source=a,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Jx)),void 0!==o.channel&&(l.channel=o.channel),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],Qx),l.wrapT=n(o.wrap[1],Qx)),void 0!==o.format&&(l.format=o.format),void 0!==o.internalFormat&&(l.internalFormat=o.internalFormat),void 0!==o.type&&(l.type=o.type),void 0!==o.colorSpace&&(l.colorSpace=o.colorSpace),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,ew)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,ew)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.generateMipmaps&&(l.generateMipmaps=o.generateMipmaps),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.compareFunction&&(l.compareFunction=o.compareFunction),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}parseObject(e,t,n,r,i){let o,a,s;function l(e){return t[e],t[e]}function c(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];n[i],t.push(n[i])}return t}return n[e],n[e]}}function u(e){return r[e],r[e]}switch(e.type){case"Scene":o=new jv,void 0!==e.background&&(Number.isInteger(e.background)?o.background=new jd(e.background):o.background=u(e.background)),void 0!==e.environment&&(o.environment=u(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?o.fog=new Vv(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(o.fog=new zv(e.fog.color,e.fog.density)),""!==e.fog.name&&(o.fog.name=e.fog.name)),void 0!==e.backgroundBlurriness&&(o.backgroundBlurriness=e.backgroundBlurriness),void 0!==e.backgroundIntensity&&(o.backgroundIntensity=e.backgroundIntensity),void 0!==e.backgroundRotation&&o.backgroundRotation.fromArray(e.backgroundRotation),void 0!==e.environmentIntensity&&(o.environmentIntensity=e.environmentIntensity),void 0!==e.environmentRotation&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Vp(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(o.focus=e.focus),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.filmGauge&&(o.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(o.filmOffset=e.filmOffset),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new pm(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(o.zoom=e.zoom),void 0!==e.view&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Wx(e.color,e.intensity);break;case"DirectionalLight":o=new Hx(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Vx(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Gx(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Lx(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Rx(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=(new Xx).fromJSON(e);break;case"SkinnedMesh":a=l(e.geometry),s=c(e.material),o=new by(a,s),void 0!==e.bindMode&&(o.bindMode=e.bindMode),void 0!==e.bindMatrix&&o.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(o.skeleton=e.skeleton);break;case"Mesh":a=l(e.geometry),s=c(e.material),o=new Op(a,s);break;case"InstancedMesh":a=l(e.geometry),s=c(e.material);const t=e.count,n=e.instanceMatrix,r=e.instanceColor;o=new Dy(a,s,t),o.instanceMatrix=new Ay(new Float32Array(n.array),16),void 0!==r&&(o.instanceColor=new Ay(new Float32Array(r.array),r.itemSize));break;case"BatchedMesh":a=l(e.geometry),s=c(e.material),o=new Qy(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,s),o.geometry=a,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(e=>{const t=new Af;t.min.fromArray(e.boxMin),t.max.fromArray(e.boxMax);const n=new Wf;return n.radius=e.sphereRadius,n.center.fromArray(e.sphereCenter),{boxInitialized:e.boxInitialized,box:t,sphereInitialized:e.sphereInitialized,sphere:n}}),o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),void 0!==e.colorsTexture&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new uy;break;case"Line":o=new l_(l(e.geometry),c(e.material));break;case"LineLoop":o=new d_(l(e.geometry),c(e.material));break;case"LineSegments":o=new f_(l(e.geometry),c(e.material));break;case"PointCloud":case"Points":o=new __(l(e.geometry),c(e.material));break;case"Sprite":o=new ay(c(e.material));break;case"Group":o=new Iv;break;case"Bone":o=new xy;break;default:o=new Ad}if(o.uuid=e.uuid,void 0!==e.name&&(o.name=e.name),void 0!==e.matrix?(o.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(void 0!==e.position&&o.position.fromArray(e.position),void 0!==e.rotation&&o.rotation.fromArray(e.rotation),void 0!==e.quaternion&&o.quaternion.fromArray(e.quaternion),void 0!==e.scale&&o.scale.fromArray(e.scale)),void 0!==e.up&&o.up.fromArray(e.up),void 0!==e.castShadow&&(o.castShadow=e.castShadow),void 0!==e.receiveShadow&&(o.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.intensity&&(o.shadow.intensity=e.shadow.intensity),void 0!==e.shadow.bias&&(o.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(o.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(o.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&o.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(o.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(o.visible=e.visible),void 0!==e.frustumCulled&&(o.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(o.renderOrder=e.renderOrder),void 0!==e.userData&&(o.userData=e.userData),void 0!==e.layers&&(o.layers.mask=e.layers),void 0!==e.children){const a=e.children;for(let e=0;e<a.length;e++)o.add(this.parseObject(a[e],t,n,r,i))}if(void 0!==e.animations){const t=e.animations;for(let e=0;e<t.length;e++){const n=t[e];o.animations.push(i[n])}}if("LOD"===e.type){void 0!==e.autoUpdate&&(o.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],r=o.getObjectByProperty("uuid",n.object);void 0!==r&&o.addLevel(r,n.distance,n.hysteresis)}}return o}bindSkeletons(e,t){0!==Object.keys(t).length&&e.traverse(function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){const n=t[e.skeleton];void 0===n||e.bind(n,e.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,r=e.getObjectByProperty("uuid",n);t.target=void 0!==r?r:new Ad}})}},ObjectSpaceNormalMap:1,OctahedronGeometry:Db,OneFactor:201,OneMinusConstantAlphaFactor:214,OneMinusConstantColorFactor:212,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:Oc,OneMinusSrcColorFactor:203,OrthographicCamera:pm,P3Primaries:bh,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:Am,Path:H_,PerspectiveCamera:Vp,Plane:Kp,PlaneGeometry:tm,PlaneHelper:class extends l_{constructor(e,t=1,n=16776960){const r=n,i=new hp;i.setAttribute("position",new rp([1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),i.computeBoundingSphere(),super(i,new e_({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=new hp;o.setAttribute("position",new rp([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),o.computeBoundingSphere(),this.add(new Op(o,new qd({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}},PointLight:Vx,PointLightHelper:class extends Op{constructor(e,t,n){super(new Fb(t,4,2),new qd({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:__,PointsMaterial:p_,PolarGridHelper:class extends f_{constructor(e=10,t=16,n=8,r=64,i=4473924,o=8947848){i=new jd(i),o=new jd(o);const a=[],s=[];if(t>1)for(let c=0;c<t;c++){const n=c/t*(2*Math.PI),r=Math.sin(n)*e,l=Math.cos(n)*e;a.push(0,0,0),a.push(r,0,l);const u=1&c?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let c=0;c<n;c++){const t=1&c?i:o,l=e-e/n*c;for(let e=0;e<r;e++){let n=e/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l;a.push(i,0,o),s.push(t.r,t.g,t.b),n=(e+1)/r*(2*Math.PI),i=Math.sin(n)*l,o=Math.cos(n)*l,a.push(i,0,o),s.push(t.r,t.g,t.b)}}const l=new hp;l.setAttribute("position",new rp(a,3)),l.setAttribute("color",new rp(s,3));super(l,new e_({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}},PolyhedronGeometry:K_,PositionalAudio:class extends fw{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(dw,pw,mw),gw.set(0,0,1).applyQuaternion(pw);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(dw.x,e),t.positionY.linearRampToValueAtTime(dw.y,e),t.positionZ.linearRampToValueAtTime(dw.z,e),t.orientationX.linearRampToValueAtTime(gw.x,e),t.orientationY.linearRampToValueAtTime(gw.y,e),t.orientationZ.linearRampToValueAtTime(gw.z,e)}else t.setPosition(dw.x,dw.y,dw.z),t.setOrientation(gw.x,gw.y,gw.z)}},PropertyBinding:Ew,PropertyMixer:vw,QuadraticBezierCurve:U_,QuadraticBezierCurve3:B_,Quaternion:wf,QuaternionKeyframeTrack:gx,QuaternionLinearInterpolant:mx,RED_GREEN_RGTC2_Format:nh,RED_RGTC1_Format:eh,REVISION:gc,RGBADepthPacking:3201,RGBAFormat:gu,RGBAIntegerFormat:Tu,RGBA_ASTC_10x10_Format:Yu,RGBA_ASTC_10x5_Format:Gu,RGBA_ASTC_10x6_Format:qu,RGBA_ASTC_10x8_Format:Xu,RGBA_ASTC_12x10_Format:Ku,RGBA_ASTC_12x12_Format:$u,RGBA_ASTC_4x4_Format:Fu,RGBA_ASTC_5x4_Format:Uu,RGBA_ASTC_5x5_Format:Bu,RGBA_ASTC_6x5_Format:zu,RGBA_ASTC_6x6_Format:Vu,RGBA_ASTC_8x5_Format:ju,RGBA_ASTC_8x6_Format:Hu,RGBA_ASTC_8x8_Format:Wu,RGBA_BPTC_Format:Zu,RGBA_ETC2_EAC_Format:Lu,RGBA_PVRTC_2BPPV1_Format:Pu,RGBA_PVRTC_4BPPV1_Format:ku,RGBA_S3TC_DXT1_Format:Mu,RGBA_S3TC_DXT3_Format:Cu,RGBA_S3TC_DXT5_Format:Ou,RGBFormat:mu,RGBIntegerFormat:1032,RGB_BPTC_SIGNED_Format:Ju,RGB_BPTC_UNSIGNED_Format:Qu,RGB_ETC1_Format:Du,RGB_ETC2_Format:Nu,RGB_PVRTC_2BPPV1_Format:Iu,RGB_PVRTC_4BPPV1_Format:Ru,RGB_S3TC_DXT1_Format:Au,RGFormat:Su,RGIntegerFormat:Eu,RawShaderMaterial:qb,Ray:Jf,Raycaster:class{constructor(e,t,n=0,r=1/0){this.ray=new Jf(e,t),this.near=n,this.far=r,this.camera=null,this.layers=new ud,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera&&(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t)}setFromXRController(e){return Ow.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Ow),this}intersectObject(e,t=!0,n=[]){return Iw(e,this,n,t),n.sort(Rw),n}intersectObjects(e,t=!0,n=[]){for(let r=0,i=e.length;r<i;r++)Iw(e[r],this,n,t);return n.sort(Rw),n}},Rec709Primaries:_h,RectAreaLight:Gx,RedFormat:xu,RedIntegerFormat:wu,ReinhardToneMapping:2,RenderTarget:yf,RepeatWrapping:Xc,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingGeometry:Nb,SIGNED_RED_GREEN_RGTC2_Format:rh,SIGNED_RED_RGTC1_Format:th,SRGBColorSpace:dh,SRGBTransfer:yh,Scene:jv,ShaderChunk:nm,ShaderLib:im,ShaderMaterial:Lp,ShadowMaterial:Gb,Shape:nb,ShapeGeometry:Lb,ShapePath:class{constructor(){this.type="ShapePath",this.color=new jd,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new H_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}bezierCurveTo(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],s=-s,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const n=Cb.isClockWise,r=this.subPaths;if(0===r.length)return[];let i,o,a;const s=[];if(1===r.length)return o=r[0],a=new nb,a.curves=o.curves,s.push(a),s;let l=!n(r[0].getPoints());l=e?!l:l;const c=[],u=[];let h,f,d=[],p=0;u[p]=void 0,d[p]=[];for(let m=0,g=r.length;m<g;m++)o=r[m],h=o.getPoints(),i=n(h),i=e?!i:i,i?(!l&&u[p]&&p++,u[p]={s:new nb,p:h},u[p].s.curves=o.curves,l&&p++,d[p]=[]):d[p].push({h:o,p:h[0]});if(!u[0])return function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new nb;i.curves=r.curves,t.push(i)}return t}(r);if(u.length>1){let e=!1,n=0;for(let t=0,r=u.length;t<r;t++)c[t]=[];for(let r=0,i=u.length;r<i;r++){const i=d[r];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<u.length;i++)t(a.p,u[i].p)&&(r!==i&&n++,s?(s=!1,c[i].push(a)):e=!0);s&&c[r].push(a)}}n>0&&!1===e&&(d=c)}for(let m=0,g=u.length;m<g;m++){a=u[m].s,s.push(a),f=d[m];for(let e=0,t=f.length;e<t;e++)a.holes.push(f[e].h)}return s}},ShapeUtils:Cb,ShortType:iu,Skeleton:Ty,SkeletonHelper:class extends f_{constructor(e){const t=Bw(e),n=new hp,r=[],i=[],o=new jd(0,0,1),a=new jd(0,1,0);for(let s=0;s<t.length;s++){const e=t[s];e.parent&&e.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new rp(r,3)),n.setAttribute("color",new rp(i,3));super(n,new e_({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");Uw.copy(this.root.matrixWorld).invert();for(let i=0,o=0;i<t.length;i++){const e=t[i];e.parent&&e.parent.isBone&&(Fw.multiplyMatrices(Uw,e.matrixWorld),Lw.setFromMatrixPosition(Fw),r.setXYZ(o,Lw.x,Lw.y,Lw.z),Fw.multiplyMatrices(Uw,e.parent.matrixWorld),Lw.setFromMatrixPosition(Fw),r.setXYZ(o+1,Lw.x,Lw.y,Lw.z),o+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}},SkinnedMesh:by,Source:df,Sphere:Wf,SphereGeometry:Fb,Spherical:class{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(zh(t/this.radius,-1,1))),this}clone(){return(new this.constructor).copy(this)}},SphericalHarmonics3:qx,SplineCurve:z_,SpotLight:Lx,SpotLightHelper:class extends Ad{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new hp,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,s=32;o<s;o++,a++){const e=o/s*Math.PI*2,t=a/s*Math.PI*2;r.push(Math.cos(e),Math.sin(e),1,Math.cos(t),Math.sin(t),1)}n.setAttribute("position",new rp(r,3));const i=new e_({fog:!1,toneMapped:!1});this.cone=new f_(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),Nw.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Nw),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:ay,SpriteMaterial:qv,SrcAlphaFactor:Cc,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:Rh,StaticReadUsage:35045,StereoCamera:class{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vp,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vp,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,ow.copy(e.projectionMatrix);const n=t.eyeSep/2,r=n*t.near/t.focus,i=t.near*Math.tan(Fh*t.fov*.5)/t.zoom;let o,a;iw.elements[12]=-n,rw.elements[12]=n,o=-i*t.aspect+r,a=i*t.aspect+r,ow.elements[0]=2*t.near/(a-o),ow.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(ow),o=-i*t.aspect-r,a=i*t.aspect-r,ow.elements[0]=2*t.near/(a-o),ow.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(ow)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iw),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rw)}},StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:vx,SubtractEquation:101,SubtractiveBlending:3,TOUCH:{ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},TangentSpaceNormalMap:0,TetrahedronGeometry:Ub,Texture:gf,TextureLoader:class extends Ex{constructor(e){super(e)}load(e,t,n,r){const i=new gf,o=new Cx(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)},n,r),i}},TextureUtils:Mv,TorusGeometry:Bb,TorusKnotGeometry:zb,Triangle:Fd,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeGeometry:Vb,UVMapping:Vc,Uint16BufferAttribute:tp,Uint32BufferAttribute:np,Uint8BufferAttribute:class extends ep{constructor(e,t,n){super(new Uint8Array(e),t,n)}},Uint8ClampedBufferAttribute:class extends ep{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}},Uniform:Mw,UniformsGroup:class extends Dh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Cw++}),this.name="",this.usage=Rh,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return-1!==t&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,r=t.length;n<r;n++){const e=Array.isArray(t[n])?t[n]:[t[n]];for(let t=0;t<e.length;t++)this.uniforms.push(e[t].clone())}return this}clone(){return(new this.constructor).copy(this)}},UniformsLib:rm,UniformsUtils:Np,UnsignedByteType:nu,UnsignedInt248Type:fu,UnsignedInt5999Type:du,UnsignedIntType:su,UnsignedShort4444Type:uu,UnsignedShort5551Type:hu,UnsignedShortType:ou,VSMShadowMap:3,Vector2:qh,Vector3:Sf,Vector4:vf,VectorKeyframeTrack:yx,VideoTexture:class extends gf{constructor(e,t,n,r,i,o,a,s,l){super(e,t,n,r,i,o,a,s,l),this.isVideoTexture=!0,this.minFilter=void 0!==o?o:Qc,this.magFilter=void 0!==i?i:Qc,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)})}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},WebGL3DRenderTarget:class extends _f{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new xf(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLArrayRenderTarget:class extends _f{constructor(e=1,t=1,n=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new bf(null,e,t,n),this.texture.isRenderTargetTexture=!0}},WebGLCoordinateSystem:kh,WebGLCubeRenderTarget:Gp,WebGLMultipleRenderTargets:class extends _f{constructor(e=1,t=1,n=1,r={}){super(e,t,{...r,count:n}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}},WebGLRenderTarget:_f,WebGLRenderer:class{constructor(e={}){const{canvas:t=Qh(),context:n=null,depth:r=!0,stencil:i=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:s=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:u=!1}=e;let h;if(this.isWebGLRenderer=!0,null!==n){if("undefined"!=typeof WebGLRenderingContext&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=n.getContextAttributes().alpha}else h=o;const f=new Uint32Array(4),d=new Int32Array(4);let p=null,m=null;const g=[],v=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=dh,this.toneMapping=0,this.toneMappingExposure=1;const y=this;let _=!1,b=0,x=0,w=null,S=-1,E=null;const T=new vf,A=new vf;let M=null;const C=new jd(0);let O=0,R=t.width,I=t.height,k=1,P=null,D=null;const N=new vf(0,0,R,I),L=new vf(0,0,R,I);let F=!1;const U=new Jp;let B=!1,z=!1;const V=new Qf,j=new Sf,H=new vf,W={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let G=!1;function q(){return null===w?k:1}let X,Y,K,$,Z,J,Q,ee,te,ne,re,ie,oe,ae,se,le,ce,ue,he,fe,de,pe,me,ge,ve=n;function ye(e,n){return t.getContext(e,n)}try{const e={alpha:!0,depth:r,stencil:i,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r".concat(gc)),t.addEventListener("webglcontextlost",xe,!1),t.addEventListener("webglcontextrestored",we,!1),t.addEventListener("webglcontextcreationerror",Se,!1),null===ve){const t="webgl2";if(ve=ye(t,e),null===ve)throw ye(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Ue){throw Ue}function _e(){X=new km(ve),X.init(),pe=new Ov(ve,X),Y=new hm(ve,X,e,pe),K=new Tv(ve),$=new Nm(ve),Z=new hv,J=new Cv(ve,X,K,Z,Y,pe,$),Q=new dm(y),ee=new Im(y),te=new em(ve),me=new cm(ve,te),ne=new Pm(ve,te,$,me),re=new Fm(ve,ne,te,$),he=new Lm(ve,Y,J),le=new fm(Z),ie=new uv(y,Q,ee,X,Y,me,le),oe=new Uv(y,Z),ae=new mv,se=new xv(X),ue=new lm(y,Q,ee,K,re,h,s),ce=new Ev(y,re,Y),ge=new Bv(ve,$,Y,K),fe=new um(ve,X,$),de=new Dm(ve,X,$),$.programs=ie.programs,y.capabilities=Y,y.extensions=X,y.properties=Z,y.renderLists=ae,y.shadowMap=ce,y.state=K,y.info=$}_e();const be=new Nv(y,ve);function xe(e){e.preventDefault(),_=!0}function we(){_=!1;const e=$.autoReset,t=ce.enabled,n=ce.autoUpdate,r=ce.needsUpdate,i=ce.type;_e(),$.autoReset=e,ce.enabled=t,ce.autoUpdate=n,ce.needsUpdate=r,ce.type=i}function Se(e){}function Ee(e){const t=e.target;t.removeEventListener("dispose",Ee),function(e){(function(e){const t=Z.get(e).programs;void 0!==t&&(t.forEach(function(e){ie.releaseProgram(e)}),e.isShaderMaterial&&ie.releaseShaderCache(e))})(e),Z.remove(e)}(t)}function Te(e,t,n){!0===e.transparent&&2===e.side&&!1===e.forceSinglePass?(e.side=1,e.needsUpdate=!0,Ne(e,t,n),e.side=0,e.needsUpdate=!0,Ne(e,t,n),e.side=2):Ne(e,t,n)}this.xr=be,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){const e=X.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=X.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return k},this.setPixelRatio=function(e){void 0!==e&&(k=e,this.setSize(R,I,!1))},this.getSize=function(e){return e.set(R,I)},this.setSize=function(e,n,r=!0){be.isPresenting||(R=e,I=n,t.width=Math.floor(e*k),t.height=Math.floor(n*k),!0===r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return e.set(R*k,I*k).floor()},this.setDrawingBufferSize=function(e,n,r){R=e,I=n,k=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return e.copy(T)},this.getViewport=function(e){return e.copy(N)},this.setViewport=function(e,t,n,r){e.isVector4?N.set(e.x,e.y,e.z,e.w):N.set(e,t,n,r),K.viewport(T.copy(N).multiplyScalar(k).round())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),K.scissor(A.copy(L).multiplyScalar(k).round())},this.getScissorTest=function(){return F},this.setScissorTest=function(e){K.setScissorTest(F=e)},this.setOpaqueSort=function(e){P=e},this.setTransparentSort=function(e){D=e},this.getClearColor=function(e){return e.copy(ue.getClearColor())},this.setClearColor=function(){ue.setClearColor.apply(ue,arguments)},this.getClearAlpha=function(){return ue.getClearAlpha()},this.setClearAlpha=function(){ue.setClearAlpha.apply(ue,arguments)},this.clear=function(e=!0,t=!0,n=!0){let r=0;if(e){let e=!1;if(null!==w){const t=w.texture.format;e=t===Tu||t===Eu||t===wu}if(e){const e=w.texture.type,t=e===nu||e===su||e===ou||e===fu||e===uu||e===hu,n=ue.getClearColor(),r=ue.getClearAlpha(),i=n.r,o=n.g,a=n.b;t?(f[0]=i,f[1]=o,f[2]=a,f[3]=r,ve.clearBufferuiv(ve.COLOR,0,f)):(d[0]=i,d[1]=o,d[2]=a,d[3]=r,ve.clearBufferiv(ve.COLOR,0,d))}else r|=ve.COLOR_BUFFER_BIT}t&&(r|=ve.DEPTH_BUFFER_BIT),n&&(r|=ve.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ve.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",xe,!1),t.removeEventListener("webglcontextrestored",we,!1),t.removeEventListener("webglcontextcreationerror",Se,!1),ae.dispose(),se.dispose(),Z.dispose(),Q.dispose(),ee.dispose(),re.dispose(),me.dispose(),ge.dispose(),ie.dispose(),be.dispose(),be.removeEventListener("sessionstart",Me),be.removeEventListener("sessionend",Ce),Oe.stop()},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=W);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=function(e,t,n,r,i){!0!==t.isScene&&(t=W);J.resetTextureUnits();const o=t.fog,a=r.isMeshStandardMaterial?t.environment:null,s=null===w?y.outputColorSpace:!0===w.isXRRenderTarget?w.texture.colorSpace:ph,l=(r.isMeshStandardMaterial?ee:Q).get(r.envMap||a),c=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,u=!!n.attributes.tangent&&(!!r.normalMap||r.anisotropy>0),h=!!n.morphAttributes.position,f=!!n.morphAttributes.normal,d=!!n.morphAttributes.color;let p=0;r.toneMapped&&(null!==w&&!0!==w.isXRRenderTarget||(p=y.toneMapping));const g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,v=void 0!==g?g.length:0,_=Z.get(r),b=m.state.lights;if(!0===B&&(!0===z||e!==E)){const t=e===E&&r.id===S;le.setState(r,e,t)}let x=!1;r.version===_.__version?_.needsLights&&_.lightsStateVersion!==b.state.version||_.outputColorSpace!==s||i.isBatchedMesh&&!1===_.batching?x=!0:i.isBatchedMesh||!0!==_.batching?i.isBatchedMesh&&!0===_.batchingColor&&null===i.colorTexture||i.isBatchedMesh&&!1===_.batchingColor&&null!==i.colorTexture||i.isInstancedMesh&&!1===_.instancing?x=!0:i.isInstancedMesh||!0!==_.instancing?i.isSkinnedMesh&&!1===_.skinning?x=!0:i.isSkinnedMesh||!0!==_.skinning?i.isInstancedMesh&&!0===_.instancingColor&&null===i.instanceColor||i.isInstancedMesh&&!1===_.instancingColor&&null!==i.instanceColor||i.isInstancedMesh&&!0===_.instancingMorph&&null===i.morphTexture||i.isInstancedMesh&&!1===_.instancingMorph&&null!==i.morphTexture||_.envMap!==l||!0===r.fog&&_.fog!==o?x=!0:void 0===_.numClippingPlanes||_.numClippingPlanes===le.numPlanes&&_.numIntersection===le.numIntersection?(_.vertexAlphas!==c||_.vertexTangents!==u||_.morphTargets!==h||_.morphNormals!==f||_.morphColors!==d||_.toneMapping!==p||_.morphTargetsCount!==v)&&(x=!0):x=!0:x=!0:x=!0:x=!0:(x=!0,_.__version=r.version);let T=_.currentProgram;!0===x&&(T=Ne(r,t,i));let A=!1,M=!1,C=!1;const O=T.getUniforms(),R=_.uniforms;K.useProgram(T.program)&&(A=!0,M=!0,C=!0);r.id!==S&&(S=r.id,M=!0);if(A||E!==e){O.setValue(ve,"projectionMatrix",e.projectionMatrix),O.setValue(ve,"viewMatrix",e.matrixWorldInverse);const t=O.map.cameraPosition;void 0!==t&&t.setValue(ve,j.setFromMatrixPosition(e.matrixWorld)),Y.logarithmicDepthBuffer&&O.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&O.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),E!==e&&(E=e,M=!0,C=!0)}if(i.isSkinnedMesh){O.setOptional(ve,i,"bindMatrix"),O.setOptional(ve,i,"bindMatrixInverse");const e=i.skeleton;e&&(null===e.boneTexture&&e.computeBoneTexture(),O.setValue(ve,"boneTexture",e.boneTexture,J))}i.isBatchedMesh&&(O.setOptional(ve,i,"batchingTexture"),O.setValue(ve,"batchingTexture",i._matricesTexture,J),O.setOptional(ve,i,"batchingIdTexture"),O.setValue(ve,"batchingIdTexture",i._indirectTexture,J),O.setOptional(ve,i,"batchingColorTexture"),null!==i._colorsTexture&&O.setValue(ve,"batchingColorTexture",i._colorsTexture,J));const P=n.morphAttributes;void 0===P.position&&void 0===P.normal&&void 0===P.color||he.update(i,n,T);(M||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,O.setValue(ve,"receiveShadow",i.receiveShadow));r.isMeshGouraudMaterial&&null!==r.envMap&&(R.envMap.value=l,R.flipEnvMap.value=l.isCubeTexture&&!1===l.isRenderTargetTexture?-1:1);r.isMeshStandardMaterial&&null===r.envMap&&null!==t.environment&&(R.envMapIntensity.value=t.environmentIntensity);M&&(O.setValue(ve,"toneMappingExposure",y.toneMappingExposure),_.needsLights&&(N=C,(D=R).ambientLightColor.needsUpdate=N,D.lightProbe.needsUpdate=N,D.directionalLights.needsUpdate=N,D.directionalLightShadows.needsUpdate=N,D.pointLights.needsUpdate=N,D.pointLightShadows.needsUpdate=N,D.spotLights.needsUpdate=N,D.spotLightShadows.needsUpdate=N,D.rectAreaLights.needsUpdate=N,D.hemisphereLights.needsUpdate=N),o&&!0===r.fog&&oe.refreshFogUniforms(R,o),oe.refreshMaterialUniforms(R,r,k,I,m.state.transmissionRenderTarget[e.id]),Hg.upload(ve,Le(_),R,J));var D,N;r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Hg.upload(ve,Le(_),R,J),r.uniformsNeedUpdate=!1);r.isSpriteMaterial&&O.setValue(ve,"center",i.center);if(O.setValue(ve,"modelViewMatrix",i.modelViewMatrix),O.setValue(ve,"normalMatrix",i.normalMatrix),O.setValue(ve,"modelMatrix",i.matrixWorld),r.isShaderMaterial||r.isRawShaderMaterial){const e=r.uniformsGroups;for(let t=0,n=e.length;t<n;t++){const n=e[t];ge.update(n,T),ge.bind(n,T)}}return T}(e,t,n,r,i);K.setMaterial(r,a);let l=n.index,c=1;if(!0===r.wireframe){if(l=ne.getWireframeAttribute(n),void 0===l)return;c=2}const u=n.drawRange,h=n.attributes.position;let f=u.start*c,d=(u.start+u.count)*c;null!==o&&(f=Math.max(f,o.start*c),d=Math.min(d,(o.start+o.count)*c)),null!==l?(f=Math.max(f,0),d=Math.min(d,l.count)):null!=h&&(f=Math.max(f,0),d=Math.min(d,h.count));const p=d-f;if(p<0||p===1/0)return;let g;me.setup(i,r,s,n,l);let v=fe;if(null!==l&&(g=te.get(l),v=de,v.setIndex(g)),i.isMesh)!0===r.wireframe?(K.setLineWidth(r.wireframeLinewidth*q()),v.setMode(ve.LINES)):v.setMode(ve.TRIANGLES);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),K.setLineWidth(e*q()),i.isLineSegments?v.setMode(ve.LINES):i.isLineLoop?v.setMode(ve.LINE_LOOP):v.setMode(ve.LINE_STRIP)}else i.isPoints?v.setMode(ve.POINTS):i.isSprite&&v.setMode(ve.TRIANGLES);if(i.isBatchedMesh)if(null!==i._multiDrawInstances)v.renderMultiDrawInstances(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount,i._multiDrawInstances);else if(X.get("WEBGL_multi_draw"))v.renderMultiDraw(i._multiDrawStarts,i._multiDrawCounts,i._multiDrawCount);else{const e=i._multiDrawStarts,t=i._multiDrawCounts,n=i._multiDrawCount,o=l?te.get(l).bytesPerElement:1,a=Z.get(r).currentProgram.getUniforms();for(let r=0;r<n;r++)a.setValue(ve,"_gl_DrawID",r),v.render(e[r]/o,t[r])}else if(i.isInstancedMesh)v.renderInstances(f,p,i.count);else if(n.isInstancedBufferGeometry){const e=void 0!==n._maxInstanceCount?n._maxInstanceCount:1/0,t=Math.min(n.instanceCount,e);v.renderInstances(f,p,t)}else v.render(f,p)},this.compile=function(e,t,n=null){null===n&&(n=e),m=se.get(n),m.init(t),v.push(m),n.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),e!==n&&e.traverseVisible(function(e){e.isLight&&e.layers.test(t.layers)&&(m.pushLight(e),e.castShadow&&m.pushShadow(e))}),m.setupLights();const r=new Set;return e.traverse(function(e){const t=e.material;if(t)if(Array.isArray(t))for(let i=0;i<t.length;i++){const o=t[i];Te(o,n,e),r.add(o)}else Te(t,n,e),r.add(t)}),v.pop(),m=null,r},this.compileAsync=function(e,t,n=null){const r=this.compile(e,t,n);return new Promise(t=>{function n(){r.forEach(function(e){Z.get(e).currentProgram.isReady()&&r.delete(e)}),0!==r.size?setTimeout(n,10):t(e)}null!==X.get("KHR_parallel_shader_compile")?n():setTimeout(n,10)})};let Ae=null;function Me(){Oe.stop()}function Ce(){Oe.start()}const Oe=new Qp;function Re(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)m.pushLight(e),e.castShadow&&m.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||U.intersectsSprite(e)){r&&H.setFromMatrixPosition(e.matrixWorld).applyMatrix4(V);const t=re.update(e),i=e.material;i.visible&&p.push(e,t,i,n,H.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(!e.frustumCulled||U.intersectsObject(e))){const t=re.update(e),i=e.material;if(r&&(void 0!==e.boundingSphere?(null===e.boundingSphere&&e.computeBoundingSphere(),H.copy(e.boundingSphere.center)):(null===t.boundingSphere&&t.computeBoundingSphere(),H.copy(t.boundingSphere.center)),H.applyMatrix4(e.matrixWorld).applyMatrix4(V)),Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&p.push(e,t,s,n,H.z,a)}}else i.visible&&p.push(e,t,i,n,H.z,null)}const i=e.children;for(let o=0,a=i.length;o<a;o++)Re(i[o],t,n,r)}function Ie(e,t,n,r){const i=e.opaque,o=e.transmissive,a=e.transparent;m.setupLightsView(n),!0===B&&le.setGlobalState(y.clippingPlanes,n),r&&K.viewport(T.copy(r)),i.length>0&&Pe(i,t,n),o.length>0&&Pe(o,t,n),a.length>0&&Pe(a,t,n),K.buffers.depth.setTest(!0),K.buffers.depth.setMask(!0),K.buffers.color.setMask(!0),K.setPolygonOffset(!1)}function ke(e,t,n,r){if(null!==(!0===n.isScene?n.overrideMaterial:null))return;void 0===m.state.transmissionRenderTarget[r.id]&&(m.state.transmissionRenderTarget[r.id]=new _f(1,1,{generateMipmaps:!0,type:X.has("EXT_color_buffer_half_float")||X.has("EXT_color_buffer_float")?cu:nu,minFilter:tu,samples:4,stencilBuffer:i,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:sf.workingColorSpace}));const o=m.state.transmissionRenderTarget[r.id],a=r.viewport||T;o.setSize(a.z,a.w);const s=y.getRenderTarget();y.setRenderTarget(o),y.getClearColor(C),O=y.getClearAlpha(),O<1&&y.setClearColor(16777215,.5),G?ue.render(n):y.clear();const l=y.toneMapping;y.toneMapping=0;const c=r.viewport;if(void 0!==r.viewport&&(r.viewport=void 0),m.setupLightsView(r),!0===B&&le.setGlobalState(y.clippingPlanes,r),Pe(e,n,r),J.updateMultisampleRenderTarget(o),J.updateRenderTargetMipmap(o),!1===X.has("WEBGL_multisampled_render_to_texture")){let e=!1;for(let i=0,o=t.length;i<o;i++){const o=t[i],a=o.object,s=o.geometry,l=o.material,c=o.group;if(2===l.side&&a.layers.test(r.layers)){const t=l.side;l.side=1,l.needsUpdate=!0,De(a,n,r,s,l,c),l.side=t,l.needsUpdate=!0,e=!0}}!0===e&&(J.updateMultisampleRenderTarget(o),J.updateRenderTargetMipmap(o))}y.setRenderTarget(s),y.setClearColor(C,O),void 0!==c&&(r.viewport=c),y.toneMapping=l}function Pe(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;a.layers.test(n.layers)&&De(a,t,n,s,l,c)}}function De(e,t,n,r,i,o){e.onBeforeRender(y,t,n,r,i,o),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),!0===i.transparent&&2===i.side&&!1===i.forceSinglePass?(i.side=1,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=0,i.needsUpdate=!0,y.renderBufferDirect(n,t,r,i,e,o),i.side=2):y.renderBufferDirect(n,t,r,i,e,o),e.onAfterRender(y,t,n,r,i,o)}function Ne(e,t,n){!0!==t.isScene&&(t=W);const r=Z.get(e),i=m.state.lights,o=m.state.shadowsArray,a=i.state.version,s=ie.getParameters(e,i.state,o,t,n),l=ie.getProgramCacheKey(s);let c=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?ee:Q).get(e.envMap||r.environment),r.envMapRotation=null!==r.environment&&null===e.envMap?t.environmentRotation:e.envMapRotation,void 0===c&&(e.addEventListener("dispose",Ee),c=new Map,r.programs=c);let u=c.get(l);if(void 0!==u){if(r.currentProgram===u&&r.lightsStateVersion===a)return Fe(e,s),u}else s.uniforms=ie.getUniforms(e),e.onBeforeCompile(s,y),u=ie.acquireProgram(s,l),c.set(l,u),r.uniforms=s.uniforms;const h=r.uniforms;return(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(h.clippingPlanes=le.uniform),Fe(e,s),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotLightMatrix.value=i.state.spotLightMatrix,h.spotLightMap.value=i.state.spotLightMap,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix),r.currentProgram=u,r.uniformsList=null,u}function Le(e){if(null===e.uniformsList){const t=e.currentProgram.getUniforms();e.uniformsList=Hg.seqWithValue(t.seq,e.uniforms)}return e.uniformsList}function Fe(e,t){const n=Z.get(e);n.outputColorSpace=t.outputColorSpace,n.batching=t.batching,n.batchingColor=t.batchingColor,n.instancing=t.instancing,n.instancingColor=t.instancingColor,n.instancingMorph=t.instancingMorph,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}Oe.setAnimationLoop(function(e){Ae&&Ae(e)}),"undefined"!=typeof self&&Oe.setContext(self),this.setAnimationLoop=function(e){Ae=e,be.setAnimationLoop(e),null===e?Oe.stop():Oe.start()},be.addEventListener("sessionstart",Me),be.addEventListener("sessionend",Ce),this.render=function(e,t){if(void 0!==t&&!0!==t.isCamera)return;if(!0===_)return;if(!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),!0===be.enabled&&!0===be.isPresenting&&(!0===be.cameraAutoUpdate&&be.updateCamera(t),t=be.getCamera()),!0===e.isScene&&e.onBeforeRender(y,e,t,w),m=se.get(e,v.length),m.init(t),v.push(m),V.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),U.setFromProjectionMatrix(V),z=this.localClippingEnabled,B=le.init(this.clippingPlanes,z),p=ae.get(e,g.length),p.init(),g.push(p),!0===be.enabled&&!0===be.isPresenting){const e=y.xr.getDepthSensingMesh();null!==e&&Re(e,t,-1/0,y.sortObjects)}Re(e,t,0,y.sortObjects),p.finish(),!0===y.sortObjects&&p.sort(P,D),G=!1===be.enabled||!1===be.isPresenting||!1===be.hasDepthSensing(),G&&ue.addToRenderList(p,e),this.info.render.frame++,!0===B&&le.beginShadows();const n=m.state.shadowsArray;ce.render(n,e,t),!0===B&&le.endShadows(),!0===this.info.autoReset&&this.info.reset();const r=p.opaque,i=p.transmissive;if(m.setupLights(),t.isArrayCamera){const n=t.cameras;if(i.length>0)for(let t=0,o=n.length;t<o;t++){ke(r,i,e,n[t])}G&&ue.render(e);for(let t=0,r=n.length;t<r;t++){const r=n[t];Ie(p,e,r,r.viewport)}}else i.length>0&&ke(r,i,e,t),G&&ue.render(e),Ie(p,e,t);null!==w&&(J.updateMultisampleRenderTarget(w),J.updateRenderTargetMipmap(w)),!0===e.isScene&&e.onAfterRender(y,e,t),me.resetDefaultState(),S=-1,E=null,v.pop(),v.length>0?(m=v[v.length-1],!0===B&&le.setGlobalState(y.clippingPlanes,m.state.camera)):m=null,g.pop(),p=g.length>0?g[g.length-1]:null},this.getActiveCubeFace=function(){return b},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(e,t,n){Z.get(e.texture).__webglTexture=t,Z.get(e.depthTexture).__webglTexture=n;const r=Z.get(e);r.__hasExternalTextures=!0,r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===X.has("WEBGL_multisampled_render_to_texture")&&(r.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(e,t){const n=Z.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e,t=0,n=0){w=e,b=t,x=n;let r=!0,i=null,o=!1,a=!1;if(e){const s=Z.get(e);void 0!==s.__useDefaultFramebuffer?(K.bindFramebuffer(ve.FRAMEBUFFER,null),r=!1):void 0===s.__webglFramebuffer?J.setupRenderTarget(e):s.__hasExternalTextures&&J.rebindTextures(e,Z.get(e.texture).__webglTexture,Z.get(e.depthTexture).__webglTexture);const l=e.texture;(l.isData3DTexture||l.isDataArrayTexture||l.isCompressedArrayTexture)&&(a=!0);const c=Z.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(i=Array.isArray(c[t])?c[t][n]:c[t],o=!0):i=e.samples>0&&!1===J.useMultisampledRTT(e)?Z.get(e).__webglMultisampledFramebuffer:Array.isArray(c)?c[n]:c,T.copy(e.viewport),A.copy(e.scissor),M=e.scissorTest}else T.copy(N).multiplyScalar(k).floor(),A.copy(L).multiplyScalar(k).floor(),M=F;if(K.bindFramebuffer(ve.FRAMEBUFFER,i)&&r&&K.drawBuffers(e,i),K.viewport(T),K.scissor(A),K.setScissorTest(M),o){const r=Z.get(e.texture);ve.framebufferTexture2D(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,ve.TEXTURE_CUBE_MAP_POSITIVE_X+t,r.__webglTexture,n)}else if(a){const r=Z.get(e.texture),i=t||0;ve.framebufferTextureLayer(ve.FRAMEBUFFER,ve.COLOR_ATTACHMENT0,r.__webglTexture,n||0,i)}S=-1},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return;let s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){K.bindFramebuffer(ve.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(!Y.textureFormatReadable(s))return;if(!Y.textureTypeReadable(l))return;t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,pe.convert(s),pe.convert(l),o)}finally{const e=null!==w?Z.get(w).__webglFramebuffer:null;K.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.readRenderTargetPixelsAsync=async function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=Z.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){K.bindFramebuffer(ve.FRAMEBUFFER,s);try{const a=e.texture,s=a.format,l=a.type;if(!Y.textureFormatReadable(s))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Y.textureTypeReadable(l))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i){const e=ve.createBuffer();ve.bindBuffer(ve.PIXEL_PACK_BUFFER,e),ve.bufferData(ve.PIXEL_PACK_BUFFER,o.byteLength,ve.STREAM_READ),ve.readPixels(t,n,r,i,pe.convert(s),pe.convert(l),0),ve.flush();const a=ve.fenceSync(ve.SYNC_GPU_COMMANDS_COMPLETE,0);await function(e,t,n){return new Promise(function(r,i){setTimeout(function o(){switch(e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0)){case e.WAIT_FAILED:i();break;case e.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}},n)})}(ve,a,4);try{ve.bindBuffer(ve.PIXEL_PACK_BUFFER,e),ve.getBufferSubData(ve.PIXEL_PACK_BUFFER,0,o)}finally{ve.deleteBuffer(e),ve.deleteSync(a)}return o}}finally{const e=null!==w?Z.get(w).__webglFramebuffer:null;K.bindFramebuffer(ve.FRAMEBUFFER,e)}}},this.copyFramebufferToTexture=function(e,t=null,n=0){!0!==e.isTexture&&(t=arguments[0]||null,e=arguments[1]);const r=Math.pow(2,-n),i=Math.floor(e.image.width*r),o=Math.floor(e.image.height*r),a=null!==t?t.x:0,s=null!==t?t.y:0;J.setTexture2D(e,0),ve.copyTexSubImage2D(ve.TEXTURE_2D,n,0,0,a,s,i,o),K.unbindTexture()},this.copyTextureToTexture=function(e,t,n=null,r=null,i=0){let o,a,s,l,c,u;!0!==e.isTexture&&(r=arguments[0]||null,e=arguments[1],t=arguments[2],i=arguments[3]||0,n=null),null!==n?(o=n.max.x-n.min.x,a=n.max.y-n.min.y,s=n.min.x,l=n.min.y):(o=e.image.width,a=e.image.height,s=0,l=0),null!==r?(c=r.x,u=r.y):(c=0,u=0);const h=pe.convert(t.format),f=pe.convert(t.type);J.setTexture2D(t,0),ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,t.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,t.unpackAlignment);const d=ve.getParameter(ve.UNPACK_ROW_LENGTH),p=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),m=ve.getParameter(ve.UNPACK_SKIP_PIXELS),g=ve.getParameter(ve.UNPACK_SKIP_ROWS),v=ve.getParameter(ve.UNPACK_SKIP_IMAGES),y=e.isCompressedTexture?e.mipmaps[i]:e.image;ve.pixelStorei(ve.UNPACK_ROW_LENGTH,y.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,y.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,s),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,l),e.isDataTexture?ve.texSubImage2D(ve.TEXTURE_2D,i,c,u,o,a,h,f,y.data):e.isCompressedTexture?ve.compressedTexSubImage2D(ve.TEXTURE_2D,i,c,u,y.width,y.height,h,y.data):ve.texSubImage2D(ve.TEXTURE_2D,i,c,u,o,a,h,f,y),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,d),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,p),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,m),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,g),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,v),0===i&&t.generateMipmaps&&ve.generateMipmap(ve.TEXTURE_2D),K.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n=null,r=null,i=0){let o,a,s,l,c,u,h,f,d;!0!==e.isTexture&&(n=arguments[0]||null,r=arguments[1]||null,e=arguments[2],t=arguments[3],i=arguments[4]||0);const p=e.isCompressedTexture?e.mipmaps[i]:e.image;null!==n?(o=n.max.x-n.min.x,a=n.max.y-n.min.y,s=n.max.z-n.min.z,l=n.min.x,c=n.min.y,u=n.min.z):(o=p.width,a=p.height,s=p.depth,l=0,c=0,u=0),null!==r?(h=r.x,f=r.y,d=r.z):(h=0,f=0,d=0);const m=pe.convert(t.format),g=pe.convert(t.type);let v;if(t.isData3DTexture)J.setTexture3D(t,0),v=ve.TEXTURE_3D;else{if(!t.isDataArrayTexture&&!t.isCompressedArrayTexture)return;J.setTexture2DArray(t,0),v=ve.TEXTURE_2D_ARRAY}ve.pixelStorei(ve.UNPACK_FLIP_Y_WEBGL,t.flipY),ve.pixelStorei(ve.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),ve.pixelStorei(ve.UNPACK_ALIGNMENT,t.unpackAlignment);const y=ve.getParameter(ve.UNPACK_ROW_LENGTH),_=ve.getParameter(ve.UNPACK_IMAGE_HEIGHT),b=ve.getParameter(ve.UNPACK_SKIP_PIXELS),x=ve.getParameter(ve.UNPACK_SKIP_ROWS),w=ve.getParameter(ve.UNPACK_SKIP_IMAGES);ve.pixelStorei(ve.UNPACK_ROW_LENGTH,p.width),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,p.height),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,l),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,c),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,u),e.isDataTexture||e.isData3DTexture?ve.texSubImage3D(v,i,h,f,d,o,a,s,m,g,p.data):t.isCompressedArrayTexture?ve.compressedTexSubImage3D(v,i,h,f,d,o,a,s,m,p.data):ve.texSubImage3D(v,i,h,f,d,o,a,s,m,g,p),ve.pixelStorei(ve.UNPACK_ROW_LENGTH,y),ve.pixelStorei(ve.UNPACK_IMAGE_HEIGHT,_),ve.pixelStorei(ve.UNPACK_SKIP_PIXELS,b),ve.pixelStorei(ve.UNPACK_SKIP_ROWS,x),ve.pixelStorei(ve.UNPACK_SKIP_IMAGES,w),0===i&&t.generateMipmaps&&ve.generateMipmap(v),K.unbindTexture()},this.initRenderTarget=function(e){void 0===Z.get(e).__webglFramebuffer&&J.setupRenderTarget(e)},this.initTexture=function(e){e.isCubeTexture?J.setTextureCube(e,0):e.isData3DTexture?J.setTexture3D(e,0):e.isDataArrayTexture||e.isCompressedArrayTexture?J.setTexture2DArray(e,0):J.setTexture2D(e,0),K.unbindTexture()},this.resetState=function(){b=0,x=0,w=null,K.reset(),me.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return kh}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===mh?"display-p3":"srgb",t.unpackColorSpace=sf.workingColorSpace===gh?"display-p3":"srgb"}},WebGLUtils:Ov,WebGPUCoordinateSystem:Ph,WireframeGeometry:jb,WrapAroundEnding:ch,ZeroCurvatureEnding:sh,ZeroFactor:200,ZeroSlopeEnding:lh,ZeroStencilOp:0,createCanvasElement:Qh},Symbol.toStringTag,{value:"Module"})),{entries:eS,setPrototypeOf:tS,isFrozen:nS,getPrototypeOf:rS,getOwnPropertyDescriptor:iS}=Object;let{freeze:oS,seal:aS,create:sS}=Object,{apply:lS,construct:cS}="undefined"!=typeof Reflect&&Reflect;oS||(oS=function(e){return e}),aS||(aS=function(e){return e}),lS||(lS=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.apply(t,r)}),cS||(cS=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const uS=TS(Array.prototype.forEach),hS=TS(Array.prototype.lastIndexOf),fS=TS(Array.prototype.pop),dS=TS(Array.prototype.push),pS=TS(Array.prototype.splice),mS=TS(String.prototype.toLowerCase),gS=TS(String.prototype.toString),vS=TS(String.prototype.match),yS=TS(String.prototype.replace),_S=TS(String.prototype.indexOf),bS=TS(String.prototype.trim),xS=TS(Object.prototype.hasOwnProperty),wS=TS(RegExp.prototype.test),SS=(ES=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cS(ES,t)});var ES;function TS(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return lS(e,t,r)}}function AS(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mS;tS&&tS(e,null);let r=t.length;for(;r--;){let i=t[r];if("string"==typeof i){const e=n(i);e!==i&&(nS(t)||(t[r]=e),i=e)}e[i]=!0}return e}function MS(e){for(let t=0;t<e.length;t++){xS(e,t)||(e[t]=null)}return e}function CS(e){const t=sS(null);for(const[n,r]of eS(e)){xS(e,n)&&(Array.isArray(r)?t[n]=MS(r):r&&"object"==typeof r&&r.constructor===Object?t[n]=CS(r):t[n]=r)}return t}function OS(e,t){for(;null!==e;){const n=iS(e,t);if(n){if(n.get)return TS(n.get);if("function"==typeof n.value)return TS(n.value)}e=rS(e)}return function(){return null}}const RS=oS(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),IS=oS(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),kS=oS(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),PS=oS(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),DS=oS(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),NS=oS(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),LS=oS(["#text"]),FS=oS(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),US=oS(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),BS=oS(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zS=oS(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VS=aS(/\{\{[\w\W]*|[\w\W]*\}\}/gm),jS=aS(/<%[\w\W]*|[\w\W]*%>/gm),HS=aS(/\$\{[\w\W]*/gm),WS=aS(/^data-[\-\w.\u00B7-\uFFFF]+$/),GS=aS(/^aria-[\-\w]+$/),qS=aS(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),XS=aS(/^(?:\w+script|data):/i),YS=aS(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),KS=aS(/^html$/i),$S=aS(/^[a-z][.\w]*(-[.\w]+)+$/i);var ZS=Object.freeze({__proto__:null,ARIA_ATTR:GS,ATTR_WHITESPACE:YS,CUSTOM_ELEMENT:$S,DATA_ATTR:WS,DOCTYPE_NAME:KS,ERB_EXPR:jS,IS_ALLOWED_URI:qS,IS_SCRIPT_OR_DATA:XS,MUSTACHE_EXPR:VS,TMPLIT_EXPR:HS});const JS=1,QS=3,eE=7,tE=8,nE=9;var rE=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"undefined"==typeof window?null:window;const n=t=>e(t);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==nE||!t.Element)return n.isSupported=!1,n;let{document:r}=t;const i=r,o=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:p}=t,m=c.prototype,g=OS(m,"cloneNode"),v=OS(m,"remove"),y=OS(m,"nextSibling"),_=OS(m,"childNodes"),b=OS(m,"parentNode");if("function"==typeof s){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let x,w="";const{implementation:S,createNodeIterator:E,createDocumentFragment:T,getElementsByTagName:A}=r,{importNode:M}=i;let C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof eS&&"function"==typeof b&&S&&void 0!==S.createHTMLDocument;const{MUSTACHE_EXPR:O,ERB_EXPR:R,TMPLIT_EXPR:I,DATA_ATTR:k,ARIA_ATTR:P,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:N,CUSTOM_ELEMENT:L}=ZS;let{IS_ALLOWED_URI:F}=ZS,U=null;const B=AS({},[...RS,...IS,...kS,...DS,...LS]);let z=null;const V=AS({},[...FS,...US,...BS,...zS]);let j=Object.seal(sS(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,W=null;const G=Object.seal(sS(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let q=!0,X=!0,Y=!1,K=!0,$=!1,Z=!0,J=!1,Q=!1,ee=!1,te=!1,ne=!1,re=!1,ie=!0,oe=!1,ae=!0,se=!1,le={},ce=null;const ue=AS({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let he=null;const fe=AS({},["audio","video","img","source","image","track"]);let de=null;const pe=AS({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),me="http://www.w3.org/1998/Math/MathML",ge="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let ye=ve,_e=!1,be=null;const xe=AS({},[me,ge,ve],gS);let we=AS({},["mi","mo","mn","ms","mtext"]),Se=AS({},["annotation-xml"]);const Ee=AS({},["title","style","font","a","script"]);let Te=null;const Ae=["application/xhtml+xml","text/html"];let Me=null,Ce=null;const Oe=r.createElement("form"),Re=function(e){return e instanceof RegExp||e instanceof Function},Ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ce||Ce!==e){if(e&&"object"==typeof e||(e={}),e=CS(e),Te=-1===Ae.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Me="application/xhtml+xml"===Te?gS:mS,U=xS(e,"ALLOWED_TAGS")?AS({},e.ALLOWED_TAGS,Me):B,z=xS(e,"ALLOWED_ATTR")?AS({},e.ALLOWED_ATTR,Me):V,be=xS(e,"ALLOWED_NAMESPACES")?AS({},e.ALLOWED_NAMESPACES,gS):xe,de=xS(e,"ADD_URI_SAFE_ATTR")?AS(CS(pe),e.ADD_URI_SAFE_ATTR,Me):pe,he=xS(e,"ADD_DATA_URI_TAGS")?AS(CS(fe),e.ADD_DATA_URI_TAGS,Me):fe,ce=xS(e,"FORBID_CONTENTS")?AS({},e.FORBID_CONTENTS,Me):ue,H=xS(e,"FORBID_TAGS")?AS({},e.FORBID_TAGS,Me):CS({}),W=xS(e,"FORBID_ATTR")?AS({},e.FORBID_ATTR,Me):CS({}),le=!!xS(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,X=!1!==e.ALLOW_DATA_ATTR,Y=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,$=e.SAFE_FOR_TEMPLATES||!1,Z=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,te=e.RETURN_DOM||!1,ne=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,ee=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,oe=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,se=e.IN_PLACE||!1,F=e.ALLOWED_URI_REGEXP||qS,ye=e.NAMESPACE||ve,we=e.MATHML_TEXT_INTEGRATION_POINTS||we,Se=e.HTML_INTEGRATION_POINTS||Se,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$&&(X=!1),ne&&(te=!0),le&&(U=AS({},LS),z=[],!0===le.html&&(AS(U,RS),AS(z,FS)),!0===le.svg&&(AS(U,IS),AS(z,US),AS(z,zS)),!0===le.svgFilters&&(AS(U,kS),AS(z,US),AS(z,zS)),!0===le.mathMl&&(AS(U,DS),AS(z,BS),AS(z,zS))),e.ADD_TAGS&&("function"==typeof e.ADD_TAGS?G.tagCheck=e.ADD_TAGS:(U===B&&(U=CS(U)),AS(U,e.ADD_TAGS,Me))),e.ADD_ATTR&&("function"==typeof e.ADD_ATTR?G.attributeCheck=e.ADD_ATTR:(z===V&&(z=CS(z)),AS(z,e.ADD_ATTR,Me))),e.ADD_URI_SAFE_ATTR&&AS(de,e.ADD_URI_SAFE_ATTR,Me),e.FORBID_CONTENTS&&(ce===ue&&(ce=CS(ce)),AS(ce,e.FORBID_CONTENTS,Me)),e.ADD_FORBID_CONTENTS&&(ce===ue&&(ce=CS(ce)),AS(ce,e.ADD_FORBID_CONTENTS,Me)),ae&&(U["#text"]=!0),J&&AS(U,["html","head","body"]),U.table&&(AS(U,["tbody"]),delete H.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw SS('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw SS('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=e.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else void 0===x&&(x=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML:e=>e,createScriptURL:e=>e})}catch(o){return null}}(p,o)),null!==x&&"string"==typeof w&&(w=x.createHTML(""));oS&&oS(e),Ce=e}},ke=AS({},[...IS,...kS,...PS]),Pe=AS({},[...DS,...NS]),De=function(e){dS(n.removed,{element:e});try{b(e).removeChild(e)}catch(t){v(e)}},Ne=function(e,t){try{dS(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){dS(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(te||ne)try{De(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},Le=function(e){let t=null,n=null;if(ee)e="<remove></remove>"+e;else{const t=vS(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===Te&&ye===ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const i=x?x.createHTML(e):e;if(ye===ve)try{t=(new d).parseFromString(i,Te)}catch(a){}if(!t||!t.documentElement){t=S.createDocument(ye,"template",null);try{t.documentElement.innerHTML=_e?w:i}catch(a){}}const o=t.body||t.documentElement;return e&&n&&o.insertBefore(r.createTextNode(n),o.childNodes[0]||null),ye===ve?A.call(t,J?"html":"body")[0]:J?t.documentElement:o},Fe=function(e){return E.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Ue=function(e){return e instanceof f&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},Be=function(e){return"function"==typeof l&&e instanceof l};function ze(e,t,r){uS(e,e=>{e.call(n,t,r,Ce)})}const Ve=function(e){let t=null;if(ze(C.beforeSanitizeElements,e,null),Ue(e))return De(e),!0;const r=Me(e.nodeName);if(ze(C.uponSanitizeElement,e,{tagName:r,allowedTags:U}),Z&&e.hasChildNodes()&&!Be(e.firstElementChild)&&wS(/<[/\w!]/g,e.innerHTML)&&wS(/<[/\w!]/g,e.textContent))return De(e),!0;if(e.nodeType===eE)return De(e),!0;if(Z&&e.nodeType===tE&&wS(/<[/\w]/g,e.data))return De(e),!0;if(!(G.tagCheck instanceof Function&&G.tagCheck(r))&&(!U[r]||H[r])){if(!H[r]&&He(r)){if(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,r))return!1;if(j.tagNameCheck instanceof Function&&j.tagNameCheck(r))return!1}if(ae&&!ce[r]){const t=b(e)||e.parentNode,n=_(e)||e.childNodes;if(n&&t){for(let r=n.length-1;r>=0;--r){const i=g(n[r],!0);i.__removalCount=(e.__removalCount||0)+1,t.insertBefore(i,y(e))}}}return De(e),!0}return e instanceof c&&!function(e){let t=b(e);t&&t.tagName||(t={namespaceURI:ye,tagName:"template"});const n=mS(e.tagName),r=mS(t.tagName);return!!be[e.namespaceURI]&&(e.namespaceURI===ge?t.namespaceURI===ve?"svg"===n:t.namespaceURI===me?"svg"===n&&("annotation-xml"===r||we[r]):Boolean(ke[n]):e.namespaceURI===me?t.namespaceURI===ve?"math"===n:t.namespaceURI===ge?"math"===n&&Se[r]:Boolean(Pe[n]):e.namespaceURI===ve?!(t.namespaceURI===ge&&!Se[r])&&!(t.namespaceURI===me&&!we[r])&&!Pe[n]&&(Ee[n]||!ke[n]):!("application/xhtml+xml"!==Te||!be[e.namespaceURI]))}(e)?(De(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!wS(/<\/no(script|embed|frames)/i,e.innerHTML)?($&&e.nodeType===QS&&(t=e.textContent,uS([O,R,I],e=>{t=yS(t,e," ")}),e.textContent!==t&&(dS(n.removed,{element:e.cloneNode()}),e.textContent=t)),ze(C.afterSanitizeElements,e,null),!1):(De(e),!0)},je=function(e,t,n){if(ie&&("id"===t||"name"===t)&&(n in r||n in Oe))return!1;if(X&&!W[t]&&wS(k,t));else if(q&&wS(P,t));else if(G.attributeCheck instanceof Function&&G.attributeCheck(t,e));else if(!z[t]||W[t]){if(!(He(e)&&(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&wS(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t,e))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&wS(j.tagNameCheck,n)||j.tagNameCheck instanceof Function&&j.tagNameCheck(n))))return!1}else if(de[t]);else if(wS(F,yS(n,N,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_S(n,"data:")||!he[e]){if(Y&&!wS(D,yS(n,N,"")));else if(n)return!1}else;return!0},He=function(e){return"annotation-xml"!==e&&vS(e,L)},We=function(e){ze(C.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||Ue(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let i=t.length;for(;i--;){const a=t[i],{name:s,namespaceURI:l,value:c}=a,u=Me(s),h=c;let f="value"===s?h:bS(h);if(r.attrName=u,r.attrValue=f,r.keepAttr=!0,r.forceKeepAttr=void 0,ze(C.uponSanitizeAttribute,e,r),f=r.attrValue,!oe||"id"!==u&&"name"!==u||(Ne(s,e),f="user-content-"+f),Z&&wS(/((--!?|])>)|<\/(style|title|textarea)/i,f)){Ne(s,e);continue}if("attributename"===u&&vS(f,"href")){Ne(s,e);continue}if(r.forceKeepAttr)continue;if(!r.keepAttr){Ne(s,e);continue}if(!K&&wS(/\/>/i,f)){Ne(s,e);continue}$&&uS([O,R,I],e=>{f=yS(f,e," ")});const d=Me(e.nodeName);if(je(d,u,f)){if(x&&"object"==typeof p&&"function"==typeof p.getAttributeType)if(l);else switch(p.getAttributeType(d,u)){case"TrustedHTML":f=x.createHTML(f);break;case"TrustedScriptURL":f=x.createScriptURL(f)}if(f!==h)try{l?e.setAttributeNS(l,s,f):e.setAttribute(s,f),Ue(e)?De(e):fS(n.removed)}catch(o){Ne(s,e)}}else Ne(s,e)}ze(C.afterSanitizeAttributes,e,null)},Ge=function e(t){let n=null;const r=Fe(t);for(ze(C.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)ze(C.uponSanitizeShadowNode,n,null),Ve(n),We(n),n.content instanceof a&&e(n.content);ze(C.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,c=null;if(_e=!e,_e&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Be(e)){if("function"!=typeof e.toString)throw SS("toString is not a function");if("string"!=typeof(e=e.toString()))throw SS("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Q||Ie(t),n.removed=[],"string"==typeof e&&(se=!1),se){if(e.nodeName){const t=Me(e.nodeName);if(!U[t]||H[t])throw SS("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)r=Le("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),o.nodeType===JS&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!te&&!$&&!J&&-1===e.indexOf("<"))return x&&re?x.createHTML(e):e;if(r=Le(e),!r)return te?null:re?w:""}r&&ee&&De(r.firstChild);const u=Fe(se?e:r);for(;s=u.nextNode();)Ve(s),We(s),s.content instanceof a&&Ge(s.content);if(se)return e;if(te){if(ne)for(c=T.call(r.ownerDocument);r.firstChild;)c.appendChild(r.firstChild);else c=r;return(z.shadowroot||z.shadowrootmode)&&(c=M.call(i,c,!0)),c}let h=J?r.outerHTML:r.innerHTML;return J&&U["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&wS(KS,r.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+h),$&&uS([O,R,I],e=>{h=yS(h,e," ")}),x&&re?x.createHTML(h):h},n.setConfig=function(){Ie(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Q=!0},n.clearConfig=function(){Ce=null,Q=!1},n.isValidAttribute=function(e,t,n){Ce||Ie({});const r=Me(e),i=Me(t);return je(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&dS(C[e],t)},n.removeHook=function(e,t){if(void 0!==t){const n=hS(C[e],t);return-1===n?void 0:pS(C[e],n,1)[0]}return fS(C[e])},n.removeHooks=function(e){C[e]=[]},n.removeAllHooks=function(){C={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();function iE(){return rE()}const oE={install(e,t={},n=iE){e.directive("dompurify-html",function(e={},t=iE){const n=t();!function(e,t){var n;const r=null!=(n=e.hooks)?n:{};let i;for(i in r){const e=r[i];void 0!==e&&t.addHook(i,e)}}(e,n);const r=function(t){var r,i;const o=t.value;if(t.oldValue===o)return;const a="".concat(o),s=t.arg,l=e.namedConfigurations,c=null!=(r=e.default)?r:{};return l&&void 0!==s?n.sanitize(a,null!=(i=l[s])?i:c):n.sanitize(a,c)},i=function(e,t){const n=r(t);void 0!==n&&(e.innerHTML=n)},o={mounted:i,updated:i};return e.enableSSRPropsSupport?{...o,getSSRProps:e=>({innerHTML:r(e)})}:o}(t,n))}};function aE(e,t){}const sE="undefined"!=typeof window,lE=(e,t=!1)=>t?Symbol.for(e):Symbol(e),cE=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),uE=e=>"number"==typeof e&&isFinite(e),hE=e=>"[object RegExp]"===CE(e),fE=e=>OE(e)&&0===Object.keys(e).length,dE=Object.assign,pE=Object.create,mE=(e=null)=>pE(e);let gE;const vE=()=>gE||(gE="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:mE());function yE(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function _E(e){return e.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}const bE=Object.prototype.hasOwnProperty;function xE(e,t){return bE.call(e,t)}const wE=Array.isArray,SE=e=>"function"==typeof e,EE=e=>"string"==typeof e,TE=e=>"boolean"==typeof e,AE=e=>null!==e&&"object"==typeof e,ME=Object.prototype.toString,CE=e=>ME.call(e),OE=e=>"[object Object]"===CE(e);function RE(e,t=""){return e.reduce((e,n,r)=>0===r?e+n:e+t+n,"")}const IE=e=>!AE(e)||wE(e);function kE(e,t){if(IE(e)||IE(t))throw new Error("Invalid value");const n=[{src:e,des:t}];for(;n.length;){const{src:e,des:t}=n.pop();Object.keys(e).forEach(r=>{"__proto__"!==r&&(AE(e[r])&&!AE(t[r])&&(t[r]=Array.isArray(e[r])?[]:mE()),IE(t[r])||IE(e[r])?t[r]=e[r]:n.push({src:e[r],des:t[r]}))})}}function PE(e,t,n){return{start:e,end:t}}const DE=1,NE=2,LE=3,FE=4,UE=5,BE=6,zE=7,VE=8,jE=9,HE=10,WE=11,GE=12,qE=13,XE=14;function YE(e,t,n={}){const{domain:r,messages:i,args:o}=n,a=new SyntaxError(String(e));return a.code=e,t&&(a.location=t),a.domain=r,a}function KE(e){throw e}const $E=" ",ZE="\n",JE=String.fromCharCode(8232),QE=String.fromCharCode(8233);function eT(e){const t=e;let n=0,r=1,i=1,o=0;const a=e=>"\r"===t[e]&&t[e+1]===ZE,s=e=>t[e]===QE,l=e=>t[e]===JE,c=e=>a(e)||(e=>t[e]===ZE)(e)||s(e)||l(e),u=e=>a(e)||s(e)||l(e)?ZE:t[e];function h(){return o=0,c(n)&&(r++,i=0),a(n)&&n++,n++,i++,t[n]}return{index:()=>n,line:()=>r,column:()=>i,peekOffset:()=>o,charAt:u,currentChar:()=>u(n),currentPeek:()=>u(n+o),next:h,peek:function(){return a(n+o)&&o++,o++,t[n+o]},reset:function(){n=0,r=1,i=1,o=0},resetPeek:function(e=0){o=e},skipToPeek:function(){const e=n+o;for(;e!==n;)h();o=0}}}const tT=void 0;function nT(e,t={}){const n=!1!==t.location,r=eT(e),i=()=>r.index(),o=()=>{return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},a=o(),s=i(),l={currentType:13,offset:s,startLoc:a,endLoc:a,lastType:13,lastOffset:s,lastStartLoc:a,lastEndLoc:a,braceNest:0,inLinked:!1,text:""},c=()=>l,{onError:u}=t;function h(e,t,r,...i){const o=c();if(t.column+=r,t.offset+=r,u){const r=YE(e,n?PE(o.startLoc,t):null,{domain:"tokenizer",args:i});u(r)}}function f(e,t,r){e.endLoc=o(),e.currentType=t;const i={type:t};return n&&(i.loc=PE(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}const d=e=>f(e,13);function p(e,t){return e.currentChar()===t?(e.next(),t):(h(DE,o(),0,t),"")}function m(e){let t="";for(;e.currentPeek()===$E||e.currentPeek()===ZE;)t+=e.currentPeek(),e.peek();return t}function g(e){const t=m(e);return e.skipToPeek(),t}function v(e){if(e===tT)return!1;const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=function(e){if(e===tT)return!1;const t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),r}function _(e){m(e);const t="|"===e.currentPeek();return e.resetPeek(),t}function b(e,t=!0){const n=(t=!1,r="")=>{const i=e.currentPeek();return"{"===i?t:"@"!==i&&i?"|"===i?!(r===$E||r===ZE):i===$E?(e.peek(),n(!0,$E)):i!==ZE||(e.peek(),n(!0,ZE)):t},r=n();return t&&e.resetPeek(),r}function x(e,t){const n=e.currentChar();return n===tT?tT:t(n)?(e.next(),n):null}function w(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}function S(e){return x(e,w)}function E(e){const t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t||45===t}function T(e){return x(e,E)}function A(e){const t=e.charCodeAt(0);return t>=48&&t<=57}function M(e){return x(e,A)}function C(e){const t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}function O(e){return x(e,C)}function R(e){let t="",n="";for(;t=M(e);)n+=t;return n}function I(e){return"'"!==e&&e!==ZE}function k(e){const t=e.currentChar();switch(t){case"\\":case"'":return e.next(),"\\".concat(t);case"u":return P(e,t,4);case"U":return P(e,t,6);default:return h(FE,o(),0,t),""}}function P(e,t,n){p(e,t);let r="";for(let i=0;i<n;i++){const n=O(e);if(!n){h(UE,o(),0,"\\".concat(t).concat(r).concat(e.currentChar()));break}r+=n}return"\\".concat(t).concat(r)}function D(e){return"{"!==e&&"}"!==e&&e!==$E&&e!==ZE}function N(e){g(e);let t="",n="";for(;t=x(e,D);)n+=t;return n}function L(e){g(e);const t=p(e,"|");return g(e),t}function F(e,t){let n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&h(jE,o(),0),e.next(),n=f(t,2,"{"),g(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&h(VE,o(),0),e.next(),n=f(t,3,"}"),t.braceNest--,t.braceNest>0&&g(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&h(zE,o(),0),n=U(e,t)||d(t),t.braceNest=0,n;default:{let r=!0,i=!0,a=!0;if(_(e))return t.braceNest>0&&h(zE,o(),0),n=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(4===t.currentType||5===t.currentType||6===t.currentType))return h(zE,o(),0),t.braceNest=0,B(e,t);if(r=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t))return n=f(t,4,function(e){g(e);let t="",n="";for(;t=T(e);)n+=t;const r=e.currentChar();if(r&&"}"!==r&&r!==tT&&r!==$E&&r!==ZE&&""!==r){const t=N(e);return h(NE,o(),0,n+t),n+t}return e.currentChar()===tT&&h(zE,o(),0),n}(e)),g(e),n;if(i=y(e,t))return n=f(t,5,function(e){g(e);let t="";return"-"===e.currentChar()?(e.next(),t+="-".concat(R(e))):t+=R(e),e.currentChar()===tT&&h(zE,o(),0),t}(e)),g(e),n;if(a=function(e,t){const{currentType:n}=t;if(2!==n)return!1;m(e);const r="'"===e.currentPeek();return e.resetPeek(),r}(e,t))return n=f(t,6,function(e){g(e),p(e,"'");let t="",n="";for(;t=x(e,I);)n+="\\"===t?k(e):t;const r=e.currentChar();return r===ZE||r===tT?(h(LE,o(),0),r===ZE&&(e.next(),p(e,"'")),n):(p(e,"'"),n)}(e)),g(e),n;if(!r&&!i&&!a)return n=f(t,12,N(e)),h(NE,o(),0,n.value),g(e),n;break}}return n}function U(e,t){const{currentType:n}=t;let r=null;const i=e.currentChar();switch(7!==n&&8!==n&&11!==n&&9!==n||i!==ZE&&i!==$E||h(HE,o(),0),i){case"@":return e.next(),r=f(t,7,"@"),t.inLinked=!0,r;case".":return g(e),e.next(),f(t,8,".");case":":return g(e),e.next(),f(t,9,":");default:return _(e)?(r=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){const{currentType:n}=t;if(7!==n)return!1;m(e);const r="."===e.currentPeek();return e.resetPeek(),r}(e,t)||function(e,t){const{currentType:n}=t;if(7!==n&&11!==n)return!1;m(e);const r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(g(e),U(e,t)):function(e,t){const{currentType:n}=t;if(8!==n)return!1;m(e);const r=v(e.currentPeek());return e.resetPeek(),r}(e,t)?(g(e),f(t,11,function(e){let t="",n="";for(;t=S(e);)n+=t;return n}(e))):function(e,t){const{currentType:n}=t;if(9!==n)return!1;const r=()=>{const t=e.currentPeek();return"{"===t?v(e.peek()):!("@"===t||"|"===t||":"===t||"."===t||t===$E||!t)&&(t===ZE?(e.peek(),r()):b(e,!1))},i=r();return e.resetPeek(),i}(e,t)?(g(e),"{"===i?F(e,t)||r:f(t,10,function(e){const t=n=>{const r=e.currentChar();return"{"!==r&&"@"!==r&&"|"!==r&&"("!==r&&")"!==r&&r?r===$E?n:(n+=r,e.next(),t(n)):n};return t("")}(e))):(7===n&&h(HE,o(),0),t.braceNest=0,t.inLinked=!1,B(e,t))}}function B(e,t){let n={type:13};if(t.braceNest>0)return F(e,t)||d(t);if(t.inLinked)return U(e,t)||d(t);switch(e.currentChar()){case"{":return F(e,t)||d(t);case"}":return h(BE,o(),0),e.next(),f(t,3,"}");case"@":return U(e,t)||d(t);default:if(_(e))return n=f(t,1,L(e)),t.braceNest=0,t.inLinked=!1,n;if(b(e))return f(t,0,function(e){let t="";for(;;){const n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if(n===$E||n===ZE)if(b(e))t+=n,e.next();else{if(_(e))break;t+=n,e.next()}else t+=n,e.next()}return t}(e))}return n}return{nextToken:function(){const{currentType:e,offset:t,startLoc:n,endLoc:a}=l;return l.lastType=e,l.lastOffset=t,l.lastStartLoc=n,l.lastEndLoc=a,l.offset=i(),l.startLoc=o(),r.currentChar()===tT?f(l,13):B(r,l)},currentOffset:i,currentPosition:o,context:c}}const rT=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function iT(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:{const e=parseInt(t||n,16);return e<=55295||e>=57344?String.fromCodePoint(e):""}}}function oT(e={}){const t=!1!==e.location,{onError:n}=e;function r(e,r,i,o,...a){const s=e.currentPosition();if(s.offset+=o,s.column+=o,n){const e=YE(r,t?PE(i,s):null,{domain:"parser",args:a});n(e)}}function i(e,n,r){const i={type:e};return t&&(i.start=n,i.end=n,i.loc={start:r,end:r}),i}function o(e,n,r,i){t&&(e.end=n,e.loc&&(e.loc.end=r))}function a(e,t){const n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}function s(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(5,r,a);return s.index=parseInt(t,10),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function l(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(4,r,a);return s.key=t,e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function c(e,t){const n=e.context(),{lastOffset:r,lastStartLoc:a}=n,s=i(9,r,a);return s.value=t.replace(rT,iT),e.nextToken(),o(s,e.currentOffset(),e.currentPosition()),s}function u(e){const t=e.context(),n=i(6,t.offset,t.startLoc);let a=e.nextToken();if(8===a.type){const t=function(e){const t=e.nextToken(),n=e.context(),{lastOffset:a,lastStartLoc:s}=n,l=i(8,a,s);return 11!==t.type?(r(e,GE,n.lastStartLoc,0),l.value="",o(l,a,s),{nextConsumeToken:t,node:l}):(null==t.value&&r(e,XE,n.lastStartLoc,0,aT(t)),l.value=t.value||"",o(l,e.currentOffset(),e.currentPosition()),{node:l})}(e);n.modifier=t.node,a=t.nextConsumeToken||e.nextToken()}switch(9!==a.type&&r(e,XE,t.lastStartLoc,0,aT(a)),a=e.nextToken(),2===a.type&&(a=e.nextToken()),a.type){case 10:null==a.value&&r(e,XE,t.lastStartLoc,0,aT(a)),n.key=function(e,t){const n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,o(r,e.currentOffset(),e.currentPosition()),r}(e,a.value||"");break;case 4:null==a.value&&r(e,XE,t.lastStartLoc,0,aT(a)),n.key=l(e,a.value||"");break;case 5:null==a.value&&r(e,XE,t.lastStartLoc,0,aT(a)),n.key=s(e,a.value||"");break;case 6:null==a.value&&r(e,XE,t.lastStartLoc,0,aT(a)),n.key=c(e,a.value||"");break;default:{r(e,qE,t.lastStartLoc,0);const s=e.context(),l=i(7,s.offset,s.startLoc);return l.value="",o(l,s.offset,s.startLoc),n.key=l,o(n,s.offset,s.startLoc),{nextConsumeToken:a,node:n}}}return o(n,e.currentOffset(),e.currentPosition()),{node:n}}function h(e){const t=e.context(),n=i(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];let h=null;do{const i=h||e.nextToken();switch(h=null,i.type){case 0:null==i.value&&r(e,XE,t.lastStartLoc,0,aT(i)),n.items.push(a(e,i.value||""));break;case 5:null==i.value&&r(e,XE,t.lastStartLoc,0,aT(i)),n.items.push(s(e,i.value||""));break;case 4:null==i.value&&r(e,XE,t.lastStartLoc,0,aT(i)),n.items.push(l(e,i.value||""));break;case 6:null==i.value&&r(e,XE,t.lastStartLoc,0,aT(i)),n.items.push(c(e,i.value||""));break;case 7:{const t=u(e);n.items.push(t.node),h=t.nextConsumeToken||null;break}}}while(13!==t.currentType&&1!==t.currentType);return o(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function f(e){const t=e.context(),{offset:n,startLoc:a}=t,s=h(e);return 13===t.currentType?s:function(e,t,n,a){const s=e.context();let l=0===a.items.length;const c=i(1,t,n);c.cases=[],c.cases.push(a);do{const t=h(e);l||(l=0===t.items.length),c.cases.push(t)}while(13!==s.currentType);return l&&r(e,WE,n,0),o(c,e.currentOffset(),e.currentPosition()),c}(e,n,a,s)}return{parse:function(n){const a=nT(n,dE({},e)),s=a.context(),l=i(0,s.offset,s.startLoc);return t&&l.loc&&(l.loc.source=n),l.body=f(a),e.onCacheKey&&(l.cacheKey=e.onCacheKey(n)),13!==s.currentType&&r(a,XE,s.lastStartLoc,0,n[s.offset]||""),o(l,a.currentOffset(),a.currentPosition()),l}}}function aT(e){if(13===e.type)return"EOF";const t=(e.value||"").replace(/\r?\n/gu,"\\n");return t.length>10?t.slice(0,9)+"":t}function sT(e,t){for(let n=0;n<e.length;n++)lT(e[n],t)}function lT(e,t){switch(e.type){case 1:sT(e.cases,t),t.helper("plural");break;case 2:sT(e.items,t);break;case 6:lT(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function cT(e,t={}){const n=function(e){const t={ast:e,helpers:new Set};return{context:()=>t,helper:e=>(t.helpers.add(e),e)}}(e);n.helper("normalize"),e.body&&lT(e.body,n);const r=n.context();e.helpers=Array.from(r.helpers)}function uT(e){if(1===e.items.length){const t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{const t=[];for(let n=0;n<e.items.length;n++){const r=e.items[n];if(3!==r.type&&9!==r.type)break;if(null==r.value)break;t.push(r.value)}if(t.length===e.items.length){e.static=RE(t);for(let t=0;t<e.items.length;t++){const n=e.items[t];3!==n.type&&9!==n.type||delete n.value}}}}function hT(e){switch(e.t=e.type,e.type){case 0:{const t=e;hT(t.body),t.b=t.body,delete t.body;break}case 1:{const t=e,n=t.cases;for(let e=0;e<n.length;e++)hT(n[e]);t.c=n,delete t.cases;break}case 2:{const t=e,n=t.items;for(let e=0;e<n.length;e++)hT(n[e]);t.i=n,delete t.items,t.static&&(t.s=t.static,delete t.static);break}case 3:case 9:case 8:case 7:{const t=e;t.value&&(t.v=t.value,delete t.value);break}case 6:{const t=e;hT(t.key),t.k=t.key,delete t.key,t.modifier&&(hT(t.modifier),t.m=t.modifier,delete t.modifier);break}case 5:{const t=e;t.i=t.index,delete t.index;break}case 4:{const t=e;t.k=t.key,delete t.key;break}}delete e.type}function fT(e,t){const{helper:n}=e;switch(t.type){case 0:!function(e,t){t.body?fT(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){const{helper:n,needIndent:r}=e;if(t.cases.length>1){e.push("".concat(n("plural"),"([")),e.indent(r());const i=t.cases.length;for(let n=0;n<i&&(fT(e,t.cases[n]),n!==i-1);n++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){const{helper:n,needIndent:r}=e;e.push("".concat(n("normalize"),"([")),e.indent(r());const i=t.items.length;for(let o=0;o<i&&(fT(e,t.items[o]),o!==i-1);o++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){const{helper:n}=e;e.push("".concat(n("linked"),"(")),fT(e,t.key),t.modifier?(e.push(", "),fT(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push("".concat(n("interpolate"),"(").concat(n("list"),"(").concat(t.index,"))"),t);break;case 4:e.push("".concat(n("interpolate"),"(").concat(n("named"),"(").concat(JSON.stringify(t.key),"))"),t)}}function dT(e,t={}){const n=dE({},t),r=!!n.jit,i=!!n.minify,o=null==n.optimize||n.optimize,a=oT(n).parse(e);return r?(o&&function(e){const t=e.body;2===t.type?uT(t):t.cases.forEach(e=>uT(e))}(a),i&&hT(a),{ast:a,code:""}):(cT(a,n),((e,t={})=>{const n=EE(t.mode)?t.mode:"normal",r=EE(t.filename)?t.filename:"message.intl";t.sourceMap;const i=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,a=e.helpers||[],s=function(e,t){const{filename:n,breakLineCode:r,needIndent:i}=t,o=!1!==t.location,a={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};function s(e,t){a.code+=e}function l(e,t=!0){const n=t?r:"";s(i?n+"  ".repeat(e):n)}return o&&e.loc&&(a.source=e.loc.source),{context:()=>a,push:s,indent:function(e=!0){const t=++a.indentLevel;e&&l(t)},deindent:function(e=!0){const t=--a.indentLevel;e&&l(t)},newline:function(){l(a.indentLevel)},helper:e=>"_".concat(e),needIndent:()=>a.needIndent}}(e,{filename:r,breakLineCode:i,needIndent:o});s.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),s.indent(o),a.length>0&&(s.push("const { ".concat(RE(a.map(e=>"".concat(e,": _").concat(e)),", ")," } = ctx")),s.newline()),s.push("return "),fT(s,e),s.deindent(o),s.push("}"),delete e.helpers;const{code:l,map:c}=s.context();return{ast:e,code:l,map:c?c.toJSON():void 0}})(a,n))}function pT(e){return AE(e)&&0===bT(e)&&(xE(e,"b")||xE(e,"body"))}const mT=["b","body"];const gT=["c","cases"];const vT=["s","static"];const yT=["i","items"];const _T=["t","type"];function bT(e){return TT(e,_T)}const xT=["v","value"];function wT(e,t){const n=TT(e,xT);if(null!=n)return n;throw MT(t)}const ST=["m","modifier"];const ET=["k","key"];function TT(e,t,n){for(let r=0;r<t.length;r++){const n=t[r];if(xE(e,n)&&null!=e[n])return e[n]}return n}const AT=[...mT,...gT,...vT,...yT,...ET,...ST,...xT,..._T];function MT(e){return new Error("unhandled node type: ".concat(e))}function CT(e){return t=>function(e,t){const n=(r=t,TT(r,mT));var r;if(null==n)throw MT(0);if(1===bT(n)){const t=function(e){return TT(e,gT,[])}(n);return e.plural(t.reduce((t,n)=>[...t,OT(e,n)],[]))}return OT(e,n)}(t,e)}function OT(e,t){const n=function(e){return TT(e,vT)}(t);if(null!=n)return"text"===e.type?n:e.normalize([n]);{const n=function(e){return TT(e,yT,[])}(t).reduce((t,n)=>[...t,RT(e,n)],[]);return e.normalize(n)}}function RT(e,t){const n=bT(t);switch(n){case 3:case 9:case 7:case 8:return wT(t,n);case 4:{const r=t;if(xE(r,"k")&&r.k)return e.interpolate(e.named(r.k));if(xE(r,"key")&&r.key)return e.interpolate(e.named(r.key));throw MT(n)}case 5:{const r=t;if(xE(r,"i")&&uE(r.i))return e.interpolate(e.list(r.i));if(xE(r,"index")&&uE(r.index))return e.interpolate(e.list(r.index));throw MT(n)}case 6:{const n=t,r=function(e){return TT(e,ST)}(n),i=function(e){const t=TT(e,ET);if(t)return t;throw MT(6)}(n);return e.linked(RT(e,i),r?RT(e,r):void 0,e.type)}default:throw new Error("unhandled node on format message part: ".concat(n))}}const IT=e=>e;let kT=mE();let PT=null;const DT=NT("function:translate");function NT(e){return t=>PT&&PT.emit(e,t)}const LT=17,FT=18,UT=19,BT=21,zT=22,VT=23;function jT(e){return YE(e,null,void 0)}function HT(e,t){return null!=t.locale?GT(t.locale):GT(e.locale)}let WT;function GT(e){if(EE(e))return e;if(SE(e)){if(e.resolvedOnce&&null!=WT)return WT;if("Function"===e.constructor.name){const n=e();if(AE(t=n)&&SE(t.then)&&SE(t.catch))throw jT(BT);return WT=n}throw jT(zT)}throw jT(VT);var t}function qT(e,t,n){return[...new Set([n,...wE(t)?t:AE(t)?Object.keys(t):EE(t)?[t]:[n]])]}function XT(e,t,n){const r=EE(n)?n:rA,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);let o=i.__localeChainCache.get(r);if(!o){o=[];let e=[n];for(;wE(e);)e=YT(o,e,t);const a=wE(t)||!OE(t)?t:t.default?t.default:null;e=EE(a)?[a]:a,wE(e)&&YT(o,e,!1),i.__localeChainCache.set(r,o)}return o}function YT(e,t,n){let r=!0;for(let i=0;i<t.length&&TE(r);i++){const o=t[i];EE(o)&&(r=KT(e,t[i],n))}return r}function KT(e,t,n){let r;const i=t.split("-");do{r=$T(e,i.join("-"),n),i.splice(-1,1)}while(i.length&&!0===r);return r}function $T(e,t,n){let r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];const i=t.replace(/!/g,"");e.push(i),(wE(n)||OE(n))&&n[i]&&(r=n[i])}return r}const ZT=[];ZT[0]={w:[0],i:[3,0],"[":[4],o:[7]},ZT[1]={w:[1],".":[2],"[":[4],o:[7]},ZT[2]={w:[2],i:[3,0],0:[3,0]},ZT[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},ZT[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},ZT[5]={"'":[4,0],o:8,l:[5,0]},ZT[6]={'"':[4,0],o:8,l:[6,0]};const JT=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function QT(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function eA(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(n=t,JT.test(n)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var n}const tA=new Map;function nA(e,t){return AE(e)?e[t]:null}const rA="en-US",iA=e=>"".concat(e.charAt(0).toLocaleUpperCase()).concat(e.substr(1));let oA,aA,sA;let lA=null;const cA=()=>lA;let uA=null;const hA=e=>{uA=e};let fA=0;function dA(e={}){const t=SE(e.onWarn)?e.onWarn:aE,n=EE(e.version)?e.version:"11.2.7",r=EE(e.locale)||SE(e.locale)?e.locale:rA,i=SE(r)?rA:r,o=wE(e.fallbackLocale)||OE(e.fallbackLocale)||EE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,a=OE(e.messages)?e.messages:pA(i),s=OE(e.datetimeFormats)?e.datetimeFormats:pA(i),l=OE(e.numberFormats)?e.numberFormats:pA(i),c=dE(mE(),e.modifiers,{upper:(e,t)=>"text"===t&&EE(e)?e.toUpperCase():"vnode"===t&&AE(e)&&"__v_isVNode"in e?e.children.toUpperCase():e,lower:(e,t)=>"text"===t&&EE(e)?e.toLowerCase():"vnode"===t&&AE(e)&&"__v_isVNode"in e?e.children.toLowerCase():e,capitalize:(e,t)=>"text"===t&&EE(e)?iA(e):"vnode"===t&&AE(e)&&"__v_isVNode"in e?iA(e.children):e}),u=e.pluralRules||mE(),h=SE(e.missing)?e.missing:null,f=!TE(e.missingWarn)&&!hE(e.missingWarn)||e.missingWarn,d=!TE(e.fallbackWarn)&&!hE(e.fallbackWarn)||e.fallbackWarn,p=!!e.fallbackFormat,m=!!e.unresolving,g=SE(e.postTranslation)?e.postTranslation:null,v=OE(e.processor)?e.processor:null,y=!TE(e.warnHtmlMessage)||e.warnHtmlMessage,_=!!e.escapeParameter,b=SE(e.messageCompiler)?e.messageCompiler:oA,x=SE(e.messageResolver)?e.messageResolver:aA||nA,w=SE(e.localeFallbacker)?e.localeFallbacker:sA||qT,S=AE(e.fallbackContext)?e.fallbackContext:void 0,E=e,T=AE(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,A=AE(E.__numberFormatters)?E.__numberFormatters:new Map,M=AE(E.__meta)?E.__meta:{};fA++;const C={version:n,cid:fA,locale:r,fallbackLocale:o,messages:a,modifiers:c,pluralRules:u,missing:h,missingWarn:f,fallbackWarn:d,fallbackFormat:p,unresolving:m,postTranslation:g,processor:v,warnHtmlMessage:y,escapeParameter:_,messageCompiler:b,messageResolver:x,localeFallbacker:w,fallbackContext:S,onWarn:t,__meta:M};return C.datetimeFormats=s,C.numberFormats=l,C.__datetimeFormatters=T,C.__numberFormatters=A,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){PT&&PT.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}(C,n,M),C}const pA=e=>({[e]:mE()});function mA(e,t,n,r,i){const{missing:o,onWarn:a}=e;if(null!==o){const r=o(e,n,t,i);return EE(r)?r:t}return t}function gA(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function vA(e,t){return e!==t&&e.split("-")[0]===t.split("-")[0]}function yA(e,t){const n=t.indexOf(e);if(-1===n)return!1;for(let r=n+1;r<t.length;r++)if(vA(e,t[r]))return!0;return!1}function _A(e,...t){const{datetimeFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:a}=e,{__datetimeFormatters:s}=e,[l,c,u,h]=xA(...t);TE(u.missingWarn)?u.missingWarn:e.missingWarn;TE(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,d=HT(e,u),p=a(e,i,d);if(!EE(l)||""===l)return new Intl.DateTimeFormat(d,h).format(c);let m,g={},v=null;for(let b=0;b<p.length&&(m=p[b],g=n[m]||{},v=g[l],!OE(v));b++)mA(e,l,m,0,"datetime format");if(!OE(v)||!EE(m))return r?-1:l;let y="".concat(m,"__").concat(l);fE(h)||(y="".concat(y,"__").concat(JSON.stringify(h)));let _=s.get(y);return _||(_=new Intl.DateTimeFormat(m,dE({},v,h)),s.set(y,_)),f?_.formatToParts(c):_.format(c)}const bA=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function xA(...e){const[t,n,r,i]=e,o=mE();let a,s=mE();if(EE(t)){const e=t.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!e)throw jT(UT);const n=e[3]?e[3].trim().startsWith("T")?"".concat(e[1].trim()).concat(e[3].trim()):"".concat(e[1].trim(),"T").concat(e[3].trim()):e[1].trim();a=new Date(n);try{a.toISOString()}catch(ame){throw jT(UT)}}else if("[object Date]"===CE(t)){if(isNaN(t.getTime()))throw jT(FT);a=t}else{if(!uE(t))throw jT(LT);a=t}return EE(n)?o.key=n:OE(n)&&Object.keys(n).forEach(e=>{bA.includes(e)?s[e]=n[e]:o[e]=n[e]}),EE(r)?o.locale=r:OE(r)&&(s=r),OE(i)&&(s=i),[o.key||"",a,o,s]}function wA(e,t,n){const r=e;for(const i in n){const e="".concat(t,"__").concat(i);r.__datetimeFormatters.has(e)&&r.__datetimeFormatters.delete(e)}}function SA(e,...t){const{numberFormats:n,unresolving:r,fallbackLocale:i,onWarn:o,localeFallbacker:a}=e,{__numberFormatters:s}=e,[l,c,u,h]=TA(...t);TE(u.missingWarn)?u.missingWarn:e.missingWarn;TE(u.fallbackWarn)?u.fallbackWarn:e.fallbackWarn;const f=!!u.part,d=HT(e,u),p=a(e,i,d);if(!EE(l)||""===l)return new Intl.NumberFormat(d,h).format(c);let m,g={},v=null;for(let b=0;b<p.length&&(m=p[b],g=n[m]||{},v=g[l],!OE(v));b++)mA(e,l,m,0,"number format");if(!OE(v)||!EE(m))return r?-1:l;let y="".concat(m,"__").concat(l);fE(h)||(y="".concat(y,"__").concat(JSON.stringify(h)));let _=s.get(y);return _||(_=new Intl.NumberFormat(m,dE({},v,h)),s.set(y,_)),f?_.formatToParts(c):_.format(c)}const EA=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function TA(...e){const[t,n,r,i]=e,o=mE();let a=mE();if(!uE(t))throw jT(LT);const s=t;return EE(n)?o.key=n:OE(n)&&Object.keys(n).forEach(e=>{EA.includes(e)?a[e]=n[e]:o[e]=n[e]}),EE(r)?o.locale=r:OE(r)&&(a=r),OE(i)&&(a=i),[o.key||"",s,o,a]}function AA(e,t,n){const r=e;for(const i in n){const e="".concat(t,"__").concat(i);r.__numberFormatters.has(e)&&r.__numberFormatters.delete(e)}}const MA=e=>e,CA=e=>"",OA=e=>0===e.length?"":RE(e),RA=e=>null==e?"":wE(e)||OE(e)&&e.toString===ME?JSON.stringify(e,null,2):String(e);function IA(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function kA(e={}){const t=e.locale,n=function(e){const t=uE(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(uE(e.named.count)||uE(e.named.n))?uE(e.named.count)?e.named.count:uE(e.named.n)?e.named.n:t:t}(e),r=AE(e.pluralRules)&&EE(t)&&SE(e.pluralRules[t])?e.pluralRules[t]:IA,i=AE(e.pluralRules)&&EE(t)&&SE(e.pluralRules[t])?IA:void 0,o=e.list||[],a=e.named||mE();uE(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,a);function s(t,n){const r=SE(e.messages)?e.messages(t,!!n):!!AE(e.messages)&&e.messages[t];return r||(e.parent?e.parent.message(t):CA)}const l=OE(e.processor)&&SE(e.processor.normalize)?e.processor.normalize:OA,c=OE(e.processor)&&SE(e.processor.interpolate)?e.processor.interpolate:RA,u={list:e=>o[e],named:e=>a[e],plural:e=>e[r(n,e.length,i)],linked:(t,...n)=>{const[r,i]=n;let o="text",a="";1===n.length?AE(r)?(a=r.modifier||a,o=r.type||o):EE(r)&&(a=r||a):2===n.length&&(EE(r)&&(a=r||a),EE(i)&&(o=i||o));const l=s(t,!0)(u),c="vnode"===o&&wE(l)&&a?l[0]:l;return a?(h=a,e.modifiers?e.modifiers[h]:MA)(c,o):c;var h},message:s,type:OE(e.processor)&&EE(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:l,values:dE(mE(),o,a)};return u}const PA=()=>"",DA=e=>SE(e);function NA(e,...t){const{fallbackFormat:n,postTranslation:r,unresolving:i,messageCompiler:o,fallbackLocale:a,messages:s}=e,[l,c]=UA(...t),u=TE(c.missingWarn)?c.missingWarn:e.missingWarn,h=TE(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn,f=TE(c.escapeParameter)?c.escapeParameter:e.escapeParameter,d=!!c.resolvedMessage,p=EE(c.default)||TE(c.default)?TE(c.default)?o?l:()=>l:c.default:n?o?l:()=>l:null,m=n||null!=p&&(EE(p)||SE(p)),g=HT(e,c);f&&function(e){wE(e.list)?e.list=e.list.map(e=>EE(e)?yE(e):e):AE(e.named)&&Object.keys(e.named).forEach(t=>{EE(e.named[t])&&(e.named[t]=yE(e.named[t]))})}(c);let[v,y,_]=d?[l,g,s[g]||mE()]:LA(e,l,g,a,h,u),b=v,x=l;if(d||EE(b)||pT(b)||DA(b)||m&&(b=p,x=b),!(d||(EE(b)||pT(b)||DA(b))&&EE(y)))return i?-1:l;let w=!1;const S=DA(b)?b:FA(e,l,y,b,x,()=>{w=!0});if(w)return b;const E=function(e,t,n,r){const{modifiers:i,pluralRules:o,messageResolver:a,fallbackLocale:s,fallbackWarn:l,missingWarn:c,fallbackContext:u}=e,h=(r,i)=>{let o=a(n,r);if(null==o&&(u||i)){const[,,n]=LA(u||e,r,t,s,l,c);o=a(n,r)}if(EE(o)||pT(o)){let n=!1;const i=FA(e,r,t,o,r,()=>{n=!0});return n?PA:i}return DA(o)?o:PA},f={locale:t,modifiers:i,pluralRules:o,messages:h};e.processor&&(f.processor=e.processor);r.list&&(f.list=r.list);r.named&&(f.named=r.named);uE(r.plural)&&(f.pluralIndex=r.plural);return f}(e,y,_,c),T=function(e,t,n){const r=t(n);return r}(0,S,kA(E));let A=r?r(T,l):T;var M;if(f&&EE(A)&&(M=(M=(M=A).replace(/(\w+)\s*=\s*"([^"]*)"/g,(e,t,n)=>"".concat(t,'="').concat(_E(n),'"'))).replace(/(\w+)\s*=\s*'([^']*)'/g,(e,t,n)=>"".concat(t,"='").concat(_E(n),"'")),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(M)&&(M=M.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(e=>{M=M.replace(e,"$1javascript&#58;")}),A=M),__INTLIFY_PROD_DEVTOOLS__){const t={timestamp:Date.now(),key:EE(l)?l:DA(b)?b.key:"",locale:y||(DA(b)?b.locale:""),format:EE(b)?b:DA(b)?b.source:"",message:A};t.meta=dE({},e.__meta,cA()||{}),DT(t)}return A}function LA(e,t,n,r,i,o){const{messages:a,onWarn:s,messageResolver:l,localeFallbacker:c}=e,u=c(e,r,n);let h,f=mE(),d=null;for(let p=0;p<u.length&&(h=u[p],f=a[h]||mE(),null===(d=l(f,t))&&(d=f[t]),!(EE(d)||pT(d)||DA(d)));p++)if(!yA(h,u)){const n=mA(e,t,h,0,"translate");n!==t&&(d=n)}return[d,h,f]}function FA(e,t,n,r,i,o){const{messageCompiler:a,warnHtmlMessage:s}=e;if(DA(r)){const e=r;return e.locale=e.locale||n,e.key=e.key||t,e}if(null==a){const e=()=>r;return e.locale=n,e.key=t,e}const l=a(r,function(e,t,n,r,i,o){return{locale:t,key:n,warnHtmlMessage:i,onError:e=>{throw o&&o(e),e},onCacheKey:e=>((e,t,n)=>cE({l:e,k:t,s:n}))(t,n,e)}}(0,n,i,0,s,o));return l.locale=n,l.key=t,l.source=r,l}function UA(...e){const[t,n,r]=e,i=mE();if(!(EE(t)||uE(t)||DA(t)||pT(t)))throw jT(LT);const o=uE(t)?String(t):(DA(t),t);return uE(n)?i.plural=n:EE(n)?i.default=n:OE(n)&&!fE(n)?i.named=n:wE(n)&&(i.list=n),uE(r)?i.plural=r:EE(r)?i.default=r:OE(r)&&dE(i,r),[o,i]}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(vE().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(vE().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);const BA=24,zA=25,VA=26,jA=27,HA=28,WA=29,GA=31,qA=32;function XA(e,...t){return YE(e,null,void 0)}const YA=lE("__translateVNode"),KA=lE("__datetimeParts"),$A=lE("__numberParts"),ZA=lE("__setPluralRules"),JA=lE("__injectWithOption"),QA=lE("__dispose");function eM(e){if(!AE(e))return e;if(pT(e))return e;for(const t in e)if(xE(e,t))if(t.includes(".")){const n=t.split("."),r=n.length-1;let i=e,o=!1;for(let e=0;e<r;e++){if("__proto__"===n[e])throw new Error("unsafe key: ".concat(n[e]));if(n[e]in i||(i[n[e]]=mE()),!AE(i[n[e]])){o=!0;break}i=i[n[e]]}if(o||(pT(i)?AT.includes(n[r])||delete e[t]:(i[n[r]]=e[t],delete e[t])),!pT(i)){const e=i[n[r]];AE(e)&&eM(e)}}else AE(e[t])&&eM(e[t]);return e}function tM(e,t){const{messages:n,__i18n:r,messageResolver:i,flatJson:o}=t,a=OE(n)?n:wE(r)?mE():{[e]:mE()};if(wE(r)&&r.forEach(e=>{if("locale"in e&&"resource"in e){const{locale:t,resource:n}=e;t?(a[t]=a[t]||mE(),kE(n,a[t])):kE(n,a)}else EE(e)&&kE(JSON.parse(e),a)}),null==i&&o)for(const s in a)xE(a,s)&&eM(a[s]);return a}function nM(e){return e.type}function rM(e,t,n){let r=AE(t.messages)?t.messages:mE();"__i18nGlobal"in n&&(r=tM(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const i=Object.keys(r);if(i.length&&i.forEach(t=>{e.mergeLocaleMessage(t,r[t])}),AE(t.datetimeFormats)){const n=Object.keys(t.datetimeFormats);n.length&&n.forEach(n=>{e.mergeDateTimeFormat(n,t.datetimeFormats[n])})}if(AE(t.numberFormats)){const n=Object.keys(t.numberFormats);n.length&&n.forEach(n=>{e.mergeNumberFormat(n,t.numberFormats[n])})}}function iM(e){return ma(Jo,null,e,0)}function oM(){return Ra()}const aM=()=>[],sM=()=>!1;let lM=0;function cM(e){return(t,n,r,i)=>e(n,r,oM()||void 0,i)}function uM(e={}){const{__root:t,__injectWithOption:n}=e,r=void 0===t,i=e.flatJson,o=sE?nn:rn;let a=!TE(e.inheritLocale)||e.inheritLocale;const s=o(t&&a?t.locale.value:EE(e.locale)?e.locale:rA),l=o(t&&a?t.fallbackLocale.value:EE(e.fallbackLocale)||wE(e.fallbackLocale)||OE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:s.value),c=o(tM(s.value,e)),u=o(OE(e.datetimeFormats)?e.datetimeFormats:{[s.value]:{}}),h=o(OE(e.numberFormats)?e.numberFormats:{[s.value]:{}});let f=t?t.missingWarn:!TE(e.missingWarn)&&!hE(e.missingWarn)||e.missingWarn,d=t?t.fallbackWarn:!TE(e.fallbackWarn)&&!hE(e.fallbackWarn)||e.fallbackWarn,p=t?t.fallbackRoot:!TE(e.fallbackRoot)||e.fallbackRoot,m=!!e.fallbackFormat,g=SE(e.missing)?e.missing:null,v=SE(e.missing)?cM(e.missing):null,y=SE(e.postTranslation)?e.postTranslation:null,_=t?t.warnHtmlMessage:!TE(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter;const x=t?t.modifiers:OE(e.modifiers)?e.modifiers:{};let w,S=e.pluralRules||t&&t.pluralRules;w=(()=>{r&&hA(null);const t={version:"11.2.7",locale:s.value,fallbackLocale:l.value,messages:c.value,modifiers:x,pluralRules:S,missing:null===v?void 0:v,missingWarn:f,fallbackWarn:d,fallbackFormat:m,unresolving:!0,postTranslation:null===y?void 0:y,warnHtmlMessage:_,escapeParameter:b,messageResolver:e.messageResolver,messageCompiler:e.messageCompiler,__meta:{framework:"vue"}};t.datetimeFormats=u.value,t.numberFormats=h.value,t.__datetimeFormatters=OE(w)?w.__datetimeFormatters:void 0,t.__numberFormatters=OE(w)?w.__numberFormatters:void 0;const n=dA(t);return r&&hA(n),n})(),gA(w,s.value,l.value);const E=qa({get:()=>s.value,set:e=>{w.locale=e,s.value=e}}),T=qa({get:()=>l.value,set:e=>{w.fallbackLocale=e,l.value=e,gA(w,s.value,e)}}),A=qa(()=>c.value),M=qa(()=>u.value),C=qa(()=>h.value);const O=(e,n,i,o,a,f)=>{let d;s.value,l.value,c.value,u.value,h.value;try{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=t?uA:void 0),d=e(w)}finally{__INTLIFY_PROD_DEVTOOLS__,r||(w.fallbackContext=void 0)}if("translate exists"!==i&&uE(d)&&-1===d||"translate exists"===i&&!d){const[e,r]=n();return t&&p?o(t):a(e)}if(f(d))return d;throw XA(BA)};function R(...e){return O(t=>Reflect.apply(NA,null,[t,...e]),()=>UA(...e),"translate",t=>Reflect.apply(t.t,t,[...e]),e=>e,e=>EE(e))}const I={normalize:function(e){return e.map(e=>EE(e)||uE(e)||TE(e)?iM(String(e)):e)},interpolate:e=>e,type:"vnode"};function k(e){return c.value[e]||{}}lM++,t&&sE&&(lr(t.locale,e=>{a&&(s.value=e,w.locale=e,gA(w,s.value,l.value))}),lr(t.fallbackLocale,e=>{a&&(l.value=e,w.fallbackLocale=e,gA(w,s.value,l.value))}));const P={id:lM,locale:E,fallbackLocale:T,get inheritLocale(){return a},set inheritLocale(e){a=e,e&&t&&(s.value=t.locale.value,l.value=t.fallbackLocale.value,gA(w,s.value,l.value))},get availableLocales(){return Object.keys(c.value).sort()},messages:A,get modifiers(){return x},get pluralRules(){return S||{}},get isGlobal(){return r},get missingWarn(){return f},set missingWarn(e){f=e,w.missingWarn=f},get fallbackWarn(){return d},set fallbackWarn(e){d=e,w.fallbackWarn=d},get fallbackRoot(){return p},set fallbackRoot(e){p=e},get fallbackFormat(){return m},set fallbackFormat(e){m=e,w.fallbackFormat=m},get warnHtmlMessage(){return _},set warnHtmlMessage(e){_=e,w.warnHtmlMessage=e},get escapeParameter(){return b},set escapeParameter(e){b=e,w.escapeParameter=e},t:R,getLocaleMessage:k,setLocaleMessage:function(e,t){if(i){const n={[e]:t};for(const e in n)xE(n,e)&&eM(n[e]);t=n[e]}c.value[e]=t,w.messages=c.value},mergeLocaleMessage:function(e,t){c.value[e]=c.value[e]||{};const n={[e]:t};if(i)for(const r in n)xE(n,r)&&eM(n[r]);kE(t=n[e],c.value[e]),w.messages=c.value},getPostTranslationHandler:function(){return SE(y)?y:null},setPostTranslationHandler:function(e){y=e,w.postTranslation=e},getMissingHandler:function(){return g},setMissingHandler:function(e){null!==e&&(v=cM(e)),g=e,w.missing=v},[ZA]:function(e){S=e,w.pluralRules=S}};return P.datetimeFormats=M,P.numberFormats=C,P.rt=function(...e){const[t,n,r]=e;if(r&&!AE(r))throw XA(zA);return R(t,n,dE({resolvedMessage:!0},r||{}))},P.te=function(e,t){return O(()=>{if(!e)return!1;const n=k(EE(t)?t:s.value),r=w.messageResolver(n,e);return pT(r)||DA(r)||EE(r)},()=>[e],"translate exists",n=>Reflect.apply(n.te,n,[e,t]),sM,e=>TE(e))},P.tm=function(e){const n=function(e){let t=null;const n=XT(w,l.value,s.value);for(let r=0;r<n.length;r++){const i=c.value[n[r]]||{},o=w.messageResolver(i,e);if(null!=o){t=o;break}}return t}(e);return null!=n?n:t&&t.tm(e)||{}},P.d=function(...e){return O(t=>Reflect.apply(_A,null,[t,...e]),()=>xA(...e),"datetime format",t=>Reflect.apply(t.d,t,[...e]),()=>"",e=>EE(e)||wE(e))},P.n=function(...e){return O(t=>Reflect.apply(SA,null,[t,...e]),()=>TA(...e),"number format",t=>Reflect.apply(t.n,t,[...e]),()=>"",e=>EE(e)||wE(e))},P.getDateTimeFormat=function(e){return u.value[e]||{}},P.setDateTimeFormat=function(e,t){u.value[e]=t,w.datetimeFormats=u.value,wA(w,e,t)},P.mergeDateTimeFormat=function(e,t){u.value[e]=dE(u.value[e]||{},t),w.datetimeFormats=u.value,wA(w,e,t)},P.getNumberFormat=function(e){return h.value[e]||{}},P.setNumberFormat=function(e,t){h.value[e]=t,w.numberFormats=h.value,AA(w,e,t)},P.mergeNumberFormat=function(e,t){h.value[e]=dE(h.value[e]||{},t),w.numberFormats=h.value,AA(w,e,t)},P[JA]=n,P[YA]=function(...e){return O(t=>{let n;const r=t;try{r.processor=I,n=Reflect.apply(NA,null,[r,...e])}finally{r.processor=null}return n},()=>UA(...e),"translate",t=>t[YA](...e),e=>[iM(e)],e=>wE(e))},P[KA]=function(...e){return O(t=>Reflect.apply(_A,null,[t,...e]),()=>xA(...e),"datetime format",t=>t[KA](...e),aM,e=>EE(e)||wE(e))},P[$A]=function(...e){return O(t=>Reflect.apply(SA,null,[t,...e]),()=>TA(...e),"number format",t=>t[$A](...e),aM,e=>EE(e)||wE(e))},P}function hM(e={}){const t=uM(function(e){const t=EE(e.locale)?e.locale:rA,n=EE(e.fallbackLocale)||wE(e.fallbackLocale)||OE(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=SE(e.missing)?e.missing:void 0,i=!TE(e.silentTranslationWarn)&&!hE(e.silentTranslationWarn)||!e.silentTranslationWarn,o=!TE(e.silentFallbackWarn)&&!hE(e.silentFallbackWarn)||!e.silentFallbackWarn,a=!TE(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,l=OE(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,u=SE(e.postTranslation)?e.postTranslation:void 0,h=!EE(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,f=!!e.escapeParameterHtml,d=!TE(e.sync)||e.sync;let p=e.messages;if(OE(e.sharedMessages)){const t=e.sharedMessages;p=Object.keys(t).reduce((e,n)=>{const r=e[n]||(e[n]={});return dE(r,t[n]),e},p||{})}const{__i18n:m,__root:g,__injectWithOption:v}=e,y=e.datetimeFormats,_=e.numberFormats;return{locale:t,fallbackLocale:n,messages:p,flatJson:e.flatJson,datetimeFormats:y,numberFormats:_,missing:r,missingWarn:i,fallbackWarn:o,fallbackRoot:a,fallbackFormat:s,modifiers:l,pluralRules:c,postTranslation:u,warnHtmlMessage:h,escapeParameter:f,messageResolver:e.messageResolver,inheritLocale:d,__i18n:m,__root:g,__injectWithOption:v}}(e)),{__extender:n}=e,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return TE(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=TE(e)?!e:e},get silentFallbackWarn(){return TE(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=TE(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t:(...e)=>Reflect.apply(t.t,t,[...e]),rt:(...e)=>Reflect.apply(t.rt,t,[...e]),te:(e,n)=>t.te(e,n),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage(e,n){t.mergeLocaleMessage(e,n)},d:(...e)=>Reflect.apply(t.d,t,[...e]),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat(e,n){t.mergeDateTimeFormat(e,n)},n:(...e)=>Reflect.apply(t.n,t,[...e]),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,n){t.setNumberFormat(e,n)},mergeNumberFormat(e,n){t.mergeNumberFormat(e,n)}};return r.__extender=n,r}function fM(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[ZA](t.pluralizationRules||e.pluralizationRules);const n=tM(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach(t=>e.mergeLocaleMessage(t,n[t])),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach(n=>e.mergeDateTimeFormat(n,t.datetimeFormats[n])),t.numberFormats&&Object.keys(t.numberFormats).forEach(n=>e.mergeNumberFormat(n,t.numberFormats[n])),e}const dM={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}};function pM(){return Zo}const mM=Ur({name:"i18n-t",props:dE({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>uE(e)||!isNaN(e)}},dM),setup(e,t){const{slots:n,attrs:r}=t,i=e.i18n||SM({useScope:e.scope,__useComponent:!0});return()=>{const o=Object.keys(n).filter(e=>"_"!==e[0]),a=mE();e.locale&&(a.locale=e.locale),void 0!==e.plural&&(a.plural=EE(e.plural)?+e.plural:e.plural);const s=function({slots:e},t){if(1===t.length&&"default"===t[0])return(e.default?e.default():[]).reduce((e,t)=>[...e,...t.type===Zo?t.children:[t]],[]);return t.reduce((t,n)=>{const r=e[n];return r&&(t[n]=r()),t},mE())}(t,o),l=i[YA](e.keypath,s,a),c=dE(mE(),r);return Xa(EE(e.tag)||AE(e.tag)?e.tag:pM(),c,l)}}});function gM(e,t,n,r){const{slots:i,attrs:o}=t;return()=>{const t={part:!0};let a=mE();e.locale&&(t.locale=e.locale),EE(e.format)?t.key=e.format:AE(e.format)&&(EE(e.format.key)&&(t.key=e.format.key),a=Object.keys(e.format).reduce((t,r)=>n.includes(r)?dE(mE(),t,{[r]:e.format[r]}):t,mE()));const s=r(e.value,t,a);let l=[t.key];wE(s)?l=s.map((e,t)=>{const n=i[e.type],r=n?n({[e.type]:e.value,index:t,parts:s}):[e.value];var o;return wE(o=r)&&!EE(o[0])&&(r[0].key="".concat(e.type,"-").concat(t)),r}):EE(s)&&(l=[s]);const c=dE(mE(),o);return Xa(EE(e.tag)||AE(e.tag)?e.tag:pM(),c,l)}}const vM=Ur({name:"i18n-n",props:dE({value:{type:Number,required:!0},format:{type:[String,Object]}},dM),setup(e,t){const n=e.i18n||SM({useScope:e.scope,__useComponent:!0});return gM(e,t,EA,(...e)=>n[$A](...e))}});function yM(e){if(EE(e))return{path:e};if(OE(e)){if(!("path"in e))throw XA(HA);return e}throw XA(WA)}function _M(e){const{path:t,locale:n,args:r,choice:i,plural:o}=e,a={},s=r||{};return EE(n)&&(a.locale=n),uE(i)&&(a.plural=i),uE(o)&&(a.plural=o),[t,s,a]}function bM(e,t,...n){const r=OE(n[0])?n[0]:{};(!TE(r.globalInstall)||r.globalInstall)&&([mM.name,"I18nT"].forEach(t=>e.component(t,mM)),[vM.name,"I18nN"].forEach(t=>e.component(t,vM)),[AM.name,"I18nD"].forEach(t=>e.component(t,AM))),e.directive("t",function(e){const t=t=>{const{instance:n,value:r}=t;if(!n||!n.$)throw XA(qA);const i=function(e,t){const n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;{const r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}}(e,n.$),o=yM(r);return[Reflect.apply(i.t,i,[..._M(o)]),i]};return{created:(n,r)=>{const[i,o]=t(r);sE&&e.global===o&&(n.__i18nWatcher=lr(o.locale,()=>{r.instance&&r.instance.$forceUpdate()})),n.__composer=o,n.textContent=i},unmounted:e=>{sE&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:(e,{value:t})=>{if(e.__composer){const n=e.__composer,r=yM(t);e.textContent=Reflect.apply(n.t,n,[..._M(r)])}},getSSRProps:e=>{const[n]=t(e);return{textContent:n}}}}(t))}const xM=lE("global-vue-i18n");function wM(e={}){const t=__VUE_I18N_LEGACY_API__&&TE(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!TE(e.globalInjection)||e.globalInjection,r=new Map,[i,o]=function(e,t){const n=Ie(),r=__VUE_I18N_LEGACY_API__&&t?n.run(()=>hM(e)):n.run(()=>uM(e));if(null==r)throw XA(qA);return[n,r]}(e,t),a=lE("");const s={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},async install(e,...r){if(e.__VUE_I18N_SYMBOL__=a,e.provide(e.__VUE_I18N_SYMBOL__,s),OE(r[0])){const e=r[0];s.__composerExtend=e.__composerExtend,s.__vueI18nExtend=e.__vueI18nExtend}let i=null;!t&&n&&(i=function(e,t){const n=Object.create(null);EM.forEach(e=>{const r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw XA(qA);const i=tn(r.value)?{get:()=>r.value.value,set(e){r.value.value=e}}:{get:()=>r.get&&r.get()};Object.defineProperty(n,e,i)}),e.config.globalProperties.$i18n=n,TM.forEach(n=>{const r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw XA(qA);Object.defineProperty(e.config.globalProperties,"$".concat(n),r)});const r=()=>{delete e.config.globalProperties.$i18n,TM.forEach(t=>{delete e.config.globalProperties["$".concat(t)]})};return r}(e,s.global)),__VUE_I18N_FULL_INSTALL__&&bM(e,s,...r),__VUE_I18N_LEGACY_API__&&t&&e.mixin(function(e,t,n){return{beforeCreate(){const r=oM();if(!r)throw XA(qA);const i=this.$options;if(i.i18n){const r=i.i18n;if(i.__i18n&&(r.__i18n=i.__i18n),r.__root=t,this===this.$root)this.$i18n=fM(e,r);else{r.__injectWithOption=!0,r.__extender=n.__vueI18nExtend,this.$i18n=hM(r);const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=fM(e,i);else{this.$i18n=hM({__i18n:i.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});const e=this.$i18n;e.__extender&&(e.__disposer=e.__extender(this.$i18n))}else this.$i18n=e;i.__i18nGlobal&&rM(t,i,i),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const e=oM();if(!e)throw XA(qA);const t=this.$i18n;delete this.$t,delete this.$rt,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}(o,o.__composer,s));const l=e.unmount;e.unmount=()=>{i&&i(),s.dispose(),l()}},get global(){return o},dispose(){i.stop()},__instances:r,__getInstance:function(e){return r.get(e)||null},__setInstance:function(e,t){r.set(e,t)},__deleteInstance:function(e){r.delete(e)}};return s}function SM(e={}){const t=oM();if(null==t)throw XA(VA);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw XA(jA);const n=function(e){const t=tr(e.isCE?xM:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw XA(e.isCE?GA:qA);return t}(t),r=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),i=nM(t),o=function(e,t){return fE(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,i);if("global"===o)return rM(r,e,i),r;if("parent"===o){let i=function(e,t,n=!1){let r=null;const i=t.root;let o=function(e,t=!1){if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,n);for(;null!=o;){const t=e;if("composition"===e.mode)r=t.__getInstance(o);else if(__VUE_I18N_LEGACY_API__){const e=t.__getInstance(o);null!=e&&(r=e.__composer,n&&r&&!r[JA]&&(r=null))}if(null!=r)break;if(i===o)break;o=o.parent}return r}(n,t,e.__useComponent);return null==i&&(i=r),i}const a=n;let s=a.__getInstance(t);if(null==s){const n=dE({},e);"__i18n"in i&&(n.__i18n=i.__i18n),r&&(n.__root=r),s=uM(n),a.__composerExtend&&(s[QA]=a.__composerExtend(s)),function(e,t,n){pi(()=>{},t),yi(()=>{const r=n;e.__deleteInstance(t);const i=r[QA];i&&(i(),delete r[QA])},t)}(a,t,s),a.__setInstance(t,s)}return s}const EM=["locale","fallbackLocale","availableLocales"],TM=["t","rt","d","n","tm","te"];const AM=Ur({name:"i18n-d",props:dE({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},dM),setup(e,t){const n=e.i18n||SM({useScope:e.scope,__useComponent:!0});return gM(e,t,bA,(...e)=>n[KA](...e))}});var MM,CM;if("boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(vE().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(vE().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(vE().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(vE().__INTLIFY_PROD_DEVTOOLS__=!1),oA=function(e,t){if(!__INTLIFY_DROP_MESSAGE_COMPILER__&&EE(e)){!TE(t.warnHtmlMessage)||t.warnHtmlMessage;const n=(t.onCacheKey||IT)(e),r=kT[n];if(r)return r;const{ast:i,detectError:o}=function(e,t={}){let n=!1;const r=t.onError||KE;return t.onError=e=>{n=!0,r(e)},{...dT(e,t),detectError:n}}(e,{...t,location:!1,jit:!0}),a=CT(i);return o?a:kT[n]=a}{const t=e.cacheKey;if(t){const n=kT[t];return n||(kT[t]=CT(e))}return CT(e)}},MM=function(e,t){if(!AE(e))return null;let n=tA.get(t);if(n||(n=function(e){const t=[];let n,r,i,o,a,s,l,c=-1,u=0,h=0;const f=[];function d(){const t=e[c+1];if(5===u&&"'"===t||6===u&&'"'===t)return c++,i="\\"+t,f[0](),!0}for(f[0]=()=>{void 0===r?r=i:r+=i},f[1]=()=>{void 0!==r&&(t.push(r),r=void 0)},f[2]=()=>{f[0](),h++},f[3]=()=>{if(h>0)h--,u=4,f[0]();else{if(h=0,void 0===r)return!1;if(r=eA(r),!1===r)return!1;f[1]()}};null!==u;)if(c++,n=e[c],"\\"!==n||!d()){if(o=QT(n),l=ZT[u],a=l[o]||l.l||8,8===a)return;if(u=a[0],void 0!==a[1]&&(s=f[a[1]],s&&(i=n,!1===s())))return;if(7===u)return t}}(t),n&&tA.set(t,n)),!n)return null;const r=n.length;let i=e,o=0;for(;o<r;){const e=n[o];if(AT.includes(e)&&pT(i))return null;const t=i[e];if(void 0===t)return null;if(SE(i))return null;i=t,o++}return i},aA=MM,sA=XT,__INTLIFY_PROD_DEVTOOLS__){const e=vE();e.__INTLIFY__=!0,CM=e.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,PT=CM}const OM="undefined"!=typeof document;function RM(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}const IM=Object.assign;function kM(e,t){const n={};for(const r in t){const i=t[r];n[r]=DM(i)?i.map(e):e(i)}return n}const PM=()=>{},DM=Array.isArray;function NM(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}const LM=/#/g,FM=/&/g,UM=/\//g,BM=/=/g,zM=/\?/g,VM=/\+/g,jM=/%5B/g,HM=/%5D/g,WM=/%5E/g,GM=/%60/g,qM=/%7B/g,XM=/%7C/g,YM=/%7D/g,KM=/%20/g;function $M(e){return null==e?"":encodeURI(""+e).replace(XM,"|").replace(jM,"[").replace(HM,"]")}function ZM(e){return $M(e).replace(VM,"%2B").replace(KM,"+").replace(LM,"%23").replace(FM,"%26").replace(GM,"`").replace(qM,"{").replace(YM,"}").replace(WM,"^")}function JM(e){return ZM(e).replace(BM,"%3D")}function QM(e){return function(e){return $M(e).replace(LM,"%23").replace(zM,"%3F")}(e).replace(UM,"%2F")}function eC(e){if(null==e)return null;try{return decodeURIComponent(""+e)}catch(t){}return""+e}const tC=/\/$/;function nC(e,t,n="/"){let r,i={},o="",a="";const s=t.indexOf("#");let l=t.indexOf("?");return l=s>=0&&l>s?-1:l,l>=0&&(r=t.slice(0,l),o=t.slice(l,s>0?s:t.length),i=e(o.slice(1))),s>=0&&(r=r||t.slice(0,s),a=t.slice(s,t.length)),r=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let o,a,s=n.length-1;for(o=0;o<r.length;o++)if(a=r[o],"."!==a){if(".."!==a)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(o).join("/")}(null!=r?r:t,n),{fullPath:r+o+a,path:r,query:i,hash:eC(a)}}function rC(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function iC(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function oC(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!aC(e[n],t[n]))return!1;return!0}function aC(e,t){return DM(e)?sC(e,t):DM(t)?sC(t,e):(null==e?void 0:e.valueOf())===(null==t?void 0:t.valueOf())}function sC(e,t){return DM(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):1===e.length&&e[0]===t}const lC={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let cC=function(e){return e.pop="pop",e.push="push",e}({}),uC=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function hC(e){if(!e)if(OM){const t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),e.replace(tC,"")}const fC=/^[^#]+#/;function dC(e,t){return e.replace(fC,"#")+t}const pC=()=>({left:window.scrollX,top:window.scrollY});function mC(e){let t;if("el"in e){const n=e.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function gC(e,t){return(history.state?history.state.position-t:-1)+e}const vC=new Map;function yC(e){return"string"==typeof e||"symbol"==typeof e}let _C=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const bC=Symbol("");function xC(e,t){return IM(new Error,{type:e,[bC]:!0},t)}function wC(e,t){return e instanceof Error&&bC in e&&(null==t||!!(e.type&t))}_C.MATCHER_NOT_FOUND,_C.NAVIGATION_GUARD_REDIRECT,_C.NAVIGATION_ABORTED,_C.NAVIGATION_CANCELLED,_C.NAVIGATION_DUPLICATED;function SC(e){const t={};if(""===e||"?"===e)return t;const n=("?"===e[0]?e.slice(1):e).split("&");for(let r=0;r<n.length;++r){const e=n[r].replace(VM," "),i=e.indexOf("="),o=eC(i<0?e:e.slice(0,i)),a=i<0?null:eC(e.slice(i+1));if(o in t){let e=t[o];DM(e)||(e=t[o]=[e]),e.push(a)}else t[o]=a}return t}function EC(e){let t="";for(let n in e){const r=e[n];n=JM(n),null!=r?(DM(r)?r.map(e=>e&&ZM(e)):[r&&ZM(r)]).forEach(e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}):void 0!==r&&(t+=(t.length?"&":"")+n)}return t}function TC(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=DM(r)?r.map(e=>null==e?null:""+e):null==r?r:""+r)}return t}const AC=Symbol(""),MC=Symbol(""),CC=Symbol(""),OC=Symbol(""),RC=Symbol("");function IC(){let e=[];return{add:function(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:()=>e.slice(),reset:function(){e=[]}}}function kC(e,t,n,r,i,o=e=>e()){const a=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,l)=>{const c=e=>{var o;!1===e?l(xC(_C.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?l(e):"string"==typeof(o=e)||o&&"object"==typeof o?l(xC(_C.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(a&&r.enterCallbacks[i]===a&&"function"==typeof e&&a.push(e),s())},u=o(()=>e.call(r&&r.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(e=>l(e))})}function PC(e,t,n,r,i=e=>e()){const o=[];for(const a of e)for(const e in a.components){let s=a.components[e];if("beforeRouteEnter"===t||a.instances[e])if(RM(s)){const l=(s.__vccOpts||s)[t];l&&o.push(kC(l,n,r,a,e,i))}else{let l=s();o.push(()=>l.then(o=>{if(!o)throw new Error("Couldn't resolve component \"".concat(e,'" at "').concat(a.path,'"'));const s=(l=o).__esModule||"Module"===l[Symbol.toStringTag]||l.default&&RM(l.default)?o.default:o;var l;a.mods[e]=o,a.components[e]=s;const c=(s.__vccOpts||s)[t];return c&&kC(c,n,r,a,e,i)()}))}}return o}function DC(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),rC(n,"")}return rC(n,e)+r+i}function NC(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?pC():null}}function LC(e){const{history:t,location:n}=window,r={value:DC(e,n)},i={value:t.state};function o(r,o,a){const s=e.indexOf("#"),l=s>-1?(n.host&&document.querySelector("base")?e:e.slice(s))+r:location.protocol+"//"+location.host+e+r;try{t[a?"replaceState":"pushState"](o,"",l),i.value=o}catch(c){n[a?"replace":"assign"](l)}}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:function(e,n){const a=IM({},i.value,t.state,{forward:e,scroll:pC()});o(a.current,a,!0),o(e,IM({},NC(r.value,e,null),{position:a.position+1},n),!1),r.value=e},replace:function(e,n){o(e,IM({},t.state,NC(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}}}function FC(e){const t=LC(e=hC(e)),n=function(e,t,n,r){let i=[],o=[],a=null;const s=({state:o})=>{const s=DC(e,location),l=n.value,c=t.value;let u=0;if(o){if(n.value=s,t.value=o,a&&a===l)return void(a=null);u=c?o.position-c.position:0}else r(s);i.forEach(e=>{e(n.value,l,{delta:u,type:cC.pop,direction:u?u>0?uC.forward:uC.back:uC.unknown})})};function l(){if("hidden"===document.visibilityState){const{history:e}=window;if(!e.state)return;e.replaceState(IM({},e.state,{scroll:pC()}),"")}}return window.addEventListener("popstate",s),window.addEventListener("pagehide",l),document.addEventListener("visibilitychange",l),{pauseListeners:function(){a=n.value},listen:function(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(const e of o)e();o=[],window.removeEventListener("popstate",s),window.removeEventListener("pagehide",l),document.removeEventListener("visibilitychange",l)}}}(e,t.state,t.location,t.replace);const r=IM({location:"",base:e,go:function(e,t=!0){t||n.pauseListeners(),history.go(e)},createHref:dC.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>t.state.value}),r}function UC(e){return(e=location.host?e||location.pathname+location.search:"").includes("#")||(e+="#"),FC(e)}let BC=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var zC=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(zC||{});const VC={type:BC.Static,value:""},jC=/[a-zA-Z0-9_]/;const HC="[^/]+?",WC={sensitive:!1,strict:!1,start:!0,end:!0};var GC=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(GC||{});const qC=/[.+*?^${}()[\]/\\]/g;function XC(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&e[0]===GC.Static+GC.Segment?-1:1:e.length>t.length?1===t.length&&t[0]===GC.Static+GC.Segment?1:-1:0}function YC(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const e=XC(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(KC(r))return 1;if(KC(i))return-1}return i.length-r.length}function KC(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const $C={strict:!1,end:!0,sensitive:!1};function ZC(e,t,n){const r=function(e,t){const n=IM({},WC,t),r=[];let i=n.start?"^":"";const o=[];for(const l of e){const e=l.length?[]:[GC.Root];n.strict&&!l.length&&(i+="/");for(let t=0;t<l.length;t++){const r=l[t];let a=GC.Segment+(n.sensitive?GC.BonusCaseSensitive:0);if(r.type===BC.Static)t||(i+="/"),i+=r.value.replace(qC,"\\$&"),a+=GC.Static;else if(r.type===BC.Param){const{value:e,repeatable:n,optional:c,regexp:u}=r;o.push({name:e,repeatable:n,optional:c});const h=u||HC;if(h!==HC){a+=GC.BonusCustomRegExp;try{"".concat(h)}catch(s){throw new Error('Invalid custom RegExp for param "'.concat(e,'" (').concat(h,"): ")+s.message)}}let f=n?"((?:".concat(h,")(?:/(?:").concat(h,"))*)"):"(".concat(h,")");t||(f=c&&l.length<2?"(?:/".concat(f,")"):"/"+f),c&&(f+="?"),i+=f,a+=GC.Dynamic,c&&(a+=GC.BonusOptional),n&&(a+=GC.BonusRepeatable),".*"===h&&(a+=GC.BonusWildcard)}e.push(a)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=GC.BonusStrict}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const a=new RegExp(i,n.sensitive?"":"i");return{re:a,score:r,keys:o,parse:function(e){const t=e.match(a),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n},stringify:function(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(e.type===BC.Static)n+=e.value;else if(e.type===BC.Param){const{value:o,repeatable:a,optional:s}=e,l=o in t?t[o]:"";if(DM(l)&&!a)throw new Error('Provided param "'.concat(o,'" is an array but it is not repeatable (* or + modifiers)'));const c=DM(l)?l.join("/"):l;if(!c){if(!s)throw new Error('Missing required param "'.concat(o,'"'));i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[VC]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(n,')/"').concat(c,'": ').concat(e))}let n=zC.Static,r=n;const i=[];let o;function a(){o&&i.push(o),o=[]}let s,l=0,c="",u="";function h(){c&&(n===zC.Static?o.push({type:BC.Static,value:c}):n===zC.Param||n===zC.ParamRegExp||n===zC.ParamRegExpEnd?(o.length>1&&("*"===s||"+"===s)&&t("A repeatable param (".concat(c,") must be alone in its segment. eg: '/:ids+.")),o.push({type:BC.Param,value:c,regexp:u,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function f(){c+=s}for(;l<e.length;)if(s=e[l++],"\\"!==s||n===zC.ParamRegExp)switch(n){case zC.Static:"/"===s?(c&&h(),a()):":"===s?(h(),n=zC.Param):f();break;case zC.EscapeNext:f(),n=r;break;case zC.Param:"("===s?n=zC.ParamRegExp:jC.test(s)?f():(h(),n=zC.Static,"*"!==s&&"?"!==s&&"+"!==s&&l--);break;case zC.ParamRegExp:")"===s?"\\"==u[u.length-1]?u=u.slice(0,-1)+s:n=zC.ParamRegExpEnd:u+=s;break;case zC.ParamRegExpEnd:h(),n=zC.Static,"*"!==s&&"?"!==s&&"+"!==s&&l--,u="";break;default:t("Unknown state")}else r=n,n=zC.EscapeNext;return n===zC.ParamRegExp&&t('Unfinished custom RegExp for param "'.concat(c,'"')),h(),a(),i}(e.path),n),i=IM(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function JC(e,t){const n=[],r=new Map;function i(e,n,r){const s=!r,l=eO(e);l.aliasOf=r&&r.record;const c=NM(t,e),u=[l];if("alias"in e){const t="string"==typeof e.alias?[e.alias]:e.alias;for(const e of t)u.push(eO(IM({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l})))}let h,f;for(const t of u){const{path:u}=t;if(n&&"/"!==u[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(u&&r+u)}if(h=ZC(t,n,c),r?r.alias.push(h):(f=f||h,f!==h&&f.alias.push(h),s&&e.name&&!nO(h)&&o(e.name)),iO(h)&&a(h),l.children){const e=l.children;for(let t=0;t<e.length;t++)i(e[t],h,r&&r.children[t])}r=r||h}return f?()=>{o(f)}:PM}function o(e){if(yC(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(e){const t=function(e,t){let n=0,r=t.length;for(;n!==r;){const i=n+r>>1;YC(e,t[i])<0?r=i:n=i+1}const i=function(e){let t=e;for(;t=t.parent;)if(iO(t)&&0===YC(e,t))return t}(e);i&&(r=t.lastIndexOf(i,r-1));return r}(e,n);n.splice(t,0,e),e.record.name&&!nO(e)&&r.set(e.record.name,e)}return t=NM($C,t),e.forEach(e=>i(e)),{addRoute:i,resolve:function(e,t){let i,o,a,s={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw xC(_C.MATCHER_NOT_FOUND,{location:e});a=i.record.name,s=IM(QC(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&QC(e.params,i.keys.map(e=>e.name))),o=i.stringify(s)}else if(null!=e.path)o=e.path,i=n.find(e=>e.re.test(o)),i&&(s=i.parse(o),a=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw xC(_C.MATCHER_NOT_FOUND,{location:e,currentLocation:t});a=i.record.name,s=IM({},t.params,e.params),o=i.stringify(s)}const l=[];let c=i;for(;c;)l.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:l,meta:rO(l)}},removeRoute:o,clearRoutes:function(){n.length=0,r.clear()},getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function QC(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function eO(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:tO(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function tO(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="object"==typeof n?n[r]:n;return t}function nO(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function rO(e){return e.reduce((e,t)=>IM(e,t.meta),{})}function iO({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function oO(e){const t=tr(CC),n=tr(OC),r=qa(()=>{const n=sn(e.to);return t.resolve(n)}),i=qa(()=>{const{matched:e}=r.value,{length:t}=e,i=e[t-1],o=n.matched;if(!i||!o.length)return-1;const a=o.findIndex(iC.bind(null,i));if(a>-1)return a;const s=sO(e[t-2]);return t>1&&sO(i)===s&&o[o.length-1].path!==s?o.findIndex(iC.bind(null,e[t-2])):a}),o=qa(()=>i.value>-1&&function(e,t){for(const n in t){const r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return!1}else if(!DM(i)||i.length!==r.length||r.some((e,t)=>e.valueOf()!==i[t].valueOf()))return!1}return!0}(n.params,r.value.params)),a=qa(()=>i.value>-1&&i.value===n.matched.length-1&&oC(n.params,r.value.params));return{route:r,href:qa(()=>r.value.href),isActive:o,isExactActive:a,navigate:function(n={}){if(function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(n)){const n=t[sn(e.replace)?"replace":"push"](sn(e.to)).catch(PM);return e.viewTransition&&"undefined"!=typeof document&&"startViewTransition"in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}}}const aO=Ur({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:oO,setup(e,{slots:t}){const n=jt(oO(e)),{options:r}=tr(CC),i=qa(()=>({[lO(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[lO(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&(1===(o=t.default(n)).length?o[0]:o);var o;return e.custom?r:Xa("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function sO(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const lO=(e,t,n)=>null!=e?e:null!=t?t:n;function cO(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const uO=Ur({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=tr(RC),i=qa(()=>e.route||r.value),o=tr(MC,0),a=qa(()=>{let e=sn(o);const{matched:t}=i.value;let n;for(;(n=t[e])&&!n.components;)e++;return e}),s=qa(()=>i.value.matched[a.value]);er(MC,qa(()=>a.value+1)),er(AC,s),er(RC,i);const l=nn();return lr(()=>[l.value,s.value,e.name],([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&iC(t,i)&&r||(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:"post"}),()=>{const r=i.value,o=e.name,a=s.value,c=a&&a.components[o];if(!c)return cO(n.default,{Component:c,route:r});const u=a.props[o],h=u?!0===u?r.params:"function"==typeof u?u(r):u:null,f=Xa(c,IM({},h,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(a.instances[o]=null)},ref:l}));return cO(n.default,{Component:f,route:r})||f}}});function hO(e){const t=JC(e.routes,e),n=e.parseQuery||SC,r=e.stringifyQuery||EC,i=e.history,o=IC(),a=IC(),s=IC(),l=rn(lC);let c=lC;OM&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=kM.bind(null,e=>""+e),h=kM.bind(null,QM),f=kM.bind(null,eC);function d(e,o){if(o=IM({},o||l.value),"string"==typeof e){const r=nC(n,e,o.path),a=t.resolve({path:r.path},o),s=i.createHref(r.fullPath);return IM(r,a,{params:f(a.params),hash:eC(r.hash),redirectedFrom:void 0,href:s})}let a;if(null!=e.path)a=IM({},e,{path:nC(n,e.path,o.path).path});else{const t=IM({},e.params);for(const e in t)null==t[e]&&delete t[e];a=IM({},e,{params:h(t)}),o.params=h(o.params)}const s=t.resolve(a,o),c=e.hash||"";s.params=u(f(s.params));const d=function(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}(r,IM({},e,{hash:(p=c,$M(p).replace(qM,"{").replace(YM,"}").replace(WM,"^")),path:s.path}));var p;const m=i.createHref(d);return IM({fullPath:d,hash:c,query:r===EC?TC(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function p(e){return"string"==typeof e?nC(n,e,l.value.path):IM({},e)}function m(e,t){if(c!==e)return xC(_C.NAVIGATION_CANCELLED,{from:t,to:e})}function g(e){return y(e)}function v(e,t){const n=e.matched[e.matched.length-1];if(n&&n.redirect){const{redirect:r}=n;let i="function"==typeof r?r(e,t):r;return"string"==typeof i&&(i=i.includes("?")||i.includes("#")?i=p(i):{path:i},i.params={}),IM({query:e.query,hash:e.hash,params:null!=i.path?{}:e.params},i)}}function y(e,t){const n=c=d(e),i=l.value,o=e.state,a=e.force,s=!0===e.replace,u=v(n,i);if(u)return y(IM(p(u),{state:"object"==typeof u?IM({},o,u.state):o,force:a,replace:s}),t||n);const h=n;let f;return h.redirectedFrom=t,!a&&function(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&iC(t.matched[r],n.matched[i])&&oC(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(f=xC(_C.NAVIGATION_DUPLICATED,{to:h,from:i}),I(i,i,!0,!1)),(f?Promise.resolve(f):x(h,i)).catch(e=>wC(e)?wC(e,_C.NAVIGATION_GUARD_REDIRECT)?e:R(e):O(e,h,i)).then(e=>{if(e){if(wC(e,_C.NAVIGATION_GUARD_REDIRECT))return y(IM({replace:s},p(e.to),{state:"object"==typeof e.to?IM({},o,e.to.state):o,force:a}),t||h)}else e=S(h,i,!0,s,o);return w(h,i,e),e})}function _(e,t){const n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function b(e){const t=D.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function x(e,t){let n;const[r,i,s]=function(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let a=0;a<o;a++){const o=t.matched[a];o&&(e.matched.find(e=>iC(e,o))?r.push(o):n.push(o));const s=e.matched[a];s&&(t.matched.find(e=>iC(e,s))||i.push(s))}return[n,r,i]}(e,t);n=PC(r.reverse(),"beforeRouteLeave",e,t);for(const o of r)o.leaveGuards.forEach(r=>{n.push(kC(r,e,t))});const l=_.bind(null,e,t);return n.push(l),L(n).then(()=>{n=[];for(const r of o.list())n.push(kC(r,e,t));return n.push(l),L(n)}).then(()=>{n=PC(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach(r=>{n.push(kC(r,e,t))});return n.push(l),L(n)}).then(()=>{n=[];for(const r of s)if(r.beforeEnter)if(DM(r.beforeEnter))for(const i of r.beforeEnter)n.push(kC(i,e,t));else n.push(kC(r.beforeEnter,e,t));return n.push(l),L(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=PC(s,"beforeRouteEnter",e,t,b),n.push(l),L(n))).then(()=>{n=[];for(const r of a.list())n.push(kC(r,e,t));return n.push(l),L(n)}).catch(e=>wC(e,_C.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function w(e,t,n){s.list().forEach(r=>b(()=>r(e,t,n)))}function S(e,t,n,r,o){const a=m(e,t);if(a)return a;const s=t===lC,c=OM?history.state:{};n&&(r||s?i.replace(e.fullPath,IM({scroll:s&&c&&c.scroll},o)):i.push(e.fullPath,o)),l.value=e,I(e,t,n,s),R()}let E;function T(){E||(E=i.listen((e,t,n)=>{if(!N.listening)return;const r=d(e),o=v(r,N.currentRoute.value);if(o)return void y(IM(o,{replace:!0,force:!0}),r).catch(PM);c=r;const a=l.value;var s,u;OM&&(s=gC(a.fullPath,n.delta),u=pC(),vC.set(s,u)),x(r,a).catch(e=>wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_CANCELLED)?e:wC(e,_C.NAVIGATION_GUARD_REDIRECT)?(y(IM(p(e.to),{force:!0}),r).then(e=>{wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===cC.pop&&i.go(-1,!1)}).catch(PM),Promise.reject()):(n.delta&&i.go(-n.delta,!1),O(e,r,a))).then(e=>{(e=e||S(r,a,!1))&&(n.delta&&!wC(e,_C.NAVIGATION_CANCELLED)?i.go(-n.delta,!1):n.type===cC.pop&&wC(e,_C.NAVIGATION_ABORTED|_C.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),w(r,a,e)}).catch(PM)}))}let A,M=IC(),C=IC();function O(e,t,n){R(e);const r=C.list();return r.length&&r.forEach(r=>r(e,t,n)),Promise.reject(e)}function R(e){return A||(A=!e,T(),M.list().forEach(([t,n])=>e?n(e):t()),M.reset()),e}function I(t,n,r,i){const{scrollBehavior:o}=e;if(!OM||!o)return Promise.resolve();const a=!r&&function(e){const t=vC.get(e);return vC.delete(e),t}(gC(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return Ln().then(()=>o(t,n,a)).then(e=>e&&mC(e)).catch(e=>O(e,t,n))}const k=e=>i.go(e);let P;const D=new Set,N={currentRoute:l,listening:!0,addRoute:function(e,n){let r,i;return yC(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)},clearRoutes:t.clearRoutes,hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map(e=>e.record)},resolve:d,options:e,push:g,replace:function(e){return g(IM(p(e),{replace:!0}))},go:k,back:()=>k(-1),forward:()=>k(1),beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:C.add,isReady:function(){return A&&l.value!==lC?Promise.resolve():new Promise((e,t)=>{M.add([e,t])})},install(e){e.component("RouterLink",aO),e.component("RouterView",uO),e.config.globalProperties.$router=N,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>sn(l)}),OM&&!P&&l.value===lC&&(P=!0,g(i.location).catch(e=>{}));const t={};for(const r in lC)Object.defineProperty(t,r,{get:()=>l.value[r],enumerable:!0});e.provide(CC,N),e.provide(OC,Ht(t)),e.provide(RC,l);const n=e.unmount;D.add(e),e.unmount=function(){D.delete(e),D.size<1&&(c=lC,E&&E(),E=null,l.value=lC,P=!1,A=!1),n()}}};function L(e){return e.reduce((e,t)=>e.then(()=>b(t)),Promise.resolve())}return N}function fO(){return tr(CC)}function dO(e){return tr(OC)}function pO(e,t){return!!ke()&&(Pe(e,t),!0)}const mO="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const gO=e=>null!=e,vO=Object.prototype.toString,yO=()=>{};function _O(e,t){return function(...n){return new Promise((r,i)=>{Promise.resolve(e(()=>t.apply(this,n),{fn:t,thisArg:this,args:n})).then(r).catch(i)})}}const bO=e=>e();function xO(e=bO,t={}){const{initialState:n="active"}=t,r=function(...e){if(1!==e.length)return gn(...e);const t=e[0];return"function"==typeof t?Wt(fn(()=>({get:t,set:yO}))):nn(t)}("active"===n);return{isActive:Wt(r),pause:function(){r.value=!1},resume:function(){r.value=!0},eventFilter:(...t)=>{r.value&&e(...t)}}}function wO(e){return Array.isArray(e)?e:[e]}function SO(e){return tn(t=qa(e))?jt(new Proxy({},{get:(e,n,r)=>sn(Reflect.get(t.value,n,r)),set:(e,n,r)=>(tn(t.value[n])&&!tn(r)?t.value[n].value=r:t.value[n]=r,!0),deleteProperty:(e,n)=>Reflect.deleteProperty(t.value,n),has:(e,n)=>Reflect.has(t.value,n),ownKeys:()=>Object.keys(t.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})})):jt(t);var t}function EO(e,...t){const n=t.flat(),r=n[0];return SO(()=>"function"==typeof r?Object.fromEntries(Object.entries(dn(e)).filter(([e,t])=>!r(ln(t),e))):Object.fromEntries(Object.entries(dn(e)).filter(e=>!n.includes(e[0]))))}function TO(e,t=200,n={}){return _O(function(e,t={}){let n,r,i=yO;const o=e=>{clearTimeout(e),i(),i=yO};let a;return s=>{const l=ln(e),c=ln(t.maxWait);return n&&o(n),l<=0||void 0!==c&&c<=0?(r&&(o(r),r=void 0),Promise.resolve(s())):new Promise((e,u)=>{i=t.rejectOnCancel?u:e,a=s,c&&!r&&(r=setTimeout(()=>{n&&o(n),r=void 0,e(a())},c)),n=setTimeout(()=>{r&&o(r),r=void 0,e(s())},l)})}}(t,n),e)}function AO(e,t=200,n={}){const r=nn(ln(e)),i=TO(()=>{r.value=e.value},t,n);return lr(e,()=>i()),Gt(r)}function MO(e,t=200,n=!1,r=!0,i=!1){return _O(function(...e){let t,n,r,i,o,a,s=0,l=!0,c=yO;tn(e[0])||"object"!=typeof e[0]?[r,i=!0,o=!0,a=!1]=e:({delay:r,trailing:i=!0,leading:o=!0,rejectOnCancel:a=!1}=e[0]);const u=()=>{t&&(clearTimeout(t),t=void 0,c(),c=yO)};return e=>{const h=ln(r),f=Date.now()-s,d=()=>n=e();return u(),h<=0?(s=Date.now(),d()):(f>h?(s=Date.now(),!o&&l||d()):i&&(n=new Promise((e,n)=>{c=a?n:e,t=setTimeout(()=>{s=Date.now(),l=!0,e(d()),u()},Math.max(0,h-f))})),o||t||(t=setTimeout(()=>l=!0,h)),l=!1,n)}}(t,n,r,i),e)}function CO(e,t,n={}){const{eventFilter:r=bO,...i}=n;return lr(e,_O(r,t),i)}const OO=function(e,t,n={}){const{eventFilter:r,initialState:i="active",...o}=n,{eventFilter:a,pause:s,resume:l,isActive:c}=xO(r,{initialState:i});return{stop:CO(e,t,{...o,eventFilter:a}),pause:s,resume:l,isActive:c}};function RO(e,t=!0,n){Ra()?pi(e,n):t?e():Ln(e)}function IO(e,t,n){const r=lr(e,(e,i,o)=>{e&&((null==n?void 0:n.once)&&Ln(()=>r()),t(e,i,o))},{...n,once:!1});return r}const kO=mO?window:void 0,PO=mO?window.document:void 0,DO=mO?window.navigator:void 0;function NO(e){var t;const n=ln(e);return null!==(t=null==n?void 0:n.$el)&&void 0!==t?t:n}function LO(...e){const t=qa(()=>{const t=wO(ln(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0});return n=([e,t,n,r],i,o)=>{if(!(null==e?void 0:e.length)||!(null==t?void 0:t.length)||!(null==n?void 0:n.length))return;const a=(s=r,"[object Object]"===vO.call(s)?{...r}:r);var s;const l=e.flatMap(e=>t.flatMap(t=>n.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,a))));o(()=>{l.forEach(e=>e())})},r={flush:"post"},lr(()=>{var n,r;return[null!==(n=null===(r=t.value)||void 0===r?void 0:r.map(e=>NO(e)))&&void 0!==n?n:[kO].filter(e=>null!=e),wO(ln(t.value?e[1]:e[0])),wO(sn(t.value?e[2]:e[1])),ln(t.value?e[3]:e[2])]},n,{...r,immediate:!0});var n,r}function FO(e,t,n={}){const{window:r=kO,ignore:i=[],capture:o=!0,detectIframe:a=!1,controls:s=!1}=n;if(!r)return s?{stop:yO,cancel:yO,trigger:yO}:yO;let l=!0;const c=e=>ln(i).some(t=>{if("string"==typeof t)return Array.from(r.document.querySelectorAll(t)).some(t=>t===e.target||e.composedPath().includes(t));{const n=NO(t);return n&&(e.target===n||e.composedPath().includes(n))}});const u=n=>{const r=NO(e);null!=n.target&&(r instanceof Element||!function(e){const t=ln(e);return t&&16===t.$.subTree.shapeFlag}(e)||!function(e,t){const n=ln(e),r=n.$.subTree&&n.$.subTree.children;return!(null==r||!Array.isArray(r))&&r.some(e=>e.el===t.target||t.composedPath().includes(e.el))}(e,n))&&r&&r!==n.target&&!n.composedPath().includes(r)&&("detail"in n&&0===n.detail&&(l=!c(n)),l?t(n):l=!0)};let h=!1;const f=[LO(r,"click",e=>{h||(h=!0,setTimeout(()=>{h=!1},0),u(e))},{passive:!0,capture:o}),LO(r,"pointerdown",t=>{const n=NO(e);l=!c(t)&&!(!n||t.composedPath().includes(n))},{passive:!0}),a&&LO(r,"blur",n=>{setTimeout(()=>{var i;const o=NO(e);"IFRAME"!==(null===(i=r.document.activeElement)||void 0===i?void 0:i.tagName)||(null==o?void 0:o.contains(r.document.activeElement))||t(n)},0)},{passive:!0})].filter(Boolean),d=()=>f.forEach(e=>e());return s?{stop:d,cancel:()=>{l=!1},trigger:e=>{l=!0,u(e),l=!1}}:d}function UO(){const e=rn(!1),t=Ra();return t&&pi(()=>{e.value=!0},t),e}function BO(e){const t=UO();return qa(()=>(t.value,Boolean(e())))}function zO(e,t={}){const{controls:n=!1,navigator:r=DO}=t,i=BO(()=>r&&"permissions"in r),o=rn(),a="string"==typeof e?{name:e}:e,s=rn(),l=()=>{var e,t;s.value=null!==(e=null===(t=o.value)||void 0===t?void 0:t.state)&&void 0!==e?e:"prompt"};LO(o,"change",l,{passive:!0});const c=function(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const e=t;t=void 0,e&&await e},n}(async()=>{if(i.value){if(!o.value)try{o.value=await r.permissions.query(a)}catch(e){o.value=void 0}finally{l()}return n?Zt(o.value):void 0}});return c(),n?{state:s,isSupported:i,query:c}:s}function VO(e={}){const{navigator:t=DO,read:n=!1,source:r,copiedDuring:i=1500,legacy:o=!1}=e,a=BO(()=>t&&"clipboard"in t),s=zO("clipboard-read"),l=zO("clipboard-write"),c=qa(()=>a.value||o),u=rn(""),h=rn(!1),f=function(e,t,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n,o=rn(!1);let a;function s(){a&&(clearTimeout(a),a=void 0)}function l(){o.value=!1,s()}function c(...n){i&&e(),s(),o.value=!0,a=setTimeout(()=>{o.value=!1,a=void 0,e(...n)},ln(t))}return r&&(o.value=!0,mO&&c()),pO(l),{isPending:Gt(o),start:c,stop:l}}(()=>h.value=!1,i,{immediate:!1});function d(e){return"granted"===e||"prompt"===e}return c.value&&n&&LO(["copy","cut"],async function(){let e=!(a.value&&d(s.value));if(!e)try{u.value=await t.clipboard.readText()}catch(o){e=!0}var n,r,i;e&&(u.value=null!==(n=null===(r=document)||void 0===r||null===(i=r.getSelection)||void 0===i||null===(i=i.call(r))||void 0===i?void 0:i.toString())&&void 0!==n?n:"")},{passive:!0}),{isSupported:c,text:Wt(u),copied:Wt(h),copy:async function(e=ln(r)){if(c.value&&null!=e){let r=!(a.value&&d(l.value));if(!r)try{await t.clipboard.writeText(e)}catch(n){r=!0}r&&function(e){const t=document.createElement("textarea");t.value=e,t.style.position="absolute",t.style.opacity="0",t.setAttribute("readonly",""),document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove()}(e),u.value=e,h.value=!0,f.start()}}}}const jO="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},HO="__vueuse_ssr_handlers__",WO=GO();function GO(){return HO in jO||(jO[HO]=jO[HO]||{}),jO[HO]}const qO={boolean:{read:e=>"true"===e,write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},XO="vueuse-storage";function YO(e,t,n,r={}){var i;const{flush:o="pre",deep:a=!0,listenToStorageChanges:s=!0,writeDefaults:l=!0,mergeDefaults:c=!1,shallow:u,window:h=kO,eventFilter:f,onError:d=e=>{},initOnMounted:p}=r,m=(u?rn:nn)("function"==typeof t?t():t),g=qa(()=>ln(e));if(!n)try{n=function(e,t){return WO[e]||t}("getDefaultStorage",()=>null==kO?void 0:kO.localStorage)()}catch(ame){d(ame)}if(!n)return m;const v=ln(t),y=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"==typeof e?"object":Number.isNaN(e)?"any":"number"}(v),_=null!==(i=r.serializer)&&void 0!==i?i:qO[y],{pause:b,resume:x}=OO(m,e=>function(e){try{const t=n.getItem(g.value);if(null==e)S(t,null),n.removeItem(g.value);else{const r=_.write(e);t!==r&&(n.setItem(g.value,r),S(t,r))}}catch(ame){d(ame)}}(e),{flush:o,deep:a,eventFilter:f});lr(g,()=>E(),{flush:o});let w=!1;function S(e,t){if(h){const r={key:g.value,oldValue:e,newValue:t,storageArea:n};h.dispatchEvent(n instanceof Storage?new StorageEvent("storage",r):new CustomEvent(XO,{detail:r}))}}function E(e){if(!e||e.storageArea===n)if(e&&null==e.key)m.value=v;else if(!e||e.key===g.value){b();try{const t=_.write(m.value);void 0!==e&&(null==e?void 0:e.newValue)===t||(m.value=function(e){const t=e?e.newValue:n.getItem(g.value);if(null==t)return l&&null!=v&&n.setItem(g.value,_.write(v)),v;if(!e&&c){const e=_.read(t);return"function"==typeof c?c(e,v):"object"!==y||Array.isArray(e)?e:{...v,...e}}return"string"!=typeof t?t:_.read(t)}(e))}catch(ame){d(ame)}finally{e?Ln(x):x()}}}return h&&s&&(n instanceof Storage?LO(h,"storage",e=>{p&&!w||E(e)},{passive:!0}):LO(h,XO,e=>{p&&!w||E(e.detail)})),p?RO(()=>{w=!0,E()}):E(),m}function KO(e){const t=Ra(),n=function(e,t,n={}){let r,i,o,a=!0;const s=()=>{a=!0,o()};lr(e,s,{flush:"sync",...n});const l="function"==typeof t?t:t.get,c="function"==typeof t?void 0:t.set,u=fn((e,t)=>(i=e,o=t,{get:()=>(a&&(r=l(r),a=!1),i(),r),set(e){null==c||c(e)}}));return u.trigger=s,u}(()=>null,()=>e?NO(e):t.proxy.$el);return gi(n.trigger),pi(n.trigger),n}function $O(e,t={width:0,height:0},n={}){const{window:r=kO,box:i="content-box"}=n,o=qa(()=>{var t;return null===(t=NO(e))||void 0===t||null===(t=t.namespaceURI)||void 0===t?void 0:t.includes("svg")}),a=rn(t.width),s=rn(t.height),{stop:l}=function(e,t,n={}){const{window:r=kO,...i}=n;let o;const a=BO(()=>r&&"ResizeObserver"in r),s=()=>{o&&(o.disconnect(),o=void 0)},l=lr(qa(()=>{const t=ln(e);return Array.isArray(t)?t.map(e=>NO(e)):[NO(t)]}),e=>{if(s(),a.value&&r){o=new ResizeObserver(t);for(const t of e)t&&o.observe(t,i)}},{immediate:!0,flush:"post"}),c=()=>{s(),l()};return pO(c),{isSupported:a,stop:c}}(e,([t])=>{const n="border-box"===i?t.borderBoxSize:"content-box"===i?t.contentBoxSize:t.devicePixelContentBoxSize;if(r&&o.value){const t=NO(e);if(t){const e=t.getBoundingClientRect();a.value=e.width,s.value=e.height}}else if(n){const e=wO(n);a.value=e.reduce((e,{inlineSize:t})=>e+t,0),s.value=e.reduce((e,{blockSize:t})=>e+t,0)}else a.value=t.contentRect.width,s.value=t.contentRect.height},n);RO(()=>{const n=NO(e);n&&(a.value="offsetWidth"in n?n.offsetWidth:t.width,s.value="offsetHeight"in n?n.offsetHeight:t.height)});const c=lr(()=>NO(e),e=>{a.value=e?t.width:0,s.value=e?t.height:0});return{width:a,height:s,stop:function(){l(),c()}}}const ZO=["fullscreenchange","webkitfullscreenchange","webkitendfullscreen","mozfullscreenchange","MSFullscreenChange"];function JO(e,t={}){const{document:n=PO,autoExit:r=!1}=t,i=qa(()=>{var t;return null!==(t=NO(e))&&void 0!==t?t:null==n?void 0:n.documentElement}),o=rn(!1),a=qa(()=>["requestFullscreen","webkitRequestFullscreen","webkitEnterFullscreen","webkitEnterFullScreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),s=qa(()=>["exitFullscreen","webkitExitFullscreen","webkitExitFullScreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"].find(e=>n&&e in n||i.value&&e in i.value)),l=qa(()=>["fullScreen","webkitIsFullScreen","webkitDisplayingFullscreen","mozFullScreen","msFullscreenElement"].find(e=>n&&e in n||i.value&&e in i.value)),c=["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"].find(e=>n&&e in n),u=BO(()=>i.value&&n&&void 0!==a.value&&void 0!==s.value&&void 0!==l.value),h=()=>{if(l.value){if(n&&null!=n[l.value])return n[l.value];{const e=i.value;if(null!=(null==e?void 0:e[l.value]))return Boolean(e[l.value])}}return!1};async function f(){if(u.value&&o.value){if(s.value)if(null!=(null==n?void 0:n[s.value]))await n[s.value]();else{const e=i.value;null!=(null==e?void 0:e[s.value])&&await e[s.value]()}o.value=!1}}async function d(){if(!u.value||o.value)return;h()&&await f();const e=i.value;a.value&&null!=(null==e?void 0:e[a.value])&&(await e[a.value](),o.value=!0)}const p=()=>{const e=h();(!e||e&&c&&(null==n?void 0:n[c])===i.value)&&(o.value=e)},m={capture:!1,passive:!0};return LO(n,ZO,p,m),LO(()=>NO(i),ZO,p,m),RO(p,!1),r&&pO(f),{isSupported:u,isFullscreen:o,enter:d,exit:f,toggle:async function(){await(o.value?f():d())}}}function QO(e,t={}){const{throttle:n=0,idle:r=200,onStop:i=yO,onScroll:o=yO,offset:a={left:0,right:0,top:0,bottom:0},observe:s={mutation:!1},eventListenerOptions:l={capture:!1,passive:!0},behavior:c="auto",window:u=kO,onError:h=e=>{}}=t,f="boolean"==typeof s?{mutation:s}:s,d=rn(0),p=rn(0),m=qa({get:()=>d.value,set(e){v(e,void 0)}}),g=qa({get:()=>p.value,set(e){v(void 0,e)}});function v(t,n){var r,i,o,a;if(!u)return;const s=ln(e);if(!s)return;null===(r=s instanceof Document?u.document.body:s)||void 0===r||r.scrollTo({top:null!==(i=ln(n))&&void 0!==i?i:g.value,left:null!==(o=ln(t))&&void 0!==o?o:m.value,behavior:ln(c)});const l=(null==s||null===(a=s.document)||void 0===a?void 0:a.documentElement)||(null==s?void 0:s.documentElement)||s;null!=m&&(d.value=l.scrollLeft),null!=g&&(p.value=l.scrollTop)}const y=rn(!1),_=jt({left:!0,right:!1,top:!0,bottom:!1}),b=jt({left:!1,right:!1,top:!1,bottom:!1}),x=e=>{y.value&&(y.value=!1,b.left=!1,b.right=!1,b.top=!1,b.bottom=!1,i(e))},w=TO(x,n+r),S=e=>{var t;if(!u)return;const n=(null==e||null===(t=e.document)||void 0===t?void 0:t.documentElement)||(null==e?void 0:e.documentElement)||NO(e),{display:r,flexDirection:i,direction:o}=u.getComputedStyle(n),s="rtl"===o?-1:1,l=n.scrollLeft;b.left=l<d.value,b.right=l>d.value;const c=Math.abs(l*s)<=(a.left||0),h=Math.abs(l*s)+n.clientWidth>=n.scrollWidth-(a.right||0)-1;"flex"===r&&"row-reverse"===i?(_.left=h,_.right=c):(_.left=c,_.right=h),d.value=l;let f=n.scrollTop;e!==u.document||f||(f=u.document.body.scrollTop),b.top=f<p.value,b.bottom=f>p.value;const m=Math.abs(f)<=(a.top||0),g=Math.abs(f)+n.clientHeight>=n.scrollHeight-(a.bottom||0)-1;"flex"===r&&"column-reverse"===i?(_.top=g,_.bottom=m):(_.top=m,_.bottom=g),p.value=f},E=e=>{var t;u&&(S(null!==(t=e.target.documentElement)&&void 0!==t?t:e.target),y.value=!0,w(e),o(e))};return LO(e,"scroll",n?MO(E,n,!0,!1):E,l),RO(()=>{try{const t=ln(e);if(!t)return;S(t)}catch(ame){h(ame)}}),(null==f?void 0:f.mutation)&&null!=e&&e!==u&&e!==document&&function(e,t,n={}){const{window:r=kO,...i}=n;let o;const a=BO(()=>r&&"MutationObserver"in r),s=()=>{o&&(o.disconnect(),o=void 0)},l=lr(qa(()=>{const t=wO(ln(e)).map(NO).filter(gO);return new Set(t)}),e=>{s(),a.value&&e.size&&(o=new MutationObserver(t),e.forEach(e=>o.observe(e,i)))},{immediate:!0,flush:"post"}),c=()=>{l(),s()};pO(c)}(e,()=>{const t=ln(e);t&&S(t)},{attributes:!0,childList:!0,subtree:!0}),LO(e,"scrollend",x,l),{x:m,y:g,isScrolling:y,arrivedState:_,directions:b,measure(){const t=ln(e);u&&t&&S(t)}}}function eR(e,t,n={}){const{window:r=kO}=n;return YO(e,t,null==r?void 0:r.localStorage,n)}const tR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nR=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},rR=(...e)=>e.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim(),iR=e=>""===e;var oR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};const aR=({name:e,iconNode:t,absoluteStrokeWidth:n,"absolute-stroke-width":r,strokeWidth:i,"stroke-width":o,size:a=oR.width,color:s=oR.stroke,...l},{slots:c})=>Xa("svg",{...oR,...l,width:a,height:a,stroke:s,"stroke-width":iR(n)||iR(r)||!0===n||!0===r?24*Number(i||o||oR["stroke-width"])/Number(a):i||o||oR["stroke-width"],class:rR("lucide",l.class,...e?["lucide-".concat(tR(nR(e)),"-icon"),"lucide-".concat(tR(e))]:["lucide-icon"])},[...t.map(e=>Xa(...e)),...c.default?[c.default()]:[]]),sR=(e,t)=>(n,{slots:r,attrs:i})=>Xa(aR,{...i,...n,iconNode:t,name:e},r),lR=sR("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),cR=sR("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),uR=sR("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]),hR=sR("grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]]),fR=sR("list-music",[["path",{d:"M16 5H3",key:"m91uny"}],["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M11 19H3",key:"zflm78"}],["path",{d:"M21 16V5",key:"yxg4q8"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),dR=sR("maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),pR=sR("minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),mR=sR("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]),gR=sR("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),vR=sR("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var yR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _R(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function bR(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if("function"==typeof t){var n=function e(){var n=!1;try{n=this instanceof e}catch(ame){}return n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),n}function xR(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wR,SR={exports:{}};var ER=(wR||(wR=1,SR.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(!s&&xR)return xR(a);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return i(n||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var o=xR,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){(function(e){var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,a=new i(u),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}function h(e){1!==c.push(e)||r||n()}t.exports=h}).call(this,void 0!==yR?yR:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){var r=e(1);function i(){}var o={},a=["REJECTED"],s=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r(function(){var r;try{r=t(n)}catch(ame){return o.reject(e,ame)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)})}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}function a(){t(i,r)}var s=p(a);"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(ame){n.status="error",n.value=ame}return n}function m(e){return e instanceof this?e:o.resolve(new this(i),e)}function g(e){var t=new this(i);return o.reject(t,e)}function v(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,l=-1,c=new this(i);++l<n;)u(e[l],l);return c;function u(e,i){function l(e){a[i]=e,++s!==n||r||(r=!0,o.resolve(c,a))}t.resolve(e).then(l,function(e){r||(r=!0,o.reject(c,e))})}}function y(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var a=-1,s=new this(i);++a<n;)l(e[a]);return s;function l(e){t.resolve(e).then(function(e){r||(r=!0,o.resolve(s,e))},function(e){r||(r=!0,o.reject(s,e))})}}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===s?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){o.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(f,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=s,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=m,c.reject=g,c.all=v,c.race=y},{1:1}],3:[function(e,t,n){(function(t){"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==yR?yR:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(ame){return}}var a=o();function s(){try{if(!a||!a.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(ame){return!1}}function l(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(ame){if("TypeError"!==ame.name)throw ame;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var c=Promise;function u(e,t){t&&e.then(function(e){t(null,e)},function(e){t(e)})}function h(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function f(e){return"string"!=typeof e&&(e=String(e)),e}function d(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var p="local-forage-detect-blob-support",m=void 0,g={},v=Object.prototype.toString,y="readonly",_="readwrite";function b(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),i=0;i<t;i++)r[i]=e.charCodeAt(i);return n}function x(e){return new c(function(t){var n=e.transaction(p,_),r=l([""]);n.objectStore(p).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}}).catch(function(){return!1})}function w(e){return"boolean"==typeof m?c.resolve(m):x(e).then(function(e){return m=e})}function S(e){var t=g[e.name],n={};n.promise=new c(function(e,t){n.resolve=e,n.reject=t}),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then(function(){return n.promise}):t.dbReady=n.promise}function E(e){var t=g[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function T(e,t){var n=g[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function A(e,t){return new c(function(n,r){if(g[e.name]=g[e.name]||L(),e.db){if(!t)return n(e.db);S(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var o=a.open.apply(a,i);t&&(o.onupgradeneeded=function(t){var n=o.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(p)}catch(r){if("ConstraintError"!==r.name)throw r}}),o.onerror=function(e){e.preventDefault(),r(o.error)},o.onsuccess=function(){var t=o.result;t.onversionchange=function(e){e.target.close()},n(t),E(e)}})}function M(e){return A(e,!1)}function C(e){return A(e,!0)}function O(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,i=e.version>e.db.version;if(r&&(e.version,e.version=e.db.version),i||n){if(n){var o=e.db.version+1;o>e.version&&(e.version=o)}return!0}return!1}function R(e){return new c(function(t,n){var r=new FileReader;r.onerror=n,r.onloadend=function(n){var r=btoa(n.target.result||"");t({__local_forage_encoded_blob:!0,data:r,type:e.type})},r.readAsBinaryString(e)})}function I(e){return l([b(atob(e.data))],{type:e.type})}function k(e){return e&&e.__local_forage_encoded_blob}function P(e){var t=this,n=t._initReady().then(function(){var e=g[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady});return h(n,e,e),n}function D(e){S(e);for(var t=g[e.name],n=t.forages,r=0;r<n.length;r++){var i=n[r];i._dbInfo.db&&(i._dbInfo.db.close(),i._dbInfo.db=null)}return e.db=null,M(e).then(function(t){return e.db=t,O(e)?C(e):t}).then(function(r){e.db=t.db=r;for(var i=0;i<n.length;i++)n[i]._dbInfo.db=r}).catch(function(t){throw T(e,t),t})}function N(e,t,n,r){void 0===r&&(r=1);try{var i=e.db.transaction(e.storeName,t);n(null,i)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return c.resolve().then(function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),C(e)}).then(function(){return D(e).then(function(){N(e,t,n,r-1)})}).catch(n);n(o)}}function L(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function F(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var i=g[n.name];i||(i=L(),g[n.name]=i),i.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=P);var o=[];function a(){return c.resolve()}for(var s=0;s<i.forages.length;s++){var l=i.forages[s];l!==t&&o.push(l._initReady().catch(a))}var u=i.forages.slice(0);return c.all(o).then(function(){return n.db=i.db,M(n)}).then(function(e){return n.db=e,O(n,t._defaultConfig.version)?C(n):e}).then(function(e){n.db=i.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var o=u[r];o!==t&&(o._dbInfo.db=n.db,o._dbInfo.version=n.version)}})}function U(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){N(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).get(e);a.onsuccess=function(){var e=a.result;void 0===e&&(e=null),k(e)&&(e=I(e)),t(e)},a.onerror=function(){r(a.error)}}catch(ame){r(ame)}})}).catch(r)});return u(r,t),r}function B(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){N(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).openCursor(),s=1;a.onsuccess=function(){var n=a.result;if(n){var r=n.value;k(r)&&(r=I(r));var i=e(r,n.key,s++);void 0!==i?t(i):n.continue()}else t()},a.onerror=function(){r(a.error)}}catch(ame){r(ame)}})}).catch(r)});return u(r,t),r}function z(e,t,n){var r=this;e=f(e);var i=new c(function(n,i){var o;r.ready().then(function(){return o=r._dbInfo,"[object Blob]"===v.call(t)?w(o.db).then(function(e){return e?t:R(t)}):t}).then(function(t){N(r._dbInfo,_,function(o,a){if(o)return i(o);try{var s=a.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=s.put(t,e);a.oncomplete=function(){void 0===t&&(t=null),n(t)},a.onabort=a.onerror=function(){var e=l.error?l.error:l.transaction.error;i(e)}}catch(ame){i(ame)}})}).catch(i)});return u(i,n),i}function V(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){N(n._dbInfo,_,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName).delete(e);o.oncomplete=function(){t()},o.onerror=function(){r(a.error)},o.onabort=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(ame){r(ame)}})}).catch(r)});return u(r,t),r}function j(e){var t=this,n=new c(function(e,n){t.ready().then(function(){N(t._dbInfo,_,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).clear();i.oncomplete=function(){e()},i.onabort=i.onerror=function(){var e=o.error?o.error:o.transaction.error;n(e)}}catch(ame){n(ame)}})}).catch(n)});return u(n,e),n}function H(e){var t=this,n=new c(function(e,n){t.ready().then(function(){N(t._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).count();o.onsuccess=function(){e(o.result)},o.onerror=function(){n(o.error)}}catch(ame){n(ame)}})}).catch(n)});return u(n,e),n}function W(e,t){var n=this,r=new c(function(t,r){e<0?t(null):n.ready().then(function(){N(n._dbInfo,y,function(i,o){if(i)return r(i);try{var a=o.objectStore(n._dbInfo.storeName),s=!1,l=a.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||s?t(n.key):(s=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(ame){r(ame)}})}).catch(r)});return u(r,t),r}function G(e){var t=this,n=new c(function(e,n){t.ready().then(function(){N(t._dbInfo,y,function(r,i){if(r)return n(r);try{var o=i.objectStore(t._dbInfo.storeName).openKeyCursor(),a=[];o.onsuccess=function(){var t=o.result;t?(a.push(t.key),t.continue()):e(a)},o.onerror=function(){n(o.error)}}catch(ame){n(ame)}})}).catch(n)});return u(n,e),n}function q(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;if(e.name){var o=e.name===n.name&&i._dbInfo.db?c.resolve(i._dbInfo.db):M(e).then(function(t){var n=g[e.name],r=n.forages;n.db=t;for(var i=0;i<r.length;i++)r[i]._dbInfo.db=t;return t});r=e.storeName?o.then(function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;S(e);var r=g[e.name],i=r.forages;t.close();for(var o=0;o<i.length;o++){var s=i[o];s._dbInfo.db=null,s._dbInfo.version=n}return new c(function(t,r){var i=a.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}).then(function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,E(n._dbInfo)}}).catch(function(t){throw(T(e,t)||c.resolve()).catch(function(){}),t})}}):o.then(function(t){S(e);var n=g[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;return new c(function(t,n){var r=a.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}).then(function(e){n.db=e;for(var t=0;t<r.length;t++)E(r[t]._dbInfo)}).catch(function(t){throw(T(e,t)||c.resolve()).catch(function(){}),t})})}else r=c.reject("Invalid arguments");return u(r,t),r}var X={_driver:"asyncStorage",_initStorage:F,_support:s(),iterate:B,getItem:U,setItem:z,removeItem:V,clear:j,length:H,key:W,keys:G,dropInstance:q};function Y(){return"function"==typeof openDatabase}var K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$="~~local_forage_type~",Z=/^~~local_forage_type~([^~]+)~/,J="__lfsc__:",Q=J.length,ee="arbf",te="blob",ne="si08",re="ui08",ie="uic8",oe="si16",ae="si32",se="ur16",le="ui32",ce="fl32",ue="fl64",he=Q+ee.length,fe=Object.prototype.toString;function de(e){var t,n,r,i,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var c=new ArrayBuffer(a),u=new Uint8Array(c);for(t=0;t<s;t+=4)n=K.indexOf(e[t]),r=K.indexOf(e[t+1]),i=K.indexOf(e[t+2]),o=K.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|i>>2,u[l++]=(3&i)<<6|63&o;return c}function pe(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=K[n[t]>>2],r+=K[(3&n[t])<<4|n[t+1]>>4],r+=K[(15&n[t+1])<<2|n[t+2]>>6],r+=K[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}function me(e,t){var n="";if(e&&(n=fe.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===fe.call(e.buffer))){var r,i=J;e instanceof ArrayBuffer?(r=e,i+=ee):(r=e.buffer,"[object Int8Array]"===n?i+=ne:"[object Uint8Array]"===n?i+=re:"[object Uint8ClampedArray]"===n?i+=ie:"[object Int16Array]"===n?i+=oe:"[object Uint16Array]"===n?i+=se:"[object Int32Array]"===n?i+=ae:"[object Uint32Array]"===n?i+=le:"[object Float32Array]"===n?i+=ce:"[object Float64Array]"===n?i+=ue:t(new Error("Failed to get type for BinaryArray"))),t(i+pe(r))}else if("[object Blob]"===n){var o=new FileReader;o.onload=function(){var n=$+e.type+"~"+pe(this.result);t(J+te+n)},o.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(ame){t(null,ame)}}function ge(e){if(e.substring(0,Q)!==J)return JSON.parse(e);var t,n=e.substring(he),r=e.substring(Q,he);if(r===te&&Z.test(n)){var i=n.match(Z);t=i[1],n=n.substring(i[0].length)}var o=de(n);switch(r){case ee:return o;case te:return l([o],{type:t});case ne:return new Int8Array(o);case re:return new Uint8Array(o);case ie:return new Uint8ClampedArray(o);case oe:return new Int16Array(o);case se:return new Uint16Array(o);case ae:return new Int32Array(o);case le:return new Uint32Array(o);case ce:return new Float32Array(o);case ue:return new Float64Array(o);default:throw new Error("Unkown type: "+r)}}var ve={serialize:me,deserialize:ge,stringToBuffer:de,bufferToString:pe};function ye(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function _e(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var i=new c(function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(ame){return r(ame)}n.db.transaction(function(i){ye(i,n,function(){t._dbInfo=n,e()},function(e,t){r(t)})},r)});return n.serializer=ve,i}function be(e,t,n,r,i,o){e.executeSql(n,r,i,function(e,a){a.code===a.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],function(e,s){s.rows.length?o(e,a):ye(e,t,function(){e.executeSql(n,r,i,o)},o)},o):o(e,a)},o)}function xe(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT * FROM "+i.storeName+" WHERE key = ? LIMIT 1",[e],function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=i.serializer.deserialize(r)),t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function we(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT * FROM "+i.storeName,[],function(n,r){for(var o=r.rows,a=o.length,s=0;s<a;s++){var l=o.item(s),c=l.value;if(c&&(c=i.serializer.deserialize(c)),void 0!==(c=e(c,l.key,s+1)))return void t(c)}t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Se(e,t,n,r){var i=this;e=f(e);var o=new c(function(o,a){i.ready().then(function(){void 0===t&&(t=null);var s=t,l=i._dbInfo;l.serializer.serialize(t,function(t,c){c?a(c):l.db.transaction(function(n){be(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],function(){o(s)},function(e,t){a(t)})},function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void o(Se.apply(i,[e,s,n,r-1]));a(t)}})})}).catch(a)});return u(o,n),o}function Ee(e,t,n){return Se.apply(this,[e,t,n,1])}function Te(e,t){var n=this;e=f(e);var r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"DELETE FROM "+i.storeName+" WHERE key = ?",[e],function(){t()},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Ae(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"DELETE FROM "+r.storeName,[],function(){e()},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Me(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],function(t,n){var r=n.rows.item(0).c;e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Ce(e,t){var n=this,r=new c(function(t,r){n.ready().then(function(){var i=n._dbInfo;i.db.transaction(function(n){be(n,i,"SELECT key FROM "+i.storeName+" WHERE id = ? LIMIT 1",[e+1],function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)},function(e,t){r(t)})})}).catch(r)});return u(r,t),r}function Oe(e){var t=this,n=new c(function(e,n){t.ready().then(function(){var r=t._dbInfo;r.db.transaction(function(t){be(t,r,"SELECT key FROM "+r.storeName,[],function(t,n){for(var r=[],i=0;i<n.rows.length;i++)r.push(n.rows.item(i).key);e(r)},function(e,t){n(t)})})}).catch(n)});return u(n,e),n}function Re(e){return new c(function(t,n){e.transaction(function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(n,r){for(var i=[],o=0;o<r.rows.length;o++)i.push(r.rows.item(o).name);t({db:e,storeNames:i})},function(e,t){n(t)})},function(e){n(e)})})}function Ie(e,t){t=d.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,i=this;return u(r=e.name?new c(function(t){var r;r=e.name===n.name?i._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(Re(r))}).then(function(e){return new c(function(t,n){e.db.transaction(function(r){function i(e){return new c(function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],function(){t()},function(e,t){n(t)})})}for(var o=[],a=0,s=e.storeNames.length;a<s;a++)o.push(i(e.storeNames[a]));c.all(o).then(function(){t()}).catch(function(e){n(e)})},function(e){n(e)})})}):c.reject("Invalid arguments"),t),r}var ke={_driver:"webSQLStorage",_initStorage:_e,_support:Y(),iterate:we,getItem:xe,setItem:Ee,removeItem:Te,clear:Ae,length:Me,key:Ce,keys:Oe,dropInstance:Ie};function Pe(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(ame){return!1}}function De(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function Ne(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(ame){return!0}}function Le(){return!Ne()||localStorage.length>0}function Fe(e){var t=this,n={};if(e)for(var r in e)n[r]=e[r];return n.keyPrefix=De(e,t._defaultConfig),Le()?(t._dbInfo=n,n.serializer=ve,c.resolve()):c.reject()}function Ue(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}});return u(n,e),n}function Be(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r});return u(r,t),r}function ze(e,t){var n=this,r=n.ready().then(function(){for(var t=n._dbInfo,r=t.keyPrefix,i=r.length,o=localStorage.length,a=1,s=0;s<o;s++){var l=localStorage.key(s);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(i),a++)))return c}}});return u(r,t),r}function Ve(e,t){var n=this,r=n.ready().then(function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(i){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t});return u(r,t),r}function je(e){var t=this,n=t.ready().then(function(){for(var e=t._dbInfo,n=localStorage.length,r=[],i=0;i<n;i++){var o=localStorage.key(i);0===o.indexOf(e.keyPrefix)&&r.push(o.substring(e.keyPrefix.length))}return r});return u(n,e),n}function He(e){var t=this.keys().then(function(e){return e.length});return u(t,e),t}function We(e,t){var n=this;e=f(e);var r=n.ready().then(function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)});return u(r,t),r}function Ge(e,t,n){var r=this;e=f(e);var i=r.ready().then(function(){void 0===t&&(t=null);var n=t;return new c(function(i,o){var a=r._dbInfo;a.serializer.serialize(t,function(t,r){if(r)o(r);else try{localStorage.setItem(a.keyPrefix+e,t),i(n)}catch(ame){"QuotaExceededError"!==ame.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==ame.name||o(ame),o(ame)}})})});return u(i,n),i}function qe(e,t){if(t=d.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,i=this;return u(r=e.name?new c(function(t){e.storeName?t(De(e,i._defaultConfig)):t(e.name+"/")}).then(function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}}):c.reject("Invalid arguments"),t),r}var Xe={_driver:"localStorageWrapper",_initStorage:Fe,_support:Pe(),iterate:ze,getItem:Be,setItem:Ge,removeItem:We,clear:Ue,length:He,key:Ve,keys:je,dropInstance:qe},Ye=function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)},Ke=function(e,t){for(var n=e.length,r=0;r<n;){if(Ye(e[r],t))return!0;r++}return!1},$e=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ze={},Je={},Qe={INDEXEDDB:X,WEBSQL:ke,LOCALSTORAGE:Xe},et=[Qe.INDEXEDDB._driver,Qe.WEBSQL._driver,Qe.LOCALSTORAGE._driver],tt=["dropInstance"],nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(tt),rt={description:"",driver:et.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function it(e,t){e[t]=function(){var n=arguments;return e.ready().then(function(){return e[t].apply(e,n)})}}function ot(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&($e(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var at=function(){function e(t){for(var n in i(this,e),Qe)if(Qe.hasOwnProperty(n)){var r=Qe[n],o=r._driver;this[n]=o,Ze[o]||this.defineDriver(r)}this._defaultConfig=ot({},rt),this._config=ot({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new c(function(t,n){try{var r=e._driver,i=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(i);for(var o=nt.concat("_initStorage"),a=0,s=o.length;a<s;a++){var l=o[a];if((!Ke(tt,l)||e[l])&&"function"!=typeof e[l])return void n(i)}var h=function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=c.reject(t);return u(n,arguments[arguments.length-1]),n}},n=0,r=tt.length;n<r;n++){var i=tt[n];e[i]||(e[i]=t(i))}};h();var f=function(n){Ze[r],Ze[r]=e,Je[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(f,n):f(!!e._support):f(!0)}catch(ame){n(ame)}});return h(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=Ze[e]?c.resolve(Ze[e]):c.reject(new Error("Driver not found."));return h(r,t,n),r},e.prototype.getSerializer=function(e){var t=c.resolve(ve);return h(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then(function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready});return h(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;$e(e)||(e=[e]);var i=this._getSupportedDrivers(e);function o(){r._config.driver=r.driver()}function a(e){return r._extend(e),o(),r._ready=r._initStorage(r._config),r._ready}function s(e){return function(){var t=0;function n(){for(;t<e.length;){var i=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(i).then(a).catch(n)}o();var s=new Error("No available storage method found.");return r._driverSet=c.reject(s),r._driverSet}return n()}}var l=null!==this._driverSet?this._driverSet.catch(function(){return c.resolve()}):c.resolve();return this._driverSet=l.then(function(){var e=i[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then(function(e){r._driver=e._driver,o(),r._wrapLibraryMethodsWithReady(),r._initDriver=s(i)})}).catch(function(){o();var e=new Error("No available storage method found.");return r._driverSet=c.reject(e),r._driverSet}),h(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!Je[e]},e.prototype._extend=function(e){ot(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];this.supports(i)&&t.push(i)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=nt.length;e<t;e++)it(this,nt[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),st=new at;t.exports=st},{3:3}]},{},[4])(4)),SR.exports);const TR=_R(ER);var AR,MR={exports:{}};var CR=(AR||(AR=1,MR.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",l="week",c="month",u="quarter",h="year",f="date",d="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},v=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:v,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+v(r,2,"0")+":"+v(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:h,w:l,d:s,D:f,h:a,m:o,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},_="en",b={};b[_]=g;var x="$isDayjsObject",w=function(e){return e instanceof A||!(!e||!e[x])},S=function e(t,n,r){var i;if(!t)return _;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),n&&(b[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;b[s]=t,i=s}return!r&&i&&(_=i),i||!r&&_},E=function(e,t){if(w(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new A(n)},T=y;T.l=S,T.i=w,T.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=S(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[x]=!0}var v=g.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return T},v.isValid=function(){return!(this.$d.toString()===d)},v.isSame=function(e,t){var n=E(e);return this.startOf(t)<=n&&n<=this.endOf(t)},v.isAfter=function(e,t){return E(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<E(e)},v.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var n=this,r=!!T.u(t)||t,u=T.p(e),d=function(e,t){var i=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return T.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},m=this.$W,g=this.$M,v=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case h:return r?d(1,0):d(31,11);case c:return r?d(1,g):d(0,g+1);case l:var _=this.$locale().weekStart||0,b=(m<_?m+7:m)-_;return d(r?v-b:v+(6-b),g);case s:case f:return p(y+"Hours",0);case a:return p(y+"Minutes",1);case o:return p(y+"Seconds",2);case i:return p(y+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var n,l=T.p(e),u="set"+(this.$u?"UTC":""),d=(n={},n[s]=u+"Date",n[f]=u+"Date",n[c]=u+"Month",n[h]=u+"FullYear",n[a]=u+"Hours",n[o]=u+"Minutes",n[i]=u+"Seconds",n[r]=u+"Milliseconds",n)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===h){var m=this.clone().set(f,1);m.$d[d](p),m.init(),this.$d=m.set(f,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[T.p(e)]()},v.add=function(r,u){var f,d=this;r=Number(r);var p=T.p(u),m=function(e){var t=E(d);return T.w(t.date(t.date()+Math.round(e*r)),d)};if(p===c)return this.set(c,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===s)return m(1);if(p===l)return m(7);var g=(f={},f[o]=t,f[a]=n,f[i]=e,f)[p]||1,v=this.$d.getTime()+r*g;return T.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=T.z(this),o=this.$H,a=this.$m,s=this.$M,l=n.weekdays,c=n.months,u=n.meridiem,h=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return T.s(o%12||12,e,"0")},p=u||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(m,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return T.s(t.$y,4,"0");case"M":return s+1;case"MM":return T.s(s+1,2,"0");case"MMM":return h(n.monthsShort,s,c,3);case"MMMM":return h(c,s);case"D":return t.$D;case"DD":return T.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return h(n.weekdaysMin,t.$W,l,2);case"ddd":return h(n.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(o);case"HH":return T.s(o,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return p(o,a,!0);case"A":return p(o,a,!1);case"m":return String(a);case"mm":return T.s(a,2,"0");case"s":return String(t.$s);case"ss":return T.s(t.$s,2,"0");case"SSS":return T.s(t.$ms,3,"0");case"Z":return i}return null}(e)||i.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(r,f,d){var p,m=this,g=T.p(f),v=E(r),y=(v.utcOffset()-this.utcOffset())*t,_=this-v,b=function(){return T.m(m,v)};switch(g){case h:p=b()/12;break;case c:p=b();break;case u:p=b()/3;break;case l:p=(_-y)/6048e5;break;case s:p=(_-y)/864e5;break;case a:p=_/n;break;case o:p=_/t;break;case i:p=_/e;break;default:p=_}return d?p:T.a(p)},v.daysInMonth=function(){return this.endOf(c).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=S(e,t,!0);return r&&(n.$L=r),n},v.clone=function(){return T.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},g}(),M=A.prototype;return E.prototype=M,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",h],["$D",f]].forEach(function(e){M[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),E.extend=function(e,t){return e.$i||(e(t,A,E),e.$i=!0),E},E.locale=S,E.isDayjs=w,E.unix=function(e){return E(1e3*e)},E.en=b[_],E.Ls=b,E.p={},E}()),MR.exports);const OR=_R(CR),RR=[];for(let $=0;$<256;++$)RR.push(($+256).toString(16).slice(1));let IR;const kR=new Uint8Array(16);const PR={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function DR(e,t,n){var r,i,o;const a=null!=(o=null!=(i=(e=e||{}).random)?i:null==(r=e.rng)?void 0:r.call(e))?o:function(){if(!IR){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");IR=crypto.getRandomValues.bind(crypto)}return IR(kR)}();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=15&a[6]|64,a[8]=63&a[8]|128,function(e,t=0){return(RR[e[t+0]]+RR[e[t+1]]+RR[e[t+2]]+RR[e[t+3]]+"-"+RR[e[t+4]]+RR[e[t+5]]+"-"+RR[e[t+6]]+RR[e[t+7]]+"-"+RR[e[t+8]]+RR[e[t+9]]+"-"+RR[e[t+10]]+RR[e[t+11]]+RR[e[t+12]]+RR[e[t+13]]+RR[e[t+14]]+RR[e[t+15]]).toLowerCase()}(a)}function NR(e,t,n){return PR.randomUUID&&!e?PR.randomUUID():DR(e)}var LR,FR={exports:{}};var UR=(LR||(LR=1,FR.exports=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)},t=function(){return(t=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function n(e,t,n){for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||((r=r||Array.prototype.slice.call(t,0,i))[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:yR,i=Object.keys,o=Array.isArray;function a(e,t){return"object"!=typeof t||i(t).forEach(function(n){e[n]=t[n]}),e}"undefined"==typeof Promise||r.Promise||(r.Promise=Promise);var s=Object.getPrototypeOf,l={}.hasOwnProperty;function c(e,t){return l.call(e,t)}function u(e,t){"function"==typeof t&&(t=t(s(e))),("undefined"==typeof Reflect?i:Reflect.ownKeys)(t).forEach(function(n){f(e,n,t[n])})}var h=Object.defineProperty;function f(e,t,n,r){h(e,t,a(n&&c(n,"get")&&"function"==typeof n.get?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function d(e){return{from:function(t){return e.prototype=Object.create(t.prototype),f(e.prototype,"constructor",e),{extend:u.bind(null,e.prototype)}}}}var p=Object.getOwnPropertyDescriptor,m=[].slice;function g(e,t,n){return m.call(e,t,n)}function v(e,t){return t(e)}function y(e){if(!e)throw new Error("Assertion Failed")}function _(e){r.setImmediate?setImmediate(e):setTimeout(e,0)}function b(e,t){if("string"==typeof t&&c(e,t))return e[t];if(!t)return e;if("string"!=typeof t){for(var n=[],r=0,i=t.length;r<i;++r){var o=b(e,t[r]);n.push(o)}return n}var a=t.indexOf(".");if(-1!==a){var s=e[t.substr(0,a)];return null==s?void 0:b(s,t.substr(a+1))}}function x(e,t,n){if(e&&void 0!==t&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if("string"!=typeof t&&"length"in t){y("string"!=typeof n&&"length"in n);for(var r=0,i=t.length;r<i;++r)x(e,t[r],n[r])}else{var a,s,l=t.indexOf(".");-1!==l?(a=t.substr(0,l),""===(s=t.substr(l+1))?void 0===n?o(e)&&!isNaN(parseInt(a))?e.splice(a,1):delete e[a]:e[a]=n:x(l=(l=e[a])&&c(e,a)?l:e[a]={},s,n)):void 0===n?o(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}function w(e){var t,n={};for(t in e)c(e,t)&&(n[t]=e[t]);return n}var S=[].concat;function E(e){return S.apply([],e)}var T="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(E([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return r[e]}),A=new Set(T.map(function(e){return r[e]})),M=null;function C(e){return M=new WeakMap,e=function e(t){if(!t||"object"!=typeof t)return t;var n=M.get(t);if(n)return n;if(o(t)){n=[],M.set(t,n);for(var r=0,i=t.length;r<i;++r)n.push(e(t[r]))}else if(A.has(t.constructor))n=t;else{var a,l=s(t);for(a in n=l===Object.prototype?{}:Object.create(l),M.set(t,n),t)c(t,a)&&(n[a]=e(t[a]))}return n}(e),M=null,e}var O={}.toString;function R(e){return O.call(e).slice(8,-1)}var I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator",k="symbol"==typeof I?function(e){var t;return null!=e&&(t=e[I])&&t.apply(e)}:function(){return null};function P(e,t){return 0<=(t=e.indexOf(t))&&e.splice(t,1),0<=t}var D={};function N(e){var t,n,r,i;if(1===arguments.length){if(o(e))return e.slice();if(this===D&&"string"==typeof e)return[e];if(i=k(e)){for(n=[];!(r=i.next()).done;)n.push(r.value);return n}if(null==e)return[e];if("number"!=typeof(t=e.length))return[e];for(n=new Array(t);t--;)n[t]=e[t];return n}for(t=arguments.length,n=new Array(t);t--;)n[t]=arguments[t];return n}var L="undefined"!=typeof Symbol?function(e){return"AsyncFunction"===e[Symbol.toStringTag]}:function(){return!1},F=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(se=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),U={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function B(e,t){this.name=e,this.message=t}function z(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,n){return n.indexOf(e)===t}).join("\n")}function V(e,t,n,r){this.failures=t,this.failedKeys=r,this.successCount=n,this.message=z(e,t)}function j(e,t){this.name="BulkError",this.failures=Object.keys(t).map(function(e){return t[e]}),this.failuresByPos=t,this.message=z(e,this.failures)}d(B).from(Error).extend({toString:function(){return this.name+": "+this.message}}),d(V).from(B),d(j).from(B);var H=F.reduce(function(e,t){return e[t]=t+"Error",e},{}),W=B,G=F.reduce(function(e,t){var n=t+"Error";function r(e,r){this.name=n,e?"string"==typeof e?(this.message="".concat(e).concat(r?"\n "+r:""),this.inner=r||null):"object"==typeof e&&(this.message="".concat(e.name," ").concat(e.message),this.inner=e):(this.message=U[t]||n,this.inner=null)}return d(r).from(W),e[t]=r,e},{});G.Syntax=SyntaxError,G.Type=TypeError,G.Range=RangeError;var q=se.reduce(function(e,t){return e[t+"Error"]=G[t],e},{}),X=F.reduce(function(e,t){return-1===["Syntax","Type","Range"].indexOf(t)&&(e[t+"Error"]=G[t]),e},{});function Y(){}function K(e){return e}function $(e,t){return null==e||e===K?t:function(n){return t(e(n))}}function Z(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function J(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);void 0!==n&&(arguments[0]=n);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Z(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Z(i,this.onerror):i),void 0!==o?o:n}}function Q(e,t){return e===Y?t:function(){e.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Z(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Z(r,this.onerror):r)}}function ee(e,t){return e===Y?t:function(n){var r=e.apply(this,arguments);a(n,r);var i=this.onsuccess,o=this.onerror;return this.onsuccess=null,this.onerror=null,n=t.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Z(i,this.onsuccess):i),o&&(this.onerror=this.onerror?Z(o,this.onerror):o),void 0===r?void 0===n?void 0:n:a(r,n)}}function te(e,t){return e===Y?t:function(){return!1!==t.apply(this,arguments)&&e.apply(this,arguments)}}function ne(e,t){return e===Y?t:function(){var n=e.apply(this,arguments);if(n&&"function"==typeof n.then){for(var r=this,i=arguments.length,o=new Array(i);i--;)o[i]=arguments[i];return n.then(function(){return t.apply(r,o)})}return t.apply(this,arguments)}}X.ModifyError=V,X.DexieError=B,X.BulkError=j;var re="undefined"!=typeof location&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ie(e){re=e}var oe={},ae=100,se=(T="undefined"==typeof Promise?[]:function(){var e=Promise.resolve();if("undefined"==typeof crypto||!crypto.subtle)return[e,s(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,s(t),e]}())[0],le=(F=T[1],T=T[2],F=F&&F.then,se&&se.constructor),ce=!!T,ue=function(e,t){ye.push([e,t]),fe&&(queueMicrotask(Ce),fe=!1)},he=!0,fe=!0,de=[],pe=[],me=K,ge={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Y,pgp:!1,env:{},finalize:Y},ve=ge,ye=[],_e=0,be=[];function xe(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var t=this._PSD=ve;if("function"!=typeof e){if(e!==oe)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ee(this,this._value))}this._state=null,this._value=null,++t.ref,function e(t,n){try{n(function(n){if(null===t._state){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Oe();n&&"function"==typeof n.then?e(t,function(e,t){n instanceof xe?n._then(e,t):n.then(e,t)}):(t._state=!0,t._value=n,Te(t)),r&&Re()}},Ee.bind(null,t))}catch(r){Ee(t,r)}}(this,e)}var we={get:function(){var e=ve,t=Ue;function n(n,r){var i=this,o=!e.global&&(e!==ve||t!==Ue),a=o&&!je(),s=new xe(function(t,s){Ae(i,new Se(Ye(n,e,o,a),Ye(r,e,o,a),t,s,e))});return this._consoleTask&&(s._consoleTask=this._consoleTask),s}return n.prototype=oe,n},set:function(e){f(this,"then",e&&e.prototype===oe?we:{get:function(){return e},set:we.set})}};function Se(e,t,n,r,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r,this.psd=i}function Ee(e,t){var n,r;pe.push(t),null===e._state&&(n=e._lib&&Oe(),t=me(t),e._state=!1,e._value=t,r=e,de.some(function(e){return e._value===r._value})||de.push(r),Te(e),n&&Re())}function Te(e){var t=e._listeners;e._listeners=[];for(var n=0,r=t.length;n<r;++n)Ae(e,t[n]);var i=e._PSD;--i.ref||i.finalize(),0===_e&&(++_e,ue(function(){0==--_e&&Ie()},[]))}function Ae(e,t){if(null!==e._state){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++_e,ue(Me,[n,e,t])}else e._listeners.push(t)}function Me(e,t,n){try{var r,i=t._value;!t._state&&pe.length&&(pe=[]),r=re&&t._consoleTask?t._consoleTask.run(function(){return e(i)}):e(i),t._state||-1!==pe.indexOf(i)||function(e){for(var t=de.length;t;)if(de[--t]._value===e._value)return de.splice(t,1)}(t),n.resolve(r)}catch(o){n.reject(o)}finally{0==--_e&&Ie(),--n.psd.ref||n.psd.finalize()}}function Ce(){Xe(ge,function(){Oe()&&Re()})}function Oe(){var e=he;return fe=he=!1,e}function Re(){var e,t,n;do{for(;0<ye.length;)for(e=ye,ye=[],n=e.length,t=0;t<n;++t){var r=e[t];r[0].apply(null,r[1])}}while(0<ye.length);fe=he=!0}function Ie(){var e=de;de=[],e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});for(var t=be.slice(0),n=t.length;n;)t[--n]()}function ke(e){return new xe(oe,!1,e)}function Pe(e,t){var n=ve;return function(){var r=Oe(),i=ve;try{return Ge(n,!0),e.apply(this,arguments)}catch(o){t&&t(o)}finally{Ge(i,!1),r&&Re()}}}u(xe.prototype,{then:we,_then:function(e,t){Ae(this,new Se(null,null,e,t,ve))},catch:function(e){if(1===arguments.length)return this.then(null,e);var t=e,n=arguments[1];return"function"==typeof t?this.then(null,function(e){return(e instanceof t?n:ke)(e)}):this.then(null,function(e){return(e&&e.name===t?n:ke)(e)})},finally:function(e){return this.then(function(t){return xe.resolve(e()).then(function(){return t})},function(t){return xe.resolve(e()).then(function(){return ke(t)})})},timeout:function(e,t){var n=this;return e<1/0?new xe(function(r,i){var o=setTimeout(function(){return i(new G.Timeout(t))},e);n.then(r,i).finally(clearTimeout.bind(null,o))}):this}}),"undefined"!=typeof Symbol&&Symbol.toStringTag&&f(xe.prototype,Symbol.toStringTag,"Dexie.Promise"),ge.env=qe(),u(xe,{all:function(){var e=N.apply(null,arguments).map(He);return new xe(function(t,n){0===e.length&&t([]);var r=e.length;e.forEach(function(i,o){return xe.resolve(i).then(function(n){e[o]=n,--r||t(e)},n)})})},resolve:function(e){return e instanceof xe?e:e&&"function"==typeof e.then?new xe(function(t,n){e.then(t,n)}):new xe(oe,!0,e)},reject:ke,race:function(){var e=N.apply(null,arguments).map(He);return new xe(function(t,n){e.map(function(e){return xe.resolve(e).then(t,n)})})},PSD:{get:function(){return ve},set:function(e){return ve=e}},totalEchoes:{get:function(){return Ue}},newPSD:ze,usePSD:Xe,scheduler:{get:function(){return ue},set:function(e){ue=e}},rejectionMapper:{get:function(){return me},set:function(e){me=e}},follow:function(e,t){return new xe(function(n,r){return ze(function(t,n){var r=ve;r.unhandleds=[],r.onunhandled=n,r.finalize=Z(function(){var e,r=this;e=function(){0===r.unhandleds.length?t():n(r.unhandleds[0])},be.push(function t(){e(),be.splice(be.indexOf(t),1)}),++_e,ue(function(){0==--_e&&Ie()},[])},r.finalize),e()},t,n,r)})}}),le&&(le.allSettled&&f(xe,"allSettled",function(){var e=N.apply(null,arguments).map(He);return new xe(function(t){0===e.length&&t([]);var n=e.length,r=new Array(n);e.forEach(function(e,i){return xe.resolve(e).then(function(e){return r[i]={status:"fulfilled",value:e}},function(e){return r[i]={status:"rejected",reason:e}}).then(function(){return--n||t(r)})})})}),le.any&&"undefined"!=typeof AggregateError&&f(xe,"any",function(){var e=N.apply(null,arguments).map(He);return new xe(function(t,n){0===e.length&&n(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(e,o){return xe.resolve(e).then(function(e){return t(e)},function(e){i[o]=e,--r||n(new AggregateError(i))})})})}),le.withResolvers&&(xe.withResolvers=le.withResolvers));var De={awaits:0,echoes:0,id:0},Ne=0,Le=[],Fe=0,Ue=0,Be=0;function ze(e,t,n,r){var i=ve,o=Object.create(i);return o.parent=i,o.ref=0,o.global=!1,o.id=++Be,ge.env,o.env=ce?{Promise:xe,PromiseProp:{value:xe,configurable:!0,writable:!0},all:xe.all,race:xe.race,allSettled:xe.allSettled,any:xe.any,resolve:xe.resolve,reject:xe.reject}:{},t&&a(o,t),++i.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Xe(o,e,n,r),0===o.ref&&o.finalize(),r}function Ve(){return De.id||(De.id=++Ne),++De.awaits,De.echoes+=ae,De.id}function je(){return!!De.awaits&&(0==--De.awaits&&(De.id=0),De.echoes=De.awaits*ae,!0)}function He(e){return De.echoes&&e&&e.constructor===le?(Ve(),e.then(function(e){return je(),e},function(e){return je(),$e(e)})):e}function We(){var e=Le[Le.length-1];Le.pop(),Ge(e,!1)}function Ge(e,t){var n,i=ve;(t?!De.echoes||Fe++&&e===ve:!Fe||--Fe&&e===ve)||queueMicrotask(t?function(e){++Ue,De.echoes&&0!=--De.echoes||(De.echoes=De.awaits=De.id=0),Le.push(ve),Ge(e,!0)}.bind(null,e):We),e!==ve&&(ve=e,i===ge&&(ge.env=qe()),ce&&(n=ge.env.Promise,t=e.env,(i.global||e.global)&&(Object.defineProperty(r,"Promise",t.PromiseProp),n.all=t.all,n.race=t.race,n.resolve=t.resolve,n.reject=t.reject,t.allSettled&&(n.allSettled=t.allSettled),t.any&&(n.any=t.any))))}function qe(){var e=r.Promise;return ce?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(r,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Xe(e,t,n,r,i){var o=ve;try{return Ge(e,!0),t(n,r,i)}finally{Ge(o,!1)}}function Ye(e,t,n,r){return"function"!=typeof e?e:function(){var i=ve;n&&Ve(),Ge(t,!0);try{return e.apply(this,arguments)}finally{Ge(i,!1),r&&queueMicrotask(je)}}}function Ke(e){Promise===le&&0===De.echoes?0===Fe?e():enqueueNativeMicroTask(e):setTimeout(e,0)}-1===(""+F).indexOf("[native code]")&&(Ve=je=Y);var $e=xe.reject,Ze=String.fromCharCode(65535),Je="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Qe="String expected.",et=[],tt="__dbnames",nt="readonly",rt="readwrite";function it(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var ot={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function at(e){return"string"!=typeof e||/\./.test(e)?function(e){return e}:function(t){return void 0===t[e]&&e in t&&delete(t=C(t))[e],t}}function st(){throw G.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function lt(e,t){try{var n=ct(e),r=ct(t);if(n!==r)return"Array"===n?1:"Array"===r?-1:"binary"===n?1:"binary"===r?-1:"string"===n?1:"string"===r?-1:"Date"===n?1:"Date"!==r?NaN:-1;switch(n){case"number":case"Date":case"string":return t<e?1:e<t?-1:0;case"binary":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o)if(e[o]!==t[o])return e[o]<t[o]?-1:1;return n===r?0:n<r?-1:1}(ut(e),ut(t));case"Array":return function(e,t){for(var n=e.length,r=t.length,i=n<r?n:r,o=0;o<i;++o){var a=lt(e[o],t[o]);if(0!==a)return a}return n===r?0:n<r?-1:1}(e,t)}}catch(i){}return NaN}function ct(e){var t=typeof e;return"object"!=t?t:ArrayBuffer.isView(e)||"ArrayBuffer"===(e=R(e))?"binary":e}function ut(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}function ht(e,t,n){var r=e.schema.yProps;return r?(t&&0<n.numFailures&&(t=t.filter(function(e,t){return!n.failures[t]})),Promise.all(r.map(function(n){return n=n.updatesTable,t?e.db.table(n).where("k").anyOf(t).delete():e.db.table(n).clear()})).then(function(){return n})):n}var ft=(dt.prototype.execute=function(e){var t=this["@@propmod"];if(void 0!==t.add){var r=t.add;if(o(r))return n(n([],o(e)?e:[],!0),r).sort();if("number"==typeof r)return(Number(e)||0)+r;if("bigint"==typeof r)try{return BigInt(e)+r}catch(a){return BigInt(0)+r}throw new TypeError("Invalid term ".concat(r))}if(void 0!==t.remove){var i=t.remove;if(o(i))return o(e)?e.filter(function(e){return!i.includes(e)}).sort():[];if("number"==typeof i)return Number(e)-i;if("bigint"==typeof i)try{return BigInt(e)-i}catch(a){return BigInt(0)-i}throw new TypeError("Invalid subtrahend ".concat(i))}return(r=null===(r=t.replacePrefix)||void 0===r?void 0:r[0])&&"string"==typeof e&&e.startsWith(r)?t.replacePrefix[1]+e.substring(r.length):e},dt);function dt(e){this["@@propmod"]=e}function pt(e,t){for(var n=i(t),r=n.length,o=!1,a=0;a<r;++a){var s=n[a],l=t[s],c=b(e,s);l instanceof ft?(x(e,s,l.execute(c)),o=!0):c!==l&&(x(e,s,l),o=!0)}return o}var mt=(gt.prototype._trans=function(e,t,n){var r=this._tx||ve.trans,i=this.name,o=re&&"undefined"!=typeof console&&console.createTask&&void 0;function a(e,n,r){if(!r.schema[i])throw new G.NotFound("Table "+i+" not part of transaction");return t(r.idbtrans,r)}var s=Oe();try{var l=r&&r.db._novip===this.db._novip?r===ve.trans?r._promise(e,a,n):ze(function(){return r._promise(e,a,n)},{trans:r,transless:ve.transless||ve}):function e(t,n,r,i){if(t.idbdb&&(t._state.openComplete||ve.letThrough||t._vip)){var o=t._createTransaction(n,r,t._dbSchema);try{o.create(),t._state.PR1398_maxLoop=3}catch(a){return a.name===H.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,i)})):$e(a)}return o._promise(n,function(e,t){return ze(function(){return ve.trans=o,i(e,t,o)})}).then(function(e){if("readwrite"===n)try{o.idbtrans.commit()}catch(t){}return"readonly"===n?e:o._completion.then(function(){return e})})}if(t._state.openComplete)return $e(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return $e(new G.DatabaseClosed);t.open().catch(Y)}return t._state.dbReadyPromise.then(function(){return e(t,n,r,i)})}(this.db,e,[this.name],a);return o&&(l._consoleTask=o,l=l.catch(function(e){return $e(e)})),l}finally{s&&Re()}},gt.prototype.get=function(e,t){var n=this;return e&&e.constructor===Object?this.where(e).first(t):null==e?$e(new G.Type("Invalid argument to Table.get()")):this._trans("readonly",function(t){return n.core.get({trans:t,key:e}).then(function(e){return n.hook.reading.fire(e)})}).then(t)},gt.prototype.where=function(e){if("string"==typeof e)return new this.db.WhereClause(this,e);if(o(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var t=i(e);if(1===t.length)return this.where(t[0]).equals(e[t[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(e){if(e.compound&&t.every(function(t){return 0<=e.keyPath.indexOf(t)})){for(var n=0;n<t.length;++n)if(-1===t.indexOf(e.keyPath[n]))return!1;return!0}return!1}).sort(function(e,t){return e.keyPath.length-t.keyPath.length})[0];if(n&&this.db._maxKey!==Ze){var r=n.keyPath.slice(0,t.length);return this.where(r).equals(r.map(function(t){return e[t]}))}var a=this.schema.idxByName;function s(e,t){return 0===lt(e,t)}r=(l=t.reduce(function(t,n){var r=t[0],i=t[1],l=(t=a[n],e[n]);return[r||t,r||!t?it(i,t&&t.multi?function(e){return e=b(e,n),o(e)&&e.some(function(e){return s(l,e)})}:function(e){return s(l,b(e,n))}):i]},[null,null]))[0];var l=l[1];return r?this.where(r.name).equals(e[r.keyPath]).filter(l):n?this.filter(l):this.where(t).equals("")},gt.prototype.filter=function(e){return this.toCollection().and(e)},gt.prototype.count=function(e){return this.toCollection().count(e)},gt.prototype.offset=function(e){return this.toCollection().offset(e)},gt.prototype.limit=function(e){return this.toCollection().limit(e)},gt.prototype.each=function(e){return this.toCollection().each(e)},gt.prototype.toArray=function(e){return this.toCollection().toArray(e)},gt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},gt.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,o(e)?"[".concat(e.join("+"),"]"):e))},gt.prototype.reverse=function(){return this.toCollection().reverse()},gt.prototype.mapToClass=function(t){var n,r=this.db,i=this.name;function o(){return null!==n&&n.apply(this,arguments)||this}(this.schema.mappedClass=t).prototype instanceof st&&(function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}(o,n=t),Object.defineProperty(o.prototype,"db",{get:function(){return r},enumerable:!1,configurable:!0}),o.prototype.table=function(){return i},t=o);for(var a=new Set,l=t.prototype;l;l=s(l))Object.getOwnPropertyNames(l).forEach(function(e){return a.add(e)});function c(e){if(!e)return e;var n,r=Object.create(t.prototype);for(n in e)if(!a.has(n))try{r[n]=e[n]}catch(i){}return r}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=c,this.hook("reading",c),t},gt.prototype.defineClass=function(){return this.mapToClass(function(e){a(this,e)})},gt.prototype.add=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=at(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:null!=t?[t]:null,values:[a]})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{x(e,o,t)}catch(n){}return t})},gt.prototype.upsert=function(e,t){var n=this,r=this.schema.primKey.keyPath;return this._trans("readwrite",function(i){return n.core.get({trans:i,key:e}).then(function(o){var a=null!=o?o:{};return pt(a,t),r&&x(a,r,e),n.core.mutate({trans:i,type:"put",values:[a],keys:[e],upsert:!0,updates:{keys:[e],changeSpecs:[t]}}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):!!o})})})},gt.prototype.update=function(e,t){return"object"!=typeof e||o(e)?this.where(":id").equals(e).modify(t):void 0===(e=b(e,this.schema.primKey.keyPath))?$e(new G.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(t)},gt.prototype.put=function(e,t){var n=this,r=this.schema.primKey,i=r.auto,o=r.keyPath,a=e;return o&&i&&(a=at(o)(e)),this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[a],keys:null!=t?[t]:null})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):e.lastResult}).then(function(t){if(o)try{x(e,o,t)}catch(n){}return t})},gt.prototype.delete=function(e){var t=this;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:[e]}).then(function(n){return ht(t,[e],n)}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):void 0})})},gt.prototype.clear=function(){var e=this;return this._trans("readwrite",function(t){return e.core.mutate({trans:t,type:"deleteRange",range:ot}).then(function(t){return ht(e,null,t)})}).then(function(e){return e.numFailures?xe.reject(e.failures[0]):void 0})},gt.prototype.bulkGet=function(e){var t=this;return this._trans("readonly",function(n){return t.core.getMany({keys:e,trans:n}).then(function(e){return e.map(function(e){return t.hook.reading.fire(e)})})})},gt.prototype.bulkAdd=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&i)throw new G.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,s=s&&n?e.map(at(s)):e;return r.core.mutate({trans:t,type:"add",keys:i,values:s,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new j("".concat(r.name,".bulkAdd(): ").concat(t," of ").concat(a," operations failed"),e)})})},gt.prototype.bulkPut=function(e,t,n){var r=this,i=Array.isArray(t)?t:void 0,o=(n=n||(i?void 0:t))?n.allKeys:void 0;return this._trans("readwrite",function(t){var n=(s=r.schema.primKey).auto;if((s=s.keyPath)&&i)throw new G.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new G.InvalidArgument("Arguments objects and keys must have the same length");var a=e.length,s=s&&n?e.map(at(s)):e;return r.core.mutate({trans:t,type:"put",keys:i,values:s,wantResults:o}).then(function(e){var t=e.numFailures,n=e.results,i=e.lastResult;if(e=e.failures,0===t)return o?n:i;throw new j("".concat(r.name,".bulkPut(): ").concat(t," of ").concat(a," operations failed"),e)})})},gt.prototype.bulkUpdate=function(e){var t=this,n=this.core,r=e.map(function(e){return e.key}),i=e.map(function(e){return e.changes}),o=[];return this._trans("readwrite",function(a){return n.getMany({trans:a,keys:r,cache:"clone"}).then(function(s){var l=[],c=[];e.forEach(function(e,n){var r=e.key,i=e.changes,a=s[n];if(a){for(var u=0,h=Object.keys(i);u<h.length;u++){var f=h[u],d=i[f];if(f===t.schema.primKey.keyPath){if(0!==lt(d,r))throw new G.Constraint("Cannot update primary key in bulkUpdate()")}else x(a,f,d)}o.push(n),l.push(r),c.push(a)}});var u=l.length;return n.mutate({trans:a,type:"put",keys:l,values:c,updates:{keys:r,changeSpecs:i}}).then(function(e){var n=e.numFailures,r=e.failures;if(0===n)return u;for(var i=0,a=Object.keys(r);i<a.length;i++){var s,l=a[i],c=o[Number(l)];null!=c&&(s=r[l],delete r[l],r[c]=s)}throw new j("".concat(t.name,".bulkUpdate(): ").concat(n," of ").concat(u," operations failed"),r)})})})},gt.prototype.bulkDelete=function(e){var t=this,n=e.length;return this._trans("readwrite",function(n){return t.core.mutate({trans:n,type:"delete",keys:e}).then(function(n){return ht(t,e,n)})}).then(function(e){var r=e.numFailures,i=e.lastResult;if(e=e.failures,0===r)return i;throw new j("".concat(t.name,".bulkDelete(): ").concat(r," of ").concat(n," operations failed"),e)})},gt);function gt(){}function vt(e){function t(t,r){if(r){for(var i=arguments.length,o=new Array(i-1);--i;)o[i-1]=arguments[i];return n[t].subscribe.apply(null,o),e}if("string"==typeof t)return n[t]}var n={};t.addEventType=s;for(var r=1,a=arguments.length;r<a;++r)s(arguments[r]);return t;function s(e,r,a){if("object"!=typeof e){var l;r=r||te;var c={subscribers:[],fire:a=a||Y,subscribe:function(e){-1===c.subscribers.indexOf(e)&&(c.subscribers.push(e),c.fire=r(c.fire,e))},unsubscribe:function(e){c.subscribers=c.subscribers.filter(function(t){return t!==e}),c.fire=c.subscribers.reduce(r,a)}};return n[e]=t[e]=c}i(l=e).forEach(function(e){var t=l[e];if(o(t))s(e,l[e][0],l[e][1]);else{if("asap"!==t)throw new G.InvalidArgument("Invalid event config");var n=s(e,K,function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];n.subscribers.forEach(function(e){_(function(){e.apply(null,t)})})})}})}}function yt(e,t){return d(t).from({prototype:e}),t}function _t(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function bt(e,t){e.filter=it(e.filter,t)}function xt(e,t,n){var r=e.replayFilter;e.replayFilter=r?function(){return it(r(),t())}:t,e.justLimit=n&&!r}function wt(e,t){if(e.isPrimKey)return t.primaryKey;var n=t.getIndexByKeyPath(e.index);if(!n)throw new G.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return n}function St(e,t,n){var r=wt(e,t.schema);return t.openCursor({trans:n,values:!e.keysOnly,reverse:"prev"===e.dir,unique:!!e.unique,query:{index:r,range:e.range}})}function Et(e,t,n,r){var i=e.replayFilter?it(e.filter,e.replayFilter()):e.filter;if(e.or){var o={},a=function(e,n,r){var a,s;i&&!i(n,r,function(e){return n.stop(e)},function(e){return n.fail(e)})||("[object ArrayBuffer]"==(s=""+(a=n.primaryKey))&&(s=""+new Uint8Array(a)),c(o,s)||(o[s]=!0,t(e,n,r)))};return Promise.all([e.or._iterate(a,n),Tt(St(e,r,n),e.algorithm,a,!e.keysOnly&&e.valueMapper)])}return Tt(St(e,r,n),it(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Tt(e,t,n,r){var i=Pe(r?function(e,t,i){return n(r(e),t,i)}:n);return e.then(function(e){if(e)return e.start(function(){var n=function(){return e.continue()};t&&!t(e,function(e){return n=e},function(t){e.stop(t),n=Y},function(t){e.fail(t),n=Y})||i(e.value,e,function(e){return n=e}),n()})})}var At=(Mt.prototype._read=function(e,t){var n=this._ctx;return n.error?n.table._trans(null,$e.bind(null,n.error)):n.table._trans("readonly",e).then(t)},Mt.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,$e.bind(null,t.error)):t.table._trans("readwrite",e,"locked")},Mt.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=it(t.algorithm,e)},Mt.prototype._iterate=function(e,t){return Et(this._ctx,e,t,this._ctx.table.core)},Mt.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return e&&a(n,e),t._ctx=n,t},Mt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Mt.prototype.each=function(e){var t=this._ctx;return this._read(function(n){return Et(t,e,n,t.table.core)})},Mt.prototype.count=function(e){var t=this;return this._read(function(e){var n=t._ctx,r=n.table.core;if(_t(n,!0))return r.count({trans:e,query:{index:wt(n,r.schema),range:n.range}}).then(function(e){return Math.min(e,n.limit)});var i=0;return Et(n,function(){return++i,!1},e,r).then(function(){return i})}).then(e)},Mt.prototype.sortBy=function(e,t){var n=e.split(".").reverse(),r=n[0],i=n.length-1;function o(e,t){return t?o(e[n[t]],t-1):e[r]}var a="next"===this._ctx.dir?1:-1;function s(e,t){return lt(o(e,i),o(t,i))*a}return this.toArray(function(e){return e.sort(s)}).then(t)},Mt.prototype.toArray=function(e){var t=this;return this._read(function(e){var n=t._ctx;if("next"===n.dir&&_t(n,!0)&&0<n.limit){var r=n.valueMapper,i=wt(n,n.table.core.schema);return n.table.core.query({trans:e,limit:n.limit,values:!0,query:{index:i,range:n.range}}).then(function(e){return e=e.result,r?e.map(r):e})}var o=[];return Et(n,function(e){return o.push(e)},e,n.table.core).then(function(){return o})},e)},Mt.prototype.offset=function(e){var t=this._ctx;return e<=0||(t.offset+=e,_t(t)?xt(t,function(){var t=e;return function(e,n){return 0===t||(1===t?--t:n(function(){e.advance(t),t=0}),!1)}}):xt(t,function(){var t=e;return function(){return--t<0}})),this},Mt.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),xt(this._ctx,function(){var t=e;return function(e,n,r){return--t<=0&&n(r),0<=t}},!0),this},Mt.prototype.until=function(e,t){return bt(this._ctx,function(n,r,i){return!e(n.value)||(r(i),t)}),this},Mt.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)},Mt.prototype.last=function(e){return this.reverse().first(e)},Mt.prototype.filter=function(e){var t;return bt(this._ctx,function(t){return e(t.value)}),(t=this._ctx).isMatch=it(t.isMatch,e),this},Mt.prototype.and=function(e){return this.filter(e)},Mt.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},Mt.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Mt.prototype.desc=function(){return this.reverse()},Mt.prototype.eachKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.key,n)})},Mt.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},Mt.prototype.eachPrimaryKey=function(e){var t=this._ctx;return t.keysOnly=!t.isMatch,this.each(function(t,n){e(n.primaryKey,n)})},Mt.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.key)}).then(function(){return n}).then(e)},Mt.prototype.primaryKeys=function(e){var t=this._ctx;if("next"===t.dir&&_t(t,!0)&&0<t.limit)return this._read(function(e){var n=wt(t,t.table.core.schema);return t.table.core.query({trans:e,values:!1,limit:t.limit,query:{index:n,range:t.range}})}).then(function(e){return e.result}).then(e);t.keysOnly=!t.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)},Mt.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},Mt.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)},Mt.prototype.lastKey=function(e){return this.reverse().firstKey(e)},Mt.prototype.distinct=function(){var e;if(!(e=(e=this._ctx).index&&e.table.schema.idxByName[e.index])||!e.multi)return this;var t={};return bt(this._ctx,function(e){var n=e.primaryKey.toString();return e=c(t,n),t[n]=!0,!e}),this},Mt.prototype.modify=function(e){var t=this,n=this._ctx;return this._write(function(r){var o,a="function"==typeof e?e:function(t){return pt(t,e)},s=n.table.core,l=(o=s.schema.primaryKey).outbound,c=o.extractKey,u=200;function h(e,t){var n=t.failures;t=t.numFailures,d+=e-t;for(var r=0,o=i(n);r<o.length;r++){var a=o[r];f.push(n[a])}}(o=t.db._options.modifyChunkSize)&&(u="object"==typeof o?o[s.name]||o["*"]||200:o);var f=[],d=0,p=[],m=e===Ct;return t.clone().primaryKeys().then(function(t){function i(f){var d=Math.min(u,t.length-f),p=t.slice(f,f+d);return(m?Promise.resolve([]):s.getMany({trans:r,keys:p,cache:"immutable"})).then(function(g){var v=[],y=[],_=l?[]:null,b=m?p:[];if(!m)for(var x=0;x<d;++x){var w=g[x],S={value:C(w),primKey:t[f+x]};!1!==a.call(S,S.value,S)&&(null==S.value?b.push(t[f+x]):l||0===lt(c(w),c(S.value))?(y.push(S.value),l&&_.push(t[f+x])):(b.push(t[f+x]),v.push(S.value)))}return Promise.resolve(0<v.length&&s.mutate({trans:r,type:"add",values:v}).then(function(e){for(var t in e.failures)b.splice(parseInt(t),1);h(v.length,e)})).then(function(){return(0<y.length||o&&"object"==typeof e)&&s.mutate({trans:r,type:"put",keys:_,values:y,criteria:o,changeSpec:"function"!=typeof e&&e,isAdditionalChunk:0<f}).then(function(e){return h(y.length,e)})}).then(function(){return(0<b.length||o&&m)&&s.mutate({trans:r,type:"delete",keys:b,criteria:o,isAdditionalChunk:0<f}).then(function(e){return ht(n.table,b,e)}).then(function(e){return h(b.length,e)})}).then(function(){return t.length>f+d&&i(f+u)})})}var o=_t(n)&&n.limit===1/0&&("function"!=typeof e||m)&&{index:n.index,range:n.range};return i(0).then(function(){if(0<f.length)throw new V("Error modifying one or more objects",f,d,p);return t.length})})})},Mt.prototype.delete=function(){var e=this._ctx,t=e.range;return!_t(e)||e.table.schema.yProps||!e.isPrimKey&&3!==t.type?this.modify(Ct):this._write(function(n){var r=e.table.core.schema.primaryKey,i=t;return e.table.core.count({trans:n,query:{index:r,range:i}}).then(function(t){return e.table.core.mutate({trans:n,type:"deleteRange",range:i}).then(function(e){var n=e.failures;if(e=e.numFailures)throw new V("Could not delete some values",Object.keys(n).map(function(e){return n[e]}),t-e);return t-e})})})},Mt);function Mt(){}var Ct=function(e,t){return t.value=null};function Ot(e,t){return e<t?-1:e===t?0:1}function Rt(e,t){return t<e?-1:e===t?0:1}function It(e,t,n){return(e=e instanceof Lt?new e.Collection(e):e)._ctx.error=new(n||TypeError)(t),e}function kt(e){return new e.Collection(e,function(){return Nt("")}).limit(0)}function Pt(e,t,n,r){var i,o,a,s,l,c,u,h=n.length;if(!n.every(function(e){return"string"==typeof e}))return It(e,Qe);function f(e){i="next"===e?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()},o="next"===e?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()},a="next"===e?Ot:Rt;var t=n.map(function(e){return{lower:o(e),upper:i(e)}}).sort(function(e,t){return a(e.lower,t.lower)});s=t.map(function(e){return e.upper}),l=t.map(function(e){return e.lower}),u="next"===(c=e)?"":r}f("next"),(e=new e.Collection(e,function(){return Dt(s[0],l[h-1]+r)}))._ondirectionchange=function(e){f(e)};var d=0;return e._addAlgorithm(function(e,n,r){var i=e.key;if("string"!=typeof i)return!1;var f=o(i);if(t(f,l,d))return!0;for(var p=null,m=d;m<h;++m){var g=function(e,t,n,r,i,o){for(var a=Math.min(e.length,r.length),s=-1,l=0;l<a;++l){var c=t[l];if(c!==r[l])return i(e[l],n[l])<0?e.substr(0,l)+n[l]+n.substr(l+1):i(e[l],r[l])<0?e.substr(0,l)+r[l]+n.substr(l+1):0<=s?e.substr(0,s)+t[s]+n.substr(s+1):null;i(e[l],c)<0&&(s=l)}return a<r.length&&"next"===o?e+n.substr(e.length):a<e.length&&"prev"===o?e.substr(0,n.length):s<0?null:e.substr(0,s)+r[s]+n.substr(s+1)}(i,f,s[m],l[m],a,c);null===g&&null===p?d=m+1:(null===p||0<a(p,g))&&(p=g)}return n(null!==p?function(){e.continue(p+u)}:r),!1}),e}function Dt(e,t,n,r){return{type:2,lower:e,upper:t,lowerOpen:n,upperOpen:r}}function Nt(e){return{type:1,lower:e,upper:e}}var Lt=(Object.defineProperty(Ft.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ft.prototype.between=function(e,t,n,r){n=!1!==n,r=!0===r;try{return 0<this._cmp(e,t)||0===this._cmp(e,t)&&(n||r)&&(!n||!r)?kt(this):new this.Collection(this,function(){return Dt(e,t,!n,!r)})}catch(i){return It(this,Je)}},Ft.prototype.equals=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Nt(e)})},Ft.prototype.above=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Dt(e,void 0,!0)})},Ft.prototype.aboveOrEqual=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Dt(e,void 0,!1)})},Ft.prototype.below=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Dt(void 0,e,!1,!0)})},Ft.prototype.belowOrEqual=function(e){return null==e?It(this,Je):new this.Collection(this,function(){return Dt(void 0,e)})},Ft.prototype.startsWith=function(e){return"string"!=typeof e?It(this,Qe):this.between(e,e+Ze,!0,!0)},Ft.prototype.startsWithIgnoreCase=function(e){return""===e?this.startsWith(e):Pt(this,function(e,t){return 0===e.indexOf(t[0])},[e],Ze)},Ft.prototype.equalsIgnoreCase=function(e){return Pt(this,function(e,t){return e===t[0]},[e],"")},Ft.prototype.anyOfIgnoreCase=function(){var e=N.apply(D,arguments);return 0===e.length?kt(this):Pt(this,function(e,t){return-1!==t.indexOf(e)},e,"")},Ft.prototype.startsWithAnyOfIgnoreCase=function(){var e=N.apply(D,arguments);return 0===e.length?kt(this):Pt(this,function(e,t){return t.some(function(t){return 0===e.indexOf(t)})},e,Ze)},Ft.prototype.anyOf=function(){var e=this,t=N.apply(D,arguments),n=this._cmp;try{t.sort(n)}catch(o){return It(this,Je)}if(0===t.length)return kt(this);var r=new this.Collection(this,function(){return Dt(t[0],t[t.length-1])});r._ondirectionchange=function(r){n="next"===r?e._ascending:e._descending,t.sort(n)};var i=0;return r._addAlgorithm(function(e,r,o){for(var a=e.key;0<n(a,t[i]);)if(++i===t.length)return r(o),!1;return 0===n(a,t[i])||(r(function(){e.continue(t[i])}),!1)}),r},Ft.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ft.prototype.noneOf=function(){var e=N.apply(D,arguments);if(0===e.length)return new this.Collection(this);try{e.sort(this._ascending)}catch(n){return It(this,Je)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[-1/0,t]]},null);return t.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(t,{includeLowers:!1,includeUppers:!1})},Ft.prototype.inAnyRange=function(e,t){var n=this,r=this._cmp,i=this._ascending,o=this._descending,a=this._min,s=this._max;if(0===e.length)return kt(this);if(!e.every(function(e){return void 0!==e[0]&&void 0!==e[1]&&i(e[0],e[1])<=0}))return It(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",G.InvalidArgument);var l,c=!t||!1!==t.includeLowers,u=t&&!0===t.includeUppers,h=i;function f(e,t){return h(e[0],t[0])}try{(l=e.reduce(function(e,t){for(var n=0,i=e.length;n<i;++n){var o=e[n];if(r(t[0],o[1])<0&&0<r(t[1],o[0])){o[0]=a(o[0],t[0]),o[1]=s(o[1],t[1]);break}}return n===i&&e.push(t),e},[])).sort(f)}catch(v){return It(this,Je)}var d=0,p=u?function(e){return 0<i(e,l[d][1])}:function(e){return 0<=i(e,l[d][1])},m=c?function(e){return 0<o(e,l[d][0])}:function(e){return 0<=o(e,l[d][0])},g=p;return(e=new this.Collection(this,function(){return Dt(l[0][0],l[l.length-1][1],!c,!u)}))._ondirectionchange=function(e){h="next"===e?(g=p,i):(g=m,o),l.sort(f)},e._addAlgorithm(function(e,t,r){for(var o,a=e.key;g(a);)if(++d===l.length)return t(r),!1;return!p(o=a)&&!m(o)||(0===n._cmp(a,l[d][1])||0===n._cmp(a,l[d][0])||t(function(){h===i?e.continue(l[d][0]):e.continue(l[d][1])}),!1)}),e},Ft.prototype.startsWithAnyOf=function(){var e=N.apply(D,arguments);return e.every(function(e){return"string"==typeof e})?0===e.length?kt(this):this.inAnyRange(e.map(function(e){return[e,e+Ze]})):It(this,"startsWithAnyOf() only works with strings")},Ft);function Ft(){}function Ut(e){return Pe(function(t){return Bt(t),e(t.target.error),!1})}function Bt(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var zt="storagemutated",Vt="x-storagemutated-1",jt=vt(null,zt),Ht=(Wt.prototype._lock=function(){return y(!ve.global),++this._reculock,1!==this._reculock||ve.global||(ve.lockOwnerFor=this),this},Wt.prototype._unlock=function(){if(y(!ve.global),0==--this._reculock)for(ve.global||(ve.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Xe(e[1],e[0])}catch(t){}}return this},Wt.prototype._locked=function(){return this._reculock&&ve.lockOwnerFor!==this},Wt.prototype.create=function(e){var t=this;if(!this.mode)return this;var n=this.db.idbdb,r=this.db._state.dbOpenError;if(y(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new G.DatabaseClosed(r);case"MissingAPIError":throw new G.MissingAPI(r.message,r);default:throw new G.OpenFailed(r)}if(!this.active)throw new G.TransactionInactive;return y(null===this._completion._state),(e=this.idbtrans=e||(this.db.core||n).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(n){Bt(n),t._reject(e.error)}),e.onabort=Pe(function(n){Bt(n),t.active&&t._reject(new G.Abort(e.error)),t.active=!1,t.on("abort").fire(n)}),e.oncomplete=Pe(function(){t.active=!1,t._resolve(),"mutatedParts"in e&&jt.storagemutated.fire(e.mutatedParts)}),this},Wt.prototype._promise=function(e,t,n){var r=this;if("readwrite"===e&&"readwrite"!==this.mode)return $e(new G.ReadOnly("Transaction is readonly"));if(!this.active)return $e(new G.TransactionInactive);if(this._locked())return new xe(function(i,o){r._blockedFuncs.push([function(){r._promise(e,t,n).then(i,o)},ve])});if(n)return ze(function(){var e=new xe(function(e,n){r._lock();var i=t(e,n,r);i&&i.then&&i.then(e,n)});return e.finally(function(){return r._unlock()}),e._lib=!0,e});var i=new xe(function(e,n){var i=t(e,n,r);i&&i.then&&i.then(e,n)});return i._lib=!0,i},Wt.prototype._root=function(){return this.parent?this.parent._root():this},Wt.prototype.waitFor=function(e){var t,n=this._root(),r=xe.resolve(e);n._waitingFor?n._waitingFor=n._waitingFor.then(function(){return r}):(n._waitingFor=r,n._waitingQueue=[],t=n.idbtrans.objectStore(n.storeNames[0]),function e(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(t.get(-1/0).onsuccess=e)}());var i=n._waitingFor;return new xe(function(e,t){r.then(function(t){return n._waitingQueue.push(Pe(e.bind(null,t)))},function(e){return n._waitingQueue.push(Pe(t.bind(null,e)))}).finally(function(){n._waitingFor===i&&(n._waitingFor=null)})})},Wt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new G.Abort))},Wt.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(c(t,e))return t[e];var n=this.schema[e];if(!n)throw new G.NotFound("Table "+e+" not part of transaction");return(n=new this.db.Table(e,n,this)).core=this.db.core.table(e),t[e]=n},Wt);function Wt(){}function Gt(e,t,n,r,i,o,a,s){return{name:e,keyPath:t,unique:n,multi:r,auto:i,compound:o,src:(n&&!a?"&":"")+(r?"*":"")+(i?"++":"")+qt(t),type:s}}function qt(e){return"string"==typeof e?e:e?"["+[].join.call(e,"+")+"]":""}function Xt(e,t,n){return{name:e,primKey:t,indexes:n,mappedClass:null,idxByName:(r=function(e){return[e.name,e]},n.reduce(function(e,t,n){return(n=r(t,n))&&(e[n[0]]=n[1]),e},{}))};var r}var Yt=function(e){try{return e.only([[]]),Yt=function(){return[[]]},[[]]}catch(t){return Yt=function(){return Ze},Ze}};function Kt(e){return null==e?function(){}:"string"==typeof e?1===(t=e).split(".").length?function(e){return e[t]}:function(e){return b(e,t)}:function(t){return b(t,e)};var t}function $t(e){return[].slice.call(e)}var Zt=0;function Jt(e){return null==e?":id":"string"==typeof e?e:"[".concat(e.join("+"),"]")}function Qt(e,t,n){function r(e){if(3===e.type)return null;if(4===e.type)throw new Error("Cannot convert never type to IDBKeyRange");var n=e.lower,r=e.upper,i=e.lowerOpen;return e=e.upperOpen,void 0===n?void 0===r?null:t.upperBound(r,!!e):void 0===r?t.lowerBound(n,!!i):t.bound(n,r,!!i,!!e)}function i(e){var t,n=e.name;return{name:n,schema:e,mutate:function(e){var t=e.trans,i=e.type,o=e.keys,a=e.values,s=e.range;return new Promise(function(e,l){e=Pe(e);var c=t.objectStore(n),u=null==c.keyPath,h="put"===i||"add"===i;if(!h&&"delete"!==i&&"deleteRange"!==i)throw new Error("Invalid operation type: "+i);var f,d=(o||a||{length:1}).length;if(o&&a&&o.length!==a.length)throw new Error("Given keys array must have same length as given values array.");if(0===d)return e({numFailures:0,failures:{},results:[],lastResult:void 0});function p(e){++v,Bt(e)}var m=[],g=[],v=0;if("deleteRange"===i){if(4===s.type)return e({numFailures:v,failures:g,results:[],lastResult:void 0});3===s.type?m.push(f=c.clear()):m.push(f=c.delete(r(s)))}else{var y=(u=h?u?[a,o]:[a,null]:[o,null])[0],_=u[1];if(h)for(var b=0;b<d;++b)m.push(f=_&&void 0!==_[b]?c[i](y[b],_[b]):c[i](y[b])),f.onerror=p;else for(b=0;b<d;++b)m.push(f=c[i](y[b])),f.onerror=p}function x(t){t=t.target.result,m.forEach(function(e,t){return null!=e.error&&(g[t]=e.error)}),e({numFailures:v,failures:g,results:"delete"===i?o:m.map(function(e){return e.result}),lastResult:t})}f.onerror=function(e){p(e),x(e)},f.onsuccess=x})},getMany:function(e){var t=e.trans,r=e.keys;return new Promise(function(e,i){e=Pe(e);for(var o,a=t.objectStore(n),s=r.length,l=new Array(s),c=0,u=0,h=function(t){t=t.target,l[t._pos]=t.result,++u===c&&e(l)},f=Ut(i),d=0;d<s;++d)null!=r[d]&&((o=a.get(r[d]))._pos=d,o.onsuccess=h,o.onerror=f,++c);0===c&&e(l)})},get:function(e){var t=e.trans,r=e.key;return new Promise(function(e,i){e=Pe(e);var o=t.objectStore(n).get(r);o.onsuccess=function(t){return e(t.target.result)},o.onerror=Ut(i)})},query:(t=c,function(e){return new Promise(function(i,o){i=Pe(i);var a,s,l,c=e.trans,u=e.values,h=e.limit,f=e.query,d=h===1/0?void 0:h,p=f.index;if(f=f.range,c=c.objectStore(n),p=p.isPrimaryKey?c:c.index(p.name),f=r(f),0===h)return i({result:[]});t?((d=u?p.getAll(f,d):p.getAllKeys(f,d)).onsuccess=function(e){return i({result:e.target.result})},d.onerror=Ut(o)):(a=0,s=!u&&"openKeyCursor"in p?p.openKeyCursor(f):p.openCursor(f),l=[],s.onsuccess=function(e){var t=s.result;return t?(l.push(u?t.value:t.primaryKey),++a===h?i({result:l}):void t.continue()):i({result:l})},s.onerror=Ut(o))})}),openCursor:function(e){var t=e.trans,i=e.values,o=e.query,a=e.reverse,s=e.unique;return new Promise(function(e,l){e=Pe(e);var c=o.index,u=o.range,h=t.objectStore(n),f=(h=c.isPrimaryKey?h:h.index(c.name),c=a?s?"prevunique":"prev":s?"nextunique":"next",!i&&"openKeyCursor"in h?h.openKeyCursor(r(u),c):h.openCursor(r(u),c));f.onerror=Ut(l),f.onsuccess=Pe(function(n){var r,i,o,a,s=f.result;s?(s.___id=++Zt,s.done=!1,r=s.continue.bind(s),i=(i=s.continuePrimaryKey)&&i.bind(s),o=s.advance.bind(s),a=function(){throw new Error("Cursor not stopped")},s.trans=t,s.stop=s.continue=s.continuePrimaryKey=s.advance=function(){throw new Error("Cursor not started")},s.fail=Pe(l),s.next=function(){var e=this,t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})},s.start=function(e){function t(){if(f.result)try{e()}catch(t){s.fail(t)}else s.done=!0,s.start=function(){throw new Error("Cursor behind last entry")},s.stop()}var n=new Promise(function(e,t){e=Pe(e),f.onerror=Ut(t),s.fail=t,s.stop=function(t){s.stop=s.continue=s.continuePrimaryKey=s.advance=a,e(t)}});return f.onsuccess=Pe(function(e){f.onsuccess=t,t()}),s.continue=r,s.continuePrimaryKey=i,s.advance=o,t(),n},e(s)):e(null)},l)})},count:function(e){var t=e.query,i=e.trans,o=t.index,a=t.range;return new Promise(function(e,t){var s=i.objectStore(n),l=o.isPrimaryKey?s:s.index(o.name);(l=(s=r(a))?l.count(s):l.count()).onsuccess=Pe(function(t){return e(t.target.result)}),l.onerror=Ut(t)})}}}n=(s=n,l=$t((a=e).objectStoreNames),u={schema:{name:a.name,tables:l.map(function(e){return s.objectStore(e)}).map(function(e){var t=e.keyPath,n=e.autoIncrement,r=o(t),i={};return n={name:e.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==t,compound:r,keyPath:t,autoIncrement:n,unique:!0,extractKey:Kt(t)},indexes:$t(e.indexNames).map(function(t){return e.index(t)}).map(function(e){var t=e.name,n=e.unique,r=e.multiEntry;return e=e.keyPath,r={name:t,compound:o(e),keyPath:e,unique:n,multiEntry:r,extractKey:Kt(e)},i[Jt(e)]=r}),getIndexByKeyPath:function(e){return i[Jt(e)]}},i[":id"]=n.primaryKey,null!=t&&(i[Jt(t)]=n.primaryKey),n})},hasGetAll:0<l.length&&"getAll"in s.objectStore(l[0])&&!("undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).schema;var a,s,l,c=u.hasGetAll,u=n.tables.map(i),h={};return u.forEach(function(e){return h[e.name]=e}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){if(!h[e])throw new Error("Table '".concat(e,"' not found"));return h[e]},MIN_KEY:-1/0,MAX_KEY:Yt(t),schema:n}}function en(e,n,r,i){var o=r.IDBKeyRange;return r.indexedDB,{dbcore:(i=Qt(n,o,i),e.dbcore.reduce(function(e,n){return n=n.create,t(t({},e),n(e))},i))}}function tn(e,t){var n=t.db;t=en(e._middlewares,n,e._deps,t),e.core=t.dbcore,e.tables.forEach(function(t){var n=t.name;e.core.schema.tables.some(function(e){return e.name===n})&&(t.core=e.core.table(n),e[n]instanceof e.Table&&(e[n].core=t.core))})}function nn(e,t,n,r){n.forEach(function(n){var i=r[n];t.forEach(function(t){var r=function e(t,n){return p(t,n)||(t=s(t))&&e(t,n)}(t,n);(!r||"value"in r&&void 0===r.value)&&(t===e.Transaction.prototype||t instanceof e.Transaction?f(t,n,{get:function(){return this.table(n)},set:function(e){h(this,n,{value:e,writable:!0,configurable:!0,enumerable:!0})}}):t[n]=new e.Table(n,i))})})}function rn(e,t){t.forEach(function(t){for(var n in t)t[n]instanceof e.Table&&delete t[n]})}function on(e,t){return e._cfg.version-t._cfg.version}function an(e,t,n,r){var o=e._dbSchema;n.objectStoreNames.contains("$meta")&&!o.$meta&&(o.$meta=Xt("$meta",pn("")[0],[]),e._storeNames.push("$meta"));var a=e._createTransaction("readwrite",e._storeNames,o);a.create(n),a._completion.catch(r);var s=a._reject.bind(a),l=ve.transless||ve;ze(function(){return ve.trans=a,ve.transless=l,0!==t?(tn(e,n),c=t,((r=a).storeNames.includes("$meta")?r.table("$meta").get("version").then(function(e){return null!=e?e:c}):xe.resolve(c)).then(function(t){return o=t,s=a,l=n,c=[],t=(r=e)._versions,u=r._dbSchema=fn(0,r.idbdb,l),0!==(t=t.filter(function(e){return e._cfg.version>=o})).length?(t.forEach(function(e){c.push(function(){var t=u,n=e._cfg.dbschema;dn(r,t,l),dn(r,n,l),u=r._dbSchema=n;var a=ln(t,n);a.add.forEach(function(e){cn(l,e[0],e[1].primKey,e[1].indexes)}),a.change.forEach(function(e){if(e.recreate)throw new G.Upgrade("Not yet support for changing primary key");var t=l.objectStore(e.name);e.add.forEach(function(e){return hn(t,e)}),e.change.forEach(function(e){t.deleteIndex(e.name),hn(t,e)}),e.del.forEach(function(e){return t.deleteIndex(e)})});var c=e._cfg.contentUpgrade;if(c&&e._cfg.version>o){tn(r,l),s._memoizedTables={};var h=w(n);a.del.forEach(function(e){h[e]=t[e]}),rn(r,[r.Transaction.prototype]),nn(r,[r.Transaction.prototype],i(h),h),s.schema=h;var f,d=L(c);return d&&Ve(),a=xe.follow(function(){var e;(f=c(s))&&d&&(e=je.bind(null,null),f.then(e,e))}),f&&"function"==typeof f.then?xe.resolve(f):a.then(function(){return f})}}),c.push(function(t){var n,i,o=e._cfg.dbschema;n=o,i=t,[].slice.call(i.db.objectStoreNames).forEach(function(e){return null==n[e]&&i.db.deleteObjectStore(e)}),rn(r,[r.Transaction.prototype]),nn(r,[r.Transaction.prototype],r._storeNames,r._dbSchema),s.schema=r._dbSchema}),c.push(function(t){r.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(r.idbdb.version/10)===e._cfg.version?(r.idbdb.deleteObjectStore("$meta"),delete r._dbSchema.$meta,r._storeNames=r._storeNames.filter(function(e){return"$meta"!==e})):t.objectStore("$meta").put(e._cfg.version,"version"))})}),function e(){return c.length?xe.resolve(c.shift()(s.idbtrans)).then(e):xe.resolve()}().then(function(){un(u,l)})):xe.resolve();var r,o,s,l,c,u}).catch(s)):(i(o).forEach(function(e){cn(n,e,o[e].primKey,o[e].indexes)}),tn(e,n),void xe.follow(function(){return e.on.populate.fire(a)}).catch(s));var r,c})}function sn(e,t){un(e._dbSchema,t),t.db.version%10!=0||t.objectStoreNames.contains("$meta")||t.db.createObjectStore("$meta").add(Math.ceil(t.db.version/10-1),"version");var n=fn(0,e.idbdb,t);dn(e,e._dbSchema,t);for(var r=0,i=ln(n,e._dbSchema).change;r<i.length;r++){var o=function(e){if(e.change.length||e.recreate)return{value:void 0};var n=t.objectStore(e.name);e.add.forEach(function(e){hn(n,e)})}(i[r]);if("object"==typeof o)return o.value}}function ln(e,t){var n,r={del:[],add:[],change:[]};for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],o=t[n];if(i){var a={name:n,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||i.primKey.auto!==o.primKey.auto)a.recreate=!0,r.change.push(a);else{var s=i.idxByName,l=o.idxByName,c=void 0;for(c in s)l[c]||a.del.push(c);for(c in l){var u=s[c],h=l[c];u?u.src!==h.src&&a.change.push(h):a.add.push(h)}(0<a.del.length||0<a.add.length||0<a.change.length)&&r.change.push(a)}}else r.add.push([n,o])}return r}function cn(e,t,n,r){var i=e.db.createObjectStore(t,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(function(e){return hn(i,e)}),i}function un(e,t){i(e).forEach(function(n){t.db.objectStoreNames.contains(n)||cn(t,n,e[n].primKey,e[n].indexes)})}function hn(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function fn(e,t,n){var r={};return g(t.objectStoreNames,0).forEach(function(e){for(var t=n.objectStore(e),i=Gt(qt(s=t.keyPath),s||"",!0,!1,!!t.autoIncrement,s&&"string"!=typeof s,!0),o=[],a=0;a<t.indexNames.length;++a){var s=(l=t.index(t.indexNames[a])).keyPath,l=Gt(l.name,s,!!l.unique,!!l.multiEntry,!1,s&&"string"!=typeof s,!1);o.push(l)}r[e]=Xt(e,i,o)}),r}function dn(e,t,n){for(var i=n.db.objectStoreNames,o=0;o<i.length;++o){var a=i[o],s=n.objectStore(a);e._hasGetAll="getAll"in s;for(var l=0;l<s.indexNames.length;++l){var c=s.indexNames[l],u=s.index(c).keyPath,h="string"==typeof u?u:"["+g(u).join("+")+"]";!t[a]||(u=t[a].idxByName[h])&&(u.name=c,delete t[a].idxByName[h],t[a].idxByName[c]=u)}}"undefined"!=typeof navigator&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&r.WorkerGlobalScope&&r instanceof r.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function pn(e){return e.split(",").map(function(e,t){var n=null===(r=(i=e.split(":"))[1])||void 0===r?void 0:r.trim(),r=(e=i[0].trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return Gt(r,i||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),o(i),0===t,n)})}var mn=(gn.prototype._createTableSchema=Xt,gn.prototype._parseIndexSyntax=pn,gn.prototype._parseStoresSpec=function(e,t){var n=this;i(e).forEach(function(r){if(null!==e[r]){var i=n._parseIndexSyntax(e[r]),o=i.shift();if(!o)throw new G.Schema("Invalid schema for table "+r+": "+e[r]);if(o.unique=!0,o.multi)throw new G.Schema("Primary key cannot be multiEntry*");i.forEach(function(e){if(e.auto)throw new G.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new G.Schema("Index must have a name and cannot be an empty string")}),i=n._createTableSchema(r,o,i),t[r]=i}})},gn.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?a(this._cfg.storesSource,e):e,e=t._versions;var n={},r={};return e.forEach(function(e){a(n,e._cfg.storesSource),r=e._cfg.dbschema={},e._parseStoresSpec(n,r)}),t._dbSchema=r,rn(t,[t._allTables,t,t.Transaction.prototype]),nn(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],i(r),r),t._storeNames=i(r),this},gn.prototype.upgrade=function(e){return this._cfg.contentUpgrade=ne(this._cfg.contentUpgrade||Y,e),this},gn);function gn(){}function vn(e,t){var n=e._dbNamesDB;return n||(n=e._dbNamesDB=new nr(tt,{addons:[],indexedDB:e,IDBKeyRange:t})).version(1).stores({dbnames:"name"}),n.table("dbnames")}function yn(e){return e&&"function"==typeof e.databases}function _n(e){return ze(function(){return ve.letThrough=!0,e()})}function bn(e){return!("from"in e)}var xn=function(e,t){if(!this){var n=new xn;return e&&"d"in e&&a(n,e),n}a(this,arguments.length?{d:1,from:e,to:1<arguments.length?t:e}:{d:0})};function wn(e,t,n){var r=lt(t,n);if(!isNaN(r)){if(0<r)throw RangeError();if(bn(e))return a(e,{from:t,to:n,d:1});var i=e.l;if(r=e.r,lt(n,e.from)<0)return i?wn(i,t,n):e.l={from:t,to:n,d:1,l:null,r:null},An(e);if(0<lt(t,e.to))return r?wn(r,t,n):e.r={from:t,to:n,d:1,l:null,r:null},An(e);lt(t,e.from)<0&&(e.from=t,e.l=null,e.d=r?r.d+1:1),0<lt(n,e.to)&&(e.to=n,e.r=null,e.d=e.l?e.l.d+1:1),n=!e.r,i&&!e.l&&Sn(e,i),r&&n&&Sn(e,r)}}function Sn(e,t){bn(t)||function e(t,n){var r=n.from,i=n.to,o=n.l;n=n.r,wn(t,r,i),o&&e(t,o),n&&e(t,n)}(e,t)}function En(e,t){var n=Tn(t),r=n.next();if(r.done)return!1;for(var i=r.value,o=Tn(e),a=o.next(i.from),s=a.value;!r.done&&!a.done;){if(lt(s.from,i.to)<=0&&0<=lt(s.to,i.from))return!0;lt(i.from,s.from)<0?i=(r=n.next(s.from)).value:s=(a=o.next(i.from)).value}return!1}function Tn(e){var t=bn(e)?null:{s:0,n:e};return{next:function(e){for(var n=0<arguments.length;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&lt(e,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||lt(e,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function An(e){var n,r,i=((null===(n=e.r)||void 0===n?void 0:n.d)||0)-((null===(r=e.l)||void 0===r?void 0:r.d)||0),o=1<i?"r":i<-1?"l":"";o&&(n="r"==o?"l":"r",r=t({},e),i=e[o],e.from=i.from,e.to=i.to,e[o]=i[o],r[o]=i[n],(e[n]=r).d=Mn(r)),e.d=Mn(e)}function Mn(e){var t=e.r;return e=e.l,(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}function Cn(e,t){return i(t).forEach(function(n){e[n]?Sn(e[n],t[n]):e[n]=function e(t){var n,r,i={};for(n in t)c(t,n)&&(r=t[n],i[n]=!r||"object"!=typeof r||A.has(r.constructor)?r:e(r));return i}(t[n])}),e}function On(e,t){return e.all||t.all||Object.keys(e).some(function(n){return t[n]&&En(t[n],e[n])})}u(xn.prototype,((F={add:function(e){return Sn(this,e),this},addKey:function(e){return wn(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(e){return wn(t,e,e)}),this},hasKey:function(e){var t=Tn(this).next(e).value;return t&&lt(t.from,e)<=0&&0<=lt(t.to,e)}})[I]=function(){return Tn(this)},F));var Rn={},In={},kn=!1;function Pn(e){Cn(In,e),kn||(kn=!0,setTimeout(function(){kn=!1,Dn(In,!(In={}))},0))}function Dn(e,t){void 0===t&&(t=!1);var n=new Set;if(e.all)for(var r=0,i=Object.values(Rn);r<i.length;r++)Nn(a=i[r],e,n,t);else for(var o in e){var a,s=/^idb\:\/\/(.*)\/(.*)\//.exec(o);s&&(o=s[1],s=s[2],(a=Rn["idb://".concat(o,"/").concat(s)])&&Nn(a,e,n,t))}n.forEach(function(e){return e()})}function Nn(e,t,n,r){for(var i=[],o=0,a=Object.entries(e.queries.query);o<a.length;o++){for(var s=a[o],l=s[0],c=[],u=0,h=s[1];u<h.length;u++){var f=h[u];On(t,f.obsSet)?f.subscribers.forEach(function(e){return n.add(e)}):r&&c.push(f)}r&&i.push([l,c])}if(r)for(var d=0,p=i;d<p.length;d++){var m=p[d];l=m[0],c=m[1],e.queries.query[l]=c}}function Ln(e){var t=e._state,n=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?$e(t.dbOpenError):e});t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var r=t.openCanceller,o=Math.round(10*e.verno),a=!1;function s(){if(t.openCanceller!==r)throw new G.DatabaseClosed("db.open() was cancelled")}function l(){return new xe(function(r,c){if(s(),!n)throw new G.MissingAPI;var u=e.name,d=t.autoSchema||!o?n.open(u):n.open(u,o);if(!d)throw new G.MissingAPI;d.onerror=Ut(c),d.onblocked=Pe(e._fireOnBlocked),d.onupgradeneeded=Pe(function(r){var i;h=d.transaction,t.autoSchema&&!e._options.allowEmptyDB?(d.onerror=Bt,h.abort(),d.result.close(),(i=n.deleteDatabase(u)).onsuccess=i.onerror=Pe(function(){c(new G.NoSuchDatabase("Database ".concat(u," doesnt exist")))})):(h.onerror=Ut(c),r=r.oldVersion>Math.pow(2,62)?0:r.oldVersion,f=r<1,e.idbdb=d.result,a&&sn(e,h),an(e,r/10,h,c))},c),d.onsuccess=Pe(function(){h=null;var n,s,c,p,m,v=e.idbdb=d.result,y=g(v.objectStoreNames);if(0<y.length)try{var _=v.transaction(1===(p=y).length?p[0]:p,"readonly");if(t.autoSchema)s=v,c=_,(n=e).verno=s.version/10,c=n._dbSchema=fn(0,s,c),n._storeNames=g(s.objectStoreNames,0),nn(n,[n._allTables],i(c),c);else if(dn(e,e._dbSchema,_),((m=ln(fn(0,(m=e).idbdb,_),m._dbSchema)).add.length||m.change.some(function(e){return e.add.length||e.change.length}))&&!a)return v.close(),o=v.version+1,a=!0,r(l());tn(e,_)}catch(b){}et.push(e),v.onversionchange=Pe(function(n){t.vcFired=!0,e.on("versionchange").fire(n)}),v.onclose=Pe(function(){e.close({disableAutoOpen:!1})}),f&&(m=e._deps,_=u,v=m.indexedDB,m=m.IDBKeyRange,yn(v)||_===tt||vn(v,m).put({name:_}).catch(Y)),r()},c)}).catch(function(e){switch(null==e?void 0:e.name){case"UnknownError":if(0<t.PR1398_maxLoop)return t.PR1398_maxLoop--,l();break;case"VersionError":if(0<o)return o=0,l()}return xe.reject(e)})}var c,u=t.dbReadyResolve,h=null,f=!1;return xe.race([r,("undefined"==typeof navigator?xe.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){function t(){return indexedDB.databases().finally(e)}c=setInterval(t,100),t()}).finally(function(){return clearInterval(c)}):Promise.resolve()).then(l)]).then(function(){return s(),t.onReadyBeingFired=[],xe.resolve(_n(function(){return e.on.ready.fire(e.vip)})).then(function n(){if(0<t.onReadyBeingFired.length){var r=t.onReadyBeingFired.reduce(ne,Y);return t.onReadyBeingFired=[],xe.resolve(_n(function(){return r(e.vip)})).then(n)}})}).finally(function(){t.openCanceller===r&&(t.onReadyBeingFired=null,t.isBeingOpened=!1)}).catch(function(n){t.dbOpenError=n;try{h&&h.abort()}catch(i){}return r===t.openCanceller&&e._close(),$e(n)}).finally(function(){t.openComplete=!0,u()}).then(function(){var t;return f&&(t={},e.tables.forEach(function(n){n.schema.indexes.forEach(function(r){r.name&&(t["idb://".concat(e.name,"/").concat(n.name,"/").concat(r.name)]=new xn(-1/0,[[[]]]))}),t["idb://".concat(e.name,"/").concat(n.name,"/")]=t["idb://".concat(e.name,"/").concat(n.name,"/:dels")]=new xn(-1/0,[[[]]])}),jt(zt).fire(t),Dn(t,!0)),e})}function Fn(e){function t(t){return e.next(t)}var n=i(t),r=i(function(t){return e.throw(t)});function i(e){return function(t){var i=e(t);return t=i.value,i.done?t:t&&"function"==typeof t.then?t.then(n,r):o(t)?Promise.all(t).then(n,r):n(t)}}return i(t)()}function Un(e,t,n){for(var r=o(e)?e.slice():[e],i=0;i<n;++i)r.push(t);return r}var Bn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return t(t({},e),{table:function(n){var r=e.table(n),i=r.schema,o={},a=[];function s(e,n,r){var i=Jt(e),l=o[i]=o[i]||[],c=null==e?0:"string"==typeof e?1:e.length,u=0<n;return u=t(t({},r),{name:u?"".concat(i,"(virtual-from:").concat(r.name,")"):r.name,lowLevelIndex:r,isVirtual:u,keyTail:n,keyLength:c,extractKey:Kt(e),unique:!u&&r.unique}),l.push(u),u.isPrimaryKey||a.push(u),1<c&&s(2===c?e[0]:e.slice(0,c-1),n+1,r),l.sort(function(e,t){return e.keyTail-t.keyTail}),u}n=s(i.primaryKey.keyPath,0,i.primaryKey),o[":id"]=[n];for(var l=0,c=i.indexes;l<c.length;l++){var u=c[l];s(u.keyPath,0,u)}function h(n){var r,i=n.query.index;return i.isVirtual?t(t({},n),{query:{index:i.lowLevelIndex,range:(r=n.query.range,i=i.keyTail,{type:1===r.type?2:r.type,lower:Un(r.lower,r.lowerOpen?e.MAX_KEY:e.MIN_KEY,i),lowerOpen:!0,upper:Un(r.upper,r.upperOpen?e.MIN_KEY:e.MAX_KEY,i),upperOpen:!0})}}):n}return t(t({},r),{schema:t(t({},i),{primaryKey:n,indexes:a,getIndexByKeyPath:function(e){return(e=o[Jt(e)])&&e[0]}}),count:function(e){return r.count(h(e))},query:function(e){return r.query(h(e))},openCursor:function(t){var n=t.query.index,i=n.keyTail,o=n.isVirtual,a=n.keyLength;return o?r.openCursor(h(t)).then(function(e){return e&&s(e)}):r.openCursor(t);function s(n){return Object.create(n,{continue:{value:function(r){null!=r?n.continue(Un(r,t.reverse?e.MAX_KEY:e.MIN_KEY,i)):t.unique?n.continue(n.key.slice(0,a).concat(t.reverse?e.MIN_KEY:e.MAX_KEY,i)):n.continue()}},continuePrimaryKey:{value:function(t,r){n.continuePrimaryKey(Un(t,e.MAX_KEY,i),r)}},primaryKey:{get:function(){return n.primaryKey}},key:{get:function(){var e=n.key;return 1===a?e[0]:e.slice(0,a)}},value:{get:function(){return n.value}}})}}})}})}};function zn(e,t,n,r){return n=n||{},r=r||"",i(e).forEach(function(i){var o,a,s;c(t,i)?(o=e[i],a=t[i],"object"==typeof o&&"object"==typeof a&&o&&a?(s=R(o))!==R(a)?n[r+i]=t[i]:"Object"===s?zn(o,a,n,r+i+"."):o!==a&&(n[r+i]=t[i]):o!==a&&(n[r+i]=t[i])):n[r+i]=void 0}),i(t).forEach(function(i){c(e,i)||(n[r+i]=t[i])}),n}function Vn(e,t){return"delete"===t.type?t.keys:t.keys||t.values.map(e.extractKey)}var jn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return t(t({},e),{table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=ve.trans,s=a.table(r).hook,l=s.deleting,u=s.creating,h=s.updating;switch(e.type){case"add":if(u.fire===Y)break;return a._promise("readwrite",function(){return f(e)},!0);case"put":if(u.fire===Y&&h.fire===Y)break;return a._promise("readwrite",function(){return f(e)},!0);case"delete":if(l.fire===Y)break;return a._promise("readwrite",function(){return f(e)},!0);case"deleteRange":if(l.fire===Y)break;return a._promise("readwrite",function(){return function e(n,r,a){return i.query({trans:n,values:!1,query:{index:o,range:r},limit:a}).then(function(i){var o=i.result;return f({type:"delete",keys:o,trans:n}).then(function(i){return 0<i.numFailures?Promise.reject(i.failures[0]):o.length<a?{failures:[],numFailures:0,lastResult:void 0}:e(n,t(t({},r),{lower:o[o.length-1],lowerOpen:!0}),a)})})}(e.trans,e.range,1e4)},!0)}return i.mutate(e);function f(e){var r,a,s,f=ve.trans,d=e.keys||Vn(o,e);if(!d)throw new Error("Keys missing");return"delete"!==(e="add"===e.type||"put"===e.type?t(t({},e),{keys:d}):t({},e)).type&&(e.values=n([],e.values)),e.keys&&(e.keys=n([],e.keys)),r=i,s=d,("add"===(a=e).type?Promise.resolve([]):r.getMany({trans:a.trans,keys:s,cache:"immutable"})).then(function(t){var n=d.map(function(n,r){var i,a,s,d=t[r],p={onerror:null,onsuccess:null};return"delete"===e.type?l.fire.call(p,n,d,f):"add"===e.type||void 0===d?(i=u.fire.call(p,n,e.values[r],f),null==n&&null!=i&&(e.keys[r]=n=i,o.outbound||x(e.values[r],o.keyPath,n))):(i=zn(d,e.values[r]),(a=h.fire.call(p,i,n,d,f))&&(s=e.values[r],Object.keys(a).forEach(function(e){c(s,e)?s[e]=a[e]:x(s,e,a[e])}))),p});return i.mutate(e).then(function(r){for(var i=r.failures,o=r.results,a=r.numFailures,s=(r=r.lastResult,0);s<d.length;++s){var l=(o||d)[s],c=n[s];null==l?c.onerror&&c.onerror(i[s]):c.onsuccess&&c.onsuccess("put"===e.type&&t[s]?e.values[s]:l)}return{failures:i,results:o,numFailures:a,lastResult:r}}).catch(function(e){return n.forEach(function(t){return t.onerror&&t.onerror(e)}),Promise.reject(e)})})}}})}})}};function Hn(e,t,n){try{if(!t)return null;if(t.keys.length<e.length)return null;for(var r=[],i=0,o=0;i<t.keys.length&&o<e.length;++i)0===lt(t.keys[i],e[o])&&(r.push(n?C(t.values[i]):t.values[i]),++o);return r.length===e.length?r:null}catch(a){return null}}var Wn={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var r=e.table(n);return t(t({},r),{getMany:function(e){if(!e.cache)return r.getMany(e);var t=Hn(e.keys,e.trans._cache,"clone"===e.cache);return t?xe.resolve(t):r.getMany(e).then(function(t){return e.trans._cache={keys:e.keys,values:"clone"===e.cache?C(t):t},t})},mutate:function(e){return"add"!==e.type&&(e.trans._cache=null),r.mutate(e)}})}}}};function Gn(e,t){return"readonly"===e.trans.mode&&!!e.subscr&&!e.trans.explicit&&"disabled"!==e.trans.db._options.cache&&!t.schema.primaryKey.outbound}function qn(e,t){switch(e){case"query":return t.values&&!t.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Xn={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,r=new xn(e.MIN_KEY,e.MAX_KEY);return t(t({},e),{transaction:function(t,n,r){if(ve.subscr&&"readonly"!==n)throw new G.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ve.querier));return e.transaction(t,n,r)},table:function(a){var s=e.table(a),l=s.schema,c=l.primaryKey,u=l.indexes,h=c.extractKey,f=c.outbound,d=c.autoIncrement&&u.filter(function(e){return e.compound&&e.keyPath.includes(c.keyPath)}),p=t(t({},s),{mutate:function(t){function i(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),m[e]||(m[e]=new xn)}var u,h,f,p=t.trans,m=t.mutatedParts||(t.mutatedParts={}),g=i(""),v=i(":dels"),y=t.type,_=(x="deleteRange"===t.type?[t.range]:"delete"===t.type?[t.keys]:t.values.length<50?[Vn(c,t).filter(function(e){return e}),t.values]:[])[0],b=x[1],x=t.trans._cache;return o(_)?(g.addKeys(_),(x="delete"===y||_.length===b.length?Hn(_,x):null)||v.addKeys(_),(x||b)&&(u=i,h=x,f=b,l.indexes.forEach(function(e){var t=u(e.name||"");function n(t){return null!=t?e.extractKey(t):null}function r(n){return e.multiEntry&&o(n)?n.forEach(function(e){return t.addKey(e)}):t.addKey(n)}(h||f).forEach(function(e,t){var i=h&&n(h[t]);0!==lt(i,t=f&&n(f[t]))&&(null!=i&&r(i),null!=t&&r(t))})}))):_?(b={from:null!==(b=_.lower)&&void 0!==b?b:e.MIN_KEY,to:null!==(b=_.upper)&&void 0!==b?b:e.MAX_KEY},v.add(b),g.add(b)):(g.add(r),v.add(r),l.indexes.forEach(function(e){return i(e.name).add(r)})),s.mutate(t).then(function(e){return!_||"add"!==t.type&&"put"!==t.type||(g.addKeys(e.results),d&&d.forEach(function(n){for(var r=t.values.map(function(e){return n.extractKey(e)}),o=n.keyPath.findIndex(function(e){return e===c.keyPath}),a=0,s=e.results.length;a<s;++a)r[a][o]=e.results[a];i(n.name).addKeys(r)})),p.mutatedParts=Cn(p.mutatedParts||{},m),e})}}),m={get:function(e){return[c,new xn(e.key)]},getMany:function(e){return[c,(new xn).addKeys(e.keys)]},count:u=function(t){t=(n=t.query).index;var n=n.range;return[t,new xn(null!==(t=n.lower)&&void 0!==t?t:e.MIN_KEY,null!==(n=n.upper)&&void 0!==n?n:e.MAX_KEY)]},query:u,openCursor:u};return i(m).forEach(function(e){p[e]=function(i){var o=!!(p=ve.subscr),l=Gn(ve,s)&&qn(e,i)?i.obsSet={}:p;if(o){var c=function(e){return e="idb://".concat(n,"/").concat(a,"/").concat(e),l[e]||(l[e]=new xn)},u=c(""),d=c(":dels"),p=(o=(p=m[e](i))[0],p[1]);if(("query"===e&&o.isPrimaryKey&&!i.values?d:c(o.name||"")).add(p),!o.isPrimaryKey){if("count"!==e){var g="query"===e&&f&&i.values&&s.query(t(t({},i),{values:!1}));return s[e].apply(this,arguments).then(function(t){if("query"===e){if(f&&i.values)return g.then(function(e){return e=e.result,u.addKeys(e),t});var n=i.values?t.result.map(h):t.result;(i.values?u:d).addKeys(n)}else if("openCursor"===e){var r=t,o=i.values;return r&&Object.create(r,{key:{get:function(){return d.addKey(r.primaryKey),r.key}},primaryKey:{get:function(){var e=r.primaryKey;return d.addKey(e),e}},value:{get:function(){return o&&u.addKey(r.primaryKey),r.value}}})}return t})}d.add(r)}}return s[e].apply(this,arguments)}}),p}})}};function Yn(e,n,r){if(0===r.numFailures)return n;if("deleteRange"===n.type)return null;var i=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return r.numFailures===i?null:(n=t({},n),o(n.keys)&&(n.keys=n.keys.filter(function(e,t){return!(t in r.failures)})),"values"in n&&o(n.values)&&(n.values=n.values.filter(function(e,t){return!(t in r.failures)})),n)}function Kn(e,t){return n=e,(void 0===(r=t).lower||(r.lowerOpen?0<lt(n,r.lower):0<=lt(n,r.lower)))&&(void 0===t.upper||(t.upperOpen?lt(e,t.upper)<0:lt(e,t.upper)<=0));var n,r}function $n(e,t,n,r,i,a){if(!n||0===n.length)return e;var s=t.query.index,l=s.multiEntry,c=t.query.range,u=r.schema.primaryKey.extractKey,h=s.extractKey,f=(s.lowLevelIndex||s).extractKey;return(n=n.reduce(function(e,n){var r=e,i=[];if("add"===n.type||"put"===n.type)for(var a=new xn,s=n.values.length-1;0<=s;--s){var f,d=n.values[s],p=u(d);a.hasKey(p)||(f=h(d),(l&&o(f)?f.some(function(e){return Kn(e,c)}):Kn(f,c))&&(a.addKey(p),i.push(d)))}switch(n.type){case"add":var m=(new xn).addKeys(t.values?e.map(function(e){return u(e)}):e);r=e.concat(t.values?i.filter(function(e){return e=u(e),!m.hasKey(e)&&(m.addKey(e),!0)}):i.map(function(e){return u(e)}).filter(function(e){return!m.hasKey(e)&&(m.addKey(e),!0)}));break;case"put":var g=(new xn).addKeys(n.values.map(function(e){return u(e)}));r=e.filter(function(e){return!g.hasKey(t.values?u(e):e)}).concat(t.values?i:i.map(function(e){return u(e)}));break;case"delete":var v=(new xn).addKeys(n.keys);r=e.filter(function(e){return!v.hasKey(t.values?u(e):e)});break;case"deleteRange":var y=n.range;r=e.filter(function(e){return!Kn(u(e),y)})}return r},e))===e?e:(n.sort(function(e,t){return lt(f(e),f(t))||lt(u(e),u(t))}),t.limit&&t.limit<1/0&&(n.length>t.limit?n.length=t.limit:e.length===t.limit&&n.length<t.limit&&(i.dirty=!0)),a?Object.freeze(n):n)}function Zn(e,t){return 0===lt(e.lower,t.lower)&&0===lt(e.upper,t.upper)&&!!e.lowerOpen==!!t.lowerOpen&&!!e.upperOpen==!!t.upperOpen}function Jn(e,t){return function(e,t,n,r){if(void 0===e)return void 0!==t?-1:0;if(void 0===t)return 1;if(0===(t=lt(e,t))){if(n&&r)return 0;if(n)return 1;if(r)return-1}return t}(e.lower,t.lower,e.lowerOpen,t.lowerOpen)<=0&&0<=function(e,t,n,r){if(void 0===e)return void 0!==t?1:0;if(void 0===t)return-1;if(0===(t=lt(e,t))){if(n&&r)return 0;if(n)return-1;if(r)return 1}return t}(e.upper,t.upper,e.upperOpen,t.upperOpen)}function Qn(e,t,n,r){e.subscribers.add(n),r.addEventListener("abort",function(){var r,i;e.subscribers.delete(n),0===e.subscribers.size&&(r=e,i=t,setTimeout(function(){0===r.subscribers.size&&P(i,r)},3e3))})}var er={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return t(t({},e),{transaction:function(t,r,i){var o,a,s=e.transaction(t,r,i);return"readwrite"===r&&(a=(o=new AbortController).signal,i=function(i){return function(){if(o.abort(),"readwrite"===r){for(var a=new Set,l=0,c=t;l<c.length;l++){var u=c[l],h=Rn["idb://".concat(n,"/").concat(u)];if(h){var f=e.table(u),d=h.optimisticOps.filter(function(e){return e.trans===s});if(s._explicit&&i&&s.mutatedParts)for(var p=0,m=Object.values(h.queries.query);p<m.length;p++)for(var g=0,v=(b=m[p]).slice();g<v.length;g++)On((x=v[g]).obsSet,s.mutatedParts)&&(P(b,x),x.subscribers.forEach(function(e){return a.add(e)}));else if(0<d.length){h.optimisticOps=h.optimisticOps.filter(function(e){return e.trans!==s});for(var y=0,_=Object.values(h.queries.query);y<_.length;y++)for(var b,x,w,S=0,E=(b=_[y]).slice();S<E.length;S++)null!=(x=E[S]).res&&s.mutatedParts&&(i&&!x.dirty?(w=Object.isFrozen(x.res),w=$n(x.res,x.req,d,f,x,w),x.dirty?(P(b,x),x.subscribers.forEach(function(e){return a.add(e)})):w!==x.res&&(x.res=w,x.promise=xe.resolve({result:w}))):(x.dirty&&P(b,x),x.subscribers.forEach(function(e){return a.add(e)})))}}}a.forEach(function(e){return e()})}}},s.addEventListener("abort",i(!1),{signal:a}),s.addEventListener("error",i(!1),{signal:a}),s.addEventListener("complete",i(!0),{signal:a})),s},table:function(r){var i=e.table(r),o=i.schema.primaryKey;return t(t({},i),{mutate:function(e){var a=ve.trans;if(o.outbound||"disabled"===a.db._options.cache||a.explicit||"readwrite"!==a.idbtrans.mode)return i.mutate(e);var s=Rn["idb://".concat(n,"/").concat(r)];return s?(a=i.mutate(e),"add"!==e.type&&"put"!==e.type||!(50<=e.values.length||Vn(o,e).some(function(e){return null==e}))?(s.optimisticOps.push(e),e.mutatedParts&&Pn(e.mutatedParts),a.then(function(t){0<t.numFailures&&(P(s.optimisticOps,e),(t=Yn(0,e,t))&&s.optimisticOps.push(t),e.mutatedParts&&Pn(e.mutatedParts))}),a.catch(function(){P(s.optimisticOps,e),e.mutatedParts&&Pn(e.mutatedParts)})):a.then(function(n){var r=Yn(0,t(t({},e),{values:e.values.map(function(e,r){var i;return n.failures[r]||x(e=null!==(i=o.keyPath)&&void 0!==i&&i.includes(".")?C(e):t({},e),o.keyPath,n.results[r]),e})}),n);s.optimisticOps.push(r),queueMicrotask(function(){return e.mutatedParts&&Pn(e.mutatedParts)})}),a):i.mutate(e)},query:function(e){if(!Gn(ve,i)||!qn("query",e))return i.query(e);var t="immutable"===(null===(s=ve.trans)||void 0===s?void 0:s.db._options.cache),o=(c=ve).requery,a=c.signal,s=function(e,t,n,r){var i=Rn["idb://".concat(e,"/").concat(t)];if(!i)return[];if(!(t=i.queries[n]))return[null,!1,i,null];var o=t[(r.query?r.query.index.name:null)||""];if(!o)return[null,!1,i,null];switch(n){case"query":var a=o.find(function(e){return e.req.limit===r.limit&&e.req.values===r.values&&Zn(e.req.query.range,r.query.range)});return a?[a,!0,i,o]:[o.find(function(e){return("limit"in e.req?e.req.limit:1/0)>=r.limit&&(!r.values||e.req.values)&&Jn(e.req.query.range,r.query.range)}),!1,i,o];case"count":return[a=o.find(function(e){return Zn(e.req.query.range,r.query.range)}),!!a,i,o]}}(n,r,"query",e),l=s[0],c=s[1],u=s[2],h=s[3];return l&&c?l.obsSet=e.obsSet:(c=i.query(e).then(function(e){var n=e.result;if(l&&(l.res=n),t){for(var r=0,i=n.length;r<i;++r)Object.freeze(n[r]);Object.freeze(n)}else e.result=C(n);return e}).catch(function(e){return h&&l&&P(h,l),Promise.reject(e)}),l={obsSet:e.obsSet,promise:c,subscribers:new Set,type:"query",req:e,dirty:!1},h?h.push(l):(h=[l],(u=u||(Rn["idb://".concat(n,"/").concat(r)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[e.query.index.name||""]=h)),Qn(l,h,o,a),l.promise.then(function(n){return{result:$n(n.result,e,null==u?void 0:u.optimisticOps,i,l,t)}})}})}})}};function tr(e,t){return new Proxy(e,{get:function(e,n,r){return"db"===n?t:Reflect.get(e,n,r)}})}var nr=(rr.prototype.version=function(e){if(isNaN(e)||e<.1)throw new G.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new G.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var t=this._versions,n=t.filter(function(t){return t._cfg.version===e})[0];return n||(n=new this.Version(e),t.push(n),t.sort(on),n.stores({}),this._state.autoSchema=!1,n)},rr.prototype._whenReady=function(e){var t=this;return this.idbdb&&(this._state.openComplete||ve.letThrough||this._vip)?e():new xe(function(e,n){if(t._state.openComplete)return n(new G.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._state.autoOpen)return void n(new G.DatabaseClosed);t.open().catch(Y)}t._state.dbReadyPromise.then(e,n)}).then(e)},rr.prototype.use=function(e){var t=e.stack,n=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:t,name:i}),(e=this._middlewares[t]||(this._middlewares[t]=[])).push({stack:t,create:n,level:null==r?10:r,name:i}),e.sort(function(e,t){return e.level-t.level}),this},rr.prototype.unuse=function(e){var t=e.stack,n=e.name,r=e.create;return t&&this._middlewares[t]&&(this._middlewares[t]=this._middlewares[t].filter(function(e){return r?e.create!==r:!!n&&e.name!==n})),this},rr.prototype.open=function(){var e=this;return Xe(ge,function(){return Ln(e)})},rr.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var e=this._state,t=et.indexOf(this);if(0<=t&&et.splice(t,1),this.idbdb){try{this.idbdb.close()}catch(n){}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new xe(function(t){e.dbReadyResolve=t}),e.openCanceller=new xe(function(t,n){e.cancelOpen=n}))},rr.prototype.close=function(e){var t=(void 0===e?{disableAutoOpen:!0}:e).disableAutoOpen;e=this._state,t?(e.isBeingOpened&&e.cancelOpen(new G.DatabaseClosed),this._close(),e.autoOpen=!1,e.dbOpenError=new G.DatabaseClosed):(this._close(),e.autoOpen=this._options.autoOpen||e.isBeingOpened,e.openComplete=!1,e.dbOpenError=null)},rr.prototype.delete=function(e){var t=this;void 0===e&&(e={disableAutoOpen:!0});var n=0<arguments.length&&"object"!=typeof arguments[0],r=this._state;return new xe(function(i,o){function a(){t.close(e);var n=t._deps.indexedDB.deleteDatabase(t.name);n.onsuccess=Pe(function(){var e,n,r;e=t._deps,n=t.name,r=e.indexedDB,e=e.IDBKeyRange,yn(r)||n===tt||vn(r,e).delete(n).catch(Y),i()}),n.onerror=Ut(o),n.onblocked=t._fireOnBlocked}if(n)throw new G.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(a):a()})},rr.prototype.backendDB=function(){return this.idbdb},rr.prototype.isOpen=function(){return null!==this.idbdb},rr.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&"DatabaseClosed"===e.name},rr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},rr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(rr.prototype,"tables",{get:function(){var e=this;return i(this._allTables).map(function(t){return e._allTables[t]})},enumerable:!1,configurable:!0}),rr.prototype.transaction=function(){var e=function(e,t,n){var r=arguments.length;if(r<2)throw new G.InvalidArgument("Too few arguments");for(var i=new Array(r-1);--r;)i[r-1]=arguments[r];return n=i.pop(),[e,E(i),n]}.apply(this,arguments);return this._transaction.apply(this,e)},rr.prototype._transaction=function(e,t,n){var r=this,i=ve.trans;i&&i.db===this&&-1===e.indexOf("!")||(i=null);var o,a,s=-1!==e.indexOf("?");e=e.replace("!","").replace("?","");try{if(a=t.map(function(e){if("string"!=typeof(e=e instanceof r.Table?e.name:e))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return e}),"r"==e||e===nt)o=nt;else{if("rw"!=e&&e!=rt)throw new G.InvalidArgument("Invalid transaction mode: "+e);o=rt}if(i){if(i.mode===nt&&o===rt){if(!s)throw new G.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&a.forEach(function(e){if(i&&-1===i.storeNames.indexOf(e)){if(!s)throw new G.SubTransaction("Table "+e+" not included in parent transaction.");i=null}}),s&&i&&!i.active&&(i=null)}}catch(c){return i?i._promise(null,function(e,t){t(c)}):$e(c)}var l=function e(t,n,r,i,o){return xe.resolve().then(function(){var a=ve.transless||ve,s=t._createTransaction(n,r,t._dbSchema,i);if(s.explicit=!0,a={trans:s,transless:a},i)s.idbtrans=i.idbtrans;else try{s.create(),s.idbtrans._explicit=!0,t._state.PR1398_maxLoop=3}catch(u){return u.name===H.InvalidState&&t.isOpen()&&0<--t._state.PR1398_maxLoop?(t.close({disableAutoOpen:!1}),t.open().then(function(){return e(t,n,r,null,o)})):$e(u)}var l,c=L(o);return c&&Ve(),a=xe.follow(function(){var e;(l=o.call(s,s))&&(c?(e=je.bind(null,null),l.then(e,e)):"function"==typeof l.next&&"function"==typeof l.throw&&(l=Fn(l)))},a),(l&&"function"==typeof l.then?xe.resolve(l).then(function(e){return s.active?e:$e(new G.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return l})).then(function(e){return i&&s._resolve(),s._completion.then(function(){return e})}).catch(function(e){return s._reject(e),$e(e)})})}.bind(null,this,o,a,i,n);return i?i._promise(o,l,"lock"):ve.trans?Xe(ve.transless,function(){return r._whenReady(l)}):this._whenReady(l)},rr.prototype.table=function(e){if(!c(this._allTables,e))throw new G.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},rr);function rr(e,n){var r=this;this._middlewares={},this.verno=0;var i=rr.dependencies;this._options=n=t({addons:rr.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},i=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o,a,s,l,c,u={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Y,dbReadyPromise:null,cancelOpen:Y,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};u.dbReadyPromise=new xe(function(e){u.dbReadyResolve=e}),u.openCanceller=new xe(function(e,t){u.cancelOpen=t}),this._state=u,this.name=e,this.on=vt(this,"populate","blocked","versionchange","close",{ready:[ne,Y]}),this.once=function(e,t){var n=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];r.on(e).unsubscribe(n),t.apply(r,i)};return r.on(e,n)},this.on.ready.subscribe=v(this.on.ready.subscribe,function(e){return function(t,n){rr.vip(function(){var i,o=r._state;o.openComplete?(o.dbOpenError||xe.resolve().then(t),n&&e(t)):o.onReadyBeingFired?(o.onReadyBeingFired.push(t),n&&e(t)):(e(t),i=r,n||e(function e(){i.on.ready.unsubscribe(t),i.on.ready.unsubscribe(e)}))})}}),this.Collection=(o=this,yt(At.prototype,function(e,t){this.db=o;var n=ot,r=null;if(t)try{n=t()}catch(a){r=a}var i=e._ctx;e=(t=i.table).hook.reading.fire,this._ctx={table:t,index:i.index,isPrimKey:!i.index||t.schema.primKey.keyPath&&i.index===t.schema.primKey.name,range:n,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:r,or:i.or,valueMapper:e!==K?e:null}})),this.Table=(a=this,yt(mt.prototype,function(e,t,n){this.db=a,this._tx=n,this.name=e,this.schema=t,this.hook=a._allTables[e]?a._allTables[e].hook:vt(null,{creating:[J,Y],reading:[$,K],updating:[ee,Y],deleting:[Q,Y]})})),this.Transaction=(s=this,yt(Ht.prototype,function(e,t,n,r,i){var o=this;"readonly"!==e&&t.forEach(function(e){(e=null===(e=n[e])||void 0===e?void 0:e.yProps)&&(t=t.concat(e.map(function(e){return e.updatesTable})))}),this.db=s,this.mode=e,this.storeNames=t,this.schema=n,this.chromeTransactionDurability=r,this.idbtrans=null,this.on=vt(this,"complete","error","abort"),this.parent=i||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new xe(function(e,t){o._resolve=e,o._reject=t}),this._completion.then(function(){o.active=!1,o.on.complete.fire()},function(e){var t=o.active;return o.active=!1,o.on.error.fire(e),o.parent?o.parent._reject(e):t&&o.idbtrans&&o.idbtrans.abort(),$e(e)})})),this.Version=(l=this,yt(mn.prototype,function(e){this.db=l,this._cfg={version:e,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(c=this,yt(Lt.prototype,function(e,t,n){if(this.db=c,this._ctx={table:e,index:":id"===t?null:t,or:n},this._cmp=this._ascending=lt,this._descending=function(e,t){return lt(t,e)},this._max=function(e,t){return 0<lt(e,t)?e:t},this._min=function(e,t){return lt(e,t)<0?e:t},this._IDBKeyRange=c._deps.IDBKeyRange,!this._IDBKeyRange)throw new G.MissingAPI})),this.on("versionchange",function(e){e.newVersion,r.close({disableAutoOpen:!1})}),this.on("blocked",function(e){!e.newVersion||(e.newVersion,e.oldVersion)}),this._maxKey=Yt(n.IDBKeyRange),this._createTransaction=function(e,t,n,i){return new r.Transaction(e,t,n,r._options.chromeTransactionDurability,i)},this._fireOnBlocked=function(e){r.on("blocked").fire(e),et.filter(function(e){return e.name===r.name&&e!==r&&!e._state.vcFired}).map(function(t){return t.on("versionchange").fire(e)})},this.use(Wn),this.use(er),this.use(Xn),this.use(Bn),this.use(jn);var h=new Proxy(this,{get:function(e,t,n){if("_vip"===t)return!0;if("table"===t)return function(e){return tr(r.table(e),h)};var i=Reflect.get(e,t,n);return i instanceof mt?tr(i,h):"tables"===t?i.map(function(e){return tr(e,h)}):"_createTransaction"===t?function(){return tr(i.apply(this,arguments),h)}:i}});this.vip=h,i.forEach(function(e){return e(r)})}F="undefined"!=typeof Symbol&&"observable"in Symbol?Symbol.observable:"@@observable";var ir,or=(ar.prototype.subscribe=function(e,t,n){return this._subscribe(e&&"function"!=typeof e?e:{next:e,error:t,complete:n})},ar.prototype[F]=function(){return this},ar);function ar(e){this._subscribe=e}try{ir={indexedDB:r.indexedDB||r.mozIndexedDB||r.webkitIndexedDB||r.msIndexedDB,IDBKeyRange:r.IDBKeyRange||r.webkitIDBKeyRange}}catch(dr){ir={indexedDB:null,IDBKeyRange:null}}function sr(e){var t,n=!1,r=new or(function(r){var i,o=L(e),a=!1,s={},l={},u={get closed(){return a},unsubscribe:function(){a||(a=!0,i&&i.abort(),h&&jt.storagemutated.unsubscribe(d))}};r.start&&r.start(u);var h=!1,f=function(){return Ke(p)},d=function(e){Cn(s,e),On(l,s)&&f()},p=function(){var u,p,m;!a&&ir.indexedDB&&(s={},u={},i&&i.abort(),i=new AbortController,m=function(t){var n=Oe();try{o&&Ve();var r=ze(e,t);return r=o?r.finally(je):r}finally{n&&Re()}}(p={subscr:u,signal:i.signal,requery:f,querier:e,trans:null}),Promise.resolve(m).then(function(e){n=!0,t=e,a||p.signal.aborted||(s={},function(e){for(var t in e)if(c(e,t))return;return 1}(l=u)||h||(jt(zt,d),h=!0),Ke(function(){return!a&&r.next&&r.next(e)}))},function(e){n=!1,["DatabaseClosedError","AbortError"].includes(null==e?void 0:e.name)||a||Ke(function(){a||r.error&&r.error(e)})}))};return setTimeout(f,0),u});return r.hasValue=function(){return n},r.getValue=function(){return t},r}var lr=nr;function cr(e){var t=hr;try{hr=!0,jt.storagemutated.fire(e),Dn(e,!0)}finally{hr=t}}u(lr,t(t({},X),{delete:function(e){return new lr(e,{addons:[]}).delete()},exists:function(e){return new lr(e,{addons:[]}).open().then(function(e){return e.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=(t=lr.dependencies).indexedDB,t=t.IDBKeyRange,(yn(n)?Promise.resolve(n.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==tt})}):vn(n,t).toCollection().primaryKeys()).then(e)}catch(r){return $e(new G.MissingAPI)}var t,n},defineClass:function(){return function(e){a(this,e)}},ignoreTransaction:function(e){return ve.trans?Xe(ve.transless,e):e()},vip:_n,async:function(e){return function(){try{var t=Fn(e.apply(this,arguments));return t&&"function"==typeof t.then?t:xe.resolve(t)}catch(n){return $e(n)}}},spawn:function(e,t,n){try{var r=Fn(e.apply(n,t||[]));return r&&"function"==typeof r.then?r:xe.resolve(r)}catch(i){return $e(i)}},currentTransaction:{get:function(){return ve.trans||null}},waitFor:function(e,t){return t=xe.resolve("function"==typeof e?lr.ignoreTransaction(e):e).timeout(t||6e4),ve.trans?ve.trans.waitFor(t):t},Promise:xe,debug:{get:function(){return re},set:function(e){ie(e)}},derive:d,extend:a,props:u,override:v,Events:vt,on:jt,liveQuery:sr,extendObservabilitySet:Cn,getByKeyPath:b,setByKeyPath:x,delByKeyPath:function(e,t){"string"==typeof t?x(e,t,void 0):"length"in t&&[].map.call(t,function(t){x(e,t,void 0)})},shallowClone:w,deepClone:C,getObjectDiff:zn,cmp:lt,asap:_,minKey:-1/0,addons:[],connections:et,errnames:H,dependencies:ir,cache:Rn,semVer:"4.2.1",version:"4.2.1".split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,n){return e+t/Math.pow(10,2*n)})})),lr.maxKey=Yt(lr.dependencies.IDBKeyRange),"undefined"!=typeof dispatchEvent&&"undefined"!=typeof addEventListener&&(jt(zt,function(e){hr||(e=new CustomEvent(Vt,{detail:e}),hr=!0,dispatchEvent(e),hr=!1)}),addEventListener(Vt,function(e){e=e.detail,hr||cr(e)}));var ur,hr=!1,fr=function(){};return"undefined"!=typeof BroadcastChannel&&((fr=function(){(ur=new BroadcastChannel(Vt)).onmessage=function(e){return e.data&&cr(e.data)}})(),"function"==typeof ur.unref&&ur.unref(),jt(zt,function(e){hr||ur.postMessage(e)})),"undefined"!=typeof addEventListener&&(addEventListener("pagehide",function(e){if(!nr.disableBfCache&&e.persisted){null!=ur&&ur.close();for(var t=0,n=et;t<n.length;t++)n[t].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!nr.disableBfCache&&e.persisted&&(fr(),cr({all:new xn(-1/0,[[]])}))})),xe.rejectionMapper=function(e,t){return!e||e instanceof B||e instanceof TypeError||e instanceof SyntaxError||!e.name||!q[e.name]?e:(t=new q[e.name](t||e.message,e),"stack"in e&&f(t,"stack",{get:function(){return this.inner.stack}}),t)},ie(re),t(nr,Object.freeze({__proto__:null,Dexie:nr,liveQuery:sr,Entity:st,cmp:lt,PropModification:ft,replacePrefix:function(e,t){return new ft({replacePrefix:[e,t]})},add:function(e){return new ft({add:e})},remove:function(e){return new ft({remove:e})},default:nr,RangeSet:xn,mergeRanges:Sn,rangesOverlap:En}),{default:nr}),nr}()),FR.exports);const BR=_R(UR),zR=Symbol.for("Dexie"),VR=globalThis[zR]||(globalThis[zR]=BR);if(BR.semVer!==VR.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(BR.semVer," and ").concat(VR.semVer));const{liveQuery:jR,mergeRanges:HR,rangesOverlap:WR,RangeSet:GR,cmp:qR,Entity:XR,PropModification:YR,replacePrefix:KR,add:$R,remove:ZR,DexieYProvider:JR}=VR;function QR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eI(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var tI,nI,rI,iI,oI,aI,sI,lI,cI,uI,hI,fI,dI,pI,mI,gI,vI,yI,_I,bI,xI,wI,SI,EI,TI,AI,MI,CI,OI,RI,II,kI,PI={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},DI={duration:.5,overwrite:!1,delay:0},NI=1e8,LI=1e-8,FI=2*Math.PI,UI=FI/4,BI=0,zI=Math.sqrt,VI=Math.cos,jI=Math.sin,HI=function(e){return"string"==typeof e},WI=function(e){return"function"==typeof e},GI=function(e){return"number"==typeof e},qI=function(e){return void 0===e},XI=function(e){return"object"==typeof e},YI=function(e){return!1!==e},KI=function(){return"undefined"!=typeof window},$I=function(e){return WI(e)||HI(e)},ZI="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},JI=Array.isArray,QI=/random\([^)]+\)/g,ek=/,\s*/g,tk=/(?:-?\.?\d|\.)+/gi,nk=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,rk=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ik=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,ok=/[+-]=-?[.\d]+/,ak=/[^,'"\[\]\s]+/gi,sk=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,lk={},ck={},uk=function(e){return(ck=zk(e,lk))&&zD},hk=function(e,t){},fk=function(e,t){return!t&&void 0},dk=function(e,t){return e&&(lk[e]=t)&&ck&&(ck[e]=t)||lk},pk=function(){return 0},mk={suppressEvents:!0,isStart:!0,kill:!1},gk={suppressEvents:!0,kill:!1},vk={suppressEvents:!0},yk={},_k=[],bk={},xk={},wk={},Sk=30,Ek=[],Tk="",Ak=function(e){var t,n,r=e[0];if(XI(r)||WI(r)||(e=[e]),!(t=(r._gsap||{}).harness)){for(n=Ek.length;n--&&!Ek[n].targetTest(r););t=Ek[n]}for(n=e.length;n--;)e[n]&&(e[n]._gsap||(e[n]._gsap=new eD(e[n],t)))||e.splice(n,1);return e},Mk=function(e){return e._gsap||Ak(vP(e))[0]._gsap},Ck=function(e,t,n){return(n=e[t])&&WI(n)?e[t]():qI(n)&&e.getAttribute&&e.getAttribute(t)||n},Ok=function(e,t){return(e=e.split(",")).forEach(t)||e},Rk=function(e){return Math.round(1e5*e)/1e5||0},Ik=function(e){return Math.round(1e7*e)/1e7||0},kk=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},Pk=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Dk=function(){var e,t,n=_k.length,r=_k.slice(0);for(bk={},_k.length=0,e=0;e<n;e++)(t=r[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},Nk=function(e){return!!(e._initted||e._startAt||e.add)},Lk=function(e,t,n,r){_k.length&&!nI&&Dk(),e.render(t,n,!!(nI&&t<0&&Nk(e))),_k.length&&!nI&&Dk()},Fk=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(ak).length<2?t:HI(e)?e.trim():e},Uk=function(e){return e},Bk=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},zk=function(e,t){for(var n in t)e[n]=t[n];return e},Vk=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=XI(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},jk=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Hk=function(e){var t,n=e.parent||iI,r=e.keyframes?(t=JI(e.keyframes),function(e,n){for(var r in n)r in e||"duration"===r&&t||"ease"===r||(e[r]=n[r])}):Bk;if(YI(e.inherit))for(;n;)r(e,n.vars.defaults),n=n.parent||n._dp;return e},Wk=function(e,t,n,r,i){var o,a=e[r];if(i)for(o=t[i];a&&a[i]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Gk=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},qk=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Xk=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},Yk=function(e,t,n,r){return e._startAt&&(nI?e._startAt.revert(gk):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Kk=function e(t){return!t||t._ts&&e(t.parent)},$k=function(e){return e._repeat?Zk(e._tTime,e=e.duration()+e._rDelay)*e:0},Zk=function(e,t){var n=Math.floor(e=Ik(e/t));return e&&n===e?n-1:n},Jk=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Qk=function(e){return e._end=Ik(e._start+(e._tDur/Math.abs(e._ts||e._rts||LI)||0))},eP=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Ik(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Qk(e),n._dirty||Xk(n,e)),e},tP=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Jk(e.rawTime(),t),(!t._dur||dP(0,t.totalDuration(),n)-t._tTime>LI)&&t.render(n,!0)),Xk(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},nP=function(e,t,n,r){return t.parent&&qk(t),t._start=Ik((GI(n)?n:n||e!==iI?uP(e,n,t):e._time)+t._delay),t._end=Ik(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Wk(e,t,"_first","_last",e._sort?"_start":0),aP(t)||(e._recent=t),r||tP(e,t),e._ts<0&&eP(e,e._tTime),e},rP=function(e,t){return lk.ScrollTrigger?lk.ScrollTrigger.create(t,e):void 0},iP=function(e,t,n,r,i){return lD(e,t,i),e._initted?!n&&e._pt&&!nI&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&cI!==VP.frame?(_k.push(e),e._lazy=[i,r],1):void 0:1},oP=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},aP=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},sP=function(e,t,n,r){var i=e._repeat,o=Ik(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:Ik(o*(i+1)+e._rDelay*i):o,a>0&&!r&&eP(e,e._tTime=e._tDur*a),e.parent&&Qk(e),n||Xk(e.parent,e),e},lP=function(e){return e instanceof nD?Xk(e):sP(e,e._dur)},cP={_start:0,endTime:pk,totalDuration:pk},uP=function e(t,n,r){var i,o,a,s=t.labels,l=t._recent||cP,c=t.duration()>=NI?l.endTime(!1):t._dur;return HI(n)&&(isNaN(n)||n in s)?(o=n.charAt(0),a="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?l._start:l.endTime(l._repeat>=0))+(parseFloat(n.substr(1))||0)*(a?(i<0?l:r).totalDuration()/100:1)):i<0?(n in s||(s[n]=c),s[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),a&&r&&(o=o/100*(JI(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:c+o)):null==n?c:+n},hP=function(e,t,n){var r,i,o=GI(t[1]),a=(o?2:1)+(e<2?0:1),s=t[a];if(o&&(s.duration=t[1]),s.parent=n,e){for(r=s,i=n;i&&!("immediateRender"in r);)r=i.vars.defaults||{},i=YI(i.vars.inherit)&&i.parent;s.immediateRender=YI(r.immediateRender),e<2?s.runBackwards=1:s.startAt=t[a-1]}return new dD(t[0],s,t[a+1])},fP=function(e,t){return e||0===e?t(e):t},dP=function(e,t,n){return n<e?e:n>t?t:n},pP=function(e,t){return HI(e)&&(t=sk.exec(e))?t[1]:""},mP=[].slice,gP=function(e,t){return e&&XI(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&XI(e[0]))&&!e.nodeType&&e!==oI},vP=function(e,t,n){return rI&&!t&&rI.selector?rI.selector(e):!HI(e)||n||!aI&&jP()?JI(e)?function(e,t,n){return void 0===n&&(n=[]),e.forEach(function(e){var r;return HI(e)&&!t||gP(e,1)?(r=n).push.apply(r,vP(e)):n.push(e)})||n}(e,n):gP(e)?mP.call(e,0):e?[e]:[]:mP.call((t||sI).querySelectorAll(e),0)},yP=function(e){return e=vP(e)[0]||fk()||{},function(t){var n=e.current||e.nativeElement||e;return vP(t,n.querySelectorAll?n:n===e?fk()||sI.createElement("div"):e)}},_P=function(e){return e.sort(function(){return.5-Math.random()})},bP=function(e){if(WI(e))return e;var t=XI(e)?e:{each:e},n=KP(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},a=r>0&&r<1,s=isNaN(r)||a,l=t.axis,c=r,u=r;return HI(r)?c=u={center:.5,edges:.5,end:1}[r]||0:!a&&s&&(c=r[0],u=r[1]),function(e,a,h){var f,d,p,m,g,v,y,_,b,x=(h||t).length,w=o[x];if(!w){if(!(b="auto"===t.grid?0:(t.grid||[1,NI])[1])){for(y=-1e8;y<(y=h[b++].getBoundingClientRect().left)&&b<x;);b<x&&b--}for(w=o[x]=[],f=s?Math.min(b,x)*c-.5:r%b,d=b===NI?0:s?x*u/b-.5:r/b|0,y=0,_=NI,v=0;v<x;v++)p=v%b-f,m=d-(v/b|0),w[v]=g=l?Math.abs("y"===l?m:p):zI(p*p+m*m),g>y&&(y=g),g<_&&(_=g);"random"===r&&_P(w),w.max=y-_,w.min=_,w.v=x=(parseFloat(t.amount)||parseFloat(t.each)*(b>x?x-1:l?"y"===l?x/b:b:Math.max(b,x/b))||0)*("edges"===r?-1:1),w.b=x<0?i-x:i,w.u=pP(t.amount||t.each)||0,n=n&&x<0?XP(n):n}return x=(w[e]-w.min)/w.max||0,Ik(w.b+(n?n(x):x)*w.v)+w.u}},xP=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=Ik(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(GI(n)?0:pP(n))}},wP=function(e,t){var n,r,i=JI(e);return!i&&XI(e)&&(n=i=e.radius||NI,e.values?(e=vP(e.values),(r=!GI(e[0]))&&(n*=n)):e=xP(e.increment)),fP(t,i?WI(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){for(var i,o,a=parseFloat(r?t.x:t),s=parseFloat(r?t.y:0),l=NI,c=0,u=e.length;u--;)(i=r?(i=e[u].x-a)*i+(o=e[u].y-s)*o:Math.abs(e[u]-a))<l&&(l=i,c=u);return c=!n||l<=n?e[c]:t,r||c===t||GI(t)?c:c+pP(t)}:xP(e))},SP=function(e,t,n,r){return fP(JI(e)?!t:!0===n?!!(n=0):!r,function(){return JI(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r})},EP=function(e,t,n){return fP(n,function(n){return e[~~t(n)]})},TP=function(e){return e.replace(QI,function(e){var t=e.indexOf("[")+1,n=e.substring(t||7,t?e.indexOf("]"):e.length-1).split(ek);return SP(t?n:+n[0],t?0:+n[1],+n[2]||1e-5)})},AP=function(e,t,n,r,i){var o=t-e,a=r-n;return fP(i,function(t){return n+((t-e)/o*a||0)})},MP=function(e,t,n){var r,i,o,a=e.labels,s=NI;for(r in a)(i=a[r]-t)<0==!!n&&i&&s>(i=Math.abs(i))&&(o=r,s=i);return o},CP=function(e,t,n){var r,i,o,a=e.vars,s=a[t],l=rI,c=e._ctx;if(s)return r=a[t+"Params"],i=a.callbackScope||e,n&&_k.length&&Dk(),c&&(rI=c),o=r?s.apply(i,r):s.call(i),rI=l,o},OP=function(e){return qk(e),e.scrollTrigger&&e.scrollTrigger.kill(!!nI),e.progress()<1&&CP(e,"onInterrupt"),e},RP=[],IP=function(e){if(e)if(e=!e.name&&e.default||e,KI()||e.headless){var t=e.name,n=WI(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:pk,render:wD,add:aD,kill:ED,modifier:SD,rawVars:0},o={targetTest:0,get:0,getSetter:yD,aliases:{},register:0};if(jP(),e!==r){if(xk[t])return;Bk(r,Bk(jk(e,i),o)),zk(r.prototype,zk(i,jk(e,o))),xk[r.prop=t]=r,e.targetTest&&(Ek.push(r),yk[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}dk(t,r),e.register&&e.register(zD,r,MD)}else RP.push(e)},kP=255,PP={aqua:[0,kP,kP],lime:[0,kP,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,kP],navy:[0,0,128],white:[kP,kP,kP],olive:[128,128,0],yellow:[kP,kP,0],orange:[kP,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[kP,0,0],pink:[kP,192,203],cyan:[0,kP,kP],transparent:[kP,kP,kP,0]},DP=function(e,t,n){return(6*(e+=e<0?1:e>1?-1:0)<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*kP+.5|0},NP=function(e,t,n){var r,i,o,a,s,l,c,u,h,f,d=e?GI(e)?[e>>16,e>>8&kP,e&kP]:0:PP.black;if(!d){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),PP[e])d=PP[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return[(d=parseInt(e.substr(1,6),16))>>16,d>>8&kP,d&kP,parseInt(e.substr(7),16)/255];d=[(e=parseInt(e.substr(1),16))>>16,e>>8&kP,e&kP]}else if("hsl"===e.substr(0,3))if(d=f=e.match(tk),t){if(~e.indexOf("="))return d=e.match(nk),n&&d.length<4&&(d[3]=1),d}else a=+d[0]%360/360,s=+d[1]/100,r=2*(l=+d[2]/100)-(i=l<=.5?l*(s+1):l+s-l*s),d.length>3&&(d[3]*=1),d[0]=DP(a+1/3,r,i),d[1]=DP(a,r,i),d[2]=DP(a-1/3,r,i);else d=e.match(tk)||PP.transparent;d=d.map(Number)}return t&&!f&&(r=d[0]/kP,i=d[1]/kP,o=d[2]/kP,l=((c=Math.max(r,i,o))+(u=Math.min(r,i,o)))/2,c===u?a=s=0:(h=c-u,s=l>.5?h/(2-c-u):h/(c+u),a=c===r?(i-o)/h+(i<o?6:0):c===i?(o-r)/h+2:(r-i)/h+4,a*=60),d[0]=~~(a+.5),d[1]=~~(100*s+.5),d[2]=~~(100*l+.5)),n&&d.length<4&&(d[3]=1),d},LP=function(e){var t=[],n=[],r=-1;return e.split(UP).forEach(function(e){var i=e.match(rk)||[];t.push.apply(t,i),n.push(r+=i.length+1)}),t.c=n,t},FP=function(e,t,n){var r,i,o,a,s="",l=(e+s).match(UP),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=NP(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),n&&(o=LP(e),(r=n.c).join(s)!==o.c.join(s)))for(a=(i=e.replace(UP,"1").split(rk)).length-1;u<a;u++)s+=i[u]+(~r.indexOf(u)?l.shift()||c+"0,0,0,0)":(o.length?o:l.length?l:n).shift());if(!i)for(a=(i=e.split(UP)).length-1;u<a;u++)s+=i[u]+l[u];return s+i[a]},UP=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in PP)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),BP=/hsl[a]?\(/,zP=function(e){var t,n=e.join(" ");if(UP.lastIndex=0,UP.test(n))return t=BP.test(n),e[1]=FP(e[1],t),e[0]=FP(e[0],t,LP(e[1])),!0},VP=(yI=Date.now,_I=500,bI=33,xI=yI(),wI=xI,EI=SI=1e3/240,AI=function e(t){var n,r,i,o,a=yI()-wI,s=!0===t;if((a>_I||a<0)&&(xI+=a-bI),((n=(i=(wI+=a)-xI)-EI)>0||s)&&(o=++mI.frame,gI=i-1e3*mI.time,mI.time=i/=1e3,EI+=n+(n>=SI?4:SI-n),r=1),s||(fI=dI(e)),r)for(vI=0;vI<TI.length;vI++)TI[vI](i,gI,o,t)},mI={time:0,frame:0,tick:function(){AI(!0)},deltaRatio:function(e){return gI/(1e3/(e||60))},wake:function(){lI&&(!aI&&KI()&&(oI=aI=window,sI=oI.document||{},lk.gsap=zD,(oI.gsapVersions||(oI.gsapVersions=[])).push(zD.version),uk(ck||oI.GreenSockGlobals||!oI.gsap&&oI||{}),RP.forEach(IP)),pI="undefined"!=typeof requestAnimationFrame&&requestAnimationFrame,fI&&mI.sleep(),dI=pI||function(e){return setTimeout(e,EI-1e3*mI.time+1|0)},hI=1,AI(2))},sleep:function(){(pI?cancelAnimationFrame:clearTimeout)(fI),hI=0,dI=pk},lagSmoothing:function(e,t){_I=e||1/0,bI=Math.min(t||33,_I)},fps:function(e){SI=1e3/(e||240),EI=1e3*mI.time+SI},add:function(e,t,n){var r=t?function(t,n,i,o){e(t,n,i,o),mI.remove(r)}:e;return mI.remove(e),TI[n?"unshift":"push"](r),jP(),r},remove:function(e,t){~(t=TI.indexOf(e))&&TI.splice(t,1)&&vI>=t&&vI--},_listeners:TI=[]}),jP=function(){return!hI&&VP.wake()},HP={},WP=/^[\d.\-M][\d.\-,\s]/,GP=/["']/g,qP=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),a=o[0],s=1,l=o.length;s<l;s++)n=o[s],t=s!==l-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[a]=isNaN(r)?r.replace(GP,"").trim():+r,a=n.substr(t+1).trim();return i},XP=function(e){return function(t){return 1-e(1-t)}},YP=function e(t,n){for(var r,i=t._first;i;)i instanceof nD?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},KP=function(e,t){return e&&(WI(e)?e:HP[e]||function(e){var t,n,r,i,o=(e+"").split("("),a=HP[o[0]];return a&&o.length>1&&a.config?a.config.apply(null,~e.indexOf("{")?[qP(o[1])]:(t=e,n=t.indexOf("(")+1,r=t.indexOf(")"),i=t.indexOf("(",n),t.substring(n,~i&&i<r?t.indexOf(")",r+1):r)).split(",").map(Fk)):HP._CE&&WP.test(e)?HP._CE("",e):a}(e))||t},$P=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return Ok(e,function(e){for(var t in HP[e]=lk[e]=o,HP[i=e.toLowerCase()]=n,o)HP[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=HP[e+"."+t]=o[t]}),o},ZP=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},JP=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),a=o/FI*(Math.asin(1/i)||0),s=function(e){return 1===e?1:i*Math.pow(2,-10*e)*jI((e-a)*o)+1},l="out"===t?s:"in"===t?function(e){return 1-s(1-e)}:ZP(s);return o=FI/o,l.config=function(n,r){return e(t,n,r)},l},QP=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:ZP(r);return i.config=function(n){return e(t,n)},i};Ok("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var n=t<5?t+1:t;$P(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},function(e){return 1-Math.pow(1-e,n)},function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2})}),HP.Linear.easeNone=HP.none=HP.Linear.easeIn,$P("Elastic",JP("in"),JP("out"),JP()),MI=7.5625,RI=2*(OI=1/(CI=2.75)),II=2.5*OI,$P("Bounce",function(e){return 1-kI(1-e)},kI=function(e){return e<OI?MI*e*e:e<RI?MI*Math.pow(e-1.5/CI,2)+.75:e<II?MI*(e-=2.25/CI)*e+.9375:MI*Math.pow(e-2.625/CI,2)+.984375}),$P("Expo",function(e){return Math.pow(2,10*(e-1))*e+e*e*e*e*e*e*(1-e)}),$P("Circ",function(e){return-(zI(1-e*e)-1)}),$P("Sine",function(e){return 1===e?1:1-VI(e*UI)}),$P("Back",QP("in"),QP("out"),QP()),HP.SteppedEase=HP.steps=lk.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0;return function(e){return((r*dP(0,.99999999,e)|0)+i)*n}}},DI.ease=HP["quad.out"],Ok("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return Tk+=e+","+e+"Params,"});var eD=function(e,t){this.id=BI++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Ck,this.set=t?t.getSetter:yD},tD=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,sP(this,+e.duration,1,1),this.data=e.data,rI&&(this._ctx=rI,rI.data.push(this)),hI||VP.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,sP(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(jP(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(eP(this,e),!n._dp||n.parent||tP(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&nP(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===LI||!this._initted&&this._dur&&e||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),Lk(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+$k(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+$k(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Zk(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Jk(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||-1e-8===e?0:this._rts,this.totalTime(dP(-Math.abs(this._delay),this.totalDuration(),n),!1!==t),Qk(this),function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jP(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==LI&&(this._tTime-=LI)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=Ik(e);var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&nP(t,this,this._start-this._delay),this}return this._start},t.endTime=function(e){return this._start+(YI(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Jk(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=vk);var t=nI;return nI=e,Nk(this)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),nI=t,this},t.globalTime=function(e){for(var t=this,n=arguments.length?e:t.rawTime();t;)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,lP(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,lP(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(uP(this,e),YI(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,YI(t)),this._dur||(this._zTime=-1e-8),this},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-1e-8:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-LI))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this,n=t._prom;return new Promise(function(r){var i=WI(e)?e:Uk,o=function(){var e=t.then;t.then=null,n&&n(),WI(i)&&(i=i(t))&&(i.then||i===t)&&(t.then=e),r(i),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?o():t._prom=o})},t.kill=function(){OP(this)},e}();Bk(tD.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var nD=function(e){function t(t,n){var r;return void 0===t&&(t={}),(r=e.call(this,t)||this).labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=YI(t.sortChildren),iI&&nP(t.parent||iI,QR(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&rP(QR(r),t.scrollTrigger),r}eI(t,e);var n=t.prototype;return n.to=function(e,t,n){return hP(0,arguments,this),this},n.from=function(e,t,n){return hP(1,arguments,this),this},n.fromTo=function(e,t,n,r){return hP(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Hk(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new dD(e,t,uP(this,n),1),this},n.call=function(e,t,n){return nP(this,dD.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,a){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=a,n.parent=this,new dD(e,n,uP(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,a){return n.runBackwards=1,Hk(n).immediateRender=YI(n.immediateRender),this.staggerTo(e,t,n,r,i,o,a)},n.staggerFromTo=function(e,t,n,r,i,o,a,s){return r.startAt=n,Hk(r).immediateRender=YI(r.immediateRender),this.staggerTo(e,t,r,i,o,a,s)},n.render=function(e,t,n){var r,i,o,a,s,l,c,u,h,f,d,p,m=this._time,g=this._dirty?this.totalDuration():this._tDur,v=this._dur,y=e<=0?0:Ik(e),_=this._zTime<0!=e<0&&(this._initted||!v);if(this!==iI&&y>g&&e>=0&&(y=g),y!==this._tTime||n||_){if(m!==this._time&&v&&(y+=this._time-m,e+=this._time-m),r=y,h=this._start,l=!(u=this._ts),_&&(v||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(d=this._yoyo,s=v+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,n);if(r=Ik(y%s),y===g?(a=this._repeat,r=v):((a=~~(f=Ik(y/s)))&&a===f&&(r=v,a--),r>v&&(r=v)),f=Zk(this._tTime,s),!m&&this._tTime&&f!==a&&this._tTime-f*s-this._dur<=0&&(f=a),d&&1&a&&(r=v-r,p=1),a!==f&&!this._lock){var b=d&&1&f,x=b===(d&&1&a);if(a<f&&(b=!b),m=b?0:y%v?v:y,this._lock=1,this.render(m||(p?0:Ik(a*s)),t,!v)._lock=0,this._tTime=y,!t&&this.parent&&CP(this,"onRepeat"),this.vars.repeatRefresh&&!p&&(this.invalidate()._lock=1,f=a),m&&m!==this._time||l!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,g=this._tDur,x&&(this._lock=2,m=b?v:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!p&&this.invalidate()),this._lock=0,!this._ts&&!l)return this;YP(this,p)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(c=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if("isPause"===r.data&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}(this,Ik(m),Ik(r)),c&&(y-=r-(r=c._start))),this._tTime=y,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&y&&v&&!t&&!f&&(CP(this,"onStart"),this._tTime!==y))return this;if(r>=m&&e>=0)for(i=this._first;i;){if(o=i._next,(i._act||r>=i._start)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=-1e-8);break}}i=o}else{i=this._last;for(var w=e<0?e:r;i;){if(o=i._prev,(i._act||w<=i._end)&&i._ts&&c!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(w-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(w-i._start)*i._ts,t,n||nI&&Nk(i)),r!==this._time||!this._ts&&!l){c=0,o&&(y+=this._zTime=w?-1e-8:LI);break}}i=o}}if(c&&!t&&(this.pause(),c.render(r>=m?0:-1e-8)._zTime=r>=m?1:-1,this._ts))return this._start=h,Qk(this),this.render(e,t,n);this._onUpdate&&!t&&CP(this,"onUpdate",!0),(y===g&&this._tTime>=this.totalDuration()||!y&&m)&&(h!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!v)&&(y===g&&this._ts>0||!y&&this._ts<0)&&qk(this,1),t||e<0&&!m||!y&&!m&&g||(CP(this,y===g&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(y<g&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(GI(t)||(t=uP(this,t,e)),!(e instanceof tD)){if(JI(e))return e.forEach(function(e){return n.add(e,t)}),this;if(HI(e))return this.addLabel(e,t);if(!WI(e))return this;e=dD.delayedCall(0,e)}return this!==e?nP(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-1e8);for(var i=[],o=this._first;o;)o._start>=r&&(o instanceof dD?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){for(var t=this.getChildren(1,1,1),n=t.length;n--;)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return HI(e)?this.removeLabel(e):WI(e)?this.killTweensOf(e):(e.parent===this&&Gk(this,e),e===this._recent&&(this._recent=this._last),Xk(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Ik(VP.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=uP(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=dD.delayedCall(0,t||pk,n);return r.data="isPause",this._hasPause=1,nP(this,r,uP(this,e))},n.removePause=function(e){var t=this._first;for(e=uP(this,e);t;)t._start===e&&"isPause"===t.data&&qk(t),t=t._next},n.killTweensOf=function(e,t,n){for(var r=this.getTweensOf(e,n),i=r.length;i--;)rD!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){for(var n,r=[],i=vP(e),o=this._first,a=GI(t);o;)o instanceof dD?Pk(o._targets,i)&&(a?(!rD||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=uP(r,e),o=t,a=o.startAt,s=o.onStart,l=o.onStartParams,c=o.immediateRender,u=dD.to(r,Bk({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale())||LI,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(a&&"time"in a?a.time:r._time))/r.timeScale());u._dur!==e&&sP(u,e,0,1).render(u._time,!0,!0),n=1}s&&s.apply(u,l||[])}},t));return c?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,Bk({startAt:{time:uP(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),MP(this,uP(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),MP(this,uP(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+LI)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,o=this.labels;for(e=Ik(e);i;)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Xk(this)},n.invalidate=function(t){var n=this._first;for(this._lock=0;n;)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);for(var t,n=this._first;n;)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Xk(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,a=o._last,s=NI;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){for(r=o.parent;a;)t=a._prev,a._dirty&&a.totalDuration(),(n=a._start)>s&&o._sort&&a._ts&&!o._lock?(o._lock=1,nP(o,a,n-a._delay,1)._lock=0):s=n,n<0&&a._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=Ik(n/o._ts),o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-1/0),s=0),a._end>i&&a._ts&&(i=a._end),a=t;sP(o,o===iI&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(iI._ts&&(Lk(iI,Jk(e,iI)),cI=VP.frame),VP.frame>=Sk){Sk+=PI.autoSleep||120;var t=iI._first;if((!t||!t._ts)&&PI.autoSleep&&VP._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||VP.sleep()}}},t}(tD);Bk(nD.prototype,{_lock:0,_hasPause:0,_forcing:0});var rD,iD,oD=function(e,t,n,r,i,o,a){var s,l,c,u,h,f,d,p,m=new MD(this._pt,e,t,0,1,xD,null,i),g=0,v=0;for(m.b=n,m.e=r,n+="",(d=~(r+="").indexOf("random("))&&(r=TP(r)),o&&(o(p=[n,r],e,t),n=p[0],r=p[1]),l=n.match(ik)||[];s=ik.exec(r);)u=s[0],h=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),u!==l[v++]&&(f=parseFloat(l[v-1])||0,m._pt={_next:m._pt,p:h||1===v?h:",",s:f,c:"="===u.charAt(1)?kk(f,u)-f:parseFloat(u)-f,m:c&&c<4?Math.round:0},g=ik.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=a,(ok.test(r)||d)&&(m.e=0),this._pt=m,m},aD=function(e,t,n,r,i,o,a,s,l,c){WI(r)&&(r=r(i||0,e,o));var u,h=e[t],f="get"!==n?n:WI(h)?l?e[t.indexOf("set")||!WI(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,d=WI(h)?l?gD:mD:pD;if(HI(r)&&(~r.indexOf("random(")&&(r=TP(r)),"="===r.charAt(1)&&((u=kk(f,r)+(pP(f)||0))||0===u)&&(r=u)),!c||f!==r||iD)return isNaN(f*r)||""===r?oD.call(this,e,t,f,r,d,s||PI.stringFilter,l):(u=new MD(this._pt,e,t,+f||0,r-(f||0),"boolean"==typeof h?bD:_D,0,d),l&&(u.fp=l),a&&u.modifier(a,this,e),this._pt=u)},sD=function(e,t,n,r,i,o){var a,s,l,c;if(xk[e]&&!1!==(a=new xk[e]).init(i,a.rawVars?t[e]:function(e,t,n,r,i){if(WI(e)&&(e=uD(e,i,t,n,r)),!XI(e)||e.style&&e.nodeType||JI(e)||ZI(e))return HI(e)?uD(e,i,t,n,r):e;var o,a={};for(o in e)a[o]=uD(e[o],i,t,n,r);return a}(t[e],r,i,o,n),n,r,o)&&(n._pt=s=new MD(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==uI))for(l=n._ptLookup[n._targets.indexOf(i)],c=a._props.length;c--;)l[a._props[c]]=s;return a},lD=function e(t,n,r){var i,o,a,s,l,c,u,h,f,d,p,m,g,v=t.vars,y=v.ease,_=v.startAt,b=v.immediateRender,x=v.lazy,w=v.onUpdate,S=v.runBackwards,E=v.yoyoEase,T=v.keyframes,A=v.autoRevert,M=t._dur,C=t._startAt,O=t._targets,R=t.parent,I=R&&"nested"===R.data?R.vars.targets:O,k="auto"===t._overwrite&&!tI,P=t.timeline;if(P&&(!T||!y)&&(y="none"),t._ease=KP(y,DI.ease),t._yEase=E?XP(KP(!0===E?y:E,DI.ease)):0,E&&t._yoyo&&!t._repeat&&(E=t._yEase,t._yEase=t._ease,t._ease=E),t._from=!P&&!!v.runBackwards,!P||T&&!v.stagger){if(m=(h=O[0]?Mk(O[0]).harness:0)&&v[h.prop],i=jk(v,yk),C&&(C._zTime<0&&C.progress(1),n<0&&S&&b&&!A?C.render(-1,!0):C.revert(S&&M?gk:mk),C._lazy=0),_){if(qk(t._startAt=dD.set(O,Bk({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!C&&YI(x),startAt:null,delay:0,onUpdate:w&&function(){return CP(t,"onUpdate")},stagger:0},_))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(nI||!b&&!A)&&t._startAt.revert(gk),b&&M&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(S&&M&&!C)if(n&&(b=!1),a=Bk({overwrite:!1,data:"isFromStart",lazy:b&&!C&&YI(x),immediateRender:b,stagger:0,parent:R},i),m&&(a[h.prop]=m),qk(t._startAt=dD.set(O,a)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(nI?t._startAt.revert(gk):t._startAt.render(-1,!0)),t._zTime=n,b){if(!n)return}else e(t._startAt,LI,LI);for(t._pt=t._ptCache=0,x=M&&YI(x)||x&&!M,o=0;o<O.length;o++){if(u=(l=O[o])._gsap||Ak(O)[o]._gsap,t._ptLookup[o]=d={},bk[u.id]&&_k.length&&Dk(),p=I===O?o:I.indexOf(l),h&&!1!==(f=new h).init(l,m||i,t,p,I)&&(t._pt=s=new MD(t._pt,l,f.name,0,1,f.render,f,0,f.priority),f._props.forEach(function(e){d[e]=s}),f.priority&&(c=1)),!h||m)for(a in i)xk[a]&&(f=sD(a,i,t,p,l,I))?f.priority&&(c=1):d[a]=s=aD.call(t,l,a,"get",i[a],p,I,0,v.stringFilter);t._op&&t._op[o]&&t.kill(l,t._op[o]),k&&t._pt&&(rD=t,iI.killTweensOf(l,d,t.globalTime(n)),g=!t.parent,rD=0),t._pt&&x&&(bk[u.id]=1)}c&&AD(t),t._onInit&&t._onInit(t)}t._onUpdate=w,t._initted=(!t._op||t._pt)&&!g,T&&n<=0&&P.render(NI,!0,!0)},cD=function(e,t,n,r){var i,o,a=t.ease||r||"power1.inOut";if(JI(t))o=n[e]||(n[e]=[]),t.forEach(function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:a})});else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:a})},uD=function(e,t,n,r,i){return WI(e)?e.call(t,n,r,i):HI(e)&&~e.indexOf("random(")?TP(e):e},hD=Tk+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",fD={};Ok(hD+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return fD[e]=1});var dD=function(e){function t(t,n,r,i){var o;"number"==typeof n&&(r.duration=n,n=r,r=null);var a,s,l,c,u,h,f,d,p=(o=e.call(this,i?n:Hk(n))||this).vars,m=p.duration,g=p.delay,v=p.immediateRender,y=p.stagger,_=p.overwrite,b=p.keyframes,x=p.defaults,w=p.scrollTrigger,S=p.yoyoEase,E=n.parent||iI,T=(JI(t)||ZI(t)?GI(t[0]):"length"in n)?[t]:vP(t);if(o._targets=T.length?Ak(T):fk(0,!PI.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=_,b||y||$I(m)||$I(g)){if(n=o.vars,(a=o.timeline=new nD({data:"nested",defaults:x||{},targets:E&&"nested"===E.data?E.vars.targets:T})).kill(),a.parent=a._dp=QR(o),a._start=0,y||$I(m)||$I(g)){if(c=T.length,f=y&&bP(y),XI(y))for(u in y)~hD.indexOf(u)&&(d||(d={}),d[u]=y[u]);for(s=0;s<c;s++)(l=jk(n,fD)).stagger=0,S&&(l.yoyoEase=S),d&&zk(l,d),h=T[s],l.duration=+uD(m,QR(o),s,h,T),l.delay=(+uD(g,QR(o),s,h,T)||0)-o._delay,!y&&1===c&&l.delay&&(o._delay=g=l.delay,o._start+=g,l.delay=0),a.to(h,l,f?f(s,h,T):0),a._ease=HP.none;a.duration()?m=g=0:o.timeline=0}else if(b){Hk(Bk(a.vars.defaults,{ease:"none"})),a._ease=KP(b.ease||n.ease||"none");var A,M,C,O=0;if(JI(b))b.forEach(function(e){return a.to(T,e,">")}),a.duration();else{for(u in l={},b)"ease"===u||"easeEach"===u||cD(u,b[u],l,b.easeEach);for(u in l)for(A=l[u].sort(function(e,t){return e.t-t.t}),O=0,s=0;s<A.length;s++)(C={ease:(M=A[s]).e,duration:(M.t-(s?A[s-1].t:0))/100*m})[u]=M.v,a.to(T,C,O),O+=C.duration;a.duration()<m&&a.to({},{duration:m-a.duration()})}}m||o.duration(m=a.duration())}else o.timeline=0;return!0!==_||tI||(rD=QR(o),iI.killTweensOf(T),rD=0),nP(E,QR(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(v||!m&&!b&&o._start===Ik(E._time)&&YI(v)&&Kk(QR(o))&&"nested"!==E.data)&&(o._tTime=-1e-8,o.render(Math.max(0,-g)||0)),w&&rP(QR(o),w),o}eI(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,a,s,l,c,u,h,f=this._time,d=this._tDur,p=this._dur,m=e<0,g=e>d-LI&&!m?d:e<LI?0:e;if(p){if(g!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m||this._lazy){if(r=g,u=this.timeline,this._repeat){if(a=p+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*a+e,t,n);if(r=Ik(g%a),g===d?(o=this._repeat,r=p):(o=~~(s=Ik(g/a)))&&o===s?(r=p,o--):r>p&&(r=p),(l=this._yoyo&&1&o)&&(h=this._yEase,r=p-r),s=Zk(this._tTime,a),r===f&&!n&&this._initted&&o===s)return this._tTime=g,this;o!==s&&(u&&this._yEase&&YP(u,l),this.vars.repeatRefresh&&!l&&!this._lock&&r!==a&&this._initted&&(this._lock=n=1,this.render(Ik(a*o),!0).invalidate()._lock=0))}if(!this._initted){if(iP(this,m?e:r,n,t,g))return this._tTime=0,this;if(!(f===this._time||n&&this.vars.repeatRefresh&&o!==s))return this;if(p!==this._dur)return this.render(e,t,n)}if(this._tTime=g,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/p),this._from&&(this.ratio=c=1-c),!f&&g&&!t&&!s&&(CP(this,"onStart"),this._tTime!==g))return this;for(i=this._pt;i;)i.r(c,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&Yk(this,e,0,n),CP(this,"onUpdate")),this._repeat&&o!==s&&this.vars.onRepeat&&!t&&this.parent&&CP(this,"onRepeat"),g!==this._tDur&&g||this._tTime!==g||(m&&!this._onUpdate&&Yk(this,e,0,!0),(e||!p)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&qk(this,1),t||m&&!f||!(g||f||l)||(CP(this,g===d?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom()))}}else!function(e,t,n,r){var i,o,a,s=e.ratio,l=t<0||!t&&(!e._start&&oP(e)&&(e._initted||!aP(e))||(e._ts<0||e._dp._ts<0)&&!aP(e))?0:1,c=e._rDelay,u=0;if(c&&e._repeat&&(u=dP(0,e._tDur,t),o=Zk(u,c),e._yoyo&&1&o&&(l=1-l),o!==Zk(e._tTime,c)&&(s=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==s||nI||r||e._zTime===LI||!t&&e._zTime){if(!e._initted&&iP(e,t,r,n,u))return;for(a=e._zTime,e._zTime=t||(n?LI:0),n||(n=t&&!a),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=u,i=e._pt;i;)i.r(l,i.d),i=i._next;t<0&&Yk(e,t,0,!0),e._onUpdate&&!n&&CP(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&CP(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===l&&(l&&qk(e,1),n||nI||(CP(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)}(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){hI||VP.wake(),this._ts||this.play();var o=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||lD(this,o),function(e,t,n,r,i,o,a,s){var l,c,u,h,f=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!f)for(f=e._ptCache[t]=[],u=e._ptLookup,h=e._targets.length;h--;){if((l=u[h][t])&&l.d&&l.d._pt)for(l=l.d._pt;l&&l.p!==t&&l.fp!==t;)l=l._next;if(!l)return iD=1,e.vars[t]="+=0",lD(e,a),iD=0,s?fk():1;f.push(l)}for(h=f.length;h--;)(l=(c=f[h])._pt||c).s=!r&&0!==r||i?l.s+(r||0)+o*l.c:r,l.c=n-l.s,c.e&&(c.e=Rk(n)+pP(c.e)),c.b&&(c.b=l.s+pP(c.b))}(this,e,t,n,r,this._ease(o/this._dur),o,i)?this.resetTo(e,t,n,r,1):(eP(this,0),this.parent||Wk(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?OP(this):this.scrollTrigger&&this.scrollTrigger.kill(!!nI),this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,rD&&!0!==rD.vars.overwrite)._first||OP(this),this.parent&&n!==this.timeline.totalDuration()&&sP(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,a,s,l,c,u=this._targets,h=e?vP(e):u,f=this._ptLookup,d=this._pt;if((!t||"all"===t)&&function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0}(u,h))return"all"===t&&(this._pt=0),OP(this);for(r=this._op=this._op||[],"all"!==t&&(HI(t)&&(s={},Ok(t,function(e){return s[e]=1}),t=s),t=function(e,t){var n,r,i,o,a=e[0]?Mk(e[0]).harness:0,s=a&&a.aliases;if(!s)return t;for(r in n=zk({},t),s)if(r in n)for(i=(o=s[r].split(",")).length;i--;)n[o[i]]=n[r];return n}(u,t)),c=u.length;c--;)if(~h.indexOf(u[c]))for(s in i=f[c],"all"===t?(r[c]=t,a=i,o={}):(o=r[c]=r[c]||{},a=t),a)(l=i&&i[s])&&("kill"in l.d&&!0!==l.d.kill(s)||Gk(this,l,"_pt"),delete i[s]),"all"!==o&&(o[s]=1);return this._initted&&!this._pt&&d&&OP(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return hP(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return hP(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return iI.killTweensOf(e,t,n)},t}(tD);Bk(dD.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Ok("staggerTo,staggerFrom,staggerFromTo",function(e){dD[e]=function(){var t=new nD,n=mP.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}});var pD=function(e,t,n){return e[t]=n},mD=function(e,t,n){return e[t](n)},gD=function(e,t,n,r){return e[t](r.fp,n)},vD=function(e,t,n){return e.setAttribute(t,n)},yD=function(e,t){return WI(e[t])?mD:qI(e[t])&&e.setAttribute?vD:pD},_D=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},bD=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},xD=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},wD=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},SD=function(e,t,n,r){for(var i,o=this._pt;o;)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},ED=function(e){for(var t,n,r=this._pt;r;)n=r._next,r.p===e&&!r.op||r.op===e?Gk(this,r,"_pt"):r.dep||(t=1),r=n;return!t},TD=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},AD=function(e){for(var t,n,r,i,o=e._pt;o;){for(t=o._next,n=r;n&&n.pr>o.pr;)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},MD=function(){function e(e,t,n,r,i,o,a,s,l){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||_D,this.d=a||this,this.set=s||pD,this.pr=l||0,this._next=e,e&&(e._prev=this)}return e.prototype.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=TD,this.m=e,this.mt=n,this.tween=t},e}();Ok(Tk+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return yk[e]=1}),lk.TweenMax=lk.TweenLite=dD,lk.TimelineLite=lk.TimelineMax=nD,iI=new nD({sortChildren:!1,defaults:DI,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),PI.stringFilter=zP;var CD=[],OD={},RD=[],ID=0,kD=0,PD=function(e){return(OD[e]||RD).map(function(e){return e()})},DD=function(){var e=Date.now(),t=[];e-ID>2&&(PD("matchMediaInit"),CD.forEach(function(e){var n,r,i,o,a=e.queries,s=e.conditions;for(r in a)(n=oI.matchMedia(a[r]).matches)&&(i=1),n!==s[r]&&(s[r]=n,o=1);o&&(e.revert(),i&&t.push(e))}),PD("matchMediaRevert"),t.forEach(function(e){return e.onMatch(e,function(t){return e.add(null,t)})}),ID=e,PD("matchMedia"))},ND=function(){function e(e,t){this.selector=t&&yP(t),this.data=[],this._r=[],this.isReverted=!1,this.id=kD++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){WI(e)&&(n=t,t=e,e=WI);var r=this,i=function(){var e,i=rI,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=yP(n)),rI=r,e=t.apply(r,arguments),WI(e)&&r._r.push(e),rI=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===WI?i(r,function(e){return r.add(null,e)}):e?r[e]=i:i},t.ignore=function(e){var t=rI;rI=null,e(this),rI=t},t.getTweens=function(){var t=[];return this.data.forEach(function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof dD&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)}),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){for(var t,r=n.getTweens(),i=n.data.length;i--;)"isFlip"===(t=n.data[i]).data&&(t.revert(),t.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}));for(r.map(function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(t){return t.t.revert(e)}),i=n.data.length;i--;)(t=n.data[i])instanceof nD?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof dD)&&t.revert&&t.revert(e);n._r.forEach(function(t){return t(e,n)}),n.isReverted=!0}():this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),t)for(var r=CD.length;r--;)CD[r].id===this.id&&CD.splice(r,1)},t.revert=function(e){this.kill(e||{})},e}(),LD=function(){function e(e){this.contexts=[],this.scope=e,rI&&rI.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){XI(e)||(e={matches:e});var r,i,o,a=new ND(0,n||this.scope),s=a.conditions={};for(i in rI&&!a.selector&&(a.selector=rI.selector),this.contexts.push(a),t=a.add("onMatch",t),a.queries=e,e)"all"===i?o=1:(r=oI.matchMedia(e[i]))&&(CD.indexOf(a)<0&&CD.push(a),(s[i]=r.matches)&&(o=1),r.addListener?r.addListener(DD):r.addEventListener("change",DD));return o&&t(a,function(e){return a.add(null,e)}),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach(function(t){return t.kill(e,!0)})},e}(),FD={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(e){return IP(e)})},timeline:function(e){return new nD(e)},getTweensOf:function(e,t){return iI.getTweensOf(e,t)},getProperty:function(e,t,n,r){HI(e)&&(e=vP(e)[0]);var i=Mk(e||{}).get,o=n?Uk:Fk;return"native"===n&&(n=""),e?t?o((xk[t]&&xk[t].get||i)(e,t,n,r)):function(t,n,r){return o((xk[t]&&xk[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if((e=vP(e)).length>1){var r=e.map(function(e){return zD.quickSetter(e,t,n)}),i=r.length;return function(e){for(var t=i;t--;)r[t](e)}}e=e[0]||{};var o=xk[t],a=Mk(e),s=a.harness&&(a.harness.aliases||{})[t]||t,l=o?function(t){var r=new o;uI._pt=0,r.init(e,n?t+n:t,uI,0,[e]),r.render(1,r),uI._pt&&wD(1,uI)}:a.set(e,s);return o?l:function(t){return l(e,s,n?t+n:t,a,1)}},quickTo:function(e,t,n){var r,i=zD.to(e,Bk(((r={})[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return iI.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=KP(e.ease,DI.ease)),Vk(DI,e||{})},config:function(e){return Vk(PI,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(e){return e&&!xk[e]&&!lk[e]&&fk()}),wk[t]=function(e,t,r){return n(vP(e),Bk(t||{},i),r)},o&&(nD.prototype[t]=function(e,n,r){return this.add(wk[t](e,XI(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){HP[e]=KP(t)},parseEase:function(e,t){return arguments.length?KP(e,t):HP},getById:function(e){return iI.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new nD(e);for(i.smoothChildTiming=YI(e.smoothChildTiming),iI.remove(i),i._dp=0,i._time=i._tTime=iI._time,n=iI._first;n;)r=n._next,!t&&!n._dur&&n instanceof dD&&n.vars.onComplete===n._targets[0]||nP(i,n,n._start-n._delay),n=r;return nP(iI,i,0),i},context:function(e,t){return e?new ND(e,t):rI},matchMedia:function(e){return new LD(e)},matchMediaRefresh:function(){return CD.forEach(function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()})||DD()},addEventListener:function(e,t){var n=OD[e]||(OD[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=OD[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:function e(t,n,r){var i=n-t;return JI(t)?EP(t,e(0,t.length),n):fP(r,function(e){return(i+(e-t)%i)%i+t})},wrapYoyo:function e(t,n,r){var i=n-t,o=2*i;return JI(t)?EP(t,e(0,t.length-1),n):fP(r,function(e){return t+((e=(o+(e-t)%o)%o||0)>i?o-e:e)})},distribute:bP,random:SP,snap:wP,normalize:function(e,t,n){return AP(e,t,0,1,n)},getUnit:pP,clamp:function(e,t,n){return fP(n,function(n){return dP(e,t,n)})},splitColor:NP,toArray:vP,selector:yP,mapRange:AP,pipe:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize:function(e,t){return function(n){return e(parseFloat(n))+(t||pP(n))}},interpolate:function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var a,s,l,c,u,h=HI(t),f={};if(!0===r&&(i=1)&&(r=null),h)t={p:t},n={p:n};else if(JI(t)&&!JI(n)){for(l=[],c=t.length,u=c-2,s=1;s<c;s++)l.push(e(t[s-1],t[s]));c--,o=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},r=n}else i||(t=zk(JI(t)?[]:{},t));if(!l){for(a in n)aD.call(f,t,a,"get",n[a]);o=function(e){return wD(e,f)||(h?t.p:t)}}}return fP(r,o)},shuffle:_P},install:uk,effects:wk,ticker:VP,updateRoot:nD.updateRoot,plugins:xk,globalTimeline:iI,core:{PropTween:MD,globals:dk,Tween:dD,Timeline:nD,Animation:tD,getCache:Mk,_removeLinkedListItem:Gk,reverting:function(){return nI},context:function(e){return e&&rI&&(rI.data.push(e),e._ctx=rI),rI},suppressOverwrites:function(e){return tI=e}}};Ok("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return FD[e]=dD[e]}),VP.add(nD.updateRoot),uI=FD.to({},{duration:0});var UD=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},BD=function(e,t){return{name:e,headless:1,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(HI(n)&&(r={},Ok(n,function(e){return r[e]=1}),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}!function(e,t){var n,r,i,o=e._targets;for(n in t)for(r=o.length;r--;)(i=e._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=UD(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}(e,n)}}}},zD=FD.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,a,s;for(o in this.tween=n,t)s=e.getAttribute(o)||"",(a=this.add(e,"setAttribute",(s||0)+"",t[o],r,i,0,0,o)).op=o,a.b=s,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)nI?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},BD("roundProps",xP),BD("modifiers"),BD("snap",wP))||FD;dD.version=nD.version=zD.version="3.14.2",lI=1,KI()&&jP(),HP.Power0,HP.Power1,HP.Power2,HP.Power3,HP.Power4,HP.Linear,HP.Quad,HP.Cubic,HP.Quart,HP.Quint,HP.Strong,HP.Elastic,HP.Back,HP.SteppedEase,HP.Bounce,HP.Sine,HP.Expo,HP.Circ;var VD,jD,HD,WD,GD,qD,XD,YD,KD={},$D=180/Math.PI,ZD=Math.PI/180,JD=Math.atan2,QD=/([A-Z])/g,eN=/(left|right|width|margin|padding|x)/i,tN=/[\s,\(]\S/,nN={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},rN=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},iN=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},oN=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},aN=function(e,t){return t.set(t.t,t.p,1===e?t.e:e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},sN=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},lN=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},cN=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},uN=function(e,t,n){return e.style[t]=n},hN=function(e,t,n){return e.style.setProperty(t,n)},fN=function(e,t,n){return e._gsap[t]=n},dN=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},pN=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},mN=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},gN="transform",vN=gN+"Origin",yN=function e(t,n){var r=this,i=this.target,o=i.style,a=i._gsap;if(t in KD&&o){if(this.tfm=this.tfm||{},"transform"===t)return nN.transform.split(",").forEach(function(t){return e.call(r,t,n)});if(~(t=nN[t]||t).indexOf(",")?t.split(",").forEach(function(e){return r.tfm[e]=LN(i,e)}):this.tfm[t]=a.x?a[t]:LN(i,t),t===vN&&(this.tfm.zOrigin=a.zOrigin),this.props.indexOf(gN)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(vN,n,"")),t=gN}(o||n)&&this.props.push(t,n,o[t])},_N=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},bN=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?2===n[e+1]?r[n[e]](n[e+2]):r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(QD,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(e=XD())&&e.isStart||i[gN]||(_N(i),o.zOrigin&&i[vN]&&(i[vN]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},xN=function(e,t){var n={target:e,props:[],revert:bN,save:yN};return e._gsap||zD.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(e){return n.save(e)}),n},wN=function(e,t){var n=jD.createElementNS?jD.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):jD.createElement(e);return n&&n.style?n:jD.createElement(e)},SN=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(QD,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,TN(n)||n,1)||""},EN="O,Moz,ms,Ms,Webkit".split(","),TN=function(e,t,n){var r=(t||GD).style,i=5;if(e in r&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);i--&&!(EN[i]+e in r););return i<0?null:(3===i?"ms":i>=0?EN[i]:"")+e},AN=function(){"undefined"!=typeof window&&window.document&&(VD=window,jD=VD.document,HD=jD.documentElement,GD=wN("div")||{style:{}},wN("div"),gN=TN(gN),vN=gN+"Origin",GD.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",YD=!!TN("perspective"),XD=zD.core.reverting,WD=1)},MN=function(e){var t,n=e.ownerSVGElement,r=wN("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0);i.style.display="block",r.appendChild(i),HD.appendChild(r);try{t=i.getBBox()}catch(ame){}return r.removeChild(i),HD.removeChild(r),t},CN=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},ON=function(e){var t,n;try{t=e.getBBox()}catch(r){t=MN(e),n=1}return t&&(t.width||t.height)||n||(t=MN(e)),!t||t.width||t.x||t.y?t:{x:+CN(e,["x","cx","x1"])||0,y:+CN(e,["y","cy","y1"])||0,width:0,height:0}},RN=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!ON(e))},IN=function(e,t){if(t){var n,r=e.style;t in KD&&t!==vN&&(t=gN),r.removeProperty?("ms"!==(n=t.substr(0,2))&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(QD,"-$1").toLowerCase())):r.removeAttribute(t)}},kN=function(e,t,n,r,i,o){var a=new MD(e._pt,t,n,0,1,o?cN:lN);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},PN={deg:1,rad:1,turn:1},DN={grid:1,flex:1},NN=function e(t,n,r,i){var o,a,s,l,c=parseFloat(r)||0,u=(r+"").trim().substr((c+"").length)||"px",h=GD.style,f=eN.test(n),d="svg"===t.tagName.toLowerCase(),p=(d?"client":"offset")+(f?"Width":"Height"),m=100,g="px"===i,v="%"===i;if(i===u||!c||PN[i]||PN[u])return c;if("px"!==u&&!g&&(c=e(t,n,r,"px")),l=t.getCTM&&RN(t),(v||"%"===u)&&(KD[n]||~n.indexOf("adius")))return o=l?t.getBBox()[f?"width":"height"]:t[p],Rk(v?c/o*m:c/100*o);if(h[f?"width":"height"]=m+(g?u:i),a="rem"!==i&&~n.indexOf("adius")||"em"===i&&t.appendChild&&!d?t:t.parentNode,l&&(a=(t.ownerSVGElement||{}).parentNode),a&&a!==jD&&a.appendChild||(a=jD.body),(s=a._gsap)&&v&&s.width&&f&&s.time===VP.time&&!s.uncache)return Rk(c/s.width*m);if(!v||"height"!==n&&"width"!==n)(v||"%"===u)&&!DN[SN(a,"display")]&&(h.position=SN(t,"position")),a===t&&(h.position="static"),a.appendChild(GD),o=GD[p],a.removeChild(GD),h.position="absolute";else{var y=t.style[n];t.style[n]=m+i,o=t[p],y?t.style[n]=y:IN(t,n)}return f&&v&&((s=Mk(a)).time=VP.time,s.width=a[p]),Rk(g?o*c/m:o&&c?m/o*c:0)},LN=function(e,t,n,r){var i;return WD||AN(),t in nN&&"transform"!==t&&~(t=nN[t]).indexOf(",")&&(t=t.split(",")[0]),KD[t]&&"transform"!==t?(i=YN(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:KN(SN(e,vN))+" "+i.zOrigin+"px"):(!(i=e.style[t])||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=VN[t]&&VN[t](e,t,n)||SN(e,t)||Ck(e,t)||("opacity"===t?1:0)),n&&!~(i+"").trim().indexOf(" ")?NN(e,t,i,n)+n:i},FN=function(e,t,n,r){if(!n||"none"===n){var i=TN(t,e,1),o=i&&SN(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=SN(e,"borderTopColor"))}var a,s,l,c,u,h,f,d,p,m,g,v=new MD(this._pt,e.style,t,0,1,xD),y=0,_=0;if(v.b=n,v.e=r,n+="","var(--"===(r+="").substring(0,6)&&(r=SN(e,r.substring(4,r.indexOf(")")))),"auto"===r&&(h=e.style[t],e.style[t]=r,r=SN(e,t)||r,h?e.style[t]=h:IN(e,t)),zP(a=[n,r]),r=a[1],l=(n=a[0]).match(rk)||[],(r.match(rk)||[]).length){for(;s=rk.exec(r);)f=s[0],p=r.substring(y,s.index),u?u=(u+1)%5:"rgba("!==p.substr(-5)&&"hsla("!==p.substr(-5)||(u=1),f!==(h=l[_++]||"")&&(c=parseFloat(h)||0,g=h.substr((c+"").length),"="===f.charAt(1)&&(f=kk(c,f)+g),d=parseFloat(f),m=f.substr((d+"").length),y=rk.lastIndex-m.length,m||(m=m||PI.units[t]||g,y===r.length&&(r+=m,v.e+=m)),g!==m&&(c=NN(e,t,h,m)||0),v._pt={_next:v._pt,p:p||1===_?p:",",s:c,c:d-c,m:u&&u<4||"zIndex"===t?Math.round:0});v.c=y<r.length?r.substring(y,r.length):""}else v.r="display"===t&&"none"===r?cN:lN;return ok.test(r)&&(v.e=0),this._pt=v,v},UN={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},BN=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=UN[n]||n,t[1]=UN[r]||r,t.join(" ")},zN=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,a=o.style,s=t.u,l=o._gsap;if("all"===s||!0===s)a.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],KD[n]&&(r=1,n="transformOrigin"===n?vN:gN),IN(o,n);r&&(IN(o,gN),l&&(l.svg&&o.removeAttribute("transform"),a.scale=a.rotate=a.translate="none",YN(o,1),l.uncache=1,_N(a)))}},VN={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new MD(e._pt,t,n,0,0,zN);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},jN=[1,0,0,1,0,0],HN={},WN=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},GN=function(e){var t=SN(e,gN);return WN(t)?jN:t.substr(7).match(nk).map(Rk)},qN=function(e,t){var n,r,i,o,a=e._gsap||Mk(e),s=e.style,l=GN(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?jN:l:(l!==jN||e.offsetParent||e===HD||a.svg||(i=s.display,s.display="block",(n=e.parentNode)&&(e.offsetParent||e.getBoundingClientRect().width)||(o=1,r=e.nextElementSibling,HD.appendChild(e)),l=GN(e),i?s.display=i:IN(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):HD.removeChild(e))),t&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},XN=function(e,t,n,r,i,o){var a,s,l,c=e._gsap,u=i||qN(e,!0),h=c.xOrigin||0,f=c.yOrigin||0,d=c.xOffset||0,p=c.yOffset||0,m=u[0],g=u[1],v=u[2],y=u[3],_=u[4],b=u[5],x=t.split(" "),w=parseFloat(x[0])||0,S=parseFloat(x[1])||0;n?u!==jN&&(s=m*y-g*v)&&(l=w*(-g/s)+S*(m/s)-(m*b-g*_)/s,w=w*(y/s)+S*(-v/s)+(v*b-y*_)/s,S=l):(w=(a=ON(e)).x+(~x[0].indexOf("%")?w/100*a.width:w),S=a.y+(~(x[1]||x[0]).indexOf("%")?S/100*a.height:S)),r||!1!==r&&c.smooth?(_=w-h,b=S-f,c.xOffset=d+(_*m+b*v)-_,c.yOffset=p+(_*g+b*y)-b):c.xOffset=c.yOffset=0,c.xOrigin=w,c.yOrigin=S,c.smooth=!!r,c.origin=t,c.originIsAbsolute=!!n,e.style[vN]="0px 0px",o&&(kN(o,c,"xOrigin",h,w),kN(o,c,"yOrigin",f,S),kN(o,c,"xOffset",d,c.xOffset),kN(o,c,"yOffset",p,c.yOffset)),e.setAttribute("data-svg-origin",w+" "+S)},YN=function(e,t){var n=e._gsap||new eD(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,a,s,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w,S,E,T,A,M,C,O,R,I,k,P,D,N=e.style,L=n.scaleX<0,F="px",U="deg",B=getComputedStyle(e),z=SN(e,vN)||"0";return r=i=o=l=c=u=h=f=d=0,a=s=1,n.svg=!(!e.getCTM||!RN(e)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(N[gN]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[gN]?B[gN]:"")),N.scale=N.rotate=N.translate="none"),g=qN(e,n.svg),n.svg&&(n.uncache?(M=e.getBBox(),z=n.xOrigin-M.x+"px "+(n.yOrigin-M.y)+"px",A=""):A=!t&&e.getAttribute("data-svg-origin"),XN(e,A||z,!!A||n.originIsAbsolute,!1!==n.smooth,g)),p=n.xOrigin||0,m=n.yOrigin||0,g!==jN&&(b=g[0],x=g[1],w=g[2],S=g[3],r=E=g[4],i=T=g[5],6===g.length?(a=Math.sqrt(b*b+x*x),s=Math.sqrt(S*S+w*w),l=b||x?JD(x,b)*$D:0,(h=w||S?JD(w,S)*$D+l:0)&&(s*=Math.abs(Math.cos(h*ZD))),n.svg&&(r-=p-(p*b+m*w),i-=m-(p*x+m*S))):(D=g[6],k=g[7],O=g[8],R=g[9],I=g[10],P=g[11],r=g[12],i=g[13],o=g[14],c=(v=JD(D,I))*$D,v&&(A=E*(y=Math.cos(-v))+O*(_=Math.sin(-v)),M=T*y+R*_,C=D*y+I*_,O=E*-_+O*y,R=T*-_+R*y,I=D*-_+I*y,P=k*-_+P*y,E=A,T=M,D=C),u=(v=JD(-w,I))*$D,v&&(y=Math.cos(-v),P=S*(_=Math.sin(-v))+P*y,b=A=b*y-O*_,x=M=x*y-R*_,w=C=w*y-I*_),l=(v=JD(x,b))*$D,v&&(A=b*(y=Math.cos(v))+x*(_=Math.sin(v)),M=E*y+T*_,x=x*y-b*_,T=T*y-E*_,b=A,E=M),c&&Math.abs(c)+Math.abs(l)>359.9&&(c=l=0,u=180-u),a=Rk(Math.sqrt(b*b+x*x+w*w)),s=Rk(Math.sqrt(T*T+D*D)),v=JD(E,T),h=Math.abs(v)>2e-4?v*$D:0,d=P?1/(P<0?-P:P):0),n.svg&&(A=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!WN(SN(e,gN)),A&&e.setAttribute("transform",A))),Math.abs(h)>90&&Math.abs(h)<270&&(L?(a*=-1,h+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,h+=h<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+F,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+F,n.z=o+F,n.scaleX=Rk(a),n.scaleY=Rk(s),n.rotation=Rk(l)+U,n.rotationX=Rk(c)+U,n.rotationY=Rk(u)+U,n.skewX=h+U,n.skewY=f+U,n.transformPerspective=d+F,(n.zOrigin=parseFloat(z.split(" ")[2])||!t&&n.zOrigin||0)&&(N[vN]=KN(z)),n.xOffset=n.yOffset=0,n.force3D=PI.force3D,n.renderTransform=n.svg?nL:YD?tL:ZN,n.uncache=0,n},KN=function(e){return(e=e.split(" "))[0]+" "+e[1]},$N=function(e,t,n){var r=pP(t);return Rk(parseFloat(t)+parseFloat(NN(e,"x",n+"px",r)))+r},ZN=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,tL(e,t)},JN="0deg",QN="0px",eL=") ",tL=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,a=n.y,s=n.z,l=n.rotation,c=n.rotationY,u=n.rotationX,h=n.skewX,f=n.skewY,d=n.scaleX,p=n.scaleY,m=n.transformPerspective,g=n.force3D,v=n.target,y=n.zOrigin,_="",b="auto"===g&&e&&1!==e||!0===g;if(y&&(u!==JN||c!==JN)){var x,w=parseFloat(c)*ZD,S=Math.sin(w),E=Math.cos(w);w=parseFloat(u)*ZD,x=Math.cos(w),o=$N(v,o,S*x*-y),a=$N(v,a,-Math.sin(w)*-y),s=$N(v,s,E*x*-y+y)}m!==QN&&(_+="perspective("+m+eL),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(b||o!==QN||a!==QN||s!==QN)&&(_+=s!==QN||b?"translate3d("+o+", "+a+", "+s+") ":"translate("+o+", "+a+eL),l!==JN&&(_+="rotate("+l+eL),c!==JN&&(_+="rotateY("+c+eL),u!==JN&&(_+="rotateX("+u+eL),h===JN&&f===JN||(_+="skew("+h+", "+f+eL),1===d&&1===p||(_+="scale("+d+", "+p+eL),v.style[gN]=_||"translate(0, 0)"},nL=function(e,t){var n,r,i,o,a,s=t||this,l=s.xPercent,c=s.yPercent,u=s.x,h=s.y,f=s.rotation,d=s.skewX,p=s.skewY,m=s.scaleX,g=s.scaleY,v=s.target,y=s.xOrigin,_=s.yOrigin,b=s.xOffset,x=s.yOffset,w=s.forceCSS,S=parseFloat(u),E=parseFloat(h);f=parseFloat(f),d=parseFloat(d),(p=parseFloat(p))&&(d+=p=parseFloat(p),f+=p),f||d?(f*=ZD,d*=ZD,n=Math.cos(f)*m,r=Math.sin(f)*m,i=Math.sin(f-d)*-g,o=Math.cos(f-d)*g,d&&(p*=ZD,a=Math.tan(d-p),i*=a=Math.sqrt(1+a*a),o*=a,p&&(a=Math.tan(p),n*=a=Math.sqrt(1+a*a),r*=a)),n=Rk(n),r=Rk(r),i=Rk(i),o=Rk(o)):(n=m,o=g,r=i=0),(S&&!~(u+"").indexOf("px")||E&&!~(h+"").indexOf("px"))&&(S=NN(v,"x",u,"px"),E=NN(v,"y",h,"px")),(y||_||b||x)&&(S=Rk(S+y-(y*n+_*i)+b),E=Rk(E+_-(y*r+_*o)+x)),(l||c)&&(a=v.getBBox(),S=Rk(S+l/100*a.width),E=Rk(E+c/100*a.height)),a="matrix("+n+","+r+","+i+","+o+","+S+","+E+")",v.setAttribute("transform",a),w&&(v.style[gN]=a)},rL=function(e,t,n,r,i){var o,a,s=360,l=HI(i),c=parseFloat(i)*(l&&~i.indexOf("rad")?$D:1)-r,u=r+c+"deg";return l&&("short"===(o=i.split("_")[1])&&(c%=s)!==c%180&&(c+=c<0?s:-360),"cw"===o&&c<0?c=(c+36e9)%s-~~(c/s)*s:"ccw"===o&&c>0&&(c=(c-36e9)%s-~~(c/s)*s)),e._pt=a=new MD(e._pt,t,n,r,c,iN),a.e=u,a.u="deg",e._props.push(n),a},iL=function(e,t){for(var n in t)e[n]=t[n];return e},oL=function(e,t,n){var r,i,o,a,s,l,c,u=iL({},n._gsap),h=n.style;for(i in u.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),h[gN]=t,r=YN(n,1),IN(n,gN),n.setAttribute("transform",o)):(o=getComputedStyle(n)[gN],h[gN]=t,r=YN(n,1),h[gN]=o),KD)(o=u[i])!==(a=r[i])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(i)<0&&(s=pP(o)!==(c=pP(a))?NN(n,i,o,c):parseFloat(o),l=parseFloat(a),e._pt=new MD(e._pt,r,i,s,l-s,rN),e._pt.u=c||0,e._props.push(i));iL(r,u)};Ok("padding,margin,Width,Radius",function(e,t){var n="Top",r="Right",i="Bottom",o="Left",a=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map(function(n){return t<2?e+n:"border"+n+e});VN[t>1?"border"+e:e]=function(e,t,n,r,i){var o,s;if(arguments.length<4)return o=a.map(function(t){return LN(e,t,n)}),5===(s=o.join(" ")).split(o[0]).length?o[0]:s;o=(r+"").split(" "),s={},a.forEach(function(e,t){return s[e]=o[t]=o[t]||o[(t-1)/2|0]}),e.init(t,s,i)}});var aL,sL,lL,cL={name:"css",register:AN,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,a,s,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w=this._props,S=e.style,E=n.vars.startAt;for(h in WD||AN(),this.styles=this.styles||xN(e),b=this.styles.props,this.tween=n,t)if("autoRound"!==h&&(a=t[h],!xk[h]||!sD(h,t,n,r,e,i)))if(c=typeof a,u=VN[h],"function"===c&&(c=typeof(a=a.call(n,r,e,i))),"string"===c&&~a.indexOf("random(")&&(a=TP(a)),u)u(this,e,h,a,n)&&(_=1);else if("--"===h.substr(0,2))o=(getComputedStyle(e).getPropertyValue(h)+"").trim(),a+="",UP.lastIndex=0,UP.test(o)||(f=pP(o),(d=pP(a))?f!==d&&(o=NN(e,h,o,d)+d):f&&(a+=f)),this.add(S,"setProperty",o,a,r,i,0,0,h),w.push(h),b.push(h,0,S[h]);else if("undefined"!==c){if(E&&h in E?(o="function"==typeof E[h]?E[h].call(n,r,e,i):E[h],HI(o)&&~o.indexOf("random(")&&(o=TP(o)),pP(o+"")||"auto"===o||(o+=PI.units[h]||pP(LN(e,h))||""),"="===(o+"").charAt(1)&&(o=LN(e,h))):o=LN(e,h),l=parseFloat(o),(p="string"===c&&"="===a.charAt(1)&&a.substr(0,2))&&(a=a.substr(2)),s=parseFloat(a),h in nN&&("autoAlpha"===h&&(1===l&&"hidden"===LN(e,"visibility")&&s&&(l=0),b.push("visibility",0,S.visibility),kN(this,S,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==h&&"transform"!==h&&~(h=nN[h]).indexOf(",")&&(h=h.split(",")[0])),m=h in KD){if(this.styles.save(h),x=a,"string"===c&&"var(--"===a.substring(0,6)){if("calc("===(a=SN(e,a.substring(4,a.indexOf(")")))).substring(0,5)){var T=e.style.perspective;e.style.perspective=a,a=SN(e,"perspective"),T?e.style.perspective=T:IN(e,"perspective")}s=parseFloat(a)}if(g||((v=e._gsap).renderTransform&&!t.parseTransform||YN(e,t.parseTransform),y=!1!==t.smoothOrigin&&v.smooth,(g=this._pt=new MD(this._pt,S,gN,0,1,v.renderTransform,v,0,-1)).dep=1),"scale"===h)this._pt=new MD(this._pt,v,"scaleY",v.scaleY,(p?kk(v.scaleY,p+s):s)-v.scaleY||0,rN),this._pt.u=0,w.push("scaleY",h),h+="X";else{if("transformOrigin"===h){b.push(vN,0,S[vN]),a=BN(a),v.svg?XN(e,a,0,y,0,this):((d=parseFloat(a.split(" ")[2])||0)!==v.zOrigin&&kN(this,v,"zOrigin",v.zOrigin,d),kN(this,S,h,KN(o),KN(a)));continue}if("svgOrigin"===h){XN(e,a,1,y,0,this);continue}if(h in HN){rL(this,v,h,l,p?kk(l,p+a):a);continue}if("smoothOrigin"===h){kN(this,v,"smooth",v.smooth,a);continue}if("force3D"===h){v[h]=a;continue}if("transform"===h){oL(this,a,e);continue}}}else h in S||(h=TN(h)||h);if(m||(s||0===s)&&(l||0===l)&&!tN.test(a)&&h in S)s||(s=0),(f=(o+"").substr((l+"").length))!==(d=pP(a)||(h in PI.units?PI.units[h]:f))&&(l=NN(e,h,o,d)),this._pt=new MD(this._pt,m?v:S,h,l,(p?kk(l,p+s):s)-l,m||"px"!==d&&"zIndex"!==h||!1===t.autoRound?rN:sN),this._pt.u=d||0,m&&x!==a?(this._pt.b=o,this._pt.e=x,this._pt.r=aN):f!==d&&"%"!==d&&(this._pt.b=o,this._pt.r=oN);else if(h in S)FN.call(this,e,h,o,p?p+a:a);else if(h in e)this.add(e,h,o||e[h],p?p+a:a,r,i);else if("parseTransform"!==h){hk();continue}m||(h in S?b.push(h,0,S[h]):"function"==typeof e[h]?b.push(h,2,e[h]()):b.push(h,1,o||e[h])),w.push(h)}_&&AD(this)},render:function(e,t){if(t.tween._time||!XD())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:LN,aliases:nN,getSetter:function(e,t,n){var r=nN[t];return r&&r.indexOf(",")<0&&(t=r),t in KD&&t!==vN&&(e._gsap.x||LN(e,"x"))?n&&qD===n?"scale"===t?dN:fN:(qD=n||{})&&("scale"===t?pN:mN):e.style&&!qI(e.style[t])?uN:~t.indexOf("-")?hN:yD(e,t)},core:{_removeProperty:IN,_getMatrix:qN}};zD.utils.checkPrefix=TN,zD.core.getStyleSaver=xN,lL=Ok((aL="x,y,z,scale,scaleX,scaleY,xPercent,yPercent")+","+(sL="rotation,rotationX,rotationY,skewX,skewY")+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){KD[e]=1}),Ok(sL,function(e){PI.units[e]="deg",HN[e]=1}),nN[lL[13]]=aL+","+sL,Ok("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");nN[t[1]]=lL[t[0]]}),Ok("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){PI.units[e]="px"}),zD.registerPlugin(cL);var uL=zD.registerPlugin(cL)||zD;function hL(e,t,n){return t&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}uL.core.Tween;var fL,dL,pL,mL,gL,vL,yL,_L,bL,xL,wL,SL,EL,TL=function(){return fL||"undefined"!=typeof window&&(fL=window.gsap)&&fL.registerPlugin&&fL},AL=1,ML=[],CL=[],OL=[],RL=Date.now,IL=function(e,t){return t},kL=function(e,t){return~OL.indexOf(e)&&OL[OL.indexOf(e)+1][t]},PL=function(e){return!!~xL.indexOf(e)},DL=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!1!==r,capture:!!i})},NL=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},LL="scrollLeft",FL="scrollTop",UL=function(){return wL&&wL.isPressed||CL.cache++},BL=function(e,t){var n=function n(r){if(r||0===r){AL&&(pL.history.scrollRestoration="manual");var i=wL&&wL.isPressed;r=n.v=Math.round(r)||(wL&&wL.iOS?1:0),e(r),n.cacheID=CL.cache,i&&IL("ss",r)}else(t||CL.cache!==n.cacheID||IL("ref"))&&(n.cacheID=CL.cache,n.v=e());return n.v+n.offset};return n.offset=0,e&&n},zL={s:LL,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:BL(function(e){return arguments.length?pL.scrollTo(e,VL.sc()):pL.pageXOffset||mL[LL]||gL[LL]||vL[LL]||0})},VL={s:FL,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:zL,sc:BL(function(e){return arguments.length?pL.scrollTo(zL.sc(),e):pL.pageYOffset||mL[FL]||gL[FL]||vL[FL]||0})},jL=function(e,t){return(t&&t._ctx&&t._ctx.selector||fL.utils.toArray)(e)[0]||("string"==typeof e&&!1!==fL.config().nullTargetWarn?void 0:null)},HL=function(e,t){var n=t.s,r=t.sc;PL(e)&&(e=mL.scrollingElement||gL);var i=CL.indexOf(e),o=r===VL.sc?1:2;!~i&&(i=CL.push(e)-1),CL[i+o]||DL(e,"scroll",UL);var a=CL[i+o],s=a||(CL[i+o]=BL(kL(e,n),!0)||(PL(e)?r:BL(function(t){return arguments.length?e[n]=t:e[n]})));return s.target=e,a||(s.smooth="smooth"===fL.getProperty(e,"scrollBehavior")),s},WL=function(e,t,n){var r=e,i=e,o=RL(),a=o,s=t||50,l=Math.max(500,3*s),c=function(e,t){var l=RL();t||l-o>s?(i=r,r=e,a=o,o=l):n?r+=e:r=i+(e-i)/(l-a)*(o-a)};return{update:c,reset:function(){i=r=n?0:r,a=o=0},getVelocity:function(e){var t=a,s=i,u=RL();return(e||0===e)&&e!==r&&c(e),o===a||u-a>l?0:(r+(n?s:-s))/((n?u:o)-t)*1e3}}},GL=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},qL=function(e){var t=Math.max.apply(Math,e),n=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(n)?t:n},XL=function(){var e,t,n,r;(bL=fL.core.globals().ScrollTrigger)&&bL.core&&(e=bL.core,t=e.bridge||{},n=e._scrollers,r=e._proxies,n.push.apply(n,CL),r.push.apply(r,OL),CL=n,OL=r,IL=function(e,n){return t[e](n)})},YL=function(e){return fL=e||TL(),!dL&&fL&&"undefined"!=typeof document&&document.body&&(pL=window,mL=document,gL=mL.documentElement,vL=mL.body,xL=[pL,mL,gL,vL],fL.utils.clamp,EL=fL.core.context||function(){},_L="onpointerenter"in vL?"pointer":"mouse",yL=KL.isTouch=pL.matchMedia&&pL.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in pL||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,SL=KL.eventTypes=("ontouchstart"in gL?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in gL?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return AL=0},500),XL(),dL=1),dL};zL.op=VL,CL.cache=0;var KL=function(){function e(e){this.init(e)}return e.prototype.init=function(e){dL||YL(fL),bL||XL();var t=e.tolerance,n=e.dragMinimum,r=e.type,i=e.target,o=e.lineHeight,a=e.debounce,s=e.preventDefault,l=e.onStop,c=e.onStopDelay,u=e.ignore,h=e.wheelSpeed,f=e.event,d=e.onDragStart,p=e.onDragEnd,m=e.onDrag,g=e.onPress,v=e.onRelease,y=e.onRight,_=e.onLeft,b=e.onUp,x=e.onDown,w=e.onChangeX,S=e.onChangeY,E=e.onChange,T=e.onToggleX,A=e.onToggleY,M=e.onHover,C=e.onHoverEnd,O=e.onMove,R=e.ignoreCheck,I=e.isNormalizer,k=e.onGestureStart,P=e.onGestureEnd,D=e.onWheel,N=e.onEnable,L=e.onDisable,F=e.onClick,U=e.scrollSpeed,B=e.capture,z=e.allowClicks,V=e.lockAxis,j=e.onLockAxis;this.target=i=jL(i)||gL,this.vars=e,u&&(u=fL.utils.toArray(u)),t=t||1e-9,n=n||0,h=h||1,U=U||1,r=r||"wheel,touch,pointer",a=!1!==a,o||(o=parseFloat(pL.getComputedStyle(vL).lineHeight)||22);var H,W,G,q,X,Y,K,$=this,Z=0,J=0,Q=e.passive||!s&&!1!==e.passive,ee=HL(i,zL),te=HL(i,VL),ne=ee(),re=te(),ie=~r.indexOf("touch")&&!~r.indexOf("pointer")&&"pointerdown"===SL[0],oe=PL(i),ae=i.ownerDocument||mL,se=[0,0,0],le=[0,0,0],ce=0,ue=function(){return ce=RL()},he=function(e,t){return($.event=e)&&u&&function(e,t){for(var n=t.length;n--;)if(t[n]===e||t[n].contains(e))return!0;return!1}(e.target,u)||t&&ie&&"touch"!==e.pointerType||R&&R(e,t)},fe=function(){var e=$.deltaX=qL(se),n=$.deltaY=qL(le),r=Math.abs(e)>=t,i=Math.abs(n)>=t;E&&(r||i)&&E($,e,n,se,le),r&&(y&&$.deltaX>0&&y($),_&&$.deltaX<0&&_($),w&&w($),T&&$.deltaX<0!=Z<0&&T($),Z=$.deltaX,se[0]=se[1]=se[2]=0),i&&(x&&$.deltaY>0&&x($),b&&$.deltaY<0&&b($),S&&S($),A&&$.deltaY<0!=J<0&&A($),J=$.deltaY,le[0]=le[1]=le[2]=0),(q||G)&&(O&&O($),G&&(d&&1===G&&d($),m&&m($),G=0),q=!1),Y&&!(Y=!1)&&j&&j($),X&&(D($),X=!1),H=0},de=function(e,t,n){se[n]+=e,le[n]+=t,$._vx.update(e),$._vy.update(t),a?H||(H=requestAnimationFrame(fe)):fe()},pe=function(e,t){V&&!K&&($.axis=K=Math.abs(e)>Math.abs(t)?"x":"y",Y=!0),"y"!==K&&(se[2]+=e,$._vx.update(e,!0)),"x"!==K&&(le[2]+=t,$._vy.update(t,!0)),a?H||(H=requestAnimationFrame(fe)):fe()},me=function(e){if(!he(e,1)){var t=(e=GL(e,s)).clientX,r=e.clientY,i=t-$.x,o=r-$.y,a=$.isDragging;$.x=t,$.y=r,(a||(i||o)&&(Math.abs($.startX-t)>=n||Math.abs($.startY-r)>=n))&&(G||(G=a?2:1),a||($.isDragging=!0),pe(i,o))}},ge=$.onPress=function(e){he(e,1)||e&&e.button||($.axis=K=null,W.pause(),$.isPressed=!0,e=GL(e),Z=J=0,$.startX=$.x=e.clientX,$.startY=$.y=e.clientY,$._vx.reset(),$._vy.reset(),DL(I?i:ae,SL[1],me,Q,!0),$.deltaX=$.deltaY=0,g&&g($))},ve=$.onRelease=function(e){if(!he(e,1)){NL(I?i:ae,SL[1],me,!0);var t=!isNaN($.y-$.startY),n=$.isDragging,r=n&&(Math.abs($.x-$.startX)>3||Math.abs($.y-$.startY)>3),o=GL(e);!r&&t&&($._vx.reset(),$._vy.reset(),s&&z&&fL.delayedCall(.08,function(){if(RL()-ce>300&&!e.defaultPrevented)if(e.target.click)e.target.click();else if(ae.createEvent){var t=ae.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,pL,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(t)}})),$.isDragging=$.isGesturing=$.isPressed=!1,l&&n&&!I&&W.restart(!0),G&&fe(),p&&n&&p($),v&&v($,r)}},ye=function(e){return e.touches&&e.touches.length>1&&($.isGesturing=!0)&&k(e,$.isDragging)},_e=function(){return($.isGesturing=!1)||P($)},be=function(e){if(!he(e)){var t=ee(),n=te();de((t-ne)*U,(n-re)*U,1),ne=t,re=n,l&&W.restart(!0)}},xe=function(e){if(!he(e)){e=GL(e,s),D&&(X=!0);var t=(1===e.deltaMode?o:2===e.deltaMode?pL.innerHeight:1)*h;de(e.deltaX*t,e.deltaY*t,0),l&&!I&&W.restart(!0)}},we=function(e){if(!he(e)){var t=e.clientX,n=e.clientY,r=t-$.x,i=n-$.y;$.x=t,$.y=n,q=!0,l&&W.restart(!0),(r||i)&&pe(r,i)}},Se=function(e){$.event=e,M($)},Ee=function(e){$.event=e,C($)},Te=function(e){return he(e)||GL(e,s)&&F($)};W=$._dc=fL.delayedCall(c||.25,function(){$._vx.reset(),$._vy.reset(),W.pause(),l&&l($)}).pause(),$.deltaX=$.deltaY=0,$._vx=WL(0,50,!0),$._vy=WL(0,50,!0),$.scrollX=ee,$.scrollY=te,$.isDragging=$.isGesturing=$.isPressed=!1,EL(this),$.enable=function(e){return $.isEnabled||(DL(oe?ae:i,"scroll",UL),r.indexOf("scroll")>=0&&DL(oe?ae:i,"scroll",be,Q,B),r.indexOf("wheel")>=0&&DL(i,"wheel",xe,Q,B),(r.indexOf("touch")>=0&&yL||r.indexOf("pointer")>=0)&&(DL(i,SL[0],ge,Q,B),DL(ae,SL[2],ve),DL(ae,SL[3],ve),z&&DL(i,"click",ue,!0,!0),F&&DL(i,"click",Te),k&&DL(ae,"gesturestart",ye),P&&DL(ae,"gestureend",_e),M&&DL(i,_L+"enter",Se),C&&DL(i,_L+"leave",Ee),O&&DL(i,_L+"move",we)),$.isEnabled=!0,$.isDragging=$.isGesturing=$.isPressed=q=G=!1,$._vx.reset(),$._vy.reset(),ne=ee(),re=te(),e&&e.type&&ge(e),N&&N($)),$},$.disable=function(){$.isEnabled&&(ML.filter(function(e){return e!==$&&PL(e.target)}).length||NL(oe?ae:i,"scroll",UL),$.isPressed&&($._vx.reset(),$._vy.reset(),NL(I?i:ae,SL[1],me,!0)),NL(oe?ae:i,"scroll",be,B),NL(i,"wheel",xe,B),NL(i,SL[0],ge,B),NL(ae,SL[2],ve),NL(ae,SL[3],ve),NL(i,"click",ue,!0),NL(i,"click",Te),NL(ae,"gesturestart",ye),NL(ae,"gestureend",_e),NL(i,_L+"enter",Se),NL(i,_L+"leave",Ee),NL(i,_L+"move",we),$.isEnabled=$.isPressed=$.isDragging=!1,L&&L($))},$.kill=$.revert=function(){$.disable();var e=ML.indexOf($);e>=0&&ML.splice(e,1),wL===$&&(wL=0)},ML.push($),I&&PL(i)&&(wL=$),$.enable(f)},hL(e,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),e}();KL.version="3.14.2",KL.create=function(e){return new KL(e)},KL.register=YL,KL.getAll=function(){return ML.slice()},KL.getById=function(e){return ML.filter(function(t){return t.vars.id===e})[0]},TL()&&fL.registerPlugin(KL);var $L,ZL,JL,QL,eF,tF,nF,rF,iF,oF,aF,sF,lF,cF,uF,hF,fF,dF,pF,mF,gF,vF,yF,_F,bF,xF,wF,SF,EF,TF,AF,MF,CF,OF,RF,IF,kF,PF,DF=1,NF=Date.now,LF=NF(),FF=0,UF=0,BF=function(e,t,n){var r=QF(e)&&("clamp("===e.substr(0,6)||e.indexOf("max")>-1);return n["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},zF=function(e,t){return!t||QF(e)&&"clamp("===e.substr(0,6)?e:"clamp("+e+")"},VF=function e(){return UF&&requestAnimationFrame(e)},jF=function(){return cF=1},HF=function(){return cF=0},WF=function(e){return e},GF=function(e){return Math.round(1e5*e)/1e5||0},qF=function(){return"undefined"!=typeof window},XF=function(){return $L||qF()&&($L=window.gsap)&&$L.registerPlugin&&$L},YF=function(e){return!!~nF.indexOf(e)},KF=function(e){return("Height"===e?AF:JL["inner"+e])||eF["client"+e]||tF["client"+e]},$F=function(e){return kL(e,"getBoundingClientRect")||(YF(e)?function(){return uB.width=JL.innerWidth,uB.height=AF,uB}:function(){return wU(e)})},ZF=function(e,t){var n=t.s,r=t.d2,i=t.d,o=t.a;return Math.max(0,(n="scroll"+r)&&(o=kL(e,n))?o()-$F(e)()[i]:YF(e)?(eF[n]||tF[n])-KF(r):e[n]-e["offset"+r])},JF=function(e,t){for(var n=0;n<pF.length;n+=3)(!t||~t.indexOf(pF[n+1]))&&e(pF[n],pF[n+1],pF[n+2])},QF=function(e){return"string"==typeof e},eU=function(e){return"function"==typeof e},tU=function(e){return"number"==typeof e},nU=function(e){return"object"==typeof e},rU=function(e,t,n){return e&&e.progress(t?0:1)&&n&&e.pause()},iU=function(e,t){if(e.enabled){var n=e._ctx?e._ctx.add(function(){return t(e)}):t(e);n&&n.totalTime&&(e.callbackAnimation=n)}},oU=Math.abs,aU="left",sU="right",lU="bottom",cU="width",uU="height",hU="Right",fU="Left",dU="Top",pU="Bottom",mU="padding",gU="margin",vU="Width",yU="Height",_U="px",bU=function(e){return JL.getComputedStyle(e)},xU=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},wU=function(e,t){var n=t&&"matrix(1, 0, 0, 1, 0, 0)"!==bU(e)[uF]&&$L.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return n&&n.progress(0).kill(),r},SU=function(e,t){var n=t.d2;return e["offset"+n]||e["client"+n]||0},EU=function(e){var t,n=[],r=e.labels,i=e.duration();for(t in r)n.push(r[t]/i);return n},TU=function(e){var t=$L.utils.snap(e),n=Array.isArray(e)&&e.slice(0).sort(function(e,t){return e-t});return n?function(e,r,i){var o;if(void 0===i&&(i=.001),!r)return t(e);if(r>0){for(e-=i,o=0;o<n.length;o++)if(n[o]>=e)return n[o];return n[o-1]}for(o=n.length,e+=i;o--;)if(n[o]<=e)return n[o];return n[0]}:function(n,r,i){void 0===i&&(i=.001);var o=t(n);return!r||Math.abs(o-n)<i||o-n<0==r<0?o:t(r<0?n-e:n+e)}},AU=function(e,t,n,r){return n.split(",").forEach(function(n){return e(t,n,r)})},MU=function(e,t,n,r,i){return e.addEventListener(t,n,{passive:!r,capture:!!i})},CU=function(e,t,n,r){return e.removeEventListener(t,n,!!r)},OU=function(e,t,n){(n=n&&n.wheelHandler)&&(e(t,"wheel",n),e(t,"touchmove",n))},RU={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},IU={toggleActions:"play",anticipatePin:0},kU={top:0,left:0,center:.5,bottom:1,right:1},PU=function(e,t){if(QF(e)){var n=e.indexOf("="),r=~n?+(e.charAt(n-1)+1)*parseFloat(e.substr(n+1)):0;~n&&(e.indexOf("%")>n&&(r*=t/100),e=e.substr(0,n-1)),e=r+(e in kU?kU[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},DU=function(e,t,n,r,i,o,a,s){var l=i.startColor,c=i.endColor,u=i.fontSize,h=i.indent,f=i.fontWeight,d=QL.createElement("div"),p=YF(n)||"fixed"===kL(n,"pinType"),m=-1!==e.indexOf("scroller"),g=p?tF:n,v=-1!==e.indexOf("start"),y=v?l:c,_="border-color:"+y+";font-size:"+u+";color:"+y+";font-weight:"+f+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((m||s)&&p?"fixed;":"absolute;"),(m||s||!p)&&(_+=(r===VL?sU:lU)+":"+(o+parseFloat(h))+"px;"),a&&(_+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),d._isStart=v,d.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),d.style.cssText=_,d.innerText=t||0===t?e+"-"+t:e,g.children[0]?g.insertBefore(d,g.children[0]):g.appendChild(d),d._offset=d["offset"+r.op.d2],NU(d,0,r,v),d},NU=function(e,t,n,r){var i={display:"block"},o=n[r?"os2":"p2"],a=n[r?"p2":"os2"];e._isFlipped=r,i[n.a+"Percent"]=r?-100:0,i[n.a]=r?"1px":0,i["border"+o+vU]=1,i["border"+a+vU]=0,i[n.p]=t+"px",$L.set(e,i)},LU=[],FU={},UU=function(){return NF()-FF>34&&(RF||(RF=requestAnimationFrame(rB)))},BU=function(){(!yF||!yF.isPressed||yF.startX>tF.clientWidth)&&(CL.cache++,yF?RF||(RF=requestAnimationFrame(rB)):rB(),FF||GU("scrollStart"),FF=NF())},zU=function(){xF=JL.innerWidth,bF=JL.innerHeight},VU=function(e){CL.cache++,(!0===e||!lF&&!vF&&!QL.fullscreenElement&&!QL.webkitFullscreenElement&&(!_F||xF!==JL.innerWidth||Math.abs(JL.innerHeight-bF)>.25*JL.innerHeight))&&rF.restart(!0)},jU={},HU=[],WU=function e(){return CU(vB,"scrollEnd",e)||eB(!0)},GU=function(e){return jU[e]&&jU[e].map(function(e){return e()})||HU},qU=[],XU=function(e){for(var t=0;t<qU.length;t+=5)(!e||qU[t+4]&&qU[t+4].query===e)&&(qU[t].style.cssText=qU[t+1],qU[t].getBBox&&qU[t].setAttribute("transform",qU[t+2]||""),qU[t+3].uncache=1)},YU=function(){return CL.forEach(function(e){return eU(e)&&++e.cacheID&&(e.rec=e())})},KU=function(e,t){var n;for(hF=0;hF<LU.length;hF++)!(n=LU[hF])||t&&n._ctx!==t||(e?n.kill(1):n.revert(!0,!0));MF=!0,t&&XU(t),t||GU("revert")},$U=function(e,t){CL.cache++,(t||!IF)&&CL.forEach(function(e){return eU(e)&&e.cacheID++&&(e.rec=0)}),QF(e)&&(JL.history.scrollRestoration=EF=e)},ZU=0,JU=function(){tF.appendChild(TF),AF=!yF&&TF.offsetHeight||JL.innerHeight,tF.removeChild(TF)},QU=function(e){return iF(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},eB=function(e,t){if(eF=QL.documentElement,tF=QL.body,nF=[JL,QL,eF,tF],!FF||e||MF){JU(),IF=vB.isRefreshing=!0,MF||YU();var n=GU("refreshInit");mF&&vB.sort(),t||KU(),CL.forEach(function(e){eU(e)&&(e.smooth&&(e.target.style.scrollBehavior="auto"),e(0))}),LU.slice(0).forEach(function(e){return e.refresh()}),MF=!1,LU.forEach(function(e){if(e._subPinOffset&&e.pin){var t=e.vars.horizontal?"offsetWidth":"offsetHeight",n=e.pin[t];e.revert(!0,1),e.adjustPinSpacing(e.pin[t]-n),e.refresh()}}),CF=1,QU(!0),LU.forEach(function(e){var t=ZF(e.scroller,e._dir),n="max"===e.vars.end||e._endClamp&&e.end>t,r=e._startClamp&&e.start>=t;(n||r)&&e.setPositions(r?t-1:e.start,n?Math.max(r?t:e.start+1,t):e.end,!0)}),QU(!1),CF=0,n.forEach(function(e){return e&&e.render&&e.render(-1)}),CL.forEach(function(e){eU(e)&&(e.smooth&&requestAnimationFrame(function(){return e.target.style.scrollBehavior="smooth"}),e.rec&&e(e.rec))}),$U(EF,1),rF.pause(),ZU++,IF=2,rB(2),LU.forEach(function(e){return eU(e.vars.onRefresh)&&e.vars.onRefresh(e)}),IF=vB.isRefreshing=!1,GU("refresh")}else MU(vB,"scrollEnd",WU)},tB=0,nB=1,rB=function(e){if(2===e||!IF&&!MF){vB.isUpdating=!0,PF&&PF.update(0);var t=LU.length,n=NF(),r=n-LF>=50,i=t&&LU[0].scroll();if(nB=tB>i?-1:1,IF||(tB=i),r&&(FF&&!cF&&n-FF>200&&(FF=0,GU("scrollEnd")),aF=LF,LF=n),nB<0){for(hF=t;hF-- >0;)LU[hF]&&LU[hF].update(0,r);nB=1}else for(hF=0;hF<t;hF++)LU[hF]&&LU[hF].update(0,r);vB.isUpdating=!1}RF=0},iB=[aU,"top",lU,sU,gU+pU,gU+hU,gU+dU,gU+fU,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],oB=iB.concat([cU,uU,"boxSizing","max"+vU,"max"+yU,"position",gU,mU,mU+dU,mU+hU,mU+pU,mU+fU]),aB=function(e,t,n,r){if(!e._gsap.swappedIn){for(var i,o=iB.length,a=t.style,s=e.style;o--;)a[i=iB[o]]=n[i];a.position="absolute"===n.position?"absolute":"relative","inline"===n.display&&(a.display="inline-block"),s[lU]=s[sU]="auto",a.flexBasis=n.flexBasis||"auto",a.overflow="visible",a.boxSizing="border-box",a[cU]=SU(e,zL)+_U,a[uU]=SU(e,VL)+_U,a[mU]=s[gU]=s.top=s[aU]="0",lB(r),s[cU]=s["max"+vU]=n[cU],s[uU]=s["max"+yU]=n[uU],s[mU]=n[mU],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},sB=/([A-Z])/g,lB=function(e){if(e){var t,n,r=e.t.style,i=e.length,o=0;for((e.t._gsap||$L.core.getCache(e.t)).uncache=1;o<i;o+=2)n=e[o+1],t=e[o],n?r[t]=n:r[t]&&r.removeProperty(t.replace(sB,"-$1").toLowerCase())}},cB=function(e){for(var t=oB.length,n=e.style,r=[],i=0;i<t;i++)r.push(oB[i],n[oB[i]]);return r.t=e,r},uB={left:0,top:0},hB=function(e,t,n,r,i,o,a,s,l,c,u,h,f,d){eU(e)&&(e=e(s)),QF(e)&&"max"===e.substr(0,3)&&(e=h+("="===e.charAt(4)?PU("0"+e.substr(3),n):0));var p,m,g,v=f?f.time():0;if(f&&f.seek(0),isNaN(e)||(e=+e),tU(e))f&&(e=$L.utils.mapRange(f.scrollTrigger.start,f.scrollTrigger.end,0,h,e)),a&&NU(a,n,r,!0);else{eU(t)&&(t=t(s));var y,_,b,x,w=(e||"0").split(" ");g=jL(t,s)||tF,(y=wU(g)||{})&&(y.left||y.top)||"none"!==bU(g).display||(x=g.style.display,g.style.display="block",y=wU(g),x?g.style.display=x:g.style.removeProperty("display")),_=PU(w[0],y[r.d]),b=PU(w[1]||"0",n),e=y[r.p]-l[r.p]-c+_+i-b,a&&NU(a,b,r,n-b<20||a._isStart&&b>20),n-=n-b}if(d&&(s[d]=e||-.001,e<0&&(e=0)),o){var S=e+n,E=o._isStart;p="scroll"+r.d2,NU(o,S,r,E&&S>20||!E&&(u?Math.max(tF[p],eF[p]):o.parentNode[p])<=S+1),u&&(l=wU(a),u&&(o.style[r.op.p]=l[r.op.p]-r.op.m-o._offset+_U))}return f&&g&&(p=wU(g),f.seek(h),m=wU(g),f._caScrollDist=p[r.p]-m[r.p],e=e/f._caScrollDist*h),f&&f.seek(v),f?e:Math.round(e)},fB=/(webkit|moz|length|cssText|inset)/i,dB=function(e,t,n,r){if(e.parentNode!==t){var i,o,a=e.style;if(t===tF){for(i in e._stOrig=a.cssText,o=bU(e))+i||fB.test(i)||!o[i]||"string"!=typeof a[i]||"0"===i||(a[i]=o[i]);a.top=n,a.left=r}else a.cssText=e._stOrig;$L.core.getCache(e).uncache=1,t.appendChild(e)}},pB=function(e,t,n){var r=t,i=r;return function(t){var o=Math.round(e());return o!==r&&o!==i&&Math.abs(o-r)>3&&Math.abs(o-i)>3&&(t=o,n&&n()),i=r,r=Math.round(t)}},mB=function(e,t,n){var r={};r[t.p]="+="+n,$L.set(e,r)},gB=function(e,t){var n=HL(e,t),r="_scroll"+t.p2,i=function t(i,o,a,s,l){var c=t.tween,u=o.onComplete,h={};a=a||n();var f=pB(n,a,function(){c.kill(),t.tween=0});return l=s&&l||0,s=s||i-a,c&&c.kill(),o[r]=i,o.inherit=!1,o.modifiers=h,h[r]=function(){return f(a+s*c.ratio+l*c.ratio*c.ratio)},o.onUpdate=function(){CL.cache++,t.tween&&rB()},o.onComplete=function(){t.tween=0,u&&u.call(c)},c=t.tween=$L.to(e,o)};return e[r]=n,n.wheelHandler=function(){return i.tween&&i.tween.kill()&&(i.tween=0)},MU(e,"wheel",n.wheelHandler),vB.isTouch&&MU(e,"touchmove",n.wheelHandler),i},vB=function(){function e(t,n){ZL||e.register($L),SF(this),this.init(t,n)}return e.prototype.init=function(t,n){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),UF){var r,i,o,a,s,l,c,u,h,f,d,p,m,g,v,y,_,b,x,w,S,E,T,A,M,C,O,R,I,k,P,D,N,L,F,U,B,z,V,j,H,W,G=t=xU(QF(t)||tU(t)||t.nodeType?{trigger:t}:t,IU),q=G.onUpdate,X=G.toggleClass,Y=G.id,K=G.onToggle,$=G.onRefresh,Z=G.scrub,J=G.trigger,Q=G.pin,ee=G.pinSpacing,te=G.invalidateOnRefresh,ne=G.anticipatePin,re=G.onScrubComplete,ie=G.onSnapComplete,oe=G.once,ae=G.snap,se=G.pinReparent,le=G.pinSpacer,ce=G.containerAnimation,ue=G.fastScrollEnd,he=G.preventOverlaps,fe=t.horizontal||t.containerAnimation&&!1!==t.horizontal?zL:VL,de=!Z&&0!==Z,pe=jL(t.scroller||JL),me=$L.core.getCache(pe),ge=YF(pe),ve="fixed"===("pinType"in t?t.pinType:kL(pe,"pinType")||ge&&"fixed"),ye=[t.onEnter,t.onLeave,t.onEnterBack,t.onLeaveBack],_e=de&&t.toggleActions.split(" "),be="markers"in t?t.markers:IU.markers,xe=ge?0:parseFloat(bU(pe)["border"+fe.p2+vU])||0,we=this,Se=t.onRefreshInit&&function(){return t.onRefreshInit(we)},Ee=function(e,t,n){var r=n.d,i=n.d2,o=n.a;return(o=kL(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?KF(i):e["client"+i])||0}}(pe,ge,fe),Te=function(e,t){return!t||~OL.indexOf(e)?$F(e):function(){return uB}}(pe,ge),Ae=0,Me=0,Ce=0,Oe=HL(pe,fe);if(we._startClamp=we._endClamp=!1,we._dir=fe,ne*=45,we.scroller=pe,we.scroll=ce?ce.time.bind(ce):Oe,a=Oe(),we.vars=t,n=n||t.animation,"refreshPriority"in t&&(mF=1,-9999===t.refreshPriority&&(PF=we)),me.tweenScroll=me.tweenScroll||{top:gB(pe,VL),left:gB(pe,zL)},we.tweenTo=r=me.tweenScroll[fe.p],we.scrubDuration=function(e){(N=tU(e)&&e)?D?D.duration(e):D=$L.to(n,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:N,paused:!0,onComplete:function(){return re&&re(we)}}):(D&&D.progress(1).kill(),D=0)},n&&(n.vars.lazy=!1,n._initted&&!we.isReverted||!1!==n.vars.immediateRender&&!1!==t.immediateRender&&n.duration()&&n.render(0,!0,!0),we.animation=n.pause(),n.scrollTrigger=we,we.scrubDuration(Z),k=0,Y||(Y=n.vars.id)),ae&&(nU(ae)&&!ae.push||(ae={snapTo:ae}),"scrollBehavior"in tF.style&&$L.set(ge?[tF,eF]:pe,{scrollBehavior:"auto"}),CL.forEach(function(e){return eU(e)&&e.target===(ge?QL.scrollingElement||eF:pe)&&(e.smooth=!1)}),o=eU(ae.snapTo)?ae.snapTo:"labels"===ae.snapTo?function(e){return function(t){return $L.utils.snap(EU(e),t)}}(n):"labelsDirectional"===ae.snapTo?(j=n,function(e,t){return TU(EU(j))(e,t.direction)}):!1!==ae.directional?function(e,t){return TU(ae.snapTo)(e,NF()-Me<500?0:t.direction)}:$L.utils.snap(ae.snapTo),L=ae.duration||{min:.1,max:2},L=nU(L)?oF(L.min,L.max):oF(L,L),F=$L.delayedCall(ae.delay||N/2||.1,function(){var e=Oe(),t=NF()-Me<500,i=r.tween;if(!(t||Math.abs(we.getVelocity())<10)||i||cF||Ae===e)we.isActive&&Ae!==e&&F.restart(!0);else{var a,s,u=(e-l)/g,h=n&&!de?n.totalProgress():u,f=t?0:(h-P)/(NF()-aF)*1e3||0,d=$L.utils.clamp(-u,1-u,oU(f/2)*f/.185),p=u+(!1===ae.inertia?0:d),m=ae,v=m.onStart,y=m.onInterrupt,_=m.onComplete;if(a=o(p,we),tU(a)||(a=p),s=Math.max(0,Math.round(l+a*g)),e<=c&&e>=l&&s!==e){if(i&&!i._initted&&i.data<=oU(s-e))return;!1===ae.inertia&&(d=a-u),r(s,{duration:L(oU(.185*Math.max(oU(p-h),oU(a-h))/f/.05||0)),ease:ae.ease||"power3",data:oU(s-e),onInterrupt:function(){return F.restart(!0)&&y&&y(we)},onComplete:function(){we.update(),Ae=Oe(),n&&!de&&(D?D.resetTo("totalProgress",a,n._tTime/n._tDur):n.progress(a)),k=P=n&&!de?n.totalProgress():we.progress,ie&&ie(we),_&&_(we)}},e,d*g,s-e-d*g),v&&v(we,r.tween)}}}).pause()),Y&&(FU[Y]=we),(V=(J=we.trigger=jL(J||!0!==Q&&Q))&&J._gsap&&J._gsap.stRevert)&&(V=V(we)),Q=!0===Q?J:jL(Q),QF(X)&&(X={targets:J,className:X}),Q&&(!1===ee||ee===gU||(ee=!(!ee&&Q.parentNode&&Q.parentNode.style&&"flex"===bU(Q.parentNode).display)&&mU),we.pin=Q,(i=$L.core.getCache(Q)).spacer?v=i.pinState:(le&&((le=jL(le))&&!le.nodeType&&(le=le.current||le.nativeElement),i.spacerIsNative=!!le,le&&(i.spacerState=cB(le))),i.spacer=b=le||QL.createElement("div"),b.classList.add("pin-spacer"),Y&&b.classList.add("pin-spacer-"+Y),i.pinState=v=cB(Q)),!1!==t.force3D&&$L.set(Q,{force3D:!0}),we.spacer=b=i.spacer,I=bU(Q),A=I[ee+fe.os2],w=$L.getProperty(Q),S=$L.quickSetter(Q,fe.a,_U),aB(Q,b,I),_=cB(Q)),be){p=nU(be)?xU(be,RU):RU,f=DU("scroller-start",Y,pe,fe,p,0),d=DU("scroller-end",Y,pe,fe,p,0,f),x=f["offset"+fe.op.d2];var Re=jL(kL(pe,"content")||pe);u=this.markerStart=DU("start",Y,Re,fe,p,x,0,ce),h=this.markerEnd=DU("end",Y,Re,fe,p,x,0,ce),ce&&(z=$L.quickSetter([u,h],fe.a,_U)),ve||OL.length&&!0===kL(pe,"fixedMarkers")||(W=bU(H=ge?tF:pe).position,H.style.position="absolute"===W||"fixed"===W?W:"relative",$L.set([f,d],{force3D:!0}),C=$L.quickSetter(f,fe.a,_U),R=$L.quickSetter(d,fe.a,_U))}if(ce){var Ie=ce.vars.onUpdate,ke=ce.vars.onUpdateParams;ce.eventCallback("onUpdate",function(){we.update(0,0,1),Ie&&Ie.apply(ce,ke||[])})}if(we.previous=function(){return LU[LU.indexOf(we)-1]},we.next=function(){return LU[LU.indexOf(we)+1]},we.revert=function(e,t){if(!t)return we.kill(!0);var r=!1!==e||!we.enabled,i=lF;r!==we.isReverted&&(r&&(U=Math.max(Oe(),we.scroll.rec||0),Ce=we.progress,B=n&&n.progress()),u&&[u,h,f,d].forEach(function(e){return e.style.display=r?"none":"block"}),r&&(lF=we,we.update(r)),!Q||se&&we.isActive||(r?function(e,t,n){lB(n);var r=e._gsap;if(r.spacerIsNative)lB(r.spacerState);else if(e._gsap.swappedIn){var i=t.parentNode;i&&(i.insertBefore(e,t),i.removeChild(t))}e._gsap.swappedIn=!1}(Q,b,v):aB(Q,b,bU(Q),M)),r||we.update(r),lF=i,we.isReverted=r)},we.refresh=function(i,o,p,x){if(!lF&&we.enabled||o)if(Q&&i&&FF)MU(e,"scrollEnd",WU);else{!IF&&Se&&Se(we),lF=we,r.tween&&!p&&(r.tween.kill(),r.tween=0),D&&D.pause(),te&&n&&(n.revert({kill:!1}).invalidate(),n.getChildren?n.getChildren(!0,!0,!1).forEach(function(e){return e.vars.immediateRender&&e.render(0,!0,!0)}):n.vars.immediateRender&&n.render(0,!0,!0)),we.isReverted||we.revert(!0,!0),we._subPinOffset=!1;var S,A,C,R,I,k,P,N,L,z,V,j,H,W=Ee(),G=Te(),q=ce?ce.duration():ZF(pe,fe),X=g<=.01||!g,Y=0,K=x||0,Z=nU(p)?p.end:t.end,ne=t.endTrigger||J,re=nU(p)?p.start:t.start||(0!==t.start&&J?Q?"0 0":"0 100%":0),ie=we.pinnedContainer=t.pinnedContainer&&jL(t.pinnedContainer,we),oe=J&&Math.max(0,LU.indexOf(we))||0,ae=oe;for(be&&nU(p)&&(j=$L.getProperty(f,fe.p),H=$L.getProperty(d,fe.p));ae-- >0;)(k=LU[ae]).end||k.refresh(0,1)||(lF=we),!(P=k.pin)||P!==J&&P!==Q&&P!==ie||k.isReverted||(z||(z=[]),z.unshift(k),k.revert(!0,!0)),k!==LU[ae]&&(oe--,ae--);for(eU(re)&&(re=re(we)),re=BF(re,"start",we),l=hB(re,J,W,fe,Oe(),u,f,we,G,xe,ve,q,ce,we._startClamp&&"_startClamp")||(Q?-.001:0),eU(Z)&&(Z=Z(we)),QF(Z)&&!Z.indexOf("+=")&&(~Z.indexOf(" ")?Z=(QF(re)?re.split(" ")[0]:"")+Z:(Y=PU(Z.substr(2),W),Z=QF(re)?re:(ce?$L.utils.mapRange(0,ce.duration(),ce.scrollTrigger.start,ce.scrollTrigger.end,l):l)+Y,ne=J)),Z=BF(Z,"end",we),c=Math.max(l,hB(Z||(ne?"100% 0":q),ne,W,fe,Oe()+Y,h,d,we,G,xe,ve,q,ce,we._endClamp&&"_endClamp"))||-.001,Y=0,ae=oe;ae--;)(P=(k=LU[ae]||{}).pin)&&k.start-k._pinPush<=l&&!ce&&k.end>0&&(S=k.end-(we._startClamp?Math.max(0,k.start):k.start),(P===J&&k.start-k._pinPush<l||P===ie)&&isNaN(re)&&(Y+=S*(1-k.progress)),P===Q&&(K+=S));if(l+=Y,c+=Y,we._startClamp&&(we._startClamp+=Y),we._endClamp&&!IF&&(we._endClamp=c||-.001,c=Math.min(c,ZF(pe,fe))),g=c-l||(l-=.01)&&.001,X&&(Ce=$L.utils.clamp(0,1,$L.utils.normalize(l,c,U))),we._pinPush=K,u&&Y&&((S={})[fe.a]="+="+Y,ie&&(S[fe.p]="-="+Oe()),$L.set([u,h],S)),!Q||CF&&we.end>=ZF(pe,fe)){if(J&&Oe()&&!ce)for(A=J.parentNode;A&&A!==tF;)A._pinOffset&&(l-=A._pinOffset,c-=A._pinOffset),A=A.parentNode}else S=bU(Q),R=fe===VL,C=Oe(),E=parseFloat(w(fe.a))+K,!q&&c>1&&(V={style:V=(ge?QL.scrollingElement||eF:pe).style,value:V["overflow"+fe.a.toUpperCase()]},ge&&"scroll"!==bU(tF)["overflow"+fe.a.toUpperCase()]&&(V.style["overflow"+fe.a.toUpperCase()]="scroll")),aB(Q,b,S),_=cB(Q),A=wU(Q,!0),N=ve&&HL(pe,R?zL:VL)(),ee?((M=[ee+fe.os2,g+K+_U]).t=b,(ae=ee===mU?SU(Q,fe)+g+K:0)&&(M.push(fe.d,ae+_U),"auto"!==b.style.flexBasis&&(b.style.flexBasis=ae+_U)),lB(M),ie&&LU.forEach(function(e){e.pin===ie&&!1!==e.vars.pinSpacing&&(e._subPinOffset=!0)}),ve&&Oe(U)):(ae=SU(Q,fe))&&"auto"!==b.style.flexBasis&&(b.style.flexBasis=ae+_U),ve&&((I={top:A.top+(R?C-l:N)+_U,left:A.left+(R?N:C-l)+_U,boxSizing:"border-box",position:"fixed"})[cU]=I["max"+vU]=Math.ceil(A.width)+_U,I[uU]=I["max"+yU]=Math.ceil(A.height)+_U,I[gU]=I[gU+dU]=I[gU+hU]=I[gU+pU]=I[gU+fU]="0",I[mU]=S[mU],I[mU+dU]=S[mU+dU],I[mU+hU]=S[mU+hU],I[mU+pU]=S[mU+pU],I[mU+fU]=S[mU+fU],y=function(e,t,n){for(var r,i=[],o=e.length,a=n?8:0;a<o;a+=2)r=e[a],i.push(r,r in t?t[r]:e[a+1]);return i.t=e.t,i}(v,I,se),IF&&Oe(0)),n?(L=n._initted,gF(1),n.render(n.duration(),!0,!0),T=w(fe.a)-E+g+K,O=Math.abs(g-T)>1,ve&&O&&y.splice(y.length-2,2),n.render(0,!0,!0),L||n.invalidate(!0),n.parent||n.totalTime(n.totalTime()),gF(0)):T=g,V&&(V.value?V.style["overflow"+fe.a.toUpperCase()]=V.value:V.style.removeProperty("overflow-"+fe.a));z&&z.forEach(function(e){return e.revert(!1,!0)}),we.start=l,we.end=c,a=s=IF?U:Oe(),ce||IF||(a<U&&Oe(U),we.scroll.rec=0),we.revert(!1,!0),Me=NF(),F&&(Ae=-1,F.restart(!0)),lF=0,n&&de&&(n._initted||B)&&n.progress()!==B&&n.progress(B||0,!0).render(n.time(),!0,!0),(X||Ce!==we.progress||ce||te||n&&!n._initted)&&(n&&!de&&(n._initted||Ce||!1!==n.vars.immediateRender)&&n.totalProgress(ce&&l<-.001&&!Ce?$L.utils.normalize(l,c,0):Ce,!0),we.progress=X||(a-l)/g===Ce?0:Ce),Q&&ee&&(b._pinOffset=Math.round(we.progress*T)),D&&D.invalidate(),isNaN(j)||(j-=$L.getProperty(f,fe.p),H-=$L.getProperty(d,fe.p),mB(f,fe,j),mB(u,fe,j-(x||0)),mB(d,fe,H),mB(h,fe,H-(x||0))),X&&!IF&&we.update(),!$||IF||m||(m=!0,$(we),m=!1)}},we.getVelocity=function(){return(Oe()-s)/(NF()-aF)*1e3||0},we.endAnimation=function(){rU(we.callbackAnimation),n&&(D?D.progress(1):n.paused()?de||rU(n,we.direction<0,1):rU(n,n.reversed()))},we.labelToScroll=function(e){return n&&n.labels&&(l||we.refresh()||l)+n.labels[e]/n.duration()*g||0},we.getTrailing=function(e){var t=LU.indexOf(we),n=we.direction>0?LU.slice(0,t).reverse():LU.slice(t+1);return(QF(e)?n.filter(function(t){return t.vars.preventOverlaps===e}):n).filter(function(e){return we.direction>0?e.end<=l:e.start>=c})},we.update=function(e,t,i){if(!ce||i||e){var o,u,h,d,p,m,v,x=!0===IF?U:we.scroll(),w=e?0:(x-l)/g,M=w<0?0:w>1?1:w||0,I=we.progress;if(t&&(s=a,a=ce?Oe():x,ae&&(P=k,k=n&&!de?n.totalProgress():M)),ne&&Q&&!lF&&!DF&&FF&&(!M&&l<x+(x-s)/(NF()-aF)*ne?M=1e-4:1===M&&c>x+(x-s)/(NF()-aF)*ne&&(M=.9999)),M!==I&&we.enabled){if(d=(p=(o=we.isActive=!!M&&M<1)!==(!!I&&I<1))||!!M!=!!I,we.direction=M>I?1:-1,we.progress=M,d&&!lF&&(u=M&&!I?0:1===M?1:1===I?2:3,de&&(h=!p&&"none"!==_e[u+1]&&_e[u+1]||_e[u],v=n&&("complete"===h||"reset"===h||h in n))),he&&(p||v)&&(v||Z||!n)&&(eU(he)?he(we):we.getTrailing(he).forEach(function(e){return e.endAnimation()})),de||(!D||lF||DF?n&&n.totalProgress(M,!(!lF||!Me&&!e)):(D._dp._time-D._start!==D._time&&D.render(D._dp._time-D._start),D.resetTo?D.resetTo("totalProgress",M,n._tTime/n._tDur):(D.vars.totalProgress=M,D.invalidate().restart()))),Q)if(e&&ee&&(b.style[ee+fe.os2]=A),ve){if(d){if(m=!e&&M>I&&c+1>x&&x+1>=ZF(pe,fe),se)if(e||!o&&!m)dB(Q,b);else{var N=wU(Q,!0),L=x-l;dB(Q,tF,N.top+(fe===VL?L:0)+_U,N.left+(fe===VL?0:L)+_U)}lB(o||m?y:_),O&&M<1&&o||S(E+(1!==M||m?0:T))}}else S(GF(E+T*M));ae&&!r.tween&&!lF&&!DF&&F.restart(!0),X&&(p||oe&&M&&(M<1||!OF))&&iF(X.targets).forEach(function(e){return e.classList[o||oe?"add":"remove"](X.className)}),q&&!de&&!e&&q(we),d&&!lF?(de&&(v&&("complete"===h?n.pause().totalProgress(1):"reset"===h?n.restart(!0).pause():"restart"===h?n.restart(!0):n[h]()),q&&q(we)),!p&&OF||(K&&p&&iU(we,K),ye[u]&&iU(we,ye[u]),oe&&(1===M?we.kill(!1,1):ye[u]=0),p||ye[u=1===M?1:3]&&iU(we,ye[u])),ue&&!o&&Math.abs(we.getVelocity())>(tU(ue)?ue:2500)&&(rU(we.callbackAnimation),D?D.progress(1):rU(n,"reverse"===h?1:!M,1))):de&&q&&!lF&&q(we)}if(R){var B=ce?x/ce.duration()*(ce._caScrollDist||0):x;C(B+(f._isFlipped?1:0)),R(B)}z&&z(-x/ce.duration()*(ce._caScrollDist||0))}},we.enable=function(t,n){we.enabled||(we.enabled=!0,MU(pe,"resize",VU),ge||MU(pe,"scroll",BU),Se&&MU(e,"refreshInit",Se),!1!==t&&(we.progress=Ce=0,a=s=Ae=Oe()),!1!==n&&we.refresh())},we.getTween=function(e){return e&&r?r.tween:D},we.setPositions=function(e,t,n,r){if(ce){var i=ce.scrollTrigger,o=ce.duration(),a=i.end-i.start;e=i.start+a*e/o,t=i.start+a*t/o}we.refresh(!1,!1,{start:zF(e,n&&!!we._startClamp),end:zF(t,n&&!!we._endClamp)},r),we.update()},we.adjustPinSpacing=function(e){if(M&&e){var t=M.indexOf(fe.d)+1;M[t]=parseFloat(M[t])+e+_U,M[1]=parseFloat(M[1])+e+_U,lB(M)}},we.disable=function(t,n){if(!1!==t&&we.revert(!0,!0),we.enabled&&(we.enabled=we.isActive=!1,n||D&&D.pause(),U=0,i&&(i.uncache=1),Se&&CU(e,"refreshInit",Se),F&&(F.pause(),r.tween&&r.tween.kill()&&(r.tween=0)),!ge)){for(var o=LU.length;o--;)if(LU[o].scroller===pe&&LU[o]!==we)return;CU(pe,"resize",VU),ge||CU(pe,"scroll",BU)}},we.kill=function(e,r){we.disable(e,r),D&&!r&&D.kill(),Y&&delete FU[Y];var o=LU.indexOf(we);o>=0&&LU.splice(o,1),o===hF&&nB>0&&hF--,o=0,LU.forEach(function(e){return e.scroller===we.scroller&&(o=1)}),o||IF||(we.scroll.rec=0),n&&(n.scrollTrigger=null,e&&n.revert({kill:!1}),r||n.kill()),u&&[u,h,f,d].forEach(function(e){return e.parentNode&&e.parentNode.removeChild(e)}),PF===we&&(PF=0),Q&&(i&&(i.uncache=1),o=0,LU.forEach(function(e){return e.pin===Q&&o++}),o||(i.spacer=0)),t.onKill&&t.onKill(we)},LU.push(we),we.enable(!1,!1),V&&V(we),n&&n.add&&!g){var Pe=we.update;we.update=function(){we.update=Pe,CL.cache++,l||c||we.refresh()},$L.delayedCall(.01,we.update),g=.01,l=c=0}else we.refresh();Q&&function(){if(kF!==ZU){var e=kF=ZU;requestAnimationFrame(function(){return e===ZU&&eB(!0)})}}()}else this.update=this.refresh=this.kill=WF},e.register=function(t){return ZL||($L=t||XF(),qF()&&window.document&&e.enable(),ZL=UF),ZL},e.defaults=function(e){if(e)for(var t in e)IU[t]=e[t];return IU},e.disable=function(e,t){UF=0,LU.forEach(function(n){return n[t?"kill":"disable"](e)}),CU(JL,"wheel",BU),CU(QL,"scroll",BU),clearInterval(sF),CU(QL,"touchcancel",WF),CU(tF,"touchstart",WF),AU(CU,QL,"pointerdown,touchstart,mousedown",jF),AU(CU,QL,"pointerup,touchend,mouseup",HF),rF.kill(),JF(CU);for(var n=0;n<CL.length;n+=3)OU(CU,CL[n],CL[n+1]),OU(CU,CL[n],CL[n+2])},e.enable=function(){if(JL=window,QL=document,eF=QL.documentElement,tF=QL.body,$L&&(iF=$L.utils.toArray,oF=$L.utils.clamp,SF=$L.core.context||WF,gF=$L.core.suppressOverwrites||WF,EF=JL.history.scrollRestoration||"auto",tB=JL.pageYOffset||0,$L.core.globals("ScrollTrigger",e),tF)){UF=1,(TF=document.createElement("div")).style.height="100vh",TF.style.position="absolute",JU(),VF(),KL.register($L),e.isTouch=KL.isTouch,wF=KL.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),_F=1===KL.isTouch,MU(JL,"wheel",BU),nF=[JL,QL,eF,tF],$L.matchMedia&&(e.matchMedia=function(e){var t,n=$L.matchMedia();for(t in e)n.add(t,e[t]);return n},$L.addEventListener("matchMediaInit",function(){YU(),KU()}),$L.addEventListener("matchMediaRevert",function(){return XU()}),$L.addEventListener("matchMedia",function(){eB(0,1),GU("matchMedia")}),$L.matchMedia().add("(orientation: portrait)",function(){return zU(),zU})),zU(),MU(QL,"scroll",BU);var t,n,r=tF.hasAttribute("style"),i=tF.style,o=i.borderTopStyle,a=$L.core.Animation.prototype;for(a.revert||Object.defineProperty(a,"revert",{value:function(){return this.time(-.01,!0)}}),i.borderTopStyle="solid",t=wU(tF),VL.m=Math.round(t.top+VL.sc())||0,zL.m=Math.round(t.left+zL.sc())||0,o?i.borderTopStyle=o:i.removeProperty("border-top-style"),r||(tF.setAttribute("style",""),tF.removeAttribute("style")),sF=setInterval(UU,250),$L.delayedCall(.5,function(){return DF=0}),MU(QL,"touchcancel",WF),MU(tF,"touchstart",WF),AU(MU,QL,"pointerdown,touchstart,mousedown",jF),AU(MU,QL,"pointerup,touchend,mouseup",HF),uF=$L.utils.checkPrefix("transform"),oB.push(uF),ZL=NF(),rF=$L.delayedCall(.2,eB).pause(),pF=[QL,"visibilitychange",function(){var e=JL.innerWidth,t=JL.innerHeight;QL.hidden?(fF=e,dF=t):fF===e&&dF===t||VU()},QL,"DOMContentLoaded",eB,JL,"load",eB,JL,"resize",VU],JF(MU),LU.forEach(function(e){return e.enable(0,1)}),n=0;n<CL.length;n+=3)OU(CU,CL[n],CL[n+1]),OU(CU,CL[n],CL[n+2])}},e.config=function(t){"limitCallbacks"in t&&(OF=!!t.limitCallbacks);var n=t.syncInterval;n&&clearInterval(sF)||(sF=n)&&setInterval(UU,n),"ignoreMobileResize"in t&&(_F=1===e.isTouch&&t.ignoreMobileResize),"autoRefreshEvents"in t&&(JF(CU)||JF(MU,t.autoRefreshEvents||"none"),vF=-1===(t.autoRefreshEvents+"").indexOf("resize"))},e.scrollerProxy=function(e,t){var n=jL(e),r=CL.indexOf(n),i=YF(n);~r&&CL.splice(r,i?6:2),t&&(i?OL.unshift(JL,t,tF,t,eF,t):OL.unshift(n,t))},e.clearMatchMedia=function(e){LU.forEach(function(t){return t._ctx&&t._ctx.query===e&&t._ctx.kill(!0,!0)})},e.isInViewport=function(e,t,n){var r=(QF(e)?jL(e):e).getBoundingClientRect(),i=r[n?cU:uU]*t||0;return n?r.right-i>0&&r.left+i<JL.innerWidth:r.bottom-i>0&&r.top+i<JL.innerHeight},e.positionInViewport=function(e,t,n){QF(e)&&(e=jL(e));var r=e.getBoundingClientRect(),i=r[n?cU:uU],o=null==t?i/2:t in kU?kU[t]*i:~t.indexOf("%")?parseFloat(t)*i/100:parseFloat(t)||0;return n?(r.left+o)/JL.innerWidth:(r.top+o)/JL.innerHeight},e.killAll=function(e){if(LU.slice(0).forEach(function(e){return"ScrollSmoother"!==e.vars.id&&e.kill()}),!0!==e){var t=jU.killAll||[];jU={},t.forEach(function(e){return e()})}},e}();vB.version="3.14.2",vB.saveStyles=function(e){return e?iF(e).forEach(function(e){if(e&&e.style){var t=qU.indexOf(e);t>=0&&qU.splice(t,5),qU.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),$L.core.getCache(e),SF())}}):qU},vB.revert=function(e,t){return KU(!e,t)},vB.create=function(e,t){return new vB(e,t)},vB.refresh=function(e){return e?VU(!0):(ZL||vB.register())&&eB(!0)},vB.update=function(e){return++CL.cache&&rB(!0===e?2:0)},vB.clearScrollMemory=$U,vB.maxScroll=function(e,t){return ZF(e,t?zL:VL)},vB.getScrollFunc=function(e,t){return HL(jL(e),t?zL:VL)},vB.getById=function(e){return FU[e]},vB.getAll=function(){return LU.filter(function(e){return"ScrollSmoother"!==e.vars.id})},vB.isScrolling=function(){return!!FF},vB.snapDirectional=TU,vB.addEventListener=function(e,t){var n=jU[e]||(jU[e]=[]);~n.indexOf(t)||n.push(t)},vB.removeEventListener=function(e,t){var n=jU[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},vB.batch=function(e,t){var n,r=[],i={},o=t.interval||.016,a=t.batchMax||1e9,s=function(e,t){var n=[],r=[],i=$L.delayedCall(o,function(){t(n,r),n=[],r=[]}).pause();return function(e){n.length||i.restart(!0),n.push(e.trigger),r.push(e),a<=n.length&&i.progress(1)}};for(n in t)i[n]="on"===n.substr(0,2)&&eU(t[n])&&"onRefreshInit"!==n?s(0,t[n]):t[n];return eU(a)&&(a=a(),MU(vB,"refresh",function(){return a=t.batchMax()})),iF(e).forEach(function(e){var t={};for(n in i)t[n]=i[n];t.trigger=e,r.push(vB.create(t))}),r};var yB,_B=function(e,t,n,r){return t>r?e(r):t<0&&e(0),n>r?(r-t)/(n-t):n<0?t/(t-n):1},bB=function e(t,n){!0===n?t.style.removeProperty("touch-action"):t.style.touchAction=!0===n?"auto":n?"pan-"+n+(KL.isTouch?" pinch-zoom":""):"none",t===eF&&e(tF,n)},xB={auto:1,scroll:1},wB=function(e){var t,n=e.event,r=e.target,i=e.axis,o=(n.changedTouches?n.changedTouches[0]:n).target,a=o._gsap||$L.core.getCache(o),s=NF();if(!a._isScrollT||s-a._isScrollT>2e3){for(;o&&o!==tF&&(o.scrollHeight<=o.clientHeight&&o.scrollWidth<=o.clientWidth||!xB[(t=bU(o)).overflowY]&&!xB[t.overflowX]);)o=o.parentNode;a._isScroll=o&&o!==r&&!YF(o)&&(xB[(t=bU(o)).overflowY]||xB[t.overflowX]),a._isScrollT=s}(a._isScroll||"x"===i)&&(n.stopPropagation(),n._gsapAllow=!0)},SB=function(e,t,n,r){return KL.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&wB,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return n&&MU(QL,KL.eventTypes[0],TB,!1,!0)},onDisable:function(){return CU(QL,KL.eventTypes[0],TB,!0)}})},EB=/(input|label|select|textarea)/i,TB=function(e){var t=EB.test(e.target.tagName);(t||yB)&&(e._gsapAllow=!0,yB=t)},AB=function(e){nU(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t,n,r,i,o,a,s,l,c=e,u=c.normalizeScrollX,h=c.momentum,f=c.allowNestedScroll,d=c.onRelease,p=jL(e.target)||eF,m=$L.core.globals().ScrollSmoother,g=m&&m.get(),v=wF&&(e.content&&jL(e.content)||g&&!1!==e.content&&!g.smooth()&&g.content()),y=HL(p,VL),_=HL(p,zL),b=1,x=(KL.isTouch&&JL.visualViewport?JL.visualViewport.scale*JL.visualViewport.width:JL.outerWidth)/JL.innerWidth,w=0,S=eU(h)?function(){return h(t)}:function(){return h||2.8},E=SB(p,e.type,!0,f),T=function(){return i=!1},A=WF,M=WF,C=function(){n=ZF(p,VL),M=oF(wF?1:0,n),u&&(A=oF(0,ZF(p,zL))),r=ZU},O=function(){v._gsap.y=GF(parseFloat(v._gsap.y)+y.offset)+"px",v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(v._gsap.y)+", 0, 1)",y.offset=y.cacheID=0},R=function(){C(),o.isActive()&&o.vars.scrollY>n&&(y()>n?o.progress(1)&&y(n):o.resetTo("scrollY",n))};return v&&$L.set(v,{y:"+=0"}),e.ignoreCheck=function(e){return wF&&"touchmove"===e.type&&function(){if(i){requestAnimationFrame(T);var e=GF(t.deltaY/2),n=M(y.v-e);if(v&&n!==y.v+y.offset){y.offset=n-y.v;var r=GF((parseFloat(v&&v._gsap.y)||0)-y.offset);v.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+r+", 0, 1)",v._gsap.y=r+"px",y.cacheID=CL.cache,rB()}return!0}y.offset&&O(),i=!0}()||b>1.05&&"touchstart"!==e.type||t.isGesturing||e.touches&&e.touches.length>1},e.onPress=function(){i=!1;var e=b;b=GF((JL.visualViewport&&JL.visualViewport.scale||1)/x),o.pause(),e!==b&&bB(p,b>1.01||!u&&"x"),a=_(),s=y(),C(),r=ZU},e.onRelease=e.onGestureStart=function(e,t){if(y.offset&&O(),t){CL.cache++;var r,i,a=S();u&&(i=(r=_())+.05*a*-e.velocityX/.227,a*=_B(_,r,i,ZF(p,zL)),o.vars.scrollX=A(i)),i=(r=y())+.05*a*-e.velocityY/.227,a*=_B(y,r,i,ZF(p,VL)),o.vars.scrollY=M(i),o.invalidate().duration(a).play(.01),(wF&&o.vars.scrollY>=n||r>=n-1)&&$L.to({},{onUpdate:R,duration:a})}else l.restart(!0);d&&d(e)},e.onWheel=function(){o._ts&&o.pause(),NF()-w>1e3&&(r=0,w=NF())},e.onChange=function(e,t,n,i,o){if(ZU!==r&&C(),t&&u&&_(A(i[2]===t?a+(e.startX-e.x):_()+t-i[1])),n){y.offset&&O();var l=o[2]===n,c=l?s+e.startY-e.y:y()+n-o[1],h=M(c);l&&c!==h&&(s+=h-c),y(h)}(n||t)&&rB()},e.onEnable=function(){bB(p,!u&&"x"),vB.addEventListener("refresh",R),MU(JL,"resize",R),y.smooth&&(y.target.style.scrollBehavior="auto",y.smooth=_.smooth=!1),E.enable()},e.onDisable=function(){bB(p,!0),CU(JL,"resize",R),vB.removeEventListener("refresh",R),E.kill()},e.lockAxis=!1!==e.lockAxis,(t=new KL(e)).iOS=wF,wF&&!y()&&y(1),wF&&$L.ticker.add(WF),l=t._dc,o=$L.to(t,{ease:"power4",paused:!0,inherit:!1,scrollX:u?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:pB(y,y(),function(){return o.pause()})},onUpdate:rB,onComplete:l.vars.onComplete}),t};function MB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function CB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?MB(Object(n),!0).forEach(function(t){OB(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function OB(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}vB.sort=function(e){if(eU(e))return LU.sort(e);var t=JL.pageYOffset||0;return vB.getAll().forEach(function(e){return e._sortY=e.trigger?t+e.trigger.getBoundingClientRect().top:e.start+JL.innerHeight}),LU.sort(e||function(e,t){return-1e6*(e.vars.refreshPriority||0)+(e.vars.containerAnimation?1e6:e._sortY)-((t.vars.containerAnimation?1e6:t._sortY)+-1e6*(t.vars.refreshPriority||0))})},vB.observe=function(e){return new KL(e)},vB.normalizeScroll=function(e){if(void 0===e)return yF;if(!0===e&&yF)return yF.enable();if(!1===e)return yF&&yF.kill(),void(yF=e);var t=e instanceof KL?e:AB(e);return yF&&yF.target===t.target&&yF.kill(),YF(t.target)&&(yF=t),t},vB.core={_getVelocityProp:WL,_inputObserver:SB,_scrollers:CL,_proxies:OL,bridge:{ss:function(){FF||GU("scrollStart"),FF=NF()},ref:function(){return lF}}},XF()&&$L.registerPlugin(vB);var RB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;this.fps=t,this.handler=e;var n=0;this.start=function(){var e=this;if(!this.started){var t=performance.now(),r=1e3/this.fps;n=requestAnimationFrame(function i(o){var a=o-t;n=requestAnimationFrame(i),a>=r-0&&(e.handler(a),t=o-a%r)}),this.started=!0}},this.stop=function(){cancelAnimationFrame(n),this.started=!1}},IB=function(e){return[Math.cos(PB(e-90)),Math.sin(PB(e-90))]},kB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(n,e))},PB=function(e){return e*Math.PI/180},DB=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.random();return t<=e?n=e:(0!==e||1!==t)&&t>e&&(n=n*(t-e)+e),n},NB=function(e){return e[Math.floor(DB(0,e.length))]},LB=function(){var e=UB(DB(0,360)),t=UB(DB(90,100)),n=UB(DB(45,85));return"hsl(".concat(e,",").concat(t,"%,").concat(n,"%)")},FB=function(e){return e>DB()},UB=function(e){return.5+e|0},BB=function(e){return e&&(this.canvas=e.canvas,this.settings=e.settings,this.colors=e.colors,this.shapes=e.shapes,this.images=e.images,this.styles=e.styles,this.ctx=e.canvas.getContext("2d"),this.setup(),this.init()),this};BB.prototype.setup=function(){var e=this.settings;this.frame=0,this.frameoffset=UB(DB(0,360)),this.size=UB(DB(e.minSize,e.maxSize)),this.da=this.getAlphaDelta(),this.dx=this.getDeltaX(),this.dy=this.getDeltaY(),this.dd=this.getDriftDelta(),this.dr=this.getRotationDelta(),this.color=this.getColor(),this.shape=this.getShape(),this.image=this.getImage(),this.style=this.getStyle(),this.rotation=e.rotate?PB(DB(0,360)):0,this.vertical=e.direction>150&&e.direction<210||e.direction>330&&e.direction<390||e.direction>-30&&e.direction<30,this.horizontal=e.direction>60&&e.direction<120||e.direction>240&&e.direction<300},BB.prototype.init=function(){var e=this.settings,t=this.canvas;this.alpha=0,(e.speed>0||0===e.alphaSpeed)&&(this.alpha=DB(e.minAlpha,e.maxAlpha)),e.bounce?(this.px=UB(DB(2,t.width-this.size-2)),this.py=UB(DB(2,t.height-this.size-2))):(this.px=UB(DB(2*-this.size,t.width+this.size)),this.py=UB(DB(2*-this.size,t.height+this.size)))},BB.prototype.reset=function(){this.setup(),this.py<0?this.py=this.canvas.height+2*this.size:this.py>this.canvas.height&&(this.py=0-2*this.size),this.px<0?this.px=this.canvas.width+2*this.size:this.px>this.canvas.width&&(this.px=0-2*this.size)},BB.prototype.bounce=function(){this.settings.direction,(this.py<=0||this.py+this.size>=this.canvas.height)&&(this.dy=-this.dy,this.horizontal&&(this.dd=-this.dd)),(this.px<=0||this.px+this.size>=this.canvas.width)&&(this.dx=-this.dx,this.vertical&&(this.dd=-this.dd))},BB.prototype.isOffCanvas=function(){var e=0-2*this.size,t=this.canvas.height+2*this.size,n=this.canvas.width+2*this.size;return this.px<e||this.px>n||this.py<e||this.py>t},BB.prototype.isTouchingEdge=function(){var e=this.canvas.height-this.size,t=this.canvas.width-this.size;return this.px<0||this.px>t||this.py<0||this.py>e},BB.prototype.getColor=function(){return"random"===this.settings.color?NB(this.colors):Array.isArray(this.settings.color)?NB(this.settings.color):this.settings.color},BB.prototype.getShape=function(){return"random"===this.settings.shape?NB(this.shapes):Array.isArray(this.settings.shape)?NB(this.settings.shape):this.settings.shape},BB.prototype.getImage=function(){return Array.isArray(this.settings.imageUrl)?NB(this.settings.imageUrl):this.settings.imageUrl},BB.prototype.getStyle=function(){return NB(this.styles)},BB.prototype.getDelta=function(){var e=.1*this.settings.speed;return this.settings.speed&&this.settings.parallax?e+this.size*this.settings.parallax/50:e},BB.prototype.getDeltaVariance=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.settings.speed||10;return e>0?DB(-e,e)*t/100:0},BB.prototype.getDeltaX=function(){var e=this.getDelta(),t=this.getDeltaVariance(this.settings.xVariance);return IB(this.settings.direction)[0]*e+t},BB.prototype.getDeltaY=function(){var e=this.getDelta(),t=this.getDeltaVariance(this.settings.yVariance);return IB(this.settings.direction)[1]*e+t},BB.prototype.getAlphaDelta=function(){var e=this.settings.alphaVariance,t=DB(1,e+1);return FB(.5)&&(t=-t),t},BB.prototype.getDriftDelta=function(){return this.settings.drift?DB(this.settings.drift-this.settings.drift/2,this.settings.drift+this.settings.drift/2):0},BB.prototype.getRotationDelta=function(){var e=0;return this.settings.rotate&&this.settings.rotation&&(e=PB(DB(.5,1.5)*this.settings.rotation),FB(.5)&&(e=-e)),e},BB.prototype.update=function(){return this.frame+=1,this.updatePosition(),this.updateAlpha(),this},BB.prototype.updateAlpha=function(){return this.settings.alphaSpeed>0&&(this.settings.twinkle?this.alpha=this.updateTwinkle():this.alpha=this.updateFade()),this.alpha},BB.prototype.updateFade=function(){var e=this.da/1e3*this.settings.alphaSpeed*.5,t=this.alpha+e,n=this.da>0&&t>this.settings.maxAlpha,r=this.da<0&&t<this.settings.minAlpha;return(n||r)&&(this.da=-this.da,t=this.settings.maxAlpha,r&&(t=this.settings.minAlpha)),t},BB.prototype.updateTwinkle=function(){var e=this.alpha,t=Math.abs(this.da),n=e>this.settings.maxAlpha,r=e<this.settings.minAlpha,i=t/1e3*this.settings.alphaSpeed*.5,o=FB(1/30),a=FB(1/30);return this.resettingTwinkle?e+=5*i:o?e+=50*i:e-=a?25*i:i,r?(this.resettingTwinkle=!0,e=this.settings.minAlpha):n&&(this.resettingTwinkle=!1,e=this.settings.maxAlpha),e},BB.prototype.updatePosition=function(){if(this.settings.bounce&&this.isTouchingEdge())this.bounce();else if(this.isOffCanvas())return void this.reset();this.px+=this.dx,this.py+=this.dy,this.updateDrift(),this.updateRotation()},BB.prototype.updateRotation=function(){this.settings.rotate&&this.settings.rotation&&(this.rotation+=this.dr)},BB.prototype.updateDrift=function(){var e=this.settings;e.direction,e.drift&&e.speed&&(this.vertical?this.px+=IB(this.frame+this.frameoffset)[0]*this.dd/(15*this.getDelta()):this.horizontal&&(this.py+=IB(this.frame+this.frameoffset)[1]*this.dd/(15*this.getDelta())))},BB.prototype.render=function(e){var t,n=(t="image"!==this.shape?e[this.color][this.shape][this.style]:e[this.color][this.shape][this.image]).width,r=this.size/n,i=this.px/r,o=this.py/r;return this.ctx.globalAlpha=kB(this.alpha,0,1),this.renderRotate(),this.ctx.transform(r,0,0,r,0,0),this.ctx.drawImage(t,0,0,n,n,i,o,n,n),this.ctx.setTransform(1,0,0,1,0,0),this},BB.prototype.renderRotate=function(){if("circle"!==this.shape&&this.settings.rotate){var e=this.px+this.size/2,t=this.py+this.size/2;this.ctx.translate(e,t),this.ctx.rotate(this.rotation),this.ctx.translate(-e,-t)}};var zB=function(e,t,n,r){arguments.length>=1&&!(arguments[0]instanceof HTMLElement)&&(t=arguments[0],n=arguments[1],r=arguments[2],e=void 0),n&&!r&&(r=n);var i={alphaSpeed:10,alphaVariance:1,bounce:!1,color:"random",randomColor:LB,randomColorCount:3,composition:"source-over",count:50,direction:180,drift:1,glow:0,imageUrl:"",maxAlpha:1,maxSize:10,minAlpha:0,minSize:1,parallax:1,rotate:!0,rotation:1,shape:"circle",speed:10,style:"fill",twinkle:!1,xVariance:2,yVariance:2};return this.el=e||document.body,this.settings=CB(CB({},i),t),this.resizable=!n&&!r,this.width=this.resizable?this.el.clientWidth:n,this.height=this.resizable?this.el.clientHeight:r,this.init=function(){var e=this;return this.sparticles=[],this.colors=this.getColorArray(),this.shapes=this.getShapeArray(),this.styles=this.getStyleArray(),this.imageUrls=this.getImageArray(),this.setupMainCanvas(),this.setupOffscreenCanvasses(function(){e.createSparticles(),e.start()}),window.addEventListener("resize",this),this},this.handleEvent=function(e){var t=this;"resize"===e.type&&(clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){t.resizable&&(t.width=t.el.clientWidth,t.height=t.el.clientHeight,t.setCanvasSize().resetSparticles())},200))},this.start=function(){var e=this;return this.loop||(this.loop=new RB(function(t){e.drawFrame(t)})),this.loop.start(),this},this.stop=function(){return this.loop.stop(),this},this.destroy=function(){for(var e in this.stop(),this.el.removeChild(this.canvas),window.removeEventListener("resize",this),this)this.hasOwnProperty(e)&&delete this[e];return this},this.setCanvasSize=function(e,t){return e&&(this.resizable=!1),this.width=e||this.width,this.height=t||this.height,this.canvas.width=this.width,this.canvas.height=this.height,this},this.resetSparticles=this.createSparticles=function(){this.sparticles=[],this.ctx.globalCompositeOperation=this.settings.composition;for(var e=0;e<this.settings.count;e++)this.sparticles.push(new BB(this,e));return this.sort(),this.sparticles},this.sort=function(){this.settings.parallax&&this.sparticles.sort(function(e,t){return e.size-t.size})},this.init()};zB.prototype.getColorArray=function(){var e=Array.isArray(this.settings.color)?this.settings.color:[this.settings.color],t=e.some(function(e){return"random"===e});if(t)for(var n=0;n<this.settings.randomColorCount;n++)e[n]=this.settings.randomColor(n,this.settings.randomColorCount);return e},zB.prototype.getShapeArray=function(){var e=Array.isArray(this.settings.shape)?this.settings.shape:[this.settings.shape],t=e.some(function(e){return"random"===e});return t&&(e=["square","circle","triangle"]),e},zB.prototype.getImageArray=function(){return Array.isArray(this.settings.imageUrl)?this.settings.imageUrl:[this.settings.imageUrl]},zB.prototype.getStyleArray=function(){var e=this.settings.style;return e="fill"!==e&&"stroke"!==e?["fill","stroke"]:[e]},zB.prototype.setupMainCanvas=function(){return this.canvas=document.createElement("canvas"),this.canvas.setAttribute("class","sparticles"),this.ctx=this.canvas.getContext("2d"),this.setCanvasSize(),this.el.appendChild(this.canvas),this.canvas},zB.prototype.setupOffscreenCanvasses=function(e){var t=this,n=this.colors.filter(function(e,n){return t.colors.indexOf(e)===n}),r=this.shapes.filter(function(e,n){return t.shapes.indexOf(e)===n}),i=this.styles.filter(function(e,n){return t.styles.indexOf(e)===n}),o=this.imageUrls.filter(function(e,n){return t.imageUrls.indexOf(e)===n}),a=n.length*o.length,s=n.length*r.length*i.length,l=0,c=0;this.canvasses=this.canvasses||{},n.forEach(function(n){t.canvasses[n]=t.canvasses[n]||{},r.forEach(function(r){t.canvasses[n][r]=t.canvasses[n][r]||{},"image"===r?o.forEach(function(i,o){var s=new Image,c=document.createElement("canvas");t.canvasses[n][r][i]=c,s.onload=function(){l++,t.drawOffscreenCanvasForImage(s,n,c),e&&l===a&&e()},s.onerror=function(){},s.src=i}):i.forEach(function(i){var o=document.createElement("canvas");t.canvasses[n][r][i]=o,c++,t.drawOffscreenCanvas(r,i,n,o),e&&c===s&&e()})})})},zB.prototype.getGlowSize=function(e){return this.settings.glow},zB.prototype.getLineSize=function(e){return kB(e/20,1,5)},zB.prototype.getOffscreenCanvasSize=function(){return kB(this.settings.maxSize,this.settings.minSize,this.settings.maxSize)},zB.prototype.renderStyle=function(e,t,n,r){"fill"===r?e.fillStyle=t:(e.lineWidth=n,e.strokeStyle=t)},zB.prototype.renderGlow=function(e,t,n){var r=this.getGlowSize(n)/2;e.shadowColor=t,e.shadowBlur=r},zB.prototype.renderColor=function(e,t,n){"fill"===t?n?e.fill(n):e.fill():n?e.stroke(n):e.stroke()},zB.prototype.drawOffscreenCanvas=function(e,t,n,r){return this.offScreenCanvas[e].call(this,t,n,r)},zB.prototype.offScreenCanvas={},zB.prototype.offScreenCanvas.circle=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),a=i+2*o+this.getGlowSize(i),s="stroke"===e?i-o:i;return n.width=a,n.height=a,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.ellipse(a/2,a/2,s/2,s/2,0,0,360),this.renderColor(r,e),n},zB.prototype.offScreenCanvas.square=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),a=i+2*o+this.getGlowSize(i),s="stroke"===e?i-o:i;return n.width=a,n.height=a,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.rect(a/2-s/2,a/2-s/2,s,s),this.renderColor(r,e),n},zB.prototype.offScreenCanvas.line=function(e,t,n){var r=n.getContext("2d"),i=1.5*this.getOffscreenCanvasSize(),o=this.getLineSize(i),a=i+2*o+this.getGlowSize(i),s=a/2-i/2,l=a/2-i/2;return n.width=a,n.height=a,this.renderGlow(r,t,i),r.lineWidth=o,r.strokeStyle=t,r.beginPath(),r.moveTo(s,l),r.lineTo(s+i,l+i),r.stroke(),r.closePath(),n},zB.prototype.offScreenCanvas.triangle=function(e,t,n){var r=n.getContext("2d"),i=this.getOffscreenCanvasSize(),o=this.getLineSize(i),a=i+2*o+this.getGlowSize(i),s="stroke"===e?i-o:i,l=s*(Math.sqrt(3)/2),c=a/2,u=a/2-s/2;return n.width=a,n.height=a,this.renderGlow(r,t,i),this.renderStyle(r,t,o,e),r.beginPath(),r.moveTo(c,u),r.lineTo(c-s/2,u+l),r.lineTo(c+s/2,u+l),r.closePath(),this.renderColor(r,e),n},zB.prototype.offScreenCanvas.diamond=function(e,t,n){var r=new Path2D("M43,83.74,48.63,99a1.46,1.46,0,0,0,2.74,0L57,83.74A45.09,45.09,0,0,1,83.74,57L99,51.37a1.46,1.46,0,0,0,0-2.74L83.74,43A45.11,45.11,0,0,1,57,16.26L51.37,1a1.46,1.46,0,0,0-2.74,0L43,16.26A45.11,45.11,0,0,1,16.26,43L1,48.63a1.46,1.46,0,0,0,0,2.74L16.26,57A45.09,45.09,0,0,1,43,83.74Z"),i=n.getContext("2d"),o=this.getOffscreenCanvasSize(),a=this.getLineSize(o),s=this.getGlowSize(o),l=o+2*a+s,c=l/(1.1*(100+s));return n.width=l,n.height=l,this.renderGlow(i,t,o),this.renderStyle(i,t,a/c,e),i.scale(c,c),i.translate(5+.5*s,5+.5*s),this.renderColor(i,e,r),n},zB.prototype.offScreenCanvas.star=function(e,t,n){var r=new Path2D("M99.86,36.45a2.94,2.94,0,0,0-2.37-2l-31-4.54L52.63,1.64a2.93,2.93,0,0,0-5.26,0L33.51,29.91l-31,4.54a3,3,0,0,0-2.37,2,3,3,0,0,0,.74,3l22.44,22L18,92.55A2.94,2.94,0,0,0,20.91,96a2.86,2.86,0,0,0,1.36-.34L50,81,77.73,95.66a2.91,2.91,0,0,0,3.08-.22A3,3,0,0,0,82,92.55l-5.3-31.07,22.44-22A3,3,0,0,0,99.86,36.45Z"),i=n.getContext("2d"),o=this.getOffscreenCanvasSize(),a=this.getLineSize(o),s=this.getGlowSize(o),l=o+2*a+s,c=l/(1.1*(100+s));return n.width=l,n.height=l,i.scale(c,c),this.renderGlow(i,t,o),this.renderStyle(i,t,a/c,e),i.translate(5+.5*s,5+.5*s),this.renderColor(i,e,r),n},zB.prototype.drawOffscreenCanvasForImage=function(e,t,n){var r=e.width,i=n.getContext("2d");return n.width=r,n.height=r,i.drawImage(e,0,0,r,r,0,0,r,r),i.globalCompositeOperation="source-atop",i.fillStyle=t,i.fillRect(0,0,r,r),n},zB.prototype.drawFrame=function(){this.ctx.clearRect(0,0,this.width,this.height);for(var e=0;e<this.sparticles.length;e++){this.sparticles[e].update().render(this.canvasses)}return this.sort(),this.sparticles};var VB=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}}),Back:Object.freeze({In:function(e){var t=1.70158;return 1===e?1:e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return 0===e?0:--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}}),Bounce:Object.freeze({In:function(e){return 1-VB.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*VB.Bounce.In(2*e):.5*VB.Bounce.Out(2*e-1)+.5}}),generatePow:function(e){return void 0===e&&(e=4),e=(e=e<Number.EPSILON?Number.EPSILON:e)>1e4?1e4:e,{In:function(t){return Math.pow(t,e)},Out:function(t){return 1-Math.pow(1-t,e)},InOut:function(t){return t<.5?Math.pow(2*t,e)/2:(1-Math.pow(2-2*t,e))/2+.5}}}}),jB=function(){return performance.now()},HB=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=jB()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],o=!t;i&&!1===i.update(e,o)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),WB={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),o=WB.Utils.Linear;return t<0?o(e[0],e[1],r):t>1?o(e[n],e[n-1],n-r):o(e[i],e[i+1>n?n:i+1],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e}}},GB=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),qB=new HB,XB=function(){function e(e,t){void 0===t&&(t=qB),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=VB.Linear.None,this._interpolationFunction=WB.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=GB.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(e,t){if(void 0===t&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(e){return void 0===e&&(e=1e3),this._duration=e<0?0:e,this},e.prototype.dynamic=function(e){return void 0===e&&(e=!1),this._isDynamic=e,this},e.prototype.start=function(e,t){if(void 0===e&&(e=jB()),void 0===t&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var n in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var i in this._valuesEnd)r[i]=this._valuesEnd[i];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},e.prototype._setupProperties=function(e,t,n,r,i){for(var o in n){var a=e[o],s=Array.isArray(a),l=s?"array":typeof a,c=!s&&Array.isArray(n[o]);if("undefined"!==l&&"function"!==l){if(c){if(0===(g=n[o]).length)continue;for(var u=[a],h=0,f=g.length;h<f;h+=1){var d=this._handleRelativeValue(a,g[h]);if(isNaN(d)){c=!1;break}u.push(d)}c&&(n[o]=u)}if("object"!==l&&!s||!a||c)(void 0===t[o]||i)&&(t[o]=a),s||(t[o]*=1),r[o]=c?n[o].slice().reverse():t[o]||0;else{t[o]=s?[]:{};var p=a;for(var m in p)t[o][m]=p[m];r[o]=s?[]:{};var g=n[o];if(!this._isDynamic){var v={};for(var m in g)v[m]=g[m];n[o]=g=v}this._setupProperties(p,t[o],g,r[o],i)}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=jB()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=jB()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return void 0===e&&(e=qB),this._group=e,this},e.prototype.delay=function(e){return void 0===e&&(e=0),this._delayTime=e,this},e.prototype.repeat=function(e){return void 0===e&&(e=0),this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return void 0===e&&(e=!1),this._yoyo=e,this},e.prototype.easing=function(e){return void 0===e&&(e=VB.Linear.None),this._easingFunction=e,this},e.prototype.interpolation=function(e){return void 0===e&&(e=WB.Linear),this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){var n;if(void 0===e&&(e=jB()),void 0===t&&(t=!0),this._isPaused)return!0;var r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>r)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),!1===this._onEveryStartCallbackFired&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var i=e-this._startTime,o=this._duration+(null!==(n=this._repeatDelayTime)&&void 0!==n?n:this._delayTime),a=this._duration+this._repeat*o,s=this._calculateElapsedPortion(i,o,a),l=this._easingFunction(s),c=this._calculateCompletionStatus(i,o);if("repeat"===c&&this._processRepetition(i,o),this._updateProperties(this._object,this._valuesStart,this._valuesEnd,l),"about-to-repeat"===c&&this._processRepetition(i,o),this._onUpdateCallback&&this._onUpdateCallback(this._object,s),"repeat"===c||"about-to-repeat"===c)this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1;else if("completed"===c){this._isPlaying=!1,this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,h=this._chainedTweens.length;u<h;u++)this._chainedTweens[u].start(this._startTime+this._duration,!1)}return"completed"!==c},e.prototype._calculateElapsedPortion=function(e,t,n){if(0===this._duration||e>n)return 1;var r=e%t,i=Math.min(r/this._duration,1);return 0===i&&0!==e&&e%this._duration===0?1:i},e.prototype._calculateCompletionStatus=function(e,t){return 0!==this._duration&&e<this._duration?"playing":this._repeat<=0?"completed":e===this._duration?"about-to-repeat":"repeat"},e.prototype._processRepetition=function(e,t){var n=Math.min(Math.trunc((e-this._duration)/t)+1,this._repeat);for(var r in isFinite(this._repeat)&&(this._repeat-=n),this._valuesStartRepeat){var i=this._valuesEnd[r];this._yoyo||"string"!=typeof i||(this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i)),this._yoyo&&this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}this._yoyo&&(this._reversed=!this._reversed),this._startTime+=t*n},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var o=t[i]||0,a=n[i],s=Array.isArray(e[i]),l=Array.isArray(a);!s&&l?e[i]=this._interpolationFunction(a,r):"object"==typeof a&&a?this._updateProperties(e[i],o,a,r):"number"==typeof(a=this._handleRelativeValue(o,a))&&(e[i]=o+(a-o)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!=typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"==typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}();GB.nextId;var YB=qB;YB.getAll.bind(YB);var KB=YB.removeAll.bind(YB);YB.add.bind(YB),YB.remove.bind(YB);var $B=YB.update.bind(YB);class ZB extends Ad{constructor(e){super(),this.element=e,this.element.style.position="absolute",this.element.style.pointerEvents="auto",this.addEventListener("removed",()=>{this.traverse(e=>{e instanceof ZB&&e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)})})}copy(e,t){return Ad.prototype.copy.call(this,e,t),this.element=e.element.cloneNode(!0),this}}class JB extends ZB{constructor(e,t=1){super(e),this.spriteRatio=t,this.spriteMatrixWorld=(new Qf).copy(this.matrixWorld)}}class QB extends Dh{zOrder(e){const{cache:t}=this,n=[];e.traverse(e=>{const r=e;t.objects.has(r)&&n.push({object:r,data:t.objects.get(r)})});const r=n.sort((e,t)=>e.data.distanceToCameraSquared-t.data.distanceToCameraSquared),i=r.length;r.forEach((e,t)=>{const{object:n}=e;n.element.style.zIndex="".concat(i-t)})}constructor(){super(),this._width=0,this._height=0,this._widthHalf=0,this._heightHalf=0,this.matrix=new Qf,this._spriteQuat=new wf,this._objectQuat=new wf,this.cache={camera:{fov:0,style:""},objects:new WeakMap},this.epsilon=e=>Math.abs(e)<1e-10?0:e,this.getDistanceToSquared=function(){const e=new Sf,t=new Sf;return function(n,r){return e.setFromMatrixPosition(n.matrixWorld),t.setFromMatrixPosition(r.matrixWorld),e.distanceToSquared(t)}}(),this.getCameraCSSMatrix=(e,t,n)=>{const{epsilon:r}=this,{elements:i}=e,o="matrix3d(".concat(r(i[0]),",").concat(r(-i[1]),",").concat(r(i[2]),",").concat(r(i[3]),",").concat(r(i[4]),",").concat(r(-i[5]),",").concat(r(i[6]),",").concat(r(i[7]),",").concat(r(i[8]),",").concat(r(-i[9]),",").concat(r(i[10]),",").concat(r(i[11]),",").concat(r(i[12]),",").concat(r(-i[13]),",").concat(r(i[14]),",").concat(r(i[15]),")");if(t instanceof pm){const e=-(t.right+t.left)/2,i=(t.top+t.bottom)/2;return"scale(".concat(n,")translate(").concat(r(e),"px,").concat(r(i),"px)").concat(o)}return"translateZ(".concat(n,"px)").concat(o)},this.getObjectCSSMatrix=(e,t)=>{const{epsilon:n}=this,{elements:r}=e,i="matrix3d(".concat(n(r[0]),",").concat(n(r[1]),",").concat(n(r[2]),",").concat(n(r[3]),",").concat(n(-r[4]),",").concat(n(-r[5]),",").concat(n(-r[6]),",").concat(n(-r[7]),",").concat(n(r[8]),",").concat(n(r[9]),",").concat(n(r[10]),",").concat(n(r[11]),",").concat(n(r[12]),",").concat(n(r[13]),",").concat(n(r[14]),",").concat(n(r[15]),")");return this.isIE?"translate(-50%,-50%)translate(".concat(this._widthHalf,"px,").concat(this._heightHalf,"px)").concat(t).concat(i):"translate(-50%,-50%)".concat(i)},this.renderObject=(e,t,n,r)=>{const{matrix:i,getObjectCSSMatrix:o,cache:a,cameraElement:s,renderObject:l,isIE:c,getDistanceToSquared:u}=this;if(e instanceof ZB){let l;e.onBeforeRender(this,t,n),e instanceof JB?(i.copy(n.matrixWorldInverse),i.transpose(),this._spriteQuat.setFromRotationMatrix(i),this._objectQuat.setFromRotationMatrix(e.matrixWorld),this._objectQuat.slerp(this._spriteQuat,e.spriteRatio),i.makeRotationFromQuaternion(this._objectQuat),i.copyPosition(e.matrixWorld),i.scale(e.scale),i.elements[3]=0,i.elements[7]=0,i.elements[11]=0,i.elements[15]=1,e.spriteMatrixWorld.copy(i),l=o(i,r)):l=o(e.matrixWorld,r);const{element:h}=e,f=a.objects.get(e);if(void 0===f||f.style!==l){h.style.transform=l;const t={style:l};a.objects.set(e,t),c&&(t.distanceToCameraSquared=u(n,e))}h.style.display=e.visible?"":"none",h.parentNode!==s&&s.appendChild(h),e.onAfterRender(this,t,n)}for(let h=0,f=e.children.length;h<f;h++)l(e.children[h],t,n,r)};const e=document.createElement("div");this.domElement=e,e.style.overflow="hidden";const t=document.createElement("div");this.cameraElement=t,t.style.transformStyle="preserve-3d",e.appendChild(t),this.isIE=/Trident/i.test(navigator.userAgent)}setClearColor(){}getSize(){return{width:this._width,height:this._height}}setSize(e,t){this._width=e,this._height=t,this._widthHalf=this._width/2,this._heightHalf=this._height/2,this.domElement.style.width="".concat(e,"px"),this.domElement.style.height="".concat(t,"px"),this.cameraElement.style.width="".concat(e,"px"),this.cameraElement.style.height="".concat(t,"px")}render(e,t){const{_heightHalf:n,_widthHalf:r,isIE:i,cameraElement:o,cache:a,domElement:s,getCameraCSSMatrix:l,zOrder:c,renderObject:u}=this,h=t.projectionMatrix.elements[5]*n;a.camera.fov!==h&&(s.style.perspective="".concat(h,"px"),a.camera.fov=h),(e.matrixAutoUpdate&&!0===e.matrixAutoUpdate||!0===e.autoUpdate)&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld();const f=l(t.matrixWorldInverse,t,h),d="".concat(f,"translate(").concat(r,"px,").concat(n,"px)");a.camera.style===d||i||(o.style.transform=d,a.camera.style=d),u(e,e,t,f),i&&c(e)}}const ez={type:"change"},tz={type:"start"},nz={type:"end"};class rz extends Dh{constructor(e,t){super();const n=this,r=-1,i=0,o=1,a=2,s=3,l=4;this.object=e,this.domElement=t,this.domElement.style.touchAction="none",this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.keys=["KeyA","KeyS","KeyD"],this.mouseButtons={LEFT:vc.ROTATE,MIDDLE:vc.DOLLY,RIGHT:vc.PAN},this.target=new Sf;const c=1e-6,u=new Sf;let h=1,f=r,d=r,p=0,m=0,g=0;const v=new Sf,y=new qh,_=new qh,b=new Sf,x=new qh,w=new qh,S=new qh,E=new qh,T=[],A={};this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom,this.handleResize=function(){const e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};const M=function(){const e=new qh;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),C=function(){const e=new qh;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function O(e){!1!==n.enabled&&(0===T.length&&(n.domElement.setPointerCapture(e.pointerId),n.domElement.addEventListener("pointermove",R),n.domElement.addEventListener("pointerup",I)),function(e){T.push(e)}(e),"touch"===e.pointerType?function(e){if(1===(U(e),T.length))f=s,_.copy(C(T[0].pageX,T[0].pageY)),y.copy(_);else{f=l;const e=T[0].pageX-T[1].pageX,t=T[0].pageY-T[1].pageY;m=p=Math.sqrt(e*e+t*t);const n=(T[0].pageX+T[1].pageX)/2,r=(T[0].pageY+T[1].pageY)/2;S.copy(M(n,r)),E.copy(S)}n.dispatchEvent(tz)}(e):function(e){if(f===r)switch(e.button){case n.mouseButtons.LEFT:f=i;break;case n.mouseButtons.MIDDLE:f=o;break;case n.mouseButtons.RIGHT:f=a}const t=d!==r?d:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||(S.copy(M(e.pageX,e.pageY)),E.copy(S)):(x.copy(M(e.pageX,e.pageY)),w.copy(x)):(_.copy(C(e.pageX,e.pageY)),y.copy(_));n.dispatchEvent(tz)}(e))}function R(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){if(1===(U(e),T.length))y.copy(_),_.copy(C(e.pageX,e.pageY));else{const t=function(e){const t=e.pointerId===T[0].pointerId?T[1]:T[0];return A[t.pointerId]}(e),n=e.pageX-t.x,r=e.pageY-t.y;m=Math.sqrt(n*n+r*r);const i=(e.pageX+t.x)/2,o=(e.pageY+t.y)/2;E.copy(M(i,o))}}(e):function(e){const t=d!==r?d:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||E.copy(M(e.pageX,e.pageY)):w.copy(M(e.pageX,e.pageY)):(y.copy(_),_.copy(C(e.pageX,e.pageY)))}(e))}function I(e){!1!==n.enabled&&("touch"===e.pointerType?function(e){switch(T.length){case 0:f=r;break;case 1:f=s,_.copy(C(e.pageX,e.pageY)),y.copy(_);break;case 2:f=l;for(let t=0;t<T.length;t++)if(T[t].pointerId!==e.pointerId){const e=A[T[t].pointerId];_.copy(C(e.x,e.y)),y.copy(_);break}}n.dispatchEvent(nz)}(e):(f=r,n.dispatchEvent(nz)),F(e),0===T.length&&(n.domElement.releasePointerCapture(e.pointerId),n.domElement.removeEventListener("pointermove",R),n.domElement.removeEventListener("pointerup",I)))}function k(e){F(e)}function P(e){!1!==n.enabled&&(window.removeEventListener("keydown",P),d===r&&(e.code!==n.keys[i]||n.noRotate?e.code!==n.keys[o]||n.noZoom?e.code!==n.keys[a]||n.noPan||(d=a):d=o:d=i))}function D(){!1!==n.enabled&&(d=r,window.addEventListener("keydown",P))}function N(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.deltaMode){case 2:x.y-=.025*e.deltaY;break;case 1:x.y-=.01*e.deltaY;break;default:x.y-=25e-5*e.deltaY}n.dispatchEvent(tz),n.dispatchEvent(nz)}}function L(e){!1!==n.enabled&&e.preventDefault()}function F(e){delete A[e.pointerId];for(let t=0;t<T.length;t++)if(T[t].pointerId==e.pointerId)return void T.splice(t,1)}function U(e){let t=A[e.pointerId];void 0===t&&(t=new qh,A[e.pointerId]=t),t.set(e.pageX,e.pageY)}this.rotateCamera=function(){const e=new Sf,t=new wf,r=new Sf,i=new Sf,o=new Sf,a=new Sf;return function(){a.set(_.x-y.x,_.y-y.y,0);let s=a.length();s?(v.copy(n.object.position).sub(n.target),r.copy(v).normalize(),i.copy(n.object.up).normalize(),o.crossVectors(i,r).normalize(),i.setLength(_.y-y.y),o.setLength(_.x-y.x),a.copy(i.add(o)),e.crossVectors(a,v).normalize(),s*=n.rotateSpeed,t.setFromAxisAngle(e,s),v.applyQuaternion(t),n.object.up.applyQuaternion(t),b.copy(e),g=s):!n.staticMoving&&g&&(g*=Math.sqrt(1-n.dynamicDampingFactor),v.copy(n.object.position).sub(n.target),t.setFromAxisAngle(b,g),v.applyQuaternion(t),n.object.up.applyQuaternion(t)),y.copy(_)}}(),this.zoomCamera=function(){let e;f===l?(e=p/m,p=m,n.object.isPerspectiveCamera?v.multiplyScalar(e):n.object.isOrthographicCamera&&(n.object.zoom=Gh.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix())):(e=1+(w.y-x.y)*n.zoomSpeed,1!==e&&e>0&&(n.object.isPerspectiveCamera?v.multiplyScalar(e):n.object.isOrthographicCamera&&(n.object.zoom=Gh.clamp(n.object.zoom/e,n.minZoom,n.maxZoom),h!==n.object.zoom&&n.object.updateProjectionMatrix())),n.staticMoving?x.copy(w):x.y+=(w.y-x.y)*this.dynamicDampingFactor)},this.panCamera=function(){const e=new qh,t=new Sf,r=new Sf;return function(){if(e.copy(E).sub(S),e.lengthSq()){if(n.object.isOrthographicCamera){const t=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,r=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=t,e.y*=r}e.multiplyScalar(v.length()*n.panSpeed),r.copy(v).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?S.copy(E):S.add(e.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(v.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,v.setLength(n.maxDistance)),x.copy(w)),v.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,v.setLength(n.minDistance)),x.copy(w)))},this.update=function(){v.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,v),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),u.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(ez),u.copy(n.object.position))):n.object.isOrthographicCamera&&(n.object.lookAt(n.target),(u.distanceToSquared(n.object.position)>c||h!==n.object.zoom)&&(n.dispatchEvent(ez),u.copy(n.object.position),h=n.object.zoom))},this.reset=function(){f=r,d=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),v.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(ez),u.copy(n.object.position),h=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",L),n.domElement.removeEventListener("pointerdown",O),n.domElement.removeEventListener("pointercancel",k),n.domElement.removeEventListener("wheel",N),n.domElement.removeEventListener("pointermove",R),n.domElement.removeEventListener("pointerup",I),window.removeEventListener("keydown",P),window.removeEventListener("keyup",D)},this.domElement.addEventListener("contextmenu",L),this.domElement.addEventListener("pointerdown",O),this.domElement.addEventListener("pointercancel",k),this.domElement.addEventListener("wheel",N,{passive:!1}),window.addEventListener("keydown",P),window.addEventListener("keyup",D),this.handleResize(),this.update()}}var iz={exports:{}},oz={exports:{}},az={};const sz=Symbol(""),lz=Symbol(""),cz=Symbol(""),uz=Symbol(""),hz=Symbol(""),fz=Symbol(""),dz=Symbol(""),pz=Symbol(""),mz=Symbol(""),gz=Symbol(""),vz=Symbol(""),yz=Symbol(""),_z=Symbol(""),bz=Symbol(""),xz=Symbol(""),wz=Symbol(""),Sz=Symbol(""),Ez=Symbol(""),Tz=Symbol(""),Az=Symbol(""),Mz=Symbol(""),Cz=Symbol(""),Oz=Symbol(""),Rz=Symbol(""),Iz=Symbol(""),kz=Symbol(""),Pz=Symbol(""),Dz=Symbol(""),Nz=Symbol(""),Lz=Symbol(""),Fz=Symbol(""),Uz=Symbol(""),Bz=Symbol(""),zz=Symbol(""),Vz=Symbol(""),jz=Symbol(""),Hz=Symbol(""),Wz=Symbol(""),Gz=Symbol(""),qz={[sz]:"Fragment",[lz]:"Teleport",[cz]:"Suspense",[uz]:"KeepAlive",[hz]:"BaseTransition",[fz]:"openBlock",[dz]:"createBlock",[pz]:"createElementBlock",[mz]:"createVNode",[gz]:"createElementVNode",[vz]:"createCommentVNode",[yz]:"createTextVNode",[_z]:"createStaticVNode",[bz]:"resolveComponent",[xz]:"resolveDynamicComponent",[wz]:"resolveDirective",[Sz]:"resolveFilter",[Ez]:"withDirectives",[Tz]:"renderList",[Az]:"renderSlot",[Mz]:"createSlots",[Cz]:"toDisplayString",[Oz]:"mergeProps",[Rz]:"normalizeClass",[Iz]:"normalizeStyle",[kz]:"normalizeProps",[Pz]:"guardReactiveProps",[Dz]:"toHandlers",[Nz]:"camelize",[Lz]:"capitalize",[Fz]:"toHandlerKey",[Uz]:"setBlockTracking",[Bz]:"pushScopeId",[zz]:"popScopeId",[Vz]:"withCtx",[jz]:"unref",[Hz]:"isRef",[Wz]:"withMemo",[Gz]:"isMemoSame"};function Xz(e){Object.getOwnPropertySymbols(e).forEach(t=>{qz[t]=e[t]})}const Yz={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function Kz(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Yz}}function $z(e,t,n,r,i,o,a,s=!1,l=!1,c=!1,u=Yz){return e&&(s?(e.helper(fz),e.helper(lV(e.inSSR,c))):e.helper(sV(e.inSSR,c)),a&&e.helper(Ez)),{type:13,tag:t,props:n,children:r,patchFlag:i,dynamicProps:o,directives:a,isBlock:s,disableTracking:l,isComponent:c,loc:u}}function Zz(e,t=Yz){return{type:17,loc:t,elements:e}}function Jz(e,t=Yz){return{type:15,loc:t,properties:e}}function Qz(e,t){return{type:16,loc:Yz,key:_(e)?eV(e,!0):e,value:t}}function eV(e,t=!1,n=Yz,r=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:r}}function tV(e,t=Yz){return{type:8,loc:t,children:e}}function nV(e,t=[],n=Yz){return{type:14,loc:n,callee:e,arguments:t}}function rV(e,t=void 0,n=!1,r=!1,i=Yz){return{type:18,params:e,returns:t,newline:n,isSlot:r,loc:i}}function iV(e,t,n,r=!0){return{type:19,test:e,consequent:t,alternate:n,newline:r,loc:Yz}}function oV(e,t,n=!1,r=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:r,needArraySpread:!1,loc:Yz}}function aV(e){return{type:21,body:e,loc:Yz}}function sV(e,t){return e||t?mz:gz}function lV(e,t){return e||t?dz:pz}function cV(e,{helper:t,removeHelper:n,inSSR:r}){e.isBlock||(e.isBlock=!0,n(sV(r,e.isComponent)),t(fz),t(lV(r,e.isComponent)))}const uV=new Uint8Array([123,123]),hV=new Uint8Array([125,125]);function fV(e){return e>=97&&e<=122||e>=65&&e<=90}function dV(e){return 32===e||10===e||9===e||12===e||13===e}function pV(e){return 47===e||62===e||dV(e)}function mV(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const gV={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};const vV={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>".sync modifier for v-bind has been removed. Use v-model with argument instead. `v-bind:".concat(e,".sync` should be changed to `v-model:").concat(e,"`."),link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function yV(e,{compatConfig:t}){const n=t&&t[e];return"MODE"===e?n||3:n}function _V(e,t){const n=yV("MODE",t),r=yV(e,t);return 3===n?!0===r:!1!==r}function bV(e,t,n,...r){return _V(e,t)}function xV(e){throw e}function wV(e){}function SV(e,t,n,r){const i="https://vuejs.org/error-reference/#compiler-".concat(e),o=new SyntaxError(String(i));return o.code=e,o.loc=t,o}const EV={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '\x3c!--' in comment.",17:"Attribute name cannot contain U+0022 (\"), U+0027 ('), and U+003C (<).",18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",53:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:"v-model cannot be used on a prop, because local prop bindings are not writable.\nUse a v-bind binding combined with a v-on listener that emits update:x event instead.",45:"v-model cannot be used on a const binding because it is not writable.",46:"Error parsing JavaScript expression: ",47:"<KeepAlive> expects exactly one child component.",52:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",48:'"prefixIdentifiers" option is not supported in this build of compiler.',49:"ES module mode is not supported in this build of compiler.",50:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',51:'"scopeId" option is only supported in module mode.',54:""};function TV(e,t){const n="SwitchCase"===e.type?e.consequent:e.body;for(const r of n)if("VariableDeclaration"===r.type){if(r.declare)continue;for(const e of r.declarations)for(const n of OV(e.id))t(n)}else if("FunctionDeclaration"===r.type||"ClassDeclaration"===r.type){if(r.declare||!r.id)continue;t(r.id)}else AV(r)?MV(r,!0,t):"SwitchStatement"===r.type&&CV(r,!0,t)}function AV(e){return"ForOfStatement"===e.type||"ForInStatement"===e.type||"ForStatement"===e.type}function MV(e,t,n){const r="ForStatement"===e.type?e.init:e.left;if(r&&"VariableDeclaration"===r.type&&("var"===r.kind?t:!t))for(const i of r.declarations)for(const e of OV(i.id))n(e)}function CV(e,t,n){for(const r of e.cases){for(const e of r.consequent)if("VariableDeclaration"===e.type&&("var"===e.kind?t:!t))for(const t of e.declarations)for(const e of OV(t.id))n(e);TV(r,n)}}function OV(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;"MemberExpression"===n.type;)n=n.object;t.push(n);break;case"ObjectPattern":for(const r of e.properties)"RestElement"===r.type?OV(r.argument,t):OV(r.value,t);break;case"ArrayPattern":e.elements.forEach(e=>{e&&OV(e,t)});break;case"RestElement":OV(e.argument,t);break;case"AssignmentPattern":OV(e.left,t)}return t}const RV=e=>e&&("ObjectProperty"===e.type||"ObjectMethod"===e.type)&&!e.computed,IV=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];const kV=e=>4===e.type&&e.isStatic;function PV(e){switch(e){case"Teleport":case"teleport":return lz;case"Suspense":case"suspense":return cz;case"KeepAlive":case"keep-alive":return uz;case"BaseTransition":case"base-transition":return hz}}const DV=/^$|^\d|[^\$\w\xA0-\uFFFF]/,NV=e=>!DV.test(e),LV=/[A-Za-z_$\xA0-\uFFFF]/,FV=/[\.\?\w$\xA0-\uFFFF]/,UV=/\s+[.[]\s*|\s*[.[]\s+/g,BV=e=>4===e.type?e.content:e.loc.source,zV=e=>{const t=BV(e).trim().replace(UV,e=>e.trim());let n=0,r=[],i=0,o=0,a=null;for(let s=0;s<t.length;s++){const e=t.charAt(s);switch(n){case 0:if("["===e)r.push(n),n=1,i++;else if("("===e)r.push(n),n=2,o++;else if(!(0===s?LV:FV).test(e))return!1;break;case 1:"'"===e||'"'===e||"`"===e?(r.push(n),n=3,a=e):"["===e?i++:"]"===e&&(--i||(n=r.pop()));break;case 2:if("'"===e||'"'===e||"`"===e)r.push(n),n=3,a=e;else if("("===e)o++;else if(")"===e){if(s===t.length-1)return!1;--o||(n=r.pop())}break;case 3:e===a&&(n=r.pop(),a=null)}}return!i&&!o},VV=o,jV=zV,HV=/^\s*(?:async\s*)?(?:\([^)]*?\)|[\w$_]+)\s*(?::[^=]+)?=>|^\s*(?:async\s+)?function(?:\s+[\w$]+)?\s*\(/,WV=e=>HV.test(BV(e)),GV=o,qV=WV;function XV(e,t,n=t.length){let r=0,i=-1;for(let o=0;o<n;o++)10===t.charCodeAt(o)&&(r++,i=o);return e.offset+=n,e.line+=r,e.column=-1===i?e.column+n:n-i,e}function YV(e,t,n=!1){for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&(n||i.exp)&&(_(t)?i.name===t:t.test(i.name)))return i}}function KV(e,t,n=!1,r=!1){for(let i=0;i<e.props.length;i++){const o=e.props[i];if(6===o.type){if(n)continue;if(o.name===t&&(o.value||r))return o}else if("bind"===o.name&&(o.exp||r)&&$V(o.arg,t))return o}}function $V(e,t){return!(!e||!kV(e)||e.content!==t)}function ZV(e){return e.props.some(e=>!(7!==e.type||"bind"!==e.name||e.arg&&4===e.arg.type&&e.arg.isStatic))}function JV(e){return 5===e.type||2===e.type}function QV(e){return 7===e.type&&"pre"===e.name}function ej(e){return 7===e.type&&"slot"===e.name}function tj(e){return 1===e.type&&3===e.tagType}function nj(e){return 1===e.type&&2===e.tagType}const rj=new Set([kz,Pz]);function ij(e,t=[]){if(e&&!_(e)&&14===e.type){const n=e.callee;if(!_(n)&&rj.has(n))return ij(e.arguments[0],t.concat(e))}return[e,t]}function oj(e,t,n){let r,i,o=13===e.type?e.props:e.arguments[2],a=[];if(o&&!_(o)&&14===o.type){const e=ij(o);o=e[0],a=e[1],i=a[a.length-1]}if(null==o||_(o))r=Jz([t]);else if(14===o.type){const e=o.arguments[0];_(e)||15!==e.type?o.callee===Dz?r=nV(n.helper(Oz),[Jz([t]),o]):o.arguments.unshift(Jz([t])):aj(t,e)||e.properties.unshift(t),!r&&(r=o)}else 15===o.type?(aj(t,o)||o.properties.unshift(t),r=o):(r=nV(n.helper(Oz),[Jz([t]),o]),i&&i.callee===Pz&&(i=a[a.length-2]));13===e.type?i?i.arguments[0]=r:e.props=r:i?i.arguments[0]=r:e.arguments[2]=r}function aj(e,t){let n=!1;if(4===e.key.type){const r=e.key.content;n=t.properties.some(e=>4===e.key.type&&e.key.content===r)}return n}function sj(e,t){return"_".concat(t,"_").concat(e.replace(/[^\w]/g,(t,n)=>"-"===t?"_":e.charCodeAt(n).toString()))}function lj(e){return 14===e.type&&e.callee===Wz?e.arguments[1].returns:e}const cj=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/;function uj(e){for(let t=0;t<e.length;t++)if(!dV(e.charCodeAt(t)))return!1;return!0}function hj(e){return 2===e.type&&uj(e.content)||12===e.type&&hj(e.content)}function fj(e){return 3===e.type||hj(e)}const dj={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:a,isPreTag:a,isIgnoreNewlineTag:a,isCustomElement:a,onError:xV,onWarn:wV,comments:!1,prefixIdentifiers:!1};let pj=dj,mj=null,gj="",vj=null,yj=null,_j="",bj=-1,xj=-1,wj=0,Sj=!1,Ej=null;const Tj=[],Aj=new class{constructor(e,t){this.stack=e,this.cbs=t,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=uV,this.delimiterClose=hV,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return 2===this.mode&&0===this.stack.length}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=uV,this.delimiterClose=hV}getPos(e){let t=1,n=e+1;const r=this.newlines.length;let i=-1;if(r>100){let t=-1,n=r;for(;t+1<n;){const r=t+n>>>1;this.newlines[r]<e?t=r:n=r}i=t}else for(let o=r-1;o>=0;o--)if(e>this.newlines[o]){i=o;break}return i>=0&&(t=i+2,n=e-this.newlines[i]),{column:n,line:t,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){60===e?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const e=this.index+1-this.delimiterOpen.length;e>this.sectionStart&&this.cbs.ontext(this.sectionStart,e),this.state=3,this.sectionStart=e}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const t=this.sequenceIndex===this.currentSequence.length;if(t?pV(e):(32|e)===this.currentSequence[this.sequenceIndex]){if(!t)return void this.sequenceIndex++}else this.inRCDATA=!1;this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(62===e||dV(e)){const t=this.index-this.currentSequence.length;if(this.sectionStart<t){const e=this.index;this.index=t,this.cbs.ontext(this.sectionStart,t),this.index=e}return this.sectionStart=t+2,this.stateInClosingTagName(e),void(this.inRCDATA=!1)}this.sequenceIndex=0}(32|e)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:0===this.sequenceIndex?this.currentSequence===gV.TitleEnd||this.currentSequence===gV.TextareaEnd&&!this.inSFCRoot?this.inVPre||e!==this.delimiterOpen[0]||(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=Number(60===e)}stateCDATASequence(e){e===gV.Cdata[this.sequenceIndex]?++this.sequenceIndex===gV.Cdata.length&&(this.state=28,this.currentSequence=gV.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const t=this.buffer.charCodeAt(this.index);if(10===t&&this.newlines.push(this.index),t===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===gV.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):0===this.sequenceIndex?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,t){this.enterRCDATA(e,t),this.state=31}enterRCDATA(e,t){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=t}stateBeforeTagName(e){33===e?(this.state=22,this.sectionStart=this.index+1):63===e?(this.state=24,this.sectionStart=this.index+1):fV(e)?(this.sectionStart=this.index,0===this.mode?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:this.state=116===e?30:115===e?29:6):47===e?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){pV(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(pV(e)){const t=this.buffer.slice(this.sectionStart,this.index);"template"!==t&&this.enterRCDATA(mV("</"+t),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){dV(e)||(62===e?(this.state=1,this.sectionStart=this.index+1):(this.state=fV(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(62===e||dV(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){62===e&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){62===e?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):47===e?this.state=7:60===e&&47===this.peek()?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):dV(e)||this.handleAttrStart(e)}handleAttrStart(e){118===e&&45===this.peek()?(this.state=13,this.sectionStart=this.index):46===e||58===e||64===e||35===e?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){62===e?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):dV(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(61===e||pV(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){61===e||pV(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):58===e?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):46===e&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){61===e||pV(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):91===e?this.state=15:46===e&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){93===e?this.state=14:(61===e||pV(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){61===e||pV(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):46===e&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){61===e?this.state=18:47===e||62===e?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):dV(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){34===e?(this.state=19,this.sectionStart=this.index+1):39===e?(this.state=20,this.sectionStart=this.index+1):dV(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,t){(e===t||this.fastForwardTo(t))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(34===t?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){dV(e)||62===e?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):39!==e&&60!==e&&61!==e&&96!==e||this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){91===e?(this.state=26,this.sequenceIndex=0):this.state=45===e?25:23}stateInDeclaration(e){(62===e||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(62===e||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){45===e?(this.state=28,this.currentSequence=gV.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(62===e||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===gV.ScriptEnd[3]?this.startSpecial(gV.ScriptEnd,4):e===gV.StyleEnd[3]?this.startSpecial(gV.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===gV.TitleEnd[3]?this.startSpecial(gV.TitleEnd,4):e===gV.TextareaEnd[3]?this.startSpecial(gV.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const e=this.buffer.charCodeAt(this.index);switch(10===e&&33!==this.state&&this.newlines.push(this.index),this.state){case 1:this.stateText(e);break;case 2:this.stateInterpolationOpen(e);break;case 3:this.stateInterpolation(e);break;case 4:this.stateInterpolationClose(e);break;case 31:this.stateSpecialStartSequence(e);break;case 32:this.stateInRCDATA(e);break;case 26:this.stateCDATASequence(e);break;case 19:this.stateInAttrValueDoubleQuotes(e);break;case 12:this.stateInAttrName(e);break;case 13:this.stateInDirName(e);break;case 14:this.stateInDirArg(e);break;case 15:this.stateInDynamicDirArg(e);break;case 16:this.stateInDirModifier(e);break;case 28:this.stateInCommentLike(e);break;case 27:this.stateInSpecialComment(e);break;case 11:this.stateBeforeAttrName(e);break;case 6:this.stateInTagName(e);break;case 34:this.stateInSFCRootTagName(e);break;case 9:this.stateInClosingTagName(e);break;case 5:this.stateBeforeTagName(e);break;case 17:this.stateAfterAttrName(e);break;case 20:this.stateInAttrValueSingleQuotes(e);break;case 18:this.stateBeforeAttrValue(e);break;case 8:this.stateBeforeClosingTagName(e);break;case 10:this.stateAfterClosingTagName(e);break;case 29:this.stateBeforeSpecialS(e);break;case 30:this.stateBeforeSpecialT(e);break;case 21:this.stateInAttrValueNoQuotes(e);break;case 7:this.stateInSelfClosingTag(e);break;case 23:this.stateInDeclaration(e);break;case 22:this.stateBeforeDeclaration(e);break;case 25:this.stateBeforeComment(e);break;case 24:this.stateInProcessingInstruction(e);break;case 33:this.stateInEntity()}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(1===this.state||32===this.state&&0===this.sequenceIndex?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):19!==this.state&&20!==this.state&&21!==this.state||(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(28===this.state?this.currentSequence===gV.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):6===this.state||11===this.state||18===this.state||17===this.state||12===this.state||13===this.state||14===this.state||15===this.state||16===this.state||20===this.state||19===this.state||21===this.state||9===this.state||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,t){}}(Tj,{onerr:Gj,ontext(e,t){Ij(Oj(e,t),e,t)},ontextentity(e,t,n){Ij(e,t,n)},oninterpolation(e,t){if(Sj)return Ij(Oj(e,t),e,t);let n=e+Aj.delimiterOpen.length,r=t-Aj.delimiterClose.length;for(;dV(gj.charCodeAt(n));)n++;for(;dV(gj.charCodeAt(r-1));)r--;let i=Oj(n,r);i.includes("&")&&(i=pj.decodeEntities(i,!1)),zj({type:5,content:Wj(i,!1,Vj(n,r)),loc:Vj(e,t)})},onopentagname(e,t){const n=Oj(e,t);vj={type:1,tag:n,ns:pj.getNamespace(n,Tj[0],pj.ns),tagType:0,props:[],children:[],loc:Vj(e-1,t),codegenNode:void 0}},onopentagend(e){Rj(e)},onclosetag(e,t){const n=Oj(e,t);if(!pj.isVoidTag(n)){let r=!1;for(let e=0;e<Tj.length;e++){if(Tj[e].tag.toLowerCase()===n.toLowerCase()){r=!0,e>0&&Gj(24,Tj[0].loc.start.offset);for(let n=0;n<=e;n++){kj(Tj.shift(),t,n<e)}break}}r||Gj(23,Pj(e,60))}},onselfclosingtag(e){const t=vj.tag;vj.isSelfClosing=!0,Rj(e),Tj[0]&&Tj[0].tag===t&&kj(Tj.shift(),e)},onattribname(e,t){yj={type:6,name:Oj(e,t),nameLoc:Vj(e,t),value:void 0,loc:Vj(e)}},ondirname(e,t){const n=Oj(e,t),r="."===n||":"===n?"bind":"@"===n?"on":"#"===n?"slot":n.slice(2);if(Sj||""!==r||Gj(26,e),Sj||""===r)yj={type:6,name:n,nameLoc:Vj(e,t),value:void 0,loc:Vj(e)};else if(yj={type:7,name:r,rawName:n,exp:void 0,arg:void 0,modifiers:"."===n?[eV("prop")]:[],loc:Vj(e)},"pre"===r){Sj=Aj.inVPre=!0,Ej=vj;const e=vj.props;for(let t=0;t<e.length;t++)7===e[t].type&&(e[t]=Hj(e[t]))}},ondirarg(e,t){if(e===t)return;const n=Oj(e,t);if(Sj&&!QV(yj))yj.name+=n,jj(yj.nameLoc,t);else{const r="["!==n[0];yj.arg=Wj(r?n:n.slice(1,-1),r,Vj(e,t),r?3:0)}},ondirmodifier(e,t){const n=Oj(e,t);if(Sj&&!QV(yj))yj.name+="."+n,jj(yj.nameLoc,t);else if("slot"===yj.name){const e=yj.arg;e&&(e.content+="."+n,jj(e.loc,t))}else{const r=eV(n,!0,Vj(e,t));yj.modifiers.push(r)}},onattribdata(e,t){_j+=Oj(e,t),bj<0&&(bj=e),xj=t},onattribentity(e,t,n){_j+=e,bj<0&&(bj=t),xj=n},onattribnameend(e){const t=yj.loc.start.offset,n=Oj(t,e);7===yj.type&&(yj.rawName=n),vj.props.some(e=>(7===e.type?e.rawName:e.name)===n)&&Gj(2,t)},onattribend(e,t){if(vj&&yj){if(jj(yj.loc,t),0!==e)if(_j.includes("&")&&(_j=pj.decodeEntities(_j,!0)),6===yj.type)"class"===yj.name&&(_j=Bj(_j).trim()),1!==e||_j||Gj(13,t),yj.value={type:2,content:_j,loc:1===e?Vj(bj,xj):Vj(bj-1,xj+1)},Aj.inSFCRoot&&"template"===vj.tag&&"lang"===yj.name&&_j&&"html"!==_j&&Aj.enterRCDATA(mV("</template"),0);else{let e=0;yj.exp=Wj(_j,!1,Vj(bj,xj),0,e),"for"===yj.name&&(yj.forParseResult=function(e){const t=e.loc,n=e.content,r=n.match(cj);if(!r)return;const[,i,o]=r,a=(e,n,r=!1)=>{const i=t.start.offset+n;return Wj(e,!1,Vj(i,i+e.length),0,r?1:0)},s={source:a(o.trim(),n.indexOf(o,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(Cj,"").trim();const c=i.indexOf(l),u=l.match(Mj);if(u){l=l.replace(Mj,"").trim();const e=u[1].trim();let t;if(e&&(t=n.indexOf(e,c+l.length),s.key=a(e,t,!0)),u[2]){const r=u[2].trim();r&&(s.index=a(r,n.indexOf(r,s.key?t+e.length:c+l.length),!0))}}l&&(s.value=a(l,c,!0));return s}(yj.exp));let t=-1;"bind"===yj.name&&(t=yj.modifiers.findIndex(e=>"sync"===e.content))>-1&&bV("COMPILER_V_BIND_SYNC",pj,yj.loc,yj.arg.loc.source)&&(yj.name="model",yj.modifiers.splice(t,1))}7===yj.type&&"pre"===yj.name||vj.props.push(yj)}_j="",bj=xj=-1},oncomment(e,t){pj.comments&&zj({type:3,content:Oj(e,t),loc:Vj(e-4,t+3)})},onend(){const e=gj.length;for(let t=0;t<Tj.length;t++)kj(Tj[t],e-1),Gj(24,Tj[t].loc.start.offset)},oncdata(e,t){0!==Tj[0].ns?Ij(Oj(e,t),e,t):Gj(1,e-9)},onprocessinginstruction(e){0===(Tj[0]?Tj[0].ns:pj.ns)&&Gj(21,e-1)}}),Mj=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Cj=/^\(|\)$/g;function Oj(e,t){return gj.slice(e,t)}function Rj(e){Aj.inSFCRoot&&(vj.innerLoc=Vj(e+1,e+1)),zj(vj);const{tag:t,ns:n}=vj;0===n&&pj.isPreTag(t)&&wj++,pj.isVoidTag(t)?kj(vj,e):(Tj.unshift(vj),1!==n&&2!==n||(Aj.inXML=!0)),vj=null}function Ij(e,t,n){{const t=Tj[0]&&Tj[0].tag;"script"!==t&&"style"!==t&&e.includes("&")&&(e=pj.decodeEntities(e,!1))}const r=Tj[0]||mj,i=r.children[r.children.length-1];i&&2===i.type?(i.content+=e,jj(i.loc,n)):r.children.push({type:2,content:e,loc:Vj(t,n)})}function kj(e,t,n=!1){jj(e.loc,n?Pj(t,60):function(e,t){let n=e;for(;gj.charCodeAt(n)!==t&&n<gj.length-1;)n++;return n}(t,62)+1),Aj.inSFCRoot&&(e.children.length?e.innerLoc.end=c({},e.children[e.children.length-1].loc.end):e.innerLoc.end=c({},e.innerLoc.start),e.innerLoc.source=Oj(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:r,ns:i,children:o}=e;if(Sj||("slot"===r?e.tagType=2:Nj(e)?e.tagType=3:function({tag:e,props:t}){if(pj.isCustomElement(e))return!1;if("component"===e||function(e){return e>64&&e<91}(e.charCodeAt(0))||PV(e)||pj.isBuiltInComponent&&pj.isBuiltInComponent(e)||pj.isNativeTag&&!pj.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const e=t[n];if(6===e.type){if("is"===e.name&&e.value){if(e.value.content.startsWith("vue:"))return!0;if(bV("COMPILER_IS_ON_ELEMENT",pj,e.loc))return!0}}else if("bind"===e.name&&$V(e.arg,"is")&&bV("COMPILER_IS_ON_ELEMENT",pj,e.loc))return!0}return!1}(e)&&(e.tagType=1)),Aj.inRCDATA||(e.children=Fj(o)),0===i&&pj.isIgnoreNewlineTag(r)){const e=o[0];e&&2===e.type&&(e.content=e.content.replace(/^\r?\n/,""))}0===i&&pj.isPreTag(r)&&wj--,Ej===e&&(Sj=Aj.inVPre=!1,Ej=null),Aj.inXML&&0===(Tj[0]?Tj[0].ns:pj.ns)&&(Aj.inXML=!1);{const t=e.props;if(!Aj.inSFCRoot&&_V("COMPILER_NATIVE_TEMPLATE",pj)&&"template"===e.tag&&!Nj(e)){const t=Tj[0]||mj,n=t.children.indexOf(e);t.children.splice(n,1,...e.children)}const n=t.find(e=>6===e.type&&"inline-template"===e.name);n&&bV("COMPILER_INLINE_TEMPLATE",pj,n.loc)&&e.children.length&&(n.value={type:2,content:Oj(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:n.loc})}}function Pj(e,t){let n=e;for(;gj.charCodeAt(n)!==t&&n>=0;)n--;return n}const Dj=new Set(["if","else","else-if","for","slot"]);function Nj({tag:e,props:t}){if("template"===e)for(let n=0;n<t.length;n++)if(7===t[n].type&&Dj.has(t[n].name))return!0;return!1}const Lj=/\r\n/g;function Fj(e){const t="preserve"!==pj.whitespace;let n=!1;for(let r=0;r<e.length;r++){const i=e[r];if(2===i.type)if(wj)i.content=i.content.replace(Lj,"\n");else if(uj(i.content)){const o=e[r-1]&&e[r-1].type,a=e[r+1]&&e[r+1].type;!o||!a||t&&(3===o&&(3===a||1===a)||1===o&&(3===a||1===a&&Uj(i.content)))?(n=!0,e[r]=null):i.content=" "}else t&&(i.content=Bj(i.content))}return n?e.filter(Boolean):e}function Uj(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(10===n||13===n)return!0}return!1}function Bj(e){let t="",n=!1;for(let r=0;r<e.length;r++)dV(e.charCodeAt(r))?n||(t+=" ",n=!0):(t+=e[r],n=!1);return t}function zj(e){(Tj[0]||mj).children.push(e)}function Vj(e,t){return{start:Aj.getPos(e),end:null==t?t:Aj.getPos(t),source:null==t?t:Oj(e,t)}}function jj(e,t){e.end=Aj.getPos(t),e.source=Oj(e.start.offset,t)}function Hj(e){const t={type:6,name:e.rawName,nameLoc:Vj(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function Wj(e,t=!1,n,r=0,i=0){return eV(e,t,n,r)}function Gj(e,t,n){pj.onError(SV(e,Vj(t,t)))}function qj(e,t){if(Aj.reset(),vj=null,yj=null,_j="",bj=-1,xj=-1,Tj.length=0,gj=e,pj=c({},dj),t){let e;for(e in t)null!=t[e]&&(pj[e]=t[e])}Aj.mode="html"===pj.parseMode?1:"sfc"===pj.parseMode?2:0,Aj.inXML=1===pj.ns||2===pj.ns;const n=t&&t.delimiters;n&&(Aj.delimiterOpen=mV(n[0]),Aj.delimiterClose=mV(n[1]));const r=mj=Kz([],e);return Aj.parse(gj),r.loc=Vj(0,e.length),r.children=Fj(r.children),mj=null,r}function Xj(e,t){Kj(e,void 0,t,!!Yj(e))}function Yj(e){const t=e.children.filter(e=>3!==e.type);return 1!==t.length||1!==t[0].type||nj(t[0])?null:t[0]}function Kj(e,t,n,r=!1,i=!1){const{children:o}=e,a=[];for(let u=0;u<o.length;u++){const t=o[u];if(1===t.type&&0===t.tagType){const e=r?0:$j(t,n);if(e>0){if(e>=2){t.codegenNode.patchFlag=-1,a.push(t);continue}}else{const e=t.codegenNode;if(13===e.type){const r=e.patchFlag;if((void 0===r||512===r||1===r)&&Qj(t,n)>=2){const r=eH(t);r&&(e.props=n.hoist(r))}e.dynamicProps&&(e.dynamicProps=n.hoist(e.dynamicProps))}}}else if(12===t.type){if((r?0:$j(t,n))>=2){14===t.codegenNode.type&&t.codegenNode.arguments.length>0&&t.codegenNode.arguments.push("-1"),a.push(t);continue}}if(1===t.type){const r=1===t.tagType;r&&n.scopes.vSlot++,Kj(t,e,n,!1,i),r&&n.scopes.vSlot--}else if(11===t.type)Kj(t,e,n,1===t.children.length,!0);else if(9===t.type)for(let r=0;r<t.branches.length;r++)Kj(t.branches[r],e,n,1===t.branches[r].children.length,i)}let s=!1;if(a.length===o.length&&1===e.type)if(0===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&d(e.codegenNode.children))e.codegenNode.children=l(Zz(e.codegenNode.children)),s=!0;else if(1===e.tagType&&e.codegenNode&&13===e.codegenNode.type&&e.codegenNode.children&&!d(e.codegenNode.children)&&15===e.codegenNode.children.type){const t=c(e.codegenNode,"default");t&&(t.returns=l(Zz(t.returns)),s=!0)}else if(3===e.tagType&&t&&1===t.type&&1===t.tagType&&t.codegenNode&&13===t.codegenNode.type&&t.codegenNode.children&&!d(t.codegenNode.children)&&15===t.codegenNode.children.type){const n=YV(e,"slot",!0),r=n&&n.arg&&c(t.codegenNode,n.arg);r&&(r.returns=l(Zz(r.returns)),s=!0)}if(!s)for(const u of a)u.codegenNode=n.cache(u.codegenNode);function l(e){const t=n.cache(e);return t.needArraySpread=!0,t}function c(e,t){if(e.children&&!d(e.children)&&15===e.children.type){const n=e.children.properties.find(e=>e.key===t||e.key.content===t);return n&&n.value}}a.length&&n.transformHoist&&n.transformHoist(o,n,e)}function $j(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(0!==e.tagType)return 0;const r=n.get(e);if(void 0!==r)return r;const i=e.codegenNode;if(13!==i.type)return 0;if(i.isBlock&&"svg"!==e.tag&&"foreignObject"!==e.tag&&"math"!==e.tag)return 0;if(void 0===i.patchFlag){let r=3;const o=Qj(e,t);if(0===o)return n.set(e,0),0;o<r&&(r=o);for(let i=0;i<e.children.length;i++){const o=$j(e.children[i],t);if(0===o)return n.set(e,0),0;o<r&&(r=o)}if(r>1)for(let i=0;i<e.props.length;i++){const o=e.props[i];if(7===o.type&&"bind"===o.name&&o.exp){const i=$j(o.exp,t);if(0===i)return n.set(e,0),0;i<r&&(r=i)}}if(i.isBlock){for(let t=0;t<e.props.length;t++){if(7===e.props[t].type)return n.set(e,0),0}t.removeHelper(fz),t.removeHelper(lV(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(sV(t.inSSR,i.isComponent))}return n.set(e,r),r}return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:default:return 0;case 5:case 12:return $j(e.content,t);case 4:return e.constType;case 8:let o=3;for(let n=0;n<e.children.length;n++){const r=e.children[n];if(_(r)||b(r))continue;const i=$j(r,t);if(0===i)return 0;i<o&&(o=i)}return o;case 20:return 2}}const Zj=new Set([Rz,Iz,kz,Pz]);function Jj(e,t){if(14===e.type&&!_(e.callee)&&Zj.has(e.callee)){const n=e.arguments[0];if(4===n.type)return $j(n,t);if(14===n.type)return Jj(n,t)}return 0}function Qj(e,t){let n=3;const r=eH(e);if(r&&15===r.type){const{properties:e}=r;for(let r=0;r<e.length;r++){const{key:i,value:o}=e[r],a=$j(i,t);if(0===a)return a;let s;if(a<n&&(n=a),s=4===o.type?$j(o,t):14===o.type?Jj(o,t):0,0===s)return s;s<n&&(n=s)}}return n}function eH(e){const t=e.codegenNode;if(13===t.type)return t.props}function tH(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:a=!1,cacheHandlers:s=!1,nodeTransforms:l=[],directiveTransforms:c={},transformHoist:u=null,isBuiltInComponent:h=o,isCustomElement:f=o,expressionPlugins:d=[],scopeId:p=null,slotted:m=!0,ssr:g=!1,inSSR:v=!1,ssrCssVars:y="",bindingMetadata:b=r,inline:x=!1,isTS:w=!1,onError:S=xV,onWarn:E=wV,compatConfig:T}){const A=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),M={filename:t,selfName:A&&N(k(A[1])),prefixIdentifiers:n,hoistStatic:i,hmr:a,cacheHandlers:s,nodeTransforms:l,directiveTransforms:c,transformHoist:u,isBuiltInComponent:h,isCustomElement:f,expressionPlugins:d,scopeId:p,slotted:m,ssr:g,inSSR:v,ssrCssVars:y,bindingMetadata:b,inline:x,isTS:w,onError:S,onWarn:E,compatConfig:T,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(e){const t=M.helpers.get(e)||0;return M.helpers.set(e,t+1),e},removeHelper(e){const t=M.helpers.get(e);if(t){const n=t-1;n?M.helpers.set(e,n):M.helpers.delete(e)}},helperString:e=>"_".concat(qz[M.helper(e)]),replaceNode(e){M.parent.children[M.childIndex]=M.currentNode=e},removeNode(e){const t=M.parent.children,n=e?t.indexOf(e):M.currentNode?M.childIndex:-1;e&&e!==M.currentNode?M.childIndex>n&&(M.childIndex--,M.onNodeRemoved()):(M.currentNode=null,M.onNodeRemoved()),M.parent.children.splice(n,1)},onNodeRemoved:o,addIdentifiers(e){},removeIdentifiers(e){},hoist(e){_(e)&&(e=eV(e)),M.hoists.push(e);const t=eV("_hoisted_".concat(M.hoists.length),!1,e.loc,2);return t.hoisted=e,t},cache(e,t=!1,n=!1){const r=oV(M.cached.length,e,t,n);return M.cached.push(r),r}};return M.filters=new Set,M}function nH(e,t){const n=tH(e,t);rH(e,n),t.hoistStatic&&Xj(e,n),t.ssr||function(e,t){const{helper:n}=t,{children:r}=e;if(1===r.length){const n=Yj(e);if(n&&n.codegenNode){const r=n.codegenNode;13===r.type&&cV(r,t),e.codegenNode=r}else e.codegenNode=r[0]}else if(r.length>1){let r=64;e.codegenNode=$z(t,n(sz),void 0,e.children,r,void 0,void 0,!0,void 0,!1)}}(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function rH(e,t){t.currentNode=e;const{nodeTransforms:n}=t,r=[];for(let o=0;o<n.length;o++){const i=n[o](e,t);if(i&&(d(i)?r.push(...i):r.push(i)),!t.currentNode)return;e=t.currentNode}switch(e.type){case 3:t.ssr||t.helper(vz);break;case 5:t.ssr||t.helper(Cz);break;case 9:for(let n=0;n<e.branches.length;n++)rH(e.branches[n],t);break;case 10:case 11:case 1:case 0:!function(e,t){let n=0;const r=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];_(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=r,rH(i,t))}}(e,t)}t.currentNode=e;let i=r.length;for(;i--;)r[i]()}function iH(e,t){const n=_(e)?t=>t===e:t=>e.test(t);return(e,r)=>{if(1===e.type){const{props:i}=e;if(3===e.tagType&&i.some(ej))return;const o=[];for(let a=0;a<i.length;a++){const s=i[a];if(7===s.type&&n(s.name)){i.splice(a,1),a--;const n=t(e,s,r);n&&o.push(n)}}return o}}}const oH="/*@__PURE__*/",aH=e=>"".concat(qz[e],": _").concat(qz[e]);function sH(e,t={}){const n=function(e,{mode:t="function",prefixIdentifiers:n="module"===t,sourceMap:r=!1,filename:i="template.vue.html",scopeId:o=null,optimizeImports:a=!1,runtimeGlobalName:s="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:f=!1}){const d={mode:t,prefixIdentifiers:n,sourceMap:r,filename:i,scopeId:o,optimizeImports:a,runtimeGlobalName:s,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:f,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper:e=>"_".concat(qz[e]),push(e,t=-2,n){d.code+=e},indent(){p(++d.indentLevel)},deindent(e=!1){e?--d.indentLevel:p(--d.indentLevel)},newline(){p(d.indentLevel)}};function p(e){d.push("\n"+"  ".repeat(e),0)}return d}(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:r,push:i,prefixIdentifiers:o,indent:a,deindent:s,newline:l,scopeId:c,ssr:u}=n,h=Array.from(e.helpers),f=h.length>0,d=!o&&"module"!==r;!function(e,t){const{ssr:n,prefixIdentifiers:r,push:i,newline:o,runtimeModuleName:a,runtimeGlobalName:s,ssrRuntimeModuleName:l}=t,c=s,u=Array.from(e.helpers);if(u.length>0&&(i("const _Vue = ".concat(c,"\n"),-1),e.hoists.length)){const e=[mz,gz,vz,yz,_z].filter(e=>u.includes(e)).map(aH).join(", ");i("const { ".concat(e," } = _Vue\n"),-1)}(function(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:r}=t;r();for(let i=0;i<e.length;i++){const o=e[i];o&&(n("const _hoisted_".concat(i+1," = ")),hH(o,t),r())}t.pure=!1})(e.hoists,t),o(),i("return ")}(e,n);const p=u?"ssrRender":"render",m=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i("function ".concat(p,"(").concat(m,") {")),a(),d&&(i("with (_ctx) {"),a(),f&&(i("const { ".concat(h.map(aH).join(", ")," } = _Vue\n"),-1),l())),e.components.length&&(lH(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(lH(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),lH(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let t=0;t<e.temps;t++)i("".concat(t>0?", ":"","_temp").concat(t))}return(e.components.length||e.directives.length||e.temps)&&(i("\n",0),l()),u||i("return "),e.codegenNode?hH(e.codegenNode,n):i("null"),d&&(s(),i("}")),s(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function lH(e,t,{helper:n,push:r,newline:i,isTS:o}){const a=n("filter"===t?Sz:"component"===t?bz:wz);for(let s=0;s<e.length;s++){let n=e[s];const l=n.endsWith("__self");l&&(n=n.slice(0,-6)),r("const ".concat(sj(n,t)," = ").concat(a,"(").concat(JSON.stringify(n)).concat(l?", true":"",")").concat(o?"!":"")),s<e.length-1&&i()}}function cH(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),uH(e,t,n),n&&t.deindent(),t.push("]")}function uH(e,t,n=!1,r=!0){const{push:i,newline:o}=t;for(let a=0;a<e.length;a++){const s=e[a];_(s)?i(s,-3):d(s)?cH(s,t):hH(s,t),a<e.length-1&&(n?(r&&i(","),o()):r&&i(", "))}}function hH(e,t){if(_(e))t.push(e,-3);else if(b(e))t.push(t.helper(e));else switch(e.type){case 1:case 9:case 11:case 12:hH(e.codegenNode,t);break;case 2:!function(e,t){t.push(JSON.stringify(e.content),-3,e)}(e,t);break;case 4:fH(e,t);break;case 5:!function(e,t){const{push:n,helper:r,pure:i}=t;i&&n(oH);n("".concat(r(Cz),"(")),hH(e.content,t),n(")")}(e,t);break;case 8:dH(e,t);break;case 3:!function(e,t){const{push:n,helper:r,pure:i}=t;i&&n(oH);n("".concat(r(vz),"(").concat(JSON.stringify(e.content),")"),-3,e)}(e,t);break;case 13:!function(e,t){const{push:n,helper:r,pure:i}=t,{tag:o,props:a,children:s,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:f,isComponent:d}=e;let p;l&&(p=String(l));u&&n(r(Ez)+"(");h&&n("(".concat(r(fz),"(").concat(f?"true":"","), "));i&&n(oH);const m=h?lV(t.inSSR,d):sV(t.inSSR,d);n(r(m)+"(",-2,e),uH(function(e){let t=e.length;for(;t--&&null==e[t];);return e.slice(0,t+1).map(e=>e||"null")}([o,a,s,p,c]),t),n(")"),h&&n(")");u&&(n(", "),hH(u,t),n(")"))}(e,t);break;case 14:!function(e,t){const{push:n,helper:r,pure:i}=t,o=_(e.callee)?e.callee:r(e.callee);i&&n(oH);n(o+"(",-2,e),uH(e.arguments,t),n(")")}(e,t);break;case 15:!function(e,t){const{push:n,indent:r,deindent:i,newline:o}=t,{properties:a}=e;if(!a.length)return void n("{}",-2,e);const s=a.length>1||!1;n(s?"{":"{ "),s&&r();for(let l=0;l<a.length;l++){const{key:e,value:r}=a[l];pH(e,t),n(": "),hH(r,t),l<a.length-1&&(n(","),o())}s&&i(),n(s?"}":" }")}(e,t);break;case 17:!function(e,t){cH(e.elements,t)}(e,t);break;case 18:!function(e,t){const{push:n,indent:r,deindent:i}=t,{params:o,returns:a,body:s,newline:l,isSlot:c}=e;c&&n("_".concat(qz[Vz],"("));n("(",-2,e),d(o)?uH(o,t):o&&hH(o,t);n(") => "),(l||s)&&(n("{"),r());a?(l&&n("return "),d(a)?cH(a,t):hH(a,t)):s&&hH(s,t);(l||s)&&(i(),n("}"));c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}(e,t);break;case 19:!function(e,t){const{test:n,consequent:r,alternate:i,newline:o}=e,{push:a,indent:s,deindent:l,newline:c}=t;if(4===n.type){const e=!NV(n.content);e&&a("("),fH(n,t),e&&a(")")}else a("("),hH(n,t),a(")");o&&s(),t.indentLevel++,o||a(" "),a("? "),hH(r,t),t.indentLevel--,o&&c(),o||a(" "),a(": ");const u=19===i.type;u||t.indentLevel++;hH(i,t),u||t.indentLevel--;o&&l(!0)}(e,t);break;case 20:!function(e,t){const{push:n,helper:r,indent:i,deindent:o,newline:a}=t,{needPauseTracking:s,needArraySpread:l}=e;l&&n("[...(");n("_cache[".concat(e.index,"] || (")),s&&(i(),n("".concat(r(Uz),"(-1")),e.inVOnce&&n(", true"),n("),"),a(),n("("));n("_cache[".concat(e.index,"] = ")),hH(e.value,t),s&&(n(").cacheIndex = ".concat(e.index,",")),a(),n("".concat(r(Uz),"(1),")),a(),n("_cache[".concat(e.index,"]")),o());n(")"),l&&n(")]")}(e,t);break;case 21:uH(e.body,t,!0,!1)}}function fH(e,t){const{content:n,isStatic:r}=e;t.push(r?JSON.stringify(n):n,-3,e)}function dH(e,t){for(let n=0;n<e.children.length;n++){const r=e.children[n];_(r)?t.push(r,-3):hH(r,t)}}function pH(e,t){const{push:n}=t;if(8===e.type)n("["),dH(e,t),n("]");else if(e.isStatic){n(NV(e.content)?e.content:JSON.stringify(e.content),-2,e)}else n("[".concat(e.content,"]"),-3,e)}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");function mH(e,t,n=!1,r=!1,i=Object.create(t.identifiers)){return e}const gH=iH(/^(?:if|else|else-if)$/,(e,t,n)=>vH(e,t,n,(e,t,r)=>{const i=n.parent.children;let o=i.indexOf(e),a=0;for(;o-- >=0;){const e=i[o];e&&9===e.type&&(a+=e.branches.length)}return()=>{if(r)e.codegenNode=_H(t,a,n);else{const r=function(e){for(;;)if(19===e.type){if(19!==e.alternate.type)return e;e=e.alternate}else 20===e.type&&(e=e.value)}(e.codegenNode);r.alternate=_H(t,a+e.branches.length-1,n)}}}));function vH(e,t,n,r){if(!("else"===t.name||t.exp&&t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;n.onError(SV(28,t.loc)),t.exp=eV("true",!1,r)}if("if"===t.name){const o=yH(e,t),a={type:9,loc:(i=e.loc,Vj(i.start.offset,i.end.offset)),branches:[o]};if(n.replaceNode(a),r)return r(a,o,!0)}else{const i=n.parent.children;let o=i.indexOf(e);for(;o-- >=-1;){const a=i[o];if(!a||!fj(a)){if(a&&9===a.type){"else-if"!==t.name&&"else"!==t.name||void 0!==a.branches[a.branches.length-1].condition||n.onError(SV(30,e.loc)),n.removeNode();const i=yH(e,t);a.branches.push(i);const o=r&&r(a,i,!1);rH(i,n),o&&o(),n.currentNode=null}else n.onError(SV(30,e.loc));break}n.removeNode(a)}}var i}function yH(e,t){const n=3===e.tagType;return{type:10,loc:e.loc,condition:"else"===t.name?void 0:t.exp,children:n&&!YV(e,"for")?e.children:[e],userKey:KV(e,"key"),isTemplateIf:n}}function _H(e,t,n){return e.condition?iV(e.condition,bH(e,t,n),nV(n.helper(vz),['""',"true"])):bH(e,t,n)}function bH(e,t,n){const{helper:r}=n,i=Qz("key",eV("".concat(t),!1,Yz,2)),{children:o}=e,a=o[0];if(1!==o.length||1!==a.type){if(1===o.length&&11===a.type){const e=a.codegenNode;return oj(e,i,n),e}{let t=64;return $z(n,r(sz),Jz([i]),o,t,void 0,void 0,!0,!1,!1,e.loc)}}{const e=a.codegenNode,t=lj(e);return 13===t.type&&cV(t,n),oj(t,i,n),e}}const xH=iH("for",(e,t,n)=>{const{helper:r,removeHelper:i}=n;return wH(e,t,n,t=>{const o=nV(r(Tz),[t.source]),a=tj(e),s=YV(e,"memo"),l=KV(e,"key",!1,!0);l&&l.type;let c=l&&(6===l.type?l.value?eV(l.value.content,!0):void 0:l.exp);const u=l&&c?Qz("key",c):null,h=4===t.source.type&&t.source.constType>0,f=h?64:l?128:256;return t.codegenNode=$z(n,r(sz),void 0,o,f,void 0,void 0,!0,!h,!1,e.loc),()=>{let l;const{children:f}=t,d=1!==f.length||1!==f[0].type,p=nj(e)?e:a&&1===e.children.length&&nj(e.children[0])?e.children[0]:null;if(p?(l=p.codegenNode,a&&u&&oj(l,u,n)):d?l=$z(n,r(sz),u?Jz([u]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(l=f[0].codegenNode,a&&u&&oj(l,u,n),l.isBlock!==!h&&(l.isBlock?(i(fz),i(lV(n.inSSR,l.isComponent))):i(sV(n.inSSR,l.isComponent))),l.isBlock=!h,l.isBlock?(r(fz),r(lV(n.inSSR,l.isComponent))):r(sV(n.inSSR,l.isComponent))),s){const e=rV(EH(t.parseResult,[eV("_cached")]));e.body=aV([tV(["const _memo = (",s.exp,")"]),tV(["if (_cached",...c?[" && _cached.key === ",c]:[]," && ".concat(n.helperString(Gz),"(_cached, _memo)) return _cached")]),tV(["const _item = ",l]),eV("_item.memo = _memo"),eV("return _item")]),o.arguments.push(e,eV("_cache"),eV(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(rV(EH(t.parseResult),l,!0))}})});function wH(e,t,n,r){if(!t.exp)return void n.onError(SV(31,t.loc));const i=t.forParseResult;if(!i)return void n.onError(SV(32,t.loc));SH(i);const{addIdentifiers:o,removeIdentifiers:a,scopes:s}=n,{source:l,value:c,key:u,index:h}=i,f={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:i,children:tj(e)?e.children:[e]};n.replaceNode(f),s.vFor++;const d=r&&r(f);return()=>{s.vFor--,d&&d()}}function SH(e,t){e.finalized||(e.finalized=!0)}function EH({value:e,key:t,index:n},r=[]){return function(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((e,t)=>e||eV("_".repeat(t+1),!1))}([e,t,n,...r])}const TH=eV("undefined",!1),AH=(e,t)=>{if(1===e.type&&(1===e.tagType||3===e.tagType)){const n=YV(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},MH=(e,t,n,r)=>rV(e,n,!1,!0,n.length?n[0].loc:r);function CH(e,t,n=MH){t.helper(Vz);const{children:r,loc:i}=e,o=[],a=[];let s=t.scopes.vSlot>0||t.scopes.vFor>0;const l=YV(e,"slot",!0);if(l){const{arg:e,exp:t}=l;e&&!kV(e)&&(s=!0),o.push(Qz(e||eV("default",!0),n(t,void 0,r,i)))}let c=!1,u=!1;const h=[],f=new Set;let d=0;for(let g=0;g<r.length;g++){const e=r[g];let i;if(!tj(e)||!(i=YV(e,"slot",!0))){3!==e.type&&h.push(e);continue}if(l){t.onError(SV(37,i.loc));break}c=!0;const{children:p,loc:m}=e,{arg:v=eV("default",!0),exp:y,loc:_}=i;let b;kV(v)?b=v?v.content:"default":s=!0;const x=YV(e,"for"),w=n(y,x,p,m);let S,E;if(S=YV(e,"if"))s=!0,a.push(iV(S.exp,OH(v,w,d++),TH));else if(E=YV(e,/^else(?:-if)?$/,!0)){let e,n=g;for(;n--&&(e=r[n],fj(e)););if(e&&tj(e)&&YV(e,/^(?:else-)?if$/)){let e=a[a.length-1];for(;19===e.alternate.type;)e=e.alternate;e.alternate=E.exp?iV(E.exp,OH(v,w,d++),TH):OH(v,w,d++)}else t.onError(SV(30,E.loc))}else if(x){s=!0;const e=x.forParseResult;e?(SH(e),a.push(nV(t.helper(Tz),[e.source,rV(EH(e),OH(v,w),!0)]))):t.onError(SV(32,x.loc))}else{if(b){if(f.has(b)){t.onError(SV(38,_));continue}f.add(b),"default"===b&&(u=!0)}o.push(Qz(v,w))}}if(!l){const e=(e,r)=>{const o=n(e,void 0,r,i);return t.compatConfig&&(o.isNonScopedSlot=!0),Qz("default",o)};c?h.length&&!h.every(hj)&&(u?t.onError(SV(39,h[0].loc)):o.push(e(void 0,h))):o.push(e(void 0,r))}const p=s?2:RH(e.children)?3:1;let m=Jz(o.concat(Qz("_",eV(p+"",!1))),i);return a.length&&(m=nV(t.helper(Mz),[m,Zz(a)])),{slots:m,hasDynamicSlots:s}}function OH(e,t,n){const r=[Qz("name",e),Qz("fn",t)];return null!=n&&r.push(Qz("key",eV(String(n),!0))),Jz(r)}function RH(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(2===n.tagType||RH(n.children))return!0;break;case 9:if(RH(n.branches))return!0;break;case 10:case 11:if(RH(n.children))return!0}}return!1}const IH=new WeakMap,kH=(e,t)=>function(){if(1!==(e=t.currentNode).type||0!==e.tagType&&1!==e.tagType)return;const{tag:n,props:r}=e,i=1===e.tagType;let o=i?PH(e,t):'"'.concat(n,'"');const a=x(o)&&o.callee===xz;let s,l,c,u,h,f=0,d=a||o===lz||o===cz||!i&&("svg"===n||"foreignObject"===n||"math"===n);if(r.length>0){const n=DH(e,t,void 0,i,a);s=n.props,f=n.patchFlag,u=n.dynamicPropNames;const r=n.directives;h=r&&r.length?Zz(r.map(e=>FH(e,t))):void 0,n.shouldUseBlock&&(d=!0)}if(e.children.length>0){o===uz&&(d=!0,f|=1024);if(i&&o!==lz&&o!==uz){const{slots:n,hasDynamicSlots:r}=CH(e,t);l=n,r&&(f|=1024)}else if(1===e.children.length&&o!==lz){const n=e.children[0],r=n.type,i=5===r||8===r;i&&0===$j(n,t)&&(f|=1),l=i||2===r?n:e.children}else l=e.children}u&&u.length&&(c=function(e){let t="[";for(let n=0,r=e.length;n<r;n++)t+=JSON.stringify(e[n]),n<r-1&&(t+=", ");return t+"]"}(u)),e.codegenNode=$z(t,o,s,l,0===f?void 0:f,c,h,!!d,!1,i,e.loc)};function PH(e,t,n=!1){let{tag:r}=e;const i=UH(r),o=KV(e,"is",!1,!0);if(o)if(i||_V("COMPILER_IS_ON_ELEMENT",t)){let e;if(6===o.type?e=o.value&&eV(o.value.content,!0):(e=o.exp,e||(e=eV("is",!1,o.arg.loc))),e)return nV(t.helper(xz),[e])}else 6===o.type&&o.value.content.startsWith("vue:")&&(r=o.value.content.slice(4));const a=PV(r)||t.isBuiltInComponent(r);return a?(n||t.helper(a),a):(t.helper(bz),t.components.add(r),sj(r,"component"))}function DH(e,t,n=e.props,r,i,o=!1){const{tag:a,loc:l,children:c}=e;let u=[];const h=[],f=[],d=c.length>0;let p=!1,m=0,g=!1,v=!1,y=!1,_=!1,x=!1,w=!1;const S=[],E=e=>{u.length&&(h.push(Jz(NH(u),l)),u=[]),e&&h.push(e)},T=()=>{t.scopes.vFor>0&&u.push(Qz(eV("ref_for",!0),eV("true")))},A=({key:e,value:n})=>{if(kV(e)){const o=e.content,a=s(o);if(!a||r&&!i||"onclick"===o.toLowerCase()||"onUpdate:modelValue"===o||C(o)||(_=!0),a&&C(o)&&(w=!0),a&&14===n.type&&(n=n.arguments[0]),20===n.type||(4===n.type||8===n.type)&&$j(n,t)>0)return;"ref"===o?g=!0:"class"===o?v=!0:"style"===o?y=!0:"key"===o||S.includes(o)||S.push(o),!r||"class"!==o&&"style"!==o||S.includes(o)||S.push(o)}else x=!0};for(let s=0;s<n.length;s++){const i=n[s];if(6===i.type){const{loc:e,name:n,nameLoc:r,value:o}=i;let s=!0;if("ref"===n&&(g=!0,T()),"is"===n&&(UH(a)||o&&o.content.startsWith("vue:")||_V("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(Qz(eV(n,!0,r),eV(o?o.content:"",s,o?o.loc:e)))}else{const{name:n,arg:s,exp:c,loc:g,modifiers:v}=i,y="bind"===n,_="on"===n;if("slot"===n){r||t.onError(SV(40,g));continue}if("once"===n||"memo"===n)continue;if("is"===n||y&&$V(s,"is")&&(UH(a)||_V("COMPILER_IS_ON_ELEMENT",t)))continue;if(_&&o)continue;if((y&&$V(s,"key")||_&&d&&$V(s,"vue:before-update"))&&(p=!0),y&&$V(s,"ref")&&T(),!s&&(y||_)){if(x=!0,c)if(y){if(E(),_V("COMPILER_V_BIND_OBJECT_ORDER",t)){h.unshift(c);continue}T(),E(),h.push(c)}else E({type:14,loc:g,callee:t.helper(Dz),arguments:r?[c]:[c,"true"]});else t.onError(SV(y?34:35,g));continue}y&&v.some(e=>"prop"===e.content)&&(m|=32);const w=t.directiveTransforms[n];if(w){const{props:n,needRuntime:r}=w(i,e,t);!o&&n.forEach(A),_&&s&&!kV(s)?E(Jz(n,l)):u.push(...n),r&&(f.push(i),b(r)&&IH.set(i,r))}else O(n)||(f.push(i),d&&(p=!0))}}let M;if(h.length?(E(),M=h.length>1?nV(t.helper(Oz),h,l):h[0]):u.length&&(M=Jz(NH(u),l)),x?m|=16:(v&&!r&&(m|=2),y&&!r&&(m|=4),S.length&&(m|=8),_&&(m|=32)),p||0!==m&&32!==m||!(g||w||f.length>0)||(m|=512),!t.inSSR&&M)switch(M.type){case 15:let e=-1,n=-1,r=!1;for(let t=0;t<M.properties.length;t++){const i=M.properties[t].key;kV(i)?"class"===i.content?e=t:"style"===i.content&&(n=t):i.isHandlerKey||(r=!0)}const i=M.properties[e],o=M.properties[n];r?M=nV(t.helper(kz),[M]):(i&&!kV(i.value)&&(i.value=nV(t.helper(Rz),[i.value])),o&&(y||4===o.value.type&&"["===o.value.content.trim()[0]||17===o.value.type)&&(o.value=nV(t.helper(Iz),[o.value])));break;case 14:break;default:M=nV(t.helper(kz),[nV(t.helper(Pz),[M])])}return{props:M,directives:f,patchFlag:m,dynamicPropNames:S,shouldUseBlock:p}}function NH(e){const t=new Map,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(8===i.key.type||!i.key.isStatic){n.push(i);continue}const o=i.key.content,a=t.get(o);a?("style"===o||"class"===o||s(o))&&LH(a,i):(t.set(o,i),n.push(i))}return n}function LH(e,t){17===e.value.type?e.value.elements.push(t.value):e.value=Zz([e.value,t.value],e.loc)}function FH(e,t){const n=[],r=IH.get(e);r?n.push(t.helperString(r)):(t.helper(wz),t.directives.add(e.name),n.push(sj(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const t=eV("true",!1,i);n.push(Jz(e.modifiers.map(e=>Qz(e,t)),i))}return Zz(n,e.loc)}function UH(e){return"component"===e||"Component"===e}const BH=(e,t)=>{if(nj(e)){const{children:n,loc:r}=e,{slotName:i,slotProps:o}=zH(e,t),a=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let s=2;o&&(a[2]=o,s=3),n.length&&(a[3]=rV([],n,!1,!1,r),s=4),t.scopeId&&!t.slotted&&(s=5),a.splice(s),e.codegenNode=nV(t.helper(Az),a,r)}};function zH(e,t){let n,r='"default"';const i=[];for(let o=0;o<e.props.length;o++){const t=e.props[o];if(6===t.type)t.value&&("name"===t.name?r=JSON.stringify(t.value.content):(t.name=k(t.name),i.push(t)));else if("bind"===t.name&&$V(t.arg,"name")){if(t.exp)r=t.exp;else if(t.arg&&4===t.arg.type){const e=k(t.arg.content);r=t.exp=eV(e,!1,t.arg.loc)}}else"bind"===t.name&&t.arg&&kV(t.arg)&&(t.arg.content=k(t.arg.content)),i.push(t)}if(i.length>0){const{props:r,directives:o}=DH(e,t,i,!1,!1);n=r,o.length&&t.onError(SV(36,o[0].loc))}return{slotName:r,slotProps:n}}const VH=(e,t,n,r)=>{const{loc:i,modifiers:o,arg:a}=e;let s;if(e.exp||o.length||n.onError(SV(35,i)),4===a.type)if(a.isStatic){let e=a.content;e.startsWith("vue:")&&(e="vnode-".concat(e.slice(4)));s=eV(0!==t.tagType||e.startsWith("vnode")||!/[A-Z]/.test(e)?L(k(e)):"on:".concat(e),!0,a.loc)}else s=tV(["".concat(n.helperString(Fz),"("),a,")"]);else s=a,s.children.unshift("".concat(n.helperString(Fz),"(")),s.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const e=jV(l),t=!(e||qV(l)),n=l.content.includes(";");(t||c&&e)&&(l=tV(["".concat(t?"$event":"".concat("","(...args)")," => ").concat(n?"{":"("),l,n?"}":")"]))}let u={props:[Qz(s,l||eV("() => {}",!1,i))]};return r&&(u=r(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(e=>e.key.isHandlerKey=!0),u},jH=(e,t,n)=>{const{modifiers:r,loc:i}=e,o=e.arg;let{exp:a}=e;return a&&4===a.type&&!a.content.trim()&&(a=void 0),4!==o.type?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=o.content?"".concat(o.content,' || ""'):'""'),r.some(e=>"camel"===e.content)&&(4===o.type?o.isStatic?o.content=k(o.content):o.content="".concat(n.helperString(Nz),"(").concat(o.content,")"):(o.children.unshift("".concat(n.helperString(Nz),"(")),o.children.push(")"))),n.inSSR||(r.some(e=>"prop"===e.content)&&HH(o,"."),r.some(e=>"attr"===e.content)&&HH(o,"^")),{props:[Qz(o,a)]}},HH=(e,t)=>{4===e.type?e.isStatic?e.content=t+e.content:e.content="`".concat(t,"${").concat(e.content,"}`"):(e.children.unshift("'".concat(t,"' + (")),e.children.push(")"))},WH=(e,t)=>{if(0===e.type||1===e.type||11===e.type||10===e.type)return()=>{const n=e.children;let r,i=!1;for(let e=0;e<n.length;e++){const t=n[e];if(JV(t)){i=!0;for(let i=e+1;i<n.length;i++){const o=n[i];if(!JV(o)){r=void 0;break}r||(r=n[e]=tV([t],t.loc)),r.children.push(" + ",o),n.splice(i,1),i--}}}if(i&&(1!==n.length||0!==e.type&&(1!==e.type||0!==e.tagType||e.props.find(e=>7===e.type&&!t.directiveTransforms[e.name])||"template"===e.tag)))for(let e=0;e<n.length;e++){const r=n[e];if(JV(r)||8===r.type){const i=[];2===r.type&&" "===r.content||i.push(r),t.ssr||0!==$j(r,t)||i.push("1"),n[e]={type:12,content:r,loc:r.loc,codegenNode:nV(t.helper(yz),i)}}}}},GH=new WeakSet,qH=(e,t)=>{if(1===e.type&&YV(e,"once",!0)){if(GH.has(e)||t.inVOnce||t.inSSR)return;return GH.add(e),t.inVOnce=!0,t.helper(Uz),()=>{t.inVOnce=!1;const e=t.currentNode;e.codegenNode&&(e.codegenNode=t.cache(e.codegenNode,!0,!0))}}},XH=(e,t,n)=>{const{exp:r,arg:i}=e;if(!r)return n.onError(SV(41,e.loc)),YH();const o=r.loc.source.trim(),a=4===r.type?r.content:o,s=n.bindingMetadata[o];if("props"===s||"props-aliased"===s)return n.onError(SV(44,r.loc)),YH();if("literal-const"===s||"setup-const"===s)return n.onError(SV(45,r.loc)),YH();if(!a.trim()||!jV(r))return n.onError(SV(42,r.loc)),YH();const l=i||eV("modelValue",!0),c=i?kV(i)?"onUpdate:".concat(k(i.content)):tV(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const h=n.isTS?"($event: any)":"$event";u=tV(["".concat(h," => (("),r,") = $event)"]);const f=[Qz(l,e.exp),Qz(c,u)];if(e.modifiers.length&&1===t.tagType){const t=e.modifiers.map(e=>e.content).map(e=>(NV(e)?e:JSON.stringify(e))+": true").join(", "),n=i?kV(i)?"".concat(i.content,"Modifiers"):tV([i,' + "Modifiers"']):"modelModifiers";f.push(Qz(n,eV("{ ".concat(t," }"),!1,e.loc,2)))}return YH(f)};function YH(e=[]){return{props:e}}const KH=/[\w).+\-_$\]]/,$H=(e,t)=>{_V("COMPILER_FILTERS",t)&&(5===e.type?ZH(e.content,t):1===e.type&&e.props.forEach(e=>{7===e.type&&"for"!==e.name&&e.exp&&ZH(e.exp,t)}))};function ZH(e,t){if(4===e.type)JH(e,t);else for(let n=0;n<e.children.length;n++){const r=e.children[n];"object"==typeof r&&(4===r.type?JH(r,t):8===r.type?ZH(e,t):5===r.type&&ZH(r.content,t))}}function JH(e,t){const n=e.content;let r,i,o,a,s=!1,l=!1,c=!1,u=!1,h=0,f=0,d=0,p=0,m=[];for(o=0;o<n.length;o++)if(i=r,r=n.charCodeAt(o),s)39===r&&92!==i&&(s=!1);else if(l)34===r&&92!==i&&(l=!1);else if(c)96===r&&92!==i&&(c=!1);else if(u)47===r&&92!==i&&(u=!1);else if(124!==r||124===n.charCodeAt(o+1)||124===n.charCodeAt(o-1)||h||f||d){switch(r){case 34:l=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:d++;break;case 41:d--;break;case 91:f++;break;case 93:f--;break;case 123:h++;break;case 125:h--}if(47===r){let e,t=o-1;for(;t>=0&&(e=n.charAt(t)," "===e);t--);e&&KH.test(e)||(u=!0)}}else void 0===a?(p=o+1,a=n.slice(0,o).trim()):g();function g(){m.push(n.slice(p,o).trim()),p=o+1}if(void 0===a?a=n.slice(0,o).trim():0!==p&&g(),m.length){for(o=0;o<m.length;o++)a=QH(a,m[o],t);e.content=a,e.ast=void 0}}function QH(e,t,n){n.helper(Sz);const r=t.indexOf("(");if(r<0)return n.filters.add(t),"".concat(sj(t,"filter"),"(").concat(e,")");{const i=t.slice(0,r),o=t.slice(r+1);return n.filters.add(i),"".concat(sj(i,"filter"),"(").concat(e).concat(")"!==o?","+o:o)}}const eW=new WeakSet,tW=(e,t)=>{if(1===e.type){const n=YV(e,"memo");if(!n||eW.has(e)||t.inSSR)return;return eW.add(e),()=>{const r=e.codegenNode||t.currentNode.codegenNode;r&&13===r.type&&(1!==e.tagType&&cV(r,t),e.codegenNode=nV(t.helper(Wz),[n.exp,rV(void 0,r),"_cache",String(t.cached.length)]),t.cached.push(null))}}},nW=(e,t)=>{if(1===e.type)for(const n of e.props)if(7===n.type&&"bind"===n.name&&(!n.exp||4===n.exp.type&&!n.exp.content.trim())&&n.arg){const e=n.arg;if(4===e.type&&e.isStatic){const t=k(e.content);(LV.test(t[0])||"-"===t[0])&&(n.exp=eV(t,!1,e.loc))}else t.onError(SV(53,e.loc)),n.exp=eV("",!0,e.loc)}};function rW(e){return[[nW,qH,gH,tW,xH,$H,BH,kH,AH,WH],{on:VH,bind:jH,model:XH}]}function iW(e,t={}){const n=t.onError||xV,r="module"===t.mode;!0===t.prefixIdentifiers?n(SV(48)):r&&n(SV(49));t.cacheHandlers&&n(SV(50)),t.scopeId&&!r&&n(SV(51));const i=c({},t,{prefixIdentifiers:!1}),o=_(e)?qj(e,i):e,[a,s]=rW();return nH(o,c({},i,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:c({},s,t.directiveTransforms||{})})),sH(o,i)}const oW=()=>({props:[]}),aW=Symbol(""),sW=Symbol(""),lW=Symbol(""),cW=Symbol(""),uW=Symbol(""),hW=Symbol(""),fW=Symbol(""),dW=Symbol(""),pW=Symbol(""),mW=Symbol("");let gW;Xz({[aW]:"vModelRadio",[sW]:"vModelCheckbox",[lW]:"vModelText",[cW]:"vModelSelect",[uW]:"vModelDynamic",[hW]:"withModifiers",[fW]:"withKeys",[dW]:"vShow",[pW]:"Transition",[mW]:"TransitionGroup"});const vW={parseMode:"html",isVoidTag:se,isNativeTag:e=>ie(e)||oe(e)||ae(e),isPreTag:e=>"pre"===e,isIgnoreNewlineTag:e=>"pre"===e||"textarea"===e,decodeEntities:function(e,t=!1){return gW||(gW=document.createElement("div")),t?(gW.innerHTML='<div foo="'.concat(e.replace(/"/g,"&quot;"),'">'),gW.children[0].getAttribute("foo")):(gW.innerHTML=e,gW.textContent)},isBuiltInComponent:e=>"Transition"===e||"transition"===e?pW:"TransitionGroup"===e||"transition-group"===e?mW:void 0,getNamespace(e,t,n){let r=t?t.ns:n;if(t&&2===r)if("annotation-xml"===t.tag){if("svg"===e)return 1;t.props.some(e=>6===e.type&&"encoding"===e.name&&null!=e.value&&("text/html"===e.value.content||"application/xhtml+xml"===e.value.content))&&(r=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&"mglyph"!==e&&"malignmark"!==e&&(r=0);else t&&1===r&&("foreignObject"!==t.tag&&"desc"!==t.tag&&"title"!==t.tag||(r=0));if(0===r){if("svg"===e)return 1;if("math"===e)return 2}return r}},yW=e=>{1===e.type&&e.props.forEach((t,n)=>{6===t.type&&"style"===t.name&&t.value&&(e.props[n]={type:7,name:"bind",arg:eV("style",!0,t.loc),exp:_W(t.value.content,t.loc),modifiers:[],loc:t.loc})})},_W=(e,t)=>{const n=te(e);return eV(JSON.stringify(n),!1,t,3)};function bW(e,t){return SV(e,t)}const xW={54:"v-html is missing expression.",55:"v-html will override element children.",56:"v-text is missing expression.",57:"v-text will override element children.",58:"v-model can only be used on <input>, <textarea> and <select> elements.",59:"v-model argument is not supported on plain elements.",60:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",61:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",62:"v-show is missing expression.",63:"<Transition> expects exactly one child element or component.",64:"Tags with side effect (<script> and <style>) are ignored in client component templates."},wW=n("passive,once,capture"),SW=n("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),EW=n("left,right"),TW=n("onkeyup,onkeydown,onkeypress"),AW=(e,t)=>kV(e)&&"onclick"===e.content.toLowerCase()?eV(t,!0):4!==e.type?tV(["(",e,') === "onClick" ? "'.concat(t,'" : ('),e,")"]):e,MW=(e,t)=>{1!==e.type||0!==e.tagType||"script"!==e.tag&&"style"!==e.tag||t.removeNode()},CW=[yW],OW={cloak:oW,html:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(bW(54,i)),t.children.length&&(n.onError(bW(55,i)),t.children.length=0),{props:[Qz(eV("innerHTML",!0,i),r||eV("",!0))]}},text:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(bW(56,i)),t.children.length&&(n.onError(bW(57,i)),t.children.length=0),{props:[Qz(eV("textContent",!0),r?$j(r,n)>0?r:nV(n.helperString(Cz),[r],i):eV("",!0))]}},model:(e,t,n)=>{const r=XH(e,t,n);if(!r.props.length||1===t.tagType)return r;e.arg&&n.onError(bW(59,e.arg.loc));const{tag:i}=t,o=n.isCustomElement(i);if("input"===i||"textarea"===i||"select"===i||o){let a=lW,s=!1;if("input"===i||o){const r=KV(t,"type");if(r){if(7===r.type)a=uW;else if(r.value)switch(r.value.content){case"radio":a=aW;break;case"checkbox":a=sW;break;case"file":s=!0,n.onError(bW(60,e.loc))}}else ZV(t)&&(a=uW)}else"select"===i&&(a=cW);s||(r.needRuntime=n.helper(a))}else n.onError(bW(58,e.loc));return r.props=r.props.filter(e=>!(4===e.key.type&&"modelValue"===e.key.content)),r},on:(e,t,n)=>VH(e,t,n,t=>{const{modifiers:r}=e;if(!r.length)return t;let{key:i,value:o}=t.props[0];const{keyModifiers:a,nonKeyModifiers:s,eventOptionModifiers:l}=((e,t,n)=>{const r=[],i=[],o=[];for(let a=0;a<t.length;a++){const s=t[a].content;"native"===s&&bV("COMPILER_V_ON_NATIVE",n)||wW(s)?o.push(s):EW(s)?kV(e)?TW(e.content.toLowerCase())?r.push(s):i.push(s):(r.push(s),i.push(s)):SW(s)?i.push(s):r.push(s)}return{keyModifiers:r,nonKeyModifiers:i,eventOptionModifiers:o}})(i,r,n,e.loc);if(s.includes("right")&&(i=AW(i,"onContextmenu")),s.includes("middle")&&(i=AW(i,"onMouseup")),s.length&&(o=nV(n.helper(hW),[o,JSON.stringify(s)])),!a.length||kV(i)&&!TW(i.content.toLowerCase())||(o=nV(n.helper(fW),[o,JSON.stringify(a)])),l.length){const e=l.map(N).join("");i=kV(i)?eV("".concat(i.content).concat(e),!0):tV(["(",i,') + "'.concat(e,'"')])}return{props:[Qz(i,o)]}}),show:(e,t,n)=>{const{exp:r,loc:i}=e;return r||n.onError(bW(62,i)),{props:[],needRuntime:n.helper(dW)}}};const RW=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:hz,BindingTypes:{DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},CAMELIZE:Nz,CAPITALIZE:Lz,CREATE_BLOCK:dz,CREATE_COMMENT:vz,CREATE_ELEMENT_BLOCK:pz,CREATE_ELEMENT_VNODE:gz,CREATE_SLOTS:Mz,CREATE_STATIC:_z,CREATE_TEXT:yz,CREATE_VNODE:mz,CompilerDeprecationTypes:{COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},ConstantTypes:{NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},DOMDirectiveTransforms:OW,DOMErrorCodes:{X_V_HTML_NO_EXPRESSION:54,54:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:55,55:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:56,56:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:57,57:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:58,58:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:59,59:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:60,60:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:61,61:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:62,62:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:63,63:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:64,64:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:65,65:"__EXTEND_POINT__"},DOMErrorMessages:xW,DOMNodeTransforms:CW,ElementTypes:{ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},ErrorCodes:{ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_V_MODEL_ON_CONST:45,45:"X_V_MODEL_ON_CONST",X_INVALID_EXPRESSION:46,46:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:47,47:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:48,48:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:49,49:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:50,50:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:51,51:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:52,52:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:53,53:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:54,54:"__EXTEND_POINT__"},FRAGMENT:sz,GUARD_REACTIVE_PROPS:Pz,IS_MEMO_SAME:Gz,IS_REF:Hz,KEEP_ALIVE:uz,MERGE_PROPS:Oz,NORMALIZE_CLASS:Rz,NORMALIZE_PROPS:kz,NORMALIZE_STYLE:Iz,Namespaces:{HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},NodeTypes:{ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},OPEN_BLOCK:fz,POP_SCOPE_ID:zz,PUSH_SCOPE_ID:Bz,RENDER_LIST:Tz,RENDER_SLOT:Az,RESOLVE_COMPONENT:bz,RESOLVE_DIRECTIVE:wz,RESOLVE_DYNAMIC_COMPONENT:xz,RESOLVE_FILTER:Sz,SET_BLOCK_TRACKING:Uz,SUSPENSE:cz,TELEPORT:lz,TO_DISPLAY_STRING:Cz,TO_HANDLERS:Dz,TO_HANDLER_KEY:Fz,TRANSITION:pW,TRANSITION_GROUP:mW,TS_NODE_TYPES:IV,UNREF:jz,V_MODEL_CHECKBOX:sW,V_MODEL_DYNAMIC:uW,V_MODEL_RADIO:aW,V_MODEL_SELECT:cW,V_MODEL_TEXT:lW,V_ON_WITH_KEYS:fW,V_ON_WITH_MODIFIERS:hW,V_SHOW:dW,WITH_CTX:Vz,WITH_DIRECTIVES:Ez,WITH_MEMO:Wz,advancePositionWithClone:function(e,t,n=t.length){return XV({offset:e.offset,line:e.line,column:e.column},t,n)},advancePositionWithMutation:XV,assert:function(e,t){if(!e)throw new Error(t||"unexpected compiler condition")},baseCompile:iW,baseParse:qj,buildDirectiveArgs:FH,buildProps:DH,buildSlots:CH,checkCompatEnabled:bV,compile:function(e,t={}){return iW(e,c({},vW,t,{nodeTransforms:[MW,...CW,...t.nodeTransforms||[]],directiveTransforms:c({},OW,t.directiveTransforms||{}),transformHoist:null}))},convertToBlock:cV,createArrayExpression:Zz,createAssignmentExpression:function(e,t){return{type:24,left:e,right:t,loc:Yz}},createBlockStatement:aV,createCacheExpression:oV,createCallExpression:nV,createCompilerError:SV,createCompoundExpression:tV,createConditionalExpression:iV,createDOMCompilerError:bW,createForLoopParams:EH,createFunctionExpression:rV,createIfStatement:function(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:Yz}},createInterpolation:function(e,t){return{type:5,loc:t,content:_(e)?eV(e,!1,t):e}},createObjectExpression:Jz,createObjectProperty:Qz,createReturnStatement:function(e){return{type:26,returns:e,loc:Yz}},createRoot:Kz,createSequenceExpression:function(e){return{type:25,expressions:e,loc:Yz}},createSimpleExpression:eV,createStructuralDirectiveTransform:iH,createTemplateLiteral:function(e){return{type:22,elements:e,loc:Yz}},createTransformContext:tH,createVNodeCall:$z,errorMessages:EV,extractIdentifiers:OV,findDir:YV,findProp:KV,forAliasRE:cj,generate:sH,generateCodeFrame:K,getBaseTransformPreset:rW,getConstantType:$j,getMemoedVNodeCall:lj,getVNodeBlockHelper:lV,getVNodeHelper:sV,hasDynamicKeyVBind:ZV,hasScopeRef:function e(t,n){if(!t||0===Object.keys(n).length)return!1;switch(t.type){case 1:for(let r=0;r<t.props.length;r++){const i=t.props[r];if(7===i.type&&(e(i.arg,n)||e(i.exp,n)))return!0}return t.children.some(t=>e(t,n));case 11:return!!e(t.source,n)||t.children.some(t=>e(t,n));case 9:return t.branches.some(t=>e(t,n));case 10:return!!e(t.condition,n)||t.children.some(t=>e(t,n));case 4:return!t.isStatic&&NV(t.content)&&!!n[t.content];case 8:return t.children.some(t=>x(t)&&e(t,n));case 5:case 12:return e(t.content,n);default:return!1}},helperNameMap:qz,injectProp:oj,isAllWhitespace:uj,isCommentOrWhitespace:fj,isCoreComponent:PV,isFnExpression:qV,isFnExpressionBrowser:WV,isFnExpressionNode:GV,isFunctionType:e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),isInDestructureAssignment:function(e,t){if(e&&("ObjectProperty"===e.type||"ArrayPattern"===e.type)){let e=t.length;for(;e--;){const n=t[e];if("AssignmentExpression"===n.type)return!0;if("ObjectProperty"!==n.type&&!n.type.endsWith("Pattern"))break}}return!1},isInNewExpression:function(e){let t=e.length;for(;t--;){const n=e[t];if("NewExpression"===n.type)return!0;if("MemberExpression"!==n.type)break}return!1},isMemberExpression:jV,isMemberExpressionBrowser:zV,isMemberExpressionNode:VV,isReferencedIdentifier:function(e,t,n){return!1},isSimpleIdentifier:NV,isSlotOutlet:nj,isStaticArgOf:$V,isStaticExp:kV,isStaticProperty:RV,isStaticPropertyKey:(e,t)=>RV(t)&&t.key===e,isTemplateNode:tj,isText:JV,isVPre:QV,isVSlot:ej,isWhitespaceText:hj,locStub:Yz,noopDirectiveTransform:oW,parse:function(e,t={}){return qj(e,c({},vW,t))},parserOptions:vW,processExpression:mH,processFor:wH,processIf:vH,processSlotOutlet:zH,registerRuntimeHelpers:Xz,resolveComponentType:PH,stringifyExpression:function e(t){return _(t)?t:4===t.type?t.content:t.children.map(e).join("")},toValidAssetId:sj,trackSlotScopes:AH,trackVForSlotScopes:(e,t)=>{let n;if(tj(e)&&e.props.some(ej)&&(n=YV(e,"for"))){const e=n.forParseResult;if(e){SH(e);const{value:n,key:r,index:i}=e,{addIdentifiers:o,removeIdentifiers:a}=t;return n&&o(n),r&&o(r),i&&o(i),()=>{n&&a(n),r&&a(r),i&&a(i)}}}},transform:nH,transformBind:jH,transformElement:kH,transformExpression:(e,t)=>{if(5===e.type)e.content=mH(e.content,t);else if(1===e.type){const n=YV(e,"memo");for(let r=0;r<e.props.length;r++){const i=e.props[r];if(7===i.type&&"for"!==i.name){const e=i.exp,r=i.arg;!e||4!==e.type||"on"===i.name&&r||n&&r&&4===r.type&&"key"===r.content||(i.exp=mH(e,t,"slot"===i.name)),r&&4===r.type&&!r.isStatic&&(i.arg=mH(r,t))}}}},transformModel:XH,transformOn:VH,transformStyle:yW,transformVBindShorthand:nW,traverseNode:rH,unwrapTSNode:function e(t){return IV.includes(t.type)?e(t.expression):t},validFirstIdentCharRE:LV,walkBlockDeclarations:TV,walkFunctionParams:function(e,t){for(const n of e.params)for(const e of OV(n))t(e)},walkIdentifiers:function(e,t,n=!1,r=[],i=Object.create(null)){},warnDeprecation:function(e,t,n,...r){if("suppress-warning"===yV(e,t))return;const{message:i,link:o}=vV[e],a="(deprecation ".concat(e,") ").concat("function"==typeof i?i(...r):i).concat(o?"\n  Details: ".concat(o):""),s=new SyntaxError(a);s.code=e,n&&(s.loc=n),t.onWarn(s)}},Symbol.toStringTag,{value:"Module"})),IW=bR(RW),kW=bR(ql),PW=bR(Me);var DW,NW;function LW(){return NW||(NW=1,oz.exports=(DW||(DW=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=IW,n=kW,r=PW;function i(e){var t=Object.create(null);if(e)for(var n in e)t[n]=e[n];return t.default=e,Object.freeze(t)}var o=i(n);const a=Object.create(null);function s(e,n){if(!r.isString(e)){if(!e.nodeType)return r.NOOP;e=e.innerHTML}const i=r.genCacheKey(e,n),s=a[i];if(s)return s;if("#"===e[0]){const t=document.querySelector(e);e=t?t.innerHTML:""}const l=r.extend({hoistStatic:!0,onError:void 0,onWarn:r.NOOP},n);l.isCustomElement||"undefined"==typeof customElements||(l.isCustomElement=e=>!!customElements.get(e));const{code:c}=t.compile(e,l),u=new Function("Vue",c)(o);return u._rc=!0,a[i]=u}n.registerRuntimeCompiler(s),e.compile=s,Object.keys(n).forEach(function(t){"default"===t||Object.prototype.hasOwnProperty.call(e,t)||(e[t]=n[t])})}(az)),az)),oz.exports}var FW;var UW,BW=FW?iz.exports:(FW=1,UW=e=>(()=>{var t={113:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},594:t=>{t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};r.r(i),r.d(i,{ToastComponent:()=>p,ToastPlugin:()=>g,ToastPositions:()=>c,default:()=>v,useToast:()=>m});var o=r(594);const a=["innerHTML"];function s(e){var t;void 0!==e.remove?e.remove():null==(t=e.parentNode)||t.removeChild(e)}class l{constructor(e,t){this.startedAt=Date.now(),this.callback=e,this.delay=t,this.timer=setTimeout(e,t)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const c=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"}),u=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(e){e(n)}),(r=e.get("*"))&&r.slice().map(function(e){e(t,n)})}}}(),h=u,f=(0,o.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:c.BOTTOM_RIGHT,validator:e=>Object.values(c).includes(e)},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data:()=>({isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}),beforeMount(){this.setupContainer()},mounted(){this.showNotice(),h.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const e=document.body;e.appendChild(this.parentTop),e.appendChild(this.parentBottom)},shouldQueue(){return!!this.queue&&(this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0)},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const e=this.$refs.root;(0,o.render)(null,e),s(e)},150)},showNotice(){if(this.shouldQueue())return void(this.queueTimer=setTimeout(this.showNotice,250));const e=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),s(e),this.isActive=!0,this.duration&&(this.timer=new l(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(e){this.pauseOnHover&&this.timer&&(e?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case c.TOP:case c.TOP_RIGHT:case c.TOP_LEFT:return this.parentTop;case c.BOTTOM:case c.BOTTOM_RIGHT:case c.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case c.TOP:case c.TOP_RIGHT:case c.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case c.BOTTOM:case c.BOTTOM_RIGHT:case c.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){h.off("toast-clear",this.dismiss)}}),d=(0,r(113).default)(f,[["render",function(e,t,n,r,i,s){return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{"enter-active-class":e.transition.enter,"leave-active-class":e.transition.leave},{default:(0,o.withCtx)(()=>[(0,o.withDirectives)((0,o.createElementVNode)("div",{ref:"root",role:"alert",class:(0,o.normalizeClass)(["v-toast__item",["v-toast__item--".concat(e.type),"v-toast__item--".concat(e.position)]]),onMouseover:t[0]||(t[0]=t=>e.toggleTimer(!0)),onMouseleave:t[1]||(t[1]=t=>e.toggleTimer(!1)),onClick:t[2]||(t[2]=function(){return e.whenClicked&&e.whenClicked(...arguments)})},[t[3]||(t[3]=(0,o.createElementVNode)("div",{class:"v-toast__icon"},null,-1)),(0,o.createElementVNode)("p",{class:"v-toast__text",innerHTML:e.message},null,8,a)],34),[[o.vShow,e.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}]]),p=d,m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{open(t){let n=null;"string"==typeof t&&(n=t);const r={message:n},i=Object.assign({},r,e,t),a=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=(0,o.h)(e,t,r),a=document.createElement("div");return a.classList.add("v-toast--pending"),n.appendChild(a),(0,o.render)(i,a),i.component}(p,i,document.body);return{dismiss:a.ctx.dismiss}},clear(){h.emit("toast-clear")},success(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"success"},t))},error(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"error"},t))},info(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"info"},t))},warning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"warning"},t))},default(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.open(Object.assign({},{message:e,type:"default"},t))}}},g={install:function(e){let t=m(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});e.config.globalProperties.$toast=t,e.provide("$toast",t)}},v=g;return i})(),iz.exports=UW(LW())),zW={};!function e(t,n,r,i){var o=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a="function"==typeof Path2D&&"function"==typeof DOMMatrix;function s(){}function l(e){var r=n.exports.Promise,i=void 0!==r?r:t.Promise;return"function"==typeof i?new i(e):(e(s,s),null)}var c,u,h,f,d,p,m=function(e,t){return{transform:function(n){if(e)return n;if(t.has(n))return t.get(n);var r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),t.set(n,r),r},clear:function(){t.clear()}}}(function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),n=e.getContext("2d");n.fillRect(0,0,1,1);var r=e.transferToImageBitmap();n.createPattern(r,"no-repeat")}catch(ame){return!1}return!0}(),new Map),g=(h=Math.floor(1e3/60),f={},d=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(c=function(e){var t=Math.random();return f[t]=requestAnimationFrame(function n(r){d===r||d+h-1<r?(d=r,delete f[t],e()):f[t]=requestAnimationFrame(n)}),t},u=function(e){f[e]&&cancelAnimationFrame(f[e])}):(c=function(e){return setTimeout(e,h)},u=function(e){return clearTimeout(e)}),{frame:c,cancel:u}),v=function(){var t,n,i={};return function(){if(t)return t;if(!r&&o){var a=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{t=new Worker(URL.createObjectURL(new Blob([a])))}catch(ame){return"undefined"!=typeof console&&console.warn,null}!function(e){function t(t,n){e.postMessage({options:t||{},callback:n})}e.init=function(t){var n=t.transferControlToOffscreen();e.postMessage({canvas:n},[n])},e.fire=function(r,o,a){if(n)return t(r,null),n;var s=Math.random().toString(36).slice(2);return n=l(function(o){function l(t){t.data.callback===s&&(delete i[s],e.removeEventListener("message",l),n=null,m.clear(),a(),o())}e.addEventListener("message",l),t(r,s),i[s]=l.bind(null,{data:{callback:s}})})},e.reset=function(){for(var t in e.postMessage({reset:!0}),i)i[t](),delete i[t]}}(t)}return t}}(),y={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function _(e,t,n){return function(e,t){return t?t(e):e}(e&&null!=e[t]?e[t]:y[t],n)}function b(e){return e<0?0:Math.floor(e)}function x(e,t){return Math.floor(Math.random()*(t-e))+e}function w(e){return parseInt(e,16)}function S(e){return e.map(E)}function E(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:w(t.substring(0,2)),g:w(t.substring(2,4)),b:w(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function A(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function M(e){var t=e.angle*(Math.PI/180),n=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*n-Math.random()*n),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}function C(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,s=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),a&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix))e.fill(function(e,t,n,r,i,o,a){var s=new Path2D(e),l=new Path2D;l.addPath(s,new DOMMatrix(t));var c=new Path2D;return c.addPath(l,new DOMMatrix([Math.cos(a)*i,Math.sin(a)*i,-Math.sin(a)*o,Math.cos(a)*o,n,r])),c}(t.shape.path,t.shape.matrix,t.x,t.y,.1*Math.abs(o-r),.1*Math.abs(s-i),Math.PI/10*t.wobble));else if("bitmap"===t.shape.type){var l=Math.PI/10*t.wobble,c=.1*Math.abs(o-r),u=.1*Math.abs(s-i),h=t.shape.bitmap.width*t.scalar,f=t.shape.bitmap.height*t.scalar,d=new DOMMatrix([Math.cos(l)*c,Math.sin(l)*c,-Math.sin(l)*u,Math.cos(l)*u,t.x,t.y]);d.multiplySelf(new DOMMatrix(t.shape.matrix));var p=e.createPattern(m.transform(t.shape.bitmap),"no-repeat");p.setTransform(d),e.globalAlpha=1-n,e.fillStyle=p,e.fillRect(t.x-h/2,t.y-f/2,h,f),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(s-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,a,s,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,a,s,l),e.restore()}(e,t.x,t.y,Math.abs(o-r)*t.ovalScalar,Math.abs(s-i)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI);else if("star"===t.shape)for(var g=Math.PI/2*3,v=4*t.scalar,y=8*t.scalar,_=t.x,b=t.y,x=5,w=Math.PI/x;x--;)_=t.x+Math.cos(g)*y,b=t.y+Math.sin(g)*y,e.lineTo(_,b),g+=w,_=t.x+Math.cos(g)*v,b=t.y+Math.sin(g)*v,e.lineTo(_,b),g+=w;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(s)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}function O(e,n){var a,s=!e,c=!!_(n||{},"resize"),u=!1,h=_(n,"disableForReducedMotion",Boolean),f=o&&!!_(n||{},"useWorker")?v():null,d=s?T:A,p=!(!e||!f)&&!!e.__confetti_initialized,y="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function w(t,n,o){for(var s=_(t,"particleCount",b),c=_(t,"angle",Number),u=_(t,"spread",Number),h=_(t,"startVelocity",Number),f=_(t,"decay",Number),p=_(t,"gravity",Number),v=_(t,"drift",Number),y=_(t,"colors",S),w=_(t,"ticks",Number),E=_(t,"shapes"),T=_(t,"scalar"),A=!!_(t,"flat"),O=function(e){var t=_(e,"origin",Object);return t.x=_(t,"x",Number),t.y=_(t,"y",Number),t}(t),R=s,I=[],k=e.width*O.x,P=e.height*O.y;R--;)I.push(M({x:k,y:P,angle:c,spread:u,startVelocity:h,color:y[R%y.length],shape:E[x(0,E.length)],ticks:w,decay:f,gravity:p,drift:v,scalar:T,flat:A}));return a?a.addFettis(I):(a=function(e,t,n,o,a){var s,c,u=t.slice(),h=e.getContext("2d"),f=l(function(t){function l(){s=c=null,h.clearRect(0,0,o.width,o.height),m.clear(),a(),t()}s=g.frame(function t(){!r||o.width===i.width&&o.height===i.height||(o.width=e.width=i.width,o.height=e.height=i.height),o.width||o.height||(n(e),o.width=e.width,o.height=e.height),h.clearRect(0,0,o.width,o.height),(u=u.filter(function(e){return C(h,e)})).length?s=g.frame(t):l()}),c=l});return{addFettis:function(e){return u=u.concat(e),f},canvas:e,promise:f,reset:function(){s&&g.cancel(s),c&&c()}}}(e,I,d,n,o),a.promise)}function E(n){var r=h||_(n,"disableForReducedMotion",Boolean),i=_(n,"zIndex",Number);if(r&&y)return l(function(e){e()});s&&a?e=a.canvas:s&&!e&&(e=function(e){var t=document.createElement("canvas");return t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(i),document.body.appendChild(e)),c&&!p&&d(e);var o={width:e.width,height:e.height};function m(){if(f){var t={getBoundingClientRect:function(){if(!s)return e.getBoundingClientRect()}};return d(t),void f.postMessage({resize:{width:t.width,height:t.height}})}o.width=o.height=null}function g(){a=null,c&&(u=!1,t.removeEventListener("resize",m)),s&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,p=!1)}return f&&!p&&f.init(e),p=!0,f&&(e.__confetti_initialized=!0),c&&!u&&(u=!0,t.addEventListener("resize",m,!1)),f?f.fire(n,o,g):w(n,o,g)}return E.reset=function(){f&&f.reset(),a&&a.reset()},E}function R(){return p||(p=O(null,{useWorker:!0,resize:!0})),p}n.exports=function(){return R().apply(this,arguments)},n.exports.reset=function(){R().reset()},n.exports.create=O,n.exports.shapeFromPath=function(e){if(!a)throw new Error("path confetti are not supported in this browser");var t,n;"string"==typeof e?t=e:(t=e.path,n=e.matrix);var r=new Path2D(t),i=document.createElement("canvas").getContext("2d");if(!n){for(var o,s,l=1e3,c=l,u=l,h=0,f=0,d=0;d<l;d+=2)for(var p=0;p<l;p+=2)i.isPointInPath(r,d,p,"nonzero")&&(c=Math.min(c,d),u=Math.min(u,p),h=Math.max(h,d),f=Math.max(f,p));o=h-c,s=f-u;var m=Math.min(10/o,10/s);n=[m,0,0,m,-Math.round(o/2+c)*m,-Math.round(s/2+u)*m]}return{type:"path",path:t,matrix:n}},n.exports.shapeFromText=function(e){var t,n=1,r="#000000",i='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,n="scalar"in e?e.scalar:n,i="fontFamily"in e?e.fontFamily:i,r="color"in e?e.color:r);var o=10*n,a=o+"px "+i,s=new OffscreenCanvas(o,o),l=s.getContext("2d");l.font=a;var c=l.measureText(t),u=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),h=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),f=c.actualBoundingBoxLeft+2,d=c.actualBoundingBoxAscent+2;u+=4,h+=4,(l=(s=new OffscreenCanvas(u,h)).getContext("2d")).font=a,l.fillStyle=r,l.fillText(t,f,d);var p=1/n;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[p,0,0,p,-u*p/2,-h*p/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),zW,!1);const VW=zW.exports;zW.exports.create;var jW={version:"0.18.5"},HW=1252,WW=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],GW=function(e){-1!=WW.indexOf(e)&&(HW=e)};var qW=function(e){GW(e)};function XW(){qW(1200),GW(1252)}var YW,KW=function(e){return String.fromCharCode(e)},$W=function(e){return String.fromCharCode(e)},ZW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function JW(e){for(var t="",n=0,r=0,i=0,o=0,a=0,s=0,l=0,c=0;c<e.length;)o=(n=e.charCodeAt(c++))>>2,a=(3&n)<<4|(r=e.charCodeAt(c++))>>4,s=(15&r)<<2|(i=e.charCodeAt(c++))>>6,l=63&i,isNaN(r)?s=l=64:isNaN(i)&&(l=64),t+=ZW.charAt(o)+ZW.charAt(a)+ZW.charAt(s)+ZW.charAt(l);return t}function QW(e){var t="",n=0,r=0,i=0,o=0,a=0,s=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=ZW.indexOf(e.charAt(l++))<<2|(o=ZW.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&o)<<4|(a=ZW.indexOf(e.charAt(l++)))>>2,64!==a&&(t+=String.fromCharCode(r)),i=(3&a)<<6|(s=ZW.indexOf(e.charAt(l++))),64!==s&&(t+=String.fromCharCode(i));return t}var eG=function(){return"undefined"!=typeof Buffer&&"undefined"!=typeof process&&void 0!==process.versions&&!!process.versions.node}(),tG=function(){if("undefined"!=typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(ame){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function nG(e){return eG?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function rG(e){return eG?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var iG=function(e){return eG?tG(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function oG(e){if("undefined"==typeof ArrayBuffer)return iG(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function aG(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var sG=eG?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:tG(e)}))}:function(e){if("undefined"!=typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),i=0;for(t=0,n=0;t<e.length;n+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var lG=/\u0000/g,cG=/[\u0001-\u0006]/g;function uG(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function hG(e,t){var n=""+e;return n.length>=t?n:wq("0",t-n.length)+n}function fG(e,t){var n=""+e;return n.length>=t?n:wq(" ",t-n.length)+n}function dG(e,t){var n=""+e;return n.length>=t?n:n+wq(" ",t-n.length)}var pG=Math.pow(2,32);function mG(e,t){return e>pG||e<-pG?function(e,t){var n=""+Math.round(e);return n.length>=t?n:wq("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:wq("0",t-n.length)+n}(Math.round(e),t)}function gG(e,t){return t=t||0,e.length>=7+t&&103==(32|e.charCodeAt(t))&&101==(32|e.charCodeAt(t+1))&&110==(32|e.charCodeAt(t+2))&&101==(32|e.charCodeAt(t+3))&&114==(32|e.charCodeAt(t+4))&&97==(32|e.charCodeAt(t+5))&&108==(32|e.charCodeAt(t+6))}var vG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yG=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var _G={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},bG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},xG={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function wG(e,t,n){for(var r=e<0?-1:1,i=e*r,o=0,a=1,s=0,l=1,c=0,u=0,h=Math.floor(i);c<t&&(s=(h=Math.floor(i))*a+o,u=h*c+l,!(i-h<5e-8));)i=1/(i-h),o=a,a=s,l=c,c=u;if(u>t&&(c>t?(u=l,s=o):(u=c,s=a)),!n)return[0,r*s,u];var f=Math.floor(r*s/u);return[f,r*s-f*u,u]}function SG(e,t,n){if(e>2958465||e<0)return null;var r=0|e,i=Math.floor(86400*(e-r)),o=0,a=[],s={D:r,T:i,u:86400*(e-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(s.u)<1e-6&&(s.u=0),t&&t.date1904&&(r+=1462),s.u>.9999&&(s.u=0,86400==++i&&(s.T=i=0,++r,++s.D)),60===r)a=n?[1317,10,29]:[1900,2,29],o=3;else if(0===r)a=n?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],o=l.getDay(),r<60&&(o=(o+6)%7),n&&(o=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,a))}return s.y=a[0],s.m=a[1],s.d=a[2],s.S=i%60,i=Math.floor(i/60),s.M=i%60,i=Math.floor(i/60),s.H=i,s.q=o,s}var EG=new Date(1899,11,31,0,0,0),TG=EG.getTime(),AG=new Date(1900,2,1,0,0,0);function MG(e,t){var n=e.getTime();return t?n-=1262304e5:e>=AG&&(n+=864e5),(n-(TG+6e4*(e.getTimezoneOffset()-EG.getTimezoneOffset())))/864e5}function CG(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function OG(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=CG(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=CG(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),CG(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function RG(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):OG(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return ZG(14,MG(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function IG(e,t,n,r){var i,o="",a=0,s=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:i=l%100,c=2;break;default:i=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:i=n.m,c=t.length;break;case 3:return yG[n.m-1][1];case 5:return yG[n.m-1][0];default:return yG[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:i=n.d,c=t.length;break;case 3:return vG[n.q][0];default:return vG[n.q][1]}break;case 104:switch(t.length){case 1:case 2:i=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:i=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:i=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(s=r>=2?3===r?1e3:100:1===r?10:1,(a=Math.round(s*(n.S+n.u)))>=60*s&&(a=0),"s"===t?0===a?"0":""+a/s:(o=hG(a,2+r),"ss"===t?o.substr(0,2):"."+o.substr(2,t.length-1))):hG(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":i=24*n.D+n.H;break;case"[m]":case"[mm]":i=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":i=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:i=l,c=1}return c>0?hG(i,c):""}function kG(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var PG=/%/g;function DG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+DG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),-1===(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).indexOf("e")){var a=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+o):n+="E+"+(a-o);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,i)+"."+n.substr(2+i)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var NG=/# (\?+)( ?)\/( ?)(\d+)/;var LG=/^#*0*\.([0#]+)/,FG=/\).*[0#]/,UG=/\(###\) ###\\?-####/;function BG(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function zG(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function VG(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function jG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(FG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?jG("n",r,n):"("+jG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return GG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(PG,""),i=t.length-r.length;return GG(e,r,n*Math.pow(10,2*i))+wq("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return DG(t,n);if(36===t.charCodeAt(0))return"$"+jG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,a,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+mG(l,t.length);if(t.match(/^[#?]+$/))return"0"===(i=mG(n,0))&&(i=""),i.length>t.length?i:BG(t.substr(0,t.length-i.length))+i;if(o=t.match(NG))return function(e,t,n){var r=parseInt(e[4],10),i=Math.round(t*r),o=Math.floor(i/r),a=i-o*r,s=r;return n+(0===o?"":""+o)+" "+(0===a?wq(" ",e[1].length+1+e[4].length):fG(a,e[1].length)+e[2]+"/"+e[3]+hG(s,e[4].length))}(o,l,c);if(t.match(/^#+0+$/))return c+mG(l,t.length-t.indexOf("0"));if(o=t.match(LG))return i=zG(n,o[1].length).replace(/^([^\.]+)$/,"$1."+BG(o[1])).replace(/\.$/,"."+BG(o[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+wq("0",BG(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+zG(l,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+kG(mG(l,0));if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+jG(e,t,-n):kG(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,o[1].length)))+"."+hG(VG(n,o[1].length),o[1].length);if(o=t.match(/^#,#*,#0/))return jG(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=uG(jG(e,t.replace(/[\\-]/g,""),n)),a=0,uG(uG(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""}));if(t.match(UG))return"("+(i=jG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=wG(l,Math.pow(10,a)-1,!1),i=""+c," "==(u=GG("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=dG(s[2],a)).length<o[4].length&&(u=BG(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),c+((s=wG(l,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?fG(s[1],a)+o[2]+"/"+o[3]+dG(s[2],a):wq(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=mG(n,0),t.length<=i.length?i:BG(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,f=t.length-i.length-h;return BG(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return a=VG(n,o[1].length),n<0?"-"+jG(e,t,-n):kG(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?hG(0,3-e.length):"")+e})+"."+hG(a,o[1].length);switch(t){case"###,##0.00":return jG(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var d=kG(mG(l,0));return"0"!==d?c+d:"";case"###,###.00":return jG(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return jG(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function HG(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+HG(e,-t);var i=e.indexOf(".");-1===i&&(i=e.indexOf("E"));var o=Math.floor(Math.log(t)*Math.LOG10E)%i;if(o<0&&(o+=i),!(n=(t/Math.pow(10,o)).toPrecision(r+1+(i+o)%i)).match(/[Ee]/)){var a=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(a-n.length+o):n+="E+"+(a-o),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(i+o)%i)+"."+r.substr(o)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function WG(e,t,n){if(40===e.charCodeAt(0)&&!t.match(FG)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?WG("n",r,n):"("+WG("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return GG(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(PG,""),i=t.length-r.length;return GG(e,r,n*Math.pow(10,2*i))+wq("%",i)}(e,t,n);if(-1!==t.indexOf("E"))return HG(t,n);if(36===t.charCodeAt(0))return"$"+WG(e,t.substr(" "==t.charAt(1)?2:1),n);var i,o,a,s,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+hG(l,t.length);if(t.match(/^[#?]+$/))return i=""+n,0===n&&(i=""),i.length>t.length?i:BG(t.substr(0,t.length-i.length))+i;if(o=t.match(NG))return function(e,t,n){return n+(0===t?"":""+t)+wq(" ",e[1].length+2+e[4].length)}(o,l,c);if(t.match(/^#+0+$/))return c+hG(l,t.length-t.indexOf("0"));if(o=t.match(LG))return i=(i=(""+n).replace(/^([^\.]+)$/,"$1."+BG(o[1])).replace(/\.$/,"."+BG(o[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+wq("0",BG(o[1]).length-t.length)}),-1!==t.indexOf("0.")?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),o=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=t.match(/^#{1,3},##0(\.?)$/))return c+kG(""+l);if(o=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+WG(e,t,-n):kG(""+n)+"."+wq("0",o[1].length);if(o=t.match(/^#,#*,#0/))return WG(e,t.replace(/^#,#*,/,""),n);if(o=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=uG(WG(e,t.replace(/[\\-]/g,""),n)),a=0,uG(uG(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return a<i.length?i.charAt(a++):"0"===e?"0":""}));if(t.match(UG))return"("+(i=WG(e,"##########",n)).substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(o=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(o[4].length,7),s=wG(l,Math.pow(10,a)-1,!1),i=""+c," "==(u=GG("n",o[1],s[1])).charAt(u.length-1)&&(u=u.substr(0,u.length-1)+"0"),i+=u+o[2]+"/"+o[3],(u=dG(s[2],a)).length<o[4].length&&(u=BG(o[4].substr(o[4].length-u.length))+u),i+=u;if(o=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(o[1].length,o[4].length),7),c+((s=wG(l,Math.pow(10,a)-1,!0))[0]||(s[1]?"":"0"))+" "+(s[1]?fG(s[1],a)+o[2]+"/"+o[3]+dG(s[2],a):wq(" ",2*a+1+o[2].length+o[3].length));if(o=t.match(/^[#0?]+$/))return i=""+n,t.length<=i.length?i:BG(t.substr(0,t.length-i.length))+i;if(o=t.match(/^([#0]+)\.([#0]+)$/)){i=""+n.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=t.indexOf(".")-a,f=t.length-i.length-h;return BG(t.substr(0,h)+i+t.substr(t.length-f))}if(o=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+WG(e,t,-n):kG(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?hG(0,3-e.length):"")+e})+"."+hG(0,o[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=kG(""+l);return"0"!==d?c+d:"";default:if(t.match(/\.[0#?]*$/))return WG(e,t.slice(0,t.lastIndexOf(".")),n)+BG(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function GG(e,t,n){return(0|n)===n?WG(e,t,n):jG(e,t,n)}var qG=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function XG(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":gG(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("/"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(qG))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var YG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function KG(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function $G(e,t){var n=function(e){for(var t=[],n=!1,r=0,i=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(i,r-i),i=r+1}if(t[t.length]=e.substr(i),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,i=n[r-1].indexOf("@");if(r<4&&i>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!=typeof t)return[4,4===n.length||i>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=i>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=i>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=i>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var o=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,o];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var a=n[0].match(YG),s=n[1].match(YG);return KG(t,a)?[r,n[0]]:KG(t,s)?[r,n[1]]:[r,n[null!=a&&null!=s?2:1]]}return[r,o]}function ZG(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:_G)[e])&&(r=n.table&&n.table[bG[e]]||_G[bG[e]]),null==r&&(r=xG[e]||"General")}if(gG(r,0))return RG(t,n);t instanceof Date&&(t=MG(t,n.date1904));var i=$G(r,t);if(gG(i[1]))return RG(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var i,o,a,s=[],l="",c=0,u="",h="t",f="H";c<e.length;)switch(u=e.charAt(c)){case"G":if(!gG(e,c))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(a=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(a);s[s.length]={t:"t",v:l},++c;break;case"\\":var d=e.charAt(++c),p="("===d||")"===d?d:"t";s[s.length]={t:p,v:d},++c;break;case"_":s[s.length]={t:"t",v:" "},c+=2;break;case"@":s[s.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==i&&null==(i=SG(t,n,"2"===e.charAt(c+1))))return"";s[s.length]={t:"X",v:e.substr(c,2)},h=u,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":u=u.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==i&&null==(i=SG(t,n)))return"";for(l=u;++c<e.length&&e.charAt(c).toLowerCase()===u;)l+=u;"m"===u&&"h"===h.toLowerCase()&&(u="M"),"h"===u&&(u=f),s[s.length]={t:u,v:l},h=u;break;case"A":case"a":case"":var m={t:u,v:u};if(null==i&&(i=SG(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=i&&(m.v=i.H>=12?"P":"A"),m.t="T",f="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"PM":"AM"),m.t="T",c+=5,f="h"):"/"===e.substr(c,5).toUpperCase()?(null!=i&&(m.v=i.H>=12?"":""),m.t="T",c+=5,f="h"):(m.t="t",++c),null==i&&"T"===m.t)return"";s[s.length]=m,h=u;break;case"[":for(l=u;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(qG)){if(null==i&&null==(i=SG(t,n)))return"";s[s.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",XG(e)||(s[s.length]={t:"t",v:l}));break;case".":if(null!=i){for(l=u;++c<e.length&&"0"===(u=e.charAt(c));)l+=u;s[s.length]={t:"s",v:l};break}case"0":case"#":for(l=u;++c<e.length&&"0#?.,E+-%".indexOf(u=e.charAt(c))>-1;)l+=u;s[s.length]={t:"n",v:l};break;case"?":for(l=u;e.charAt(++c)===u;)l+=u;s[s.length]={t:u,v:l},h=u;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":s[s.length]={t:1===r?"t":u,v:u},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=u;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);s[s.length]={t:"D",v:l};break;case" ":s[s.length]={t:u,v:u},++c;break;case"$":s[s.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(u))throw new Error("unrecognized character "+u+" in "+e);s[s.length]={t:"t",v:u},++c}var g,v=0,y=0;for(c=s.length-1,h="t";c>=0;--c)switch(s[c].t){case"h":case"H":s[c].t=f,h="h",v<1&&(v=1);break;case"s":(g=s[c].v.match(/\.0+$/))&&(y=Math.max(y,g[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":h=s[c].t;break;case"m":"s"===h&&(s[c].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&s[c].v.match(/[Hh]/)&&(v=1),v<2&&s[c].v.match(/[Mm]/)&&(v=2),v<3&&s[c].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M),i.M>=60&&(i.M=0,++i.H);break;case 2:i.u>=.5&&(i.u=0,++i.S),i.S>=60&&(i.S=0,++i.M)}var _,b="";for(c=0;c<s.length;++c)switch(s[c].t){case"t":case"T":case" ":case"D":break;case"X":s[c].v="",s[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[c].v=IG(s[c].t.charCodeAt(0),s[c].v,i,y),s[c].t="t";break;case"n":case"?":for(_=c+1;null!=s[_]&&("?"===(u=s[_].t)||"D"===u||(" "===u||"t"===u)&&null!=s[_+1]&&("?"===s[_+1].t||"t"===s[_+1].t&&"/"===s[_+1].v)||"("===s[c].t&&(" "===u||"n"===u||")"===u)||"t"===u&&("/"===s[_].v||" "===s[_].v&&null!=s[_+1]&&"?"==s[_+1].t));)s[c].v+=s[_].v,s[_]={v:"",t:";"},++_;b+=s[c].v,c=_-1;break;case"G":s[c].t="t",s[c].v=RG(t,n)}var x,w,S="";if(b.length>0){40==b.charCodeAt(0)?(x=t<0&&45===b.charCodeAt(0)?-t:t,w=GG("n",b,x)):(w=GG("n",b,x=t<0&&r>1?-t:t),x<0&&s[0]&&"t"==s[0].t&&(w=w.substr(1),s[0].v="-"+s[0].v)),_=w.length-1;var E=s.length;for(c=0;c<s.length;++c)if(null!=s[c]&&"t"!=s[c].t&&s[c].v.indexOf(".")>-1){E=c;break}var T=s.length;if(E===s.length&&-1===w.indexOf("E")){for(c=s.length-1;c>=0;--c)null!=s[c]&&-1!=="n?".indexOf(s[c].t)&&(_>=s[c].v.length-1?(_-=s[c].v.length,s[c].v=w.substr(_+1,s[c].v.length)):_<0?s[c].v="":(s[c].v=w.substr(0,_+1),_=-1),s[c].t="t",T=c);_>=0&&T<s.length&&(s[T].v=w.substr(0,_+1)+s[T].v)}else if(E!==s.length&&-1===w.indexOf("E")){for(_=w.indexOf(".")-1,c=E;c>=0;--c)if(null!=s[c]&&-1!=="n?".indexOf(s[c].t)){for(o=s[c].v.indexOf(".")>-1&&c===E?s[c].v.indexOf(".")-1:s[c].v.length-1,S=s[c].v.substr(o+1);o>=0;--o)_>=0&&("0"===s[c].v.charAt(o)||"#"===s[c].v.charAt(o))&&(S=w.charAt(_--)+S);s[c].v=S,s[c].t="t",T=c}for(_>=0&&T<s.length&&(s[T].v=w.substr(0,_+1)+s[T].v),_=w.indexOf(".")+1,c=E;c<s.length;++c)if(null!=s[c]&&(-1!=="n?(".indexOf(s[c].t)||c===E)){for(o=s[c].v.indexOf(".")>-1&&c===E?s[c].v.indexOf(".")+1:0,S=s[c].v.substr(0,o);o<s[c].v.length;++o)_<w.length&&(S+=w.charAt(_++));s[c].v=S,s[c].t="t",T=c}}}for(c=0;c<s.length;++c)null!=s[c]&&"n?".indexOf(s[c].t)>-1&&(x=r>1&&t<0&&c>0&&"-"===s[c-1].v?-t:t,s[c].v=GG(s[c].t,s[c].v,x),s[c].t="t");var A="";for(c=0;c!==s.length;++c)null!=s[c]&&(A+=s[c].v);return A}(i[1],t,n,i[0])}function JG(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(null!=_G[n]){if(_G[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return _G[t]=e,t}function QG(e){for(var t=0;392!=t;++t)void 0!==e[t]&&JG(e[t],t)}function eq(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',_G=e}var tq=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var nq=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var o=[];for(r=1;16!=r;++r)o[r-1]="undefined"!=typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return o}(t),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],f=n[9],d=n[10],p=n[11],m=n[12],g=n[13],v=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,i=0,o=e.length;i<o;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=-1^n,_=e.length-15,b=0;b<_;)y=v[e[b++]^255&y]^g[e[b++]^y>>8&255]^m[e[b++]^y>>16&255]^p[e[b++]^y>>>24]^d[e[b++]]^f[e[b++]]^h[e[b++]]^u[e[b++]]^c[e[b++]]^l[e[b++]]^s[e[b++]]^a[e[b++]]^o[e[b++]]^i[e[b++]]^r[e[b++]]^t[e[b++]];for(_+=15;b<_;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,n){for(var r=-1^n,i=0,o=e.length,a=0,s=0;i<o;)(a=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^a)]:a<2048?r=(r=r>>>8^t[255&(r^(192|a>>6&31))])>>>8^t[255&(r^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),s=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|a>>8&7))])>>>8^t[255&(r^(128|a>>2&63))])>>>8^t[255&(r^(128|s>>6&15|(3&a)<<4))])>>>8^t[255&(r^(128|63&s))]):r=(r=(r=r>>>8^t[255&(r^(224|a>>12&15))])>>>8^t[255&(r^(128|a>>6&63))])>>>8^t[255&(r^(128|63&a))];return~r},e}(),rq=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function i(e,t){"string"==typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function o(e){YX(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),i=e.read_shift(2),o=e.l+i,a={};if(21589===r)1&(n=e.read_shift(1))&&(a.mtime=e.read_shift(4)),i>5&&(2&n&&(a.atime=e.read_shift(4)),4&n&&(a.ctime=e.read_shift(4))),a.mtime&&(a.mt=new Date(1e3*a.mtime));e.l=o,t[r]=a}return t}function a(){return e||(e={})}function s(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(eG&&Buffer.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),i=0,o="";for(i=0;i<r.length;++i)if(o=r[i],/^Content-Location:/i.test(o)&&(o=o.slice(o.indexOf("file")),n||(n=o.slice(0,o.lastIndexOf("/")+1)),o.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),o.slice(0,n.length)!=n););var a=(r[1]||"").match(/boundary="(.*?)"/);if(!a)throw new Error("MAD cannot find boundary");var s="--"+(a[1]||""),l=[],c=[],u={FileIndex:l,FullPaths:c};f(u);var h,d=0;for(i=0;i<r.length;++i){var p=r[i];p!==s&&p!==s+"--"||(d++&&ce(u,r.slice(h,i),n),h=i)}return u}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,i,o,a,s,d=512,p=[],m=e.slice(0,512);YX(m,0);var g=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(y,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=g[0]){case 3:d=512;break;case 4:d=4096;break;case 0:if(0==g[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==d&&YX(m=e.slice(0,d),28);var _=e.slice(0,d);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var b=m.read_shift(4,"i");if(3===n&&0!==b)throw new Error("# Directory Sectors: Expected 0 saw "+b);m.l+=4,o=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),a=m.read_shift(4,"i"),r=m.read_shift(4,"i"),s=m.read_shift(4,"i"),i=m.read_shift(4,"i");for(var x=-1,S=0;S<109&&!((x=m.read_shift(4,"i"))<0);++S)p[S]=x;var E=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],i=1;i<n;++i)r[i-1]=e.slice(i*t,(i+1)*t);return r[n-1]=e.slice(n*t),r}(e,d);c(s,i,E,d,p);var T=function(e,t,n,r){var i=e.length,o=[],a=[],s=[],l=[],c=r-1,u=0,h=0,f=0,d=0;for(u=0;u<i;++u)if(s=[],(f=u+t)>=i&&(f-=i),!a[f]){l=[];var p=[];for(h=f;h>=0;){p[h]=!0,a[h]=!0,s[s.length]=h,l.push(e[h]);var m=n[Math.floor(4*h/r)];if(r<4+(d=4*h&c))throw new Error("FAT boundary crossed: "+h+" 4 "+r);if(!e[m])break;if(p[h=zX(e[m],d)])break}o[f]={nodes:s,data:gX([l])}}return o}(E,o,p,d);T[o].name="!Directory",r>0&&a!==v&&(T[a].name="!MiniFAT"),T[p[0]].name="!FAT",T.fat_addrs=p,T.ssz=d;var A=[],M=[],C=[];!function(e,t,n,r,i,o,a,s){for(var c,f=0,d=r.length?2:0,p=t[e].data,m=0,g=0;m<p.length;m+=128){var y=p.slice(m,m+128);YX(y,64),g=y.read_shift(2),c=yX(y,0,g-d),r.push(c);var _={name:c,type:y.read_shift(1),color:y.read_shift(1),L:y.read_shift(4,"i"),R:y.read_shift(4,"i"),C:y.read_shift(4,"i"),clsid:y.read_shift(16),state:y.read_shift(4,"i"),start:0,size:0};0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(_.ct=h(y,y.l-8)),0!==y.read_shift(2)+y.read_shift(2)+y.read_shift(2)+y.read_shift(2)&&(_.mt=h(y,y.l-8)),_.start=y.read_shift(4,"i"),_.size=y.read_shift(4,"i"),_.size<0&&_.start<0&&(_.size=_.type=0,_.start=v,_.name=""),5===_.type?(f=_.start,i>0&&f!==v&&(t[f].name="!StreamData")):_.size>=4096?(_.storage="fat",void 0===t[_.start]&&(t[_.start]=u(n,_.start,t.fat_addrs,t.ssz)),t[_.start].name=_.name,_.content=t[_.start].data.slice(0,_.size)):(_.storage="minifat",_.size<0?_.size=0:f!==v&&_.start!==v&&t[f]&&(_.content=l(_,t[f].data,(t[s]||{}).data))),_.content&&YX(_.content,0),o[c]=_,a.push(_)}}(o,T,E,A,r,{},M,a),function(e,t,n){for(var r=0,i=0,o=0,a=0,s=0,l=n.length,c=[],u=[];r<l;++r)c[r]=u[r]=r,t[r]=n[r];for(;s<u.length;++s)i=e[r=u[s]].L,o=e[r].R,a=e[r].C,c[r]===r&&(-1!==i&&c[i]!==i&&(c[r]=c[i]),-1!==o&&c[o]!==o&&(c[r]=c[o])),-1!==a&&(c[a]=r),-1!==i&&r!=c[r]&&(c[i]=c[r],u.lastIndexOf(i)<s&&u.push(i)),-1!==o&&r!=c[r]&&(c[o]=c[r],u.lastIndexOf(o)<s&&u.push(o));for(r=1;r<l;++r)c[r]===r&&(-1!==o&&c[o]!==o?c[r]=c[o]:-1!==i&&c[i]!==i&&(c[r]=c[i]));for(r=1;r<l;++r)if(0!==e[r].type){if((s=r)!=c[s])do{s=c[s],t[r]=t[s]+"/"+t[r]}while(0!==s&&-1!==c[s]&&s!=c[s]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(M,C,A),A.shift();var O={FileIndex:M,FullPaths:C};return t&&t.raw&&(O.raw={header:_,sectors:E}),O}function l(e,t,n){for(var r=e.start,i=e.size,o=[],a=r;n&&i>0&&a>=0;)o.push(t.slice(a*g,a*g+g)),i-=g,a=zX(n,4*a);return 0===o.length?$X(0):sG(o).slice(0,e.size)}function c(e,t,n,r,i){var o=v;if(e===v){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var a=n[e],s=(r>>>2)-1;if(!a)return;for(var l=0;l<s&&(o=zX(a,4*l))!==v;++l)i.push(o);c(zX(a,r-4),t-1,n,r,i)}}function u(e,t,n,r,i){var o=[],a=[];i||(i=[]);var s=r-1,l=0,c=0;for(l=t;l>=0;){i[l]=!0,o[o.length]=l,a.push(e[l]);var u=n[Math.floor(4*l/r)];if(r<4+(c=4*l&s))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[u])break;l=zX(e[u],c)}return{nodes:o,data:gX([a])}}function h(e,t){return new Date(1e3*(BX(e,t+4)/1e7*Math.pow(2,32)+BX(e,t)/1e7-11644473600))}function f(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="Sh33tJ5";if(rq.find(e,"/"+t))return;var n=$X(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),d(e)}(e)}function d(e,t){f(e);for(var i=!1,o=!1,a=e.FullPaths.length-1;a>=0;--a){var s=e.FileIndex[a];switch(s.type){case 0:o?i=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:o=!0,isNaN(s.R*s.L*s.C)&&(i=!0),s.R>-1&&s.L>-1&&s.R==s.L&&(i=!0);break;default:i=!0}}if(i||t){var l=new Date(1987,1,19),c=0,u=Object.create?Object.create(null):{},h=[];for(a=0;a<e.FullPaths.length;++a)u[e.FullPaths[a]]=!0,0!==e.FileIndex[a].type&&h.push([e.FullPaths[a],e.FileIndex[a]]);for(a=0;a<h.length;++a){var d=n(h[a][0]);(o=u[d])||(h.push([d,{name:r(d).replace("/",""),type:1,clsid:b,ct:l,mt:l,content:null}]),u[d]=!0)}for(h.sort(function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0,o=0,a=Math.min(n.length,r.length);i<a;++i){if(o=n[i].length-r[i].length)return o;if(n[i]!=r[i])return n[i]<r[i]?-1:1}return n.length-r.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],a=0;a<h.length;++a)e.FullPaths[a]=h[a][0],e.FileIndex[a]=h[a][1];for(a=0;a<h.length;++a){var p=e.FileIndex[a],m=e.FullPaths[a];if(p.name=r(m).replace("/",""),p.L=p.R=p.C=-(p.color=1),p.size=p.content?p.content.length:0,p.start=0,p.clsid=p.clsid||b,0===a)p.C=h.length>1?1:-1,p.size=0,p.type=5;else if("/"==m.slice(-1)){for(c=a+1;c<h.length&&n(e.FullPaths[c])!=m;++c);for(p.C=c>=h.length?-1:c,c=a+1;c<h.length&&n(e.FullPaths[c])!=n(m);++c);p.R=c>=h.length?-1:c,p.type=1}else n(e.FullPaths[a+1]||"")==n(m)&&(p.R=a+1),p.type=2}}}function p(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",i=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],o=e.FullPaths[0],a=o,s=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(a=e.FullPaths[l].slice(o.length),(s=e.FileIndex[l]).size&&s.content&&"Sh33tJ5"!=a){a=a.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=s.content,u=eG&&Buffer.isBuffer(c)?c.toString("binary"):w(c),h=0,f=Math.min(1024,u.length),d=0,p=0;p<=f;++p)(d=u.charCodeAt(p))>=32&&d<128&&++h;var m=h>=4*f/5;i.push(r),i.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+a),i.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),i.push("Content-Type: "+ae(s,a)),i.push(""),i.push(m?le(u):se(u))}return i.push(r+"--\r\n"),i.join("\r\n")}(e,n);if(d(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],o=[],a=$X(1),s=n.compression?8:0,l=0,c=0,u=0,h=0,f=0,d=e.FullPaths[0],p=d,m=e.FileIndex[0],g=[],v=0;for(c=1;c<e.FullPaths.length;++c)if(p=e.FullPaths[c].slice(d.length),(m=e.FileIndex[c]).size&&m.content&&"Sh33tJ5"!=p){var y=h,_=$X(p.length);for(u=0;u<p.length;++u)_.write_shift(1,127&p.charCodeAt(u));_=_.slice(0,_.l),g[f]=nq.buf(m.content,0);var b=m.content;8==s&&(b=S(b)),(a=$X(30)).write_shift(4,67324752),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,s),m.mt?i(a,m.mt):a.write_shift(4,0),a.write_shift(-4,g[f]),a.write_shift(4,b.length),a.write_shift(4,m.content.length),a.write_shift(2,_.length),a.write_shift(2,0),h+=a.length,r.push(a),h+=_.length,r.push(_),h+=b.length,r.push(b),(a=$X(46)).write_shift(4,33639248),a.write_shift(2,0),a.write_shift(2,20),a.write_shift(2,l),a.write_shift(2,s),a.write_shift(4,0),a.write_shift(-4,g[f]),a.write_shift(4,b.length),a.write_shift(4,m.content.length),a.write_shift(2,_.length),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(4,0),a.write_shift(4,y),v+=a.l,o.push(a),v+=_.length,o.push(_),++f}return a=$X(22),a.write_shift(4,101010256),a.write_shift(2,0),a.write_shift(2,0),a.write_shift(2,f),a.write_shift(2,f),a.write_shift(4,v),a.write_shift(4,h),a.write_shift(2,0),sG([sG(r),sG(o),a])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var i=e.FileIndex[r];if(i.content){var o=i.content.length;o>0&&(o<4096?t+=o+63>>6:n+=o+511>>9)}}for(var a=e.FullPaths.length+3>>2,s=t+127>>7,l=(t+7>>3)+n+a+s,c=l+127>>7,u=c<=109?0:Math.ceil((c-109)/127);l+c+u+127>>7>c;)u=++c<=109?0:Math.ceil((c-109)/127);var h=[1,u,c,s,a,n,t,0];return e.FileIndex[0].size=t<<6,h[7]=(e.FileIndex[0].start=h[0]+h[1]+h[2]+h[3]+h[4]+h[5])+(h[6]+7>>3),h}(e),o=$X(r[7]<<9),a=0,s=0;for(a=0;a<8;++a)o.write_shift(1,_[a]);for(a=0;a<8;++a)o.write_shift(2,0);for(o.write_shift(2,62),o.write_shift(2,3),o.write_shift(2,65534),o.write_shift(2,9),o.write_shift(2,6),a=0;a<3;++a)o.write_shift(2,0);for(o.write_shift(4,0),o.write_shift(4,r[2]),o.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),o.write_shift(4,0),o.write_shift(4,4096),o.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:v),o.write_shift(4,r[3]),o.write_shift(-4,r[1]?r[0]-1:v),o.write_shift(4,r[1]),a=0;a<109;++a)o.write_shift(-4,a<r[2]?r[1]+a:-1);if(r[1])for(s=0;s<r[1];++s){for(;a<236+127*s;++a)o.write_shift(-4,a<r[2]?r[1]+a:-1);o.write_shift(-4,s===r[1]-1?v:s+1)}var l=function(e){for(s+=e;a<s-1;++a)o.write_shift(-4,a+1);e&&(++a,o.write_shift(-4,v))};for(s=a=0,s+=r[1];a<s;++a)o.write_shift(-4,x.DIFSECT);for(s+=r[2];a<s;++a)o.write_shift(-4,x.FATSECT);l(r[3]),l(r[4]);for(var c=0,u=0,h=e.FileIndex[0];c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&((u=h.content.length)<4096||(h.start=s,l(u+511>>9)));for(l(r[6]+7>>3);511&o.l;)o.write_shift(-4,x.ENDOFCHAIN);for(s=a=0,c=0;c<e.FileIndex.length;++c)(h=e.FileIndex[c]).content&&(!(u=h.content.length)||u>=4096||(h.start=s,l(u+63>>6)));for(;511&o.l;)o.write_shift(-4,x.ENDOFCHAIN);for(a=0;a<r[4]<<2;++a){var f=e.FullPaths[a];if(f&&0!==f.length){h=e.FileIndex[a],0===a&&(h.start=h.size?h.start-1:v);var p=0===a&&n.root||h.name;if(u=2*(p.length+1),o.write_shift(64,p,"utf16le"),o.write_shift(2,u),o.write_shift(1,h.type),o.write_shift(1,h.color),o.write_shift(-4,h.L),o.write_shift(-4,h.R),o.write_shift(-4,h.C),h.clsid)o.write_shift(16,h.clsid,"hex");else for(c=0;c<4;++c)o.write_shift(4,0);o.write_shift(4,h.state||0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,0),o.write_shift(4,h.start),o.write_shift(4,h.size),o.write_shift(4,0)}else{for(c=0;c<17;++c)o.write_shift(4,0);for(c=0;c<3;++c)o.write_shift(4,-1);for(c=0;c<12;++c)o.write_shift(4,0)}}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>=4096)if(o.l=h.start+1<<9,eG&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+511&-512;else{for(c=0;c<h.size;++c)o.write_shift(1,h.content[c]);for(;511&c;++c)o.write_shift(1,0)}for(a=1;a<e.FileIndex.length;++a)if((h=e.FileIndex[a]).size>0&&h.size<4096)if(eG&&Buffer.isBuffer(h.content))h.content.copy(o,o.l,0,h.size),o.l+=h.size+63&-64;else{for(c=0;c<h.size;++c)o.write_shift(1,h.content[c]);for(;63&c;++c)o.write_shift(1,0)}if(eG)o.l=o.length;else for(;o.l<o.length;)o.write_shift(1,0);return o}t.version="1.2.1";var m,g=64,v=-2,y="d0cf11e0a1b11ae1",_=[208,207,17,224,161,177,26,225],b="00000000000000000000000000000000",x={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:v,FREESECT:-1,HEADER_SIGNATURE:y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:b,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function S(e){return m?m.deflateRawSync(e):Y(e)}var E=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],T=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],A=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function M(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var C="undefined"!=typeof Uint8Array,O=C?new Uint8Array(256):[],R=0;R<256;++R)O[R]=M(R);function I(e,t){var n=O[255&e];return t<=8?n>>>8-t:(n=n<<8|O[e>>8&255],t<=16?n>>>16-t:(n=n<<8|O[e>>16&255])>>>24-t)}function k(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function P(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function N(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function L(e,t,n){var r=7&t,i=t>>>3,o=(1<<n)-1,a=e[i]>>>r;return n<8-r?a&o:(a|=e[i+1]<<8-r,n<16-r?a&o:(a|=e[i+2]<<16-r,n<24-r?a&o:(a|=e[i+3]<<24-r)&o))}function F(e,t,n){var r=7&t,i=t>>>3;return r<=5?e[i]|=(7&n)<<r:(e[i]|=n<<r&255,e[i+1]=(7&n)>>8-r),t+3}function U(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function B(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function z(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function V(e,t){var n=e.length,r=2*n>t?2*n:t+5,i=0;if(n>=t)return e;if(eG){var o=rG(r);if(e.copy)e.copy(o);else for(;i<e.length;++i)o[i]=e[i];return o}if(C){var a=new Uint8Array(r);if(a.set)a.set(e);else for(;i<n;++i)a[i]=e[i];return a}return e.length=r,e}function j(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function H(e,t,n){var r=1,i=0,o=0,a=0,s=0,l=e.length,c=C?new Uint16Array(32):j(32);for(o=0;o<32;++o)c[o]=0;for(o=l;o<n;++o)e[o]=0;l=e.length;var u=C?new Uint16Array(l):j(l);for(o=0;o<l;++o)c[i=e[o]]++,r<i&&(r=i),u[o]=0;for(c[0]=0,o=1;o<=r;++o)c[o+16]=s=s+c[o-1]<<1;for(o=0;o<l;++o)0!=(s=e[o])&&(u[o]=c[s+16]++);var h=0;for(o=0;o<l;++o)if(0!=(h=e[o]))for(s=I(u[o],r)>>r-h,a=(1<<r+4-h)-1;a>=0;--a)t[s|a<<h]=15&h|o<<4;return r}var W=C?new Uint16Array(512):j(512),G=C?new Uint16Array(32):j(32);if(!C){for(var q=0;q<512;++q)W[q]=0;for(q=0;q<32;++q)G[q]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,G,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);H(n,W,288)}();var X=function(){for(var e=C?new Uint8Array(32768):[],t=0,n=0;t<A.length-1;++t)for(;n<A[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=C?new Uint8Array(259):[];for(t=0,n=0;t<T.length-1;++t)for(;n<T[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),i=n+r==e.length;for(t.write_shift(1,+i),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var i=0,o=0,a=C?new Uint16Array(32768):[];o<t.length;){var s=Math.min(65535,t.length-o);if(s<10){for(7&(i=F(n,i,+!(o+s!=t.length)))&&(i+=8-(7&i)),n.l=i/8|0,n.write_shift(2,s),n.write_shift(2,65535&~s);s-- >0;)n[n.l++]=t[o++];i=8*n.l}else{i=F(n,i,+!(o+s!=t.length)+2);for(var l=0;s-- >0;){var c=t[o],u=-1,h=0;if((u=a[l=32767&(l<<5^c)])&&((u|=-32768&o)>o&&(u-=32768),u<o))for(;t[u+h]==t[o+h]&&h<250;)++h;if(h>2){(c=r[h])<=22?i=B(n,i,O[c+1]>>1)-1:(B(n,i,3),B(n,i+=5,O[c-23]>>5),i+=3);var f=c<8?0:c-4>>2;f>0&&(z(n,i,h-T[c]),i+=f),c=e[o-u],i=B(n,i,O[c]>>3),i-=3;var d=c<4?0:c-2>>1;d>0&&(z(n,i,o-u-A[c]),i+=d);for(var p=0;p<h;++p)a[l]=32767&o,l=32767&(l<<5^t[o]),++o;s-=h-1}else c<=143?c+=48:i=U(n,i,1),i=B(n,i,O[c]),a[l]=32767&o,++o}i=B(n,i,0)-1}}return n.l=(i+7)/8|0,n.l}(t,n)}}();function Y(e){var t=$X(50+Math.floor(1.1*e.length)),n=X(e,t);return t.slice(0,n)}var K=C?new Uint16Array(32768):j(32768),$=C?new Uint16Array(32768):j(32768),Z=C?new Uint16Array(128):j(128),J=1,Q=1;function ee(e,t){var n=D(e,t)+257,r=D(e,t+=5)+1,i=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var o=0,a=C?new Uint8Array(19):j(19),s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=C?new Uint8Array(8):j(8),u=C?new Uint8Array(8):j(8),h=a.length,f=0;f<i;++f)a[E[f]]=o=P(e,t),l<o&&(l=o),c[o]++,t+=3;var d=0;for(c[0]=0,f=1;f<=l;++f)u[f]=d=d+c[f-1]<<1;for(f=0;f<h;++f)0!=(d=a[f])&&(s[f]=u[d]++);var p=0;for(f=0;f<h;++f)if(0!=(p=a[f])){d=O[s[f]]>>8-p;for(var m=(1<<7-p)-1;m>=0;--m)Z[d|m<<p]=7&p|f<<3}var g=[];for(l=1;g.length<n+r;)switch(t+=7&(d=Z[N(e,t)]),d>>>=3){case 16:for(o=3+k(e,t),t+=2,d=g[g.length-1];o-- >0;)g.push(d);break;case 17:for(o=3+P(e,t),t+=3;o-- >0;)g.push(0);break;case 18:for(o=11+N(e,t),t+=7;o-- >0;)g.push(0);break;default:g.push(d),l<d&&(l=d)}var v=g.slice(0,n),y=g.slice(n);for(f=n;f<286;++f)v[f]=0;for(f=r;f<30;++f)y[f]=0;return J=H(v,K,286),Q=H(y,$,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[nG(t),2];for(var n=0,r=0,i=rG(t||1<<18),o=0,a=i.length>>>0,s=0,l=0;!(1&r);)if(r=P(e,n),n+=3,r>>>1!=0)for(r>>1==1?(s=9,l=5):(n=ee(e,n),s=J,l=Q);;){!t&&a<o+32767&&(a=(i=V(i,o+32767)).length);var c=L(e,n,s),u=r>>>1==1?W[c]:K[c];if(n+=15&u,(u>>>=4)>>>8&255){if(256==u)break;var h=(u-=257)<8?0:u-4>>2;h>5&&(h=0);var f=o+T[u];h>0&&(f+=L(e,n,h),n+=h),c=L(e,n,l),n+=15&(u=r>>>1==1?G[c]:$[c]);var d=(u>>>=4)<4?0:u-2>>1,p=A[u];for(d>0&&(p+=L(e,n,d),n+=d),!t&&a<f&&(a=(i=V(i,f+100)).length);o<f;)i[o]=i[o-p],++o}else i[o++]=u}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,m>0)for(!t&&a<o+m&&(a=(i=V(i,o+m)).length);m-- >0;)i[o++]=e[n>>>3],n+=8}return t?[i,n+7>>>3]:[i.slice(0,o),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t)}function re(e,t){var n=e;YX(n,0);var r={FileIndex:[],FullPaths:[]};f(r,{root:t.root});for(var i=n.length-4;(80!=n[i]||75!=n[i+1]||5!=n[i+2]||6!=n[i+3])&&i>=0;)--i;n.l=i+4,n.l+=4;var a=n.read_shift(2);n.l+=6;var s=n.read_shift(4);for(n.l=s,i=0;i<a;++i){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),u=n.read_shift(2),h=n.read_shift(2),d=n.read_shift(2);n.l+=8;var p=n.read_shift(4),m=o(n.slice(n.l+u,n.l+u+h));n.l+=u+h+d;var g=n.l;n.l=p+4,ie(n,l,c,r,m),n.l=g}return r}function ie(e,t,n,r,i){e.l+=2;var a=e.read_shift(2),s=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,i=31&n,o=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(o-1),r.setDate(i);var a=31&t,s=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(s),r.setSeconds(a<<1),r}(e);if(8257&a)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),u=e.read_shift(4),h=e.read_shift(2),f=e.read_shift(2),d="",p=0;p<h;++p)d+=String.fromCharCode(e[e.l++]);if(f){var g=o(e.slice(e.l,e.l+f));(g[21589]||{}).mt&&(l=g[21589].mt),((i||{})[21589]||{}).mt&&(l=i[21589].mt)}e.l+=f;var v=e.slice(e.l,e.l+c);switch(s){case 8:v=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,u);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+s)}var y=!1;8&a&&(134695760==e.read_shift(4)&&(e.read_shift(4),y=!0),c=e.read_shift(4),u=e.read_shift(4)),c!=t&&ne(y,"Bad compressed size: "+t+" != "+c),u!=n&&ne(y,"Bad uncompressed size: "+n+" != "+u),ue(r,d,v,{unsafe:!0,mt:l})}var oe={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ae(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&oe[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&oe[r[1]]?oe[r[1]]:"application/octet-stream"}function se(e){for(var t=JW(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),i=0;i<r.length;++i){var o=r[i];if(0!=o.length)for(var a=0;a<o.length;){var s=76,l=o.slice(a,a+s);"="==l.charAt(s-1)?s--:"="==l.charAt(s-2)?s-=2:"="==l.charAt(s-3)&&(s-=3),l=o.slice(a,a+s),(a+=s)<o.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,i="",o="",a="",s=0;s<10;++s){var l=t[s];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":i=c[2].trim();break;case"content-type":a=c[2].trim();break;case"content-transfer-encoding":o=c[2].trim()}}switch(++s,o.toLowerCase()){case"base64":r=iG(QW(t.slice(s).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var i=0;i<t.length;++i)t[i]=t[i].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return iG(t.join("\r\n"))}(t.slice(s));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+o)}var u=ue(e,i.slice(n.length),r,{unsafe:!0});a&&(u.ctype=a)}function ue(e,t,n,i){var o=i&&i.unsafe;o||f(e);var a=!o&&rq.find(e,t);if(!a){var s=e.FullPaths[0];t.slice(0,s.length)==s?s=t:("/"!=s.slice(-1)&&(s+="/"),s=(s+t).replace("//","/")),a={name:r(t),type:2},e.FileIndex.push(a),e.FullPaths.push(s),o||rq.utils.cfb_gc(e)}return a.content=n,a.size=n?n.length:0,i&&(i.CLSID&&(a.clsid=i.CLSID),i.mt&&(a.mt=i.mt),i.ct&&(a.ct=i.ct)),a}return t.find=function(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),i=!1;47===t.charCodeAt(0)?(i=!0,t=n[0].slice(0,-1)+t):i=-1!==t.indexOf("/");var o=t.toUpperCase(),a=!0===i?n.indexOf(o):r.indexOf(o);if(-1!==a)return e.FileIndex[a];var s=!o.match(cG);for(o=o.replace(lG,""),s&&(o=o.replace(cG,"!")),a=0;a<n.length;++a){if((s?n[a].replace(cG,"!"):n[a]).replace(lG,"")==o)return e.FileIndex[a];if((s?r[a].replace(cG,"!"):r[a]).replace(lG,"")==o)return e.FileIndex[a]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||eG&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return a(),s(e.readFileSync(t),n)}(t,n);case"base64":return s(iG(QW(t)),n);case"binary":return s(iG(t),n)}return s(t,n)},t.parse=s,t.write=function(t,n){var r=p(t,n);switch(n&&n.type||"buffer"){case"file":return a(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:w(r);case"base64":return JW("string"==typeof r?r:w(r));case"buffer":if(eG)return Buffer.isBuffer(r)?r:tG(r);case"array":return"string"==typeof r?iG(r):r}return r},t.writeFile=function(t,n,r){a();var i=p(t,r);e.writeFileSync(n,i)},t.utils={cfb_new:function(e){var t={};return f(t,e),t},cfb_add:ue,cfb_del:function(e,t){f(e);var n=rq.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){f(e);var i=rq.find(e,t);if(i)for(var o=0;o<e.FileIndex.length;++o)if(e.FileIndex[o]==i)return e.FileIndex[o].name=r(n),e.FullPaths[o]=n,!0;return!1},cfb_gc:function(e){d(e,!0)},ReadShift:jX,CheckField:XX,prep_blob:YX,bconcat:sG,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(ame){}},_deflateRaw:Y,_inflateRaw:te,consts:x},t}();function iq(e){return"string"==typeof e?oG(e):Array.isArray(e)?function(e){if("undefined"==typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function oq(e,t,n){if("undefined"!=typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=oG(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?Vq(t):t;if("undefined"!=typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!=typeof Blob){var i=new Blob([iq(r)],{type:"application/octet-stream"});if("undefined"!=typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if("undefined"!=typeof saveAs)return saveAs(i,e);if("undefined"!=typeof URL&&"undefined"!=typeof document&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if("object"==typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:e,saveAs:!0});var a=document.createElement("a");if(null!=a.download)return a.download=e,a.href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&"undefined"!=typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if("undefined"!=typeof $&&"undefined"!=typeof File&&"undefined"!=typeof Folder)try{var s=File(e);return s.open("w"),s.encoding="binary",Array.isArray(t)&&(t=aG(t)),s.write(t),s.close(),t}catch(ame){if(!ame.message||!ame.message.match(/onstruct/))throw ame}throw new Error("cannot save file "+e)}function aq(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function sq(e,t){for(var n=[],r=aq(e),i=0;i!==r.length;++i)null==n[e[r[i]][t]]&&(n[e[r[i]][t]]=r[i]);return n}function lq(e){for(var t=[],n=aq(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function cq(e){for(var t=[],n=aq(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var uq=new Date(1899,11,30,0,0,0);function hq(e,t){return(e.getTime()-(uq.getTime()+6e4*(e.getTimezoneOffset()-uq.getTimezoneOffset())))/864e5}var fq=new Date,dq=uq.getTime()+6e4*(fq.getTimezoneOffset()-uq.getTimezoneOffset()),pq=fq.getTimezoneOffset();function mq(e){var t=new Date;return t.setTime(24*e*60*60*1e3+dq),t.getTimezoneOffset()!==pq&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-pq)),t}var gq=new Date("2017-02-19T19:06:09.000Z"),vq=isNaN(gq.getFullYear())?new Date("2/19/17"):gq,yq=2017==vq.getFullYear();function _q(e,t){var n=new Date(e);if(yq)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==vq.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(o=new Date(o.getTime()-60*o.getTimezoneOffset()*1e3)),o}function bq(e,t){if(eG&&Buffer.isBuffer(e))return e.toString("binary");if("undefined"!=typeof TextDecoder)try{var n={"":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(e){return n[e]||e})}catch(ame){}for(var r=[],i=0;i!=e.length;++i)r.push(String.fromCharCode(e[i]));return r.join("")}function xq(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=xq(e[n]));return t}function wq(e,t){for(var n="";n.length<t;)n+=e;return n}function Sq(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var Eq=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tq(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),i=t.getMonth(),o=t.getDate();if(isNaN(o))return n;var a=e.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==Eq.indexOf(a))return n}else if(a.match(/[a-z]/))return n;return r<0||r>8099?n:(i>0||o>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function Aq(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=eG?tG(n):function(e){for(var t=[],n=0,r=e.length+250,i=nG(e.length+255),o=0;o<e.length;++o){var a=e.charCodeAt(o);if(a<128)i[n++]=a;else if(a<2048)i[n++]=192|a>>6&31,i[n++]=128|63&a;else if(a>=55296&&a<57344){a=64+(1023&a);var s=1023&e.charCodeAt(++o);i[n++]=240|a>>8&7,i[n++]=128|a>>2&63,i[n++]=128|s>>6&15|(3&a)<<4,i[n++]=128|63&s}else i[n++]=224|a>>12&15,i[n++]=128|a>>6&63,i[n++]=128|63&a;n>r&&(t.push(i.slice(0,n)),n=0,i=nG(65535),r=65530)}return t.push(i.slice(0,n)),sG(t)}(n),rq.utils.cfb_add(e,t,r);rq.utils.cfb_add(e,t,n)}else e.file(t,n)}function Mq(){return rq.utils.cfb_new()}var Cq='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n',Oq=lq({"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"}),Rq=/[&<>'"]/g,Iq=/[\u0000-\u0008\u000b-\u001f]/g;function kq(e){return(e+"").replace(Rq,function(e){return Oq[e]}).replace(Iq,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Pq(e){return kq(e).replace(/ /g,"_x0020_")}var Dq=/[\u0000-\u001f]/g;function Nq(e){return(e+"").replace(Rq,function(e){return Oq[e]}).replace(/\n/g,"<br/>").replace(Dq,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function Lq(e){for(var t="",n=0,r=0,i=0,o=0,a=0,s=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(i=e.charCodeAt(n++),r>191&&r<224?(a=(31&r)<<6,a|=63&i,t+=String.fromCharCode(a)):(o=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&i)<<6|63&o):(s=((7&r)<<18|(63&i)<<12|(63&o)<<6|63&(a=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(s>>>10&1023)),t+=String.fromCharCode(56320+(1023&s)))));return t}function Fq(e){var t,n,r,i=nG(2*e.length),o=1,a=0,s=0;for(n=0;n<e.length;n+=o)o=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),o=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),o=3):(o=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),s=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==s&&(i[a++]=255&s,i[a++]=s>>>8,s=0),i[a++]=t%256,i[a++]=t>>>8;return i.slice(0,a).toString("ucs2")}function Uq(e){return tG(e,"binary").toString("utf8")}var Bq="foo bar baz",zq=eG&&(Uq(Bq)==Lq(Bq)&&Uq||Fq(Bq)==Lq(Bq)&&Fq)||Lq,Vq=eG?function(e){return tG(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,i=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,i=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(63&i)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},jq=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}(),Hq=/(^\s|\s$|\n)/;function Wq(e,t){return"<"+e+(t.match(Hq)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Gq(e){return aq(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function qq(e,t,n){return"<"+e+(null!=n?Gq(n):"")+(null!=t?(t.match(Hq)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Xq(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(ame){if(t)throw ame}return""}var Yq="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Kq="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",$q="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Zq="http://schemas.openxmlformats.org/package/2006/content-types",Jq="http://schemas.openxmlformats.org/package/2006/relationships",Qq="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",eX="http://purl.org/dc/elements/1.1/",tX="http://purl.org/dc/terms/",nX="http://purl.org/dc/dcmitype/",rX="http://schemas.openxmlformats.org/officeDocument/2006/relationships",iX="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",oX="http://www.w3.org/2001/XMLSchema-instance",aX="http://www.w3.org/2001/XMLSchema",sX=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],lX="urn:schemas-microsoft-com:office:office",cX="urn:schemas-microsoft-com:office:excel",uX="urn:schemas-microsoft-com:office:spreadsheet",hX="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",fX="http://macVmlSchemaUri",dX="urn:schemas-microsoft-com:vml",pX="http://www.w3.org/TR/REC-html40";var mX=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,i=e[0][n].length;r<i;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},gX=eG?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:tG(e)})):mX(e)}:mX,vX=function(e,t,n){for(var r=[],i=t;i<n;i+=2)r.push(String.fromCharCode(FX(e,i)));return r.join("").replace(lG,"")},yX=eG?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(lG,""):vX(e,t,n)}:vX,_X=function(e,t,n){for(var r=[],i=t;i<t+n;++i)r.push(("0"+e[i].toString(16)).slice(-2));return r.join("")},bX=eG?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):_X(e,t,n)}:_X,xX=function(e,t,n){for(var r=[],i=t;i<n;i++)r.push(String.fromCharCode(LX(e,i)));return r.join("")},wX=eG?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):xX(e,t,n)}:xX,SX=function(e,t){var n=BX(e,t);return n>0?wX(e,t+4,t+4+n-1):""},EX=SX,TX=function(e,t){var n=BX(e,t);return n>0?wX(e,t+4,t+4+n-1):""},AX=TX,MX=function(e,t){var n=2*BX(e,t);return n>0?wX(e,t+4,t+4+n-1):""},CX=MX,OX=function(e,t){var n=BX(e,t);return n>0?yX(e,t+4,t+4+n):""},RX=OX,IX=function(e,t){var n=BX(e,t);return n>0?wX(e,t+4,t+4+n):""},kX=IX,PX=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),i=15&e[t+6],o=5;o>=0;--o)i=256*i+e[t+o];return 2047==r?0==i?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,i+=Math.pow(2,52)),n*Math.pow(2,r-52)*i)}(e,t)},DX=PX,NX=function(e){return Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array};eG&&(EX=function(e,t){if(!Buffer.isBuffer(e))return SX(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},AX=function(e,t){if(!Buffer.isBuffer(e))return TX(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},CX=function(e,t){if(!Buffer.isBuffer(e))return MX(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},RX=function(e,t){if(!Buffer.isBuffer(e))return OX(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},kX=function(e,t){if(!Buffer.isBuffer(e))return IX(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},DX=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):PX(e,t)},NX=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!=typeof Uint8Array&&e instanceof Uint8Array});var LX=function(e,t){return e[t]},FX=function(e,t){return 256*e[t+1]+e[t]},UX=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},BX=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},zX=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},VX=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function jX(e,t){var n,r,i,o,a,s,l="",c=[];switch(t){case"dbcs":if(s=this.l,eG&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(a=0;a<e;++a)l+=String.fromCharCode(FX(this,s)),s+=2;e*=2;break;case"utf8":l=wX(this,this.l,this.l+e);break;case"utf16le":e*=2,l=yX(this,this.l,this.l+e);break;case"wstr":return jX.call(this,e,"dbcs");case"lpstr-ansi":l=EX(this,this.l),e=4+BX(this,this.l);break;case"lpstr-cp":l=AX(this,this.l),e=4+BX(this,this.l);break;case"lpwstr":l=CX(this,this.l),e=4+2*BX(this,this.l);break;case"lpp4":e=4+BX(this,this.l),l=RX(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+BX(this,this.l),l=kX(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(i=LX(this,this.l+e++));)c.push(KW(i));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(i=FX(this,this.l+e));)c.push(KW(i)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",s=this.l,a=0;a<e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=LX(this,s),this.l=s+1,o=jX.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+o;c.push(KW(FX(this,s))),s+=2}l=c.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(l="",s=this.l,a=0;a!=e;++a){if(this.lens&&-1!==this.lens.indexOf(s))return i=LX(this,s),this.l=s+1,o=jX.call(this,e-a,i?"dbcs-cont":"sbcs-cont"),c.join("")+o;c.push(KW(LX(this,s))),s+=1}l=c.join("");break;default:switch(e){case 1:return n=LX(this,this.l),this.l++,n;case 2:return n=("i"===t?UX:FX)(this,this.l),this.l+=2,n;case 4:case-4:return"i"!==t&&128&this[this.l+3]?(r=BX(this,this.l),this.l+=4,r):(n=(e>0?zX:VX)(this,this.l),this.l+=4,n);case 8:case-8:if("f"===t)return r=8==e?DX(this,this.l):DX([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=bX(this,this.l,e)}}return this.l+=e,l}var HX=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},WX=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},GX=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function qX(e,t,n){var r=0,i=0;if("dbcs"===n){for(i=0;i!=t.length;++i)GX(this,t.charCodeAt(i),this.l+2*i);r=2*t.length}else if("sbcs"===n){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=255&t.charCodeAt(i);r=t.length}else{if("hex"===n){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}if("utf16le"===n){var o=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var a=t.charCodeAt(i);this[this.l++]=255&a,this[this.l++]=a>>8}for(;this.l<o;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,HX(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,i=0,o=0,a=r?-t:t;isFinite(a)?0==a?i=o=0:(i=Math.floor(Math.log(a)/Math.LN2),o=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(t)?26985:0);for(var s=0;s<=5;++s,o/=256)e[n+s]=255&o;e[n+6]=(15&i)<<4|15&o,e[n+7]=i>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,WX(this,t,this.l)}}return this.l+=r,this}function XX(e,t){var n=bX(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function YX(e,t){e.l=t,e.read_shift=jX,e.chk=XX,e.write_shift=qX}function KX(e,t){e.l+=t}function $X(e){var t=nG(e);return YX(t,0),t}function ZX(){var e=[],t=eG?256:2048,n=function(e){var t=$X(e);return YX(t,0),t},r=n(t),i=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},o=function(e){return r&&e<r.length-r.l?r:(i(),r=n(Math.max(e+1,t)))};return{next:o,push:function(e){i(),null==(r=e).l&&(r.l=r.length),o(t)},end:function(){return i(),sG(e)},_bufs:e}}function JX(e,t,n,r){var i,o=+t;if(!isNaN(o)){r||(r=rJ[o].p||(n||[]).length||0),i=1+(o>=128?1:0)+1,r>=128&&++i,r>=16384&&++i,r>=2097152&&++i;var a=e.next(i);o<=127?a.write_shift(1,o):(a.write_shift(1,128+(127&o)),a.write_shift(1,o>>7));for(var s=0;4!=s;++s){if(!(r>=128)){a.write_shift(1,r);break}a.write_shift(1,128+(127&r)),r>>=7}r>0&&NX(n)&&e.push(n)}}function QX(e,t,n){var r=xq(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function eY(e,t,n){var r=xq(e);return r.s=QX(r.s,t.s,n),r.e=QX(r.e,t.s,n),r}function tY(e,t){if(e.cRel&&e.c<0)for(e=xq(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=xq(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=lY(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function nY(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?tY(e.s,t.biff)+":"+tY(e.e,t.biff):(e.s.rRel?"":"$")+iY(e.s.r)+":"+(e.e.rRel?"":"$")+iY(e.e.r):(e.s.cRel?"":"$")+aY(e.s.c)+":"+(e.e.cRel?"":"$")+aY(e.e.c)}function rY(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function iY(e){return""+(e+1)}function oY(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function aY(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function sY(e){for(var t=0,n=0,r=0;r<e.length;++r){var i=e.charCodeAt(r);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(n=26*n+(i-64))}return{c:n-1,r:t-1}}function lY(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function cY(e){var t=e.indexOf(":");return-1==t?{s:sY(e),e:sY(e)}:{s:sY(e.slice(0,t)),e:sY(e.slice(t+1))}}function uY(e,t){return void 0===t||"number"==typeof t?uY(e.s,e.e):("string"!=typeof e&&(e=lY(e)),"string"!=typeof t&&(t=lY(t)),e==t?e:e+":"+t)}function hY(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,i=0,o=e.length;for(n=0;r<o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.s.c=--n,n=0;r<o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;if(t.s.r=--n,r===o||10!=i)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=o&&!((i=e.charCodeAt(r)-64)<1||i>26);++r)n=26*n+i;for(t.e.c=--n,n=0;r!=o&&!((i=e.charCodeAt(r)-48)<0||i>9);++r)n=10*n+i;return t.e.r=--n,t}function fY(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=ZG(e.z,n?hq(t):t)}catch(ame){}try{return e.w=ZG((e.XF||{}).numFmtId||(n?14:0),n?hq(t):t)}catch(ame){return""+t}}function dY(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?YY[e.v]||e.v:fY(e,null==t?e.v:t))}function pY(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function mY(e,t,n){var r=n||{},i=e?Array.isArray(e):r.dense,o=e||(i?[]:{}),a=0,s=0;if(o&&null!=r.origin){if("number"==typeof r.origin)a=r.origin;else{var l="string"==typeof r.origin?sY(r.origin):r.origin;a=l.r,s=l.c}o["!ref"]||(o["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var u=hY(o["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),-1==a&&(c.e.r=a=u.e.r+1)}for(var h=0;h!=t.length;++h)if(t[h]){if(!Array.isArray(t[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=t[h].length;++f)if(void 0!==t[h][f]){var d={v:t[h][f]},p=a+h,m=s+f;if(c.s.r>p&&(c.s.r=p),c.s.c>m&&(c.s.c=m),c.e.r<p&&(c.e.r=p),c.e.c<m&&(c.e.c=m),!t[h][f]||"object"!=typeof t[h][f]||Array.isArray(t[h][f])||t[h][f]instanceof Date)if(Array.isArray(d.v)&&(d.f=t[h][f][1],d.v=d.v[0]),null===d.v)if(d.f)d.t="n";else if(r.nullError)d.t="e",d.v=0;else{if(!r.sheetStubs)continue;d.t="z"}else"number"==typeof d.v?d.t="n":"boolean"==typeof d.v?d.t="b":d.v instanceof Date?(d.z=r.dateNF||_G[14],r.cellDates?(d.t="d",d.w=ZG(d.z,hq(d.v))):(d.t="n",d.v=hq(d.v),d.w=ZG(d.z,d.v))):d.t="s";else d=t[h][f];if(i)o[p]||(o[p]=[]),o[p][m]&&o[p][m].z&&(d.z=o[p][m].z),o[p][m]=d;else{var g=lY({c:m,r:p});o[g]&&o[g].z&&(d.z=o[g].z),o[g]=d}}}return c.s.c<1e7&&(o["!ref"]=uY(c)),o}function gY(e,t){return mY(null,e,t)}function vY(e,t){return t||(t=$X(4)),t.write_shift(4,e),t}function yY(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function _Y(e,t){var n=!1;return null==t&&(n=!0,t=$X(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function bY(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function xY(e,t){var n=e.l,r=e.read_shift(1),i=yY(e),o=[],a={t:i,h:i};if(1&r){for(var s=e.read_shift(4),l=0;l!=s;++l)o.push(bY(e));a.r=o}else a.r=[{ich:0,ifnt:0}];return e.l=n+t,a}var wY=xY;function SY(e,t){var n=!1;return null==t&&(n=!0,t=$X(23+4*e.t.length)),t.write_shift(1,1),_Y(e.t,t),t.write_shift(4,1),function(e,t){t||(t=$X(4)),t.write_shift(2,0),t.write_shift(2,0)}(0,t),n?t.slice(0,t.l):t}function EY(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function TY(e,t){return null==t&&(t=$X(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function AY(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function MY(e,t){return null==t&&(t=$X(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var CY=yY,OY=_Y;function RY(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function IY(e,t){var n=!1;return null==t&&(n=!0,t=$X(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var kY=yY,PY=RY,DY=IY;function NY(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var i=0===r?DX([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):zX(t,0)>>2;return n?i/100:i}function LY(e,t){null==t&&(t=$X(4));var n=0,r=0,i=100*e;if(e==(0|e)&&e>=-536870912&&e<1<<29?r=1:i==(0|i)&&i>=-536870912&&i<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?i:e)<<2)+(n+2))}function FY(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var UY=FY,BY=function(e,t){return t||(t=$X(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function zY(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function VY(e,t){return(t||$X(8)).write_shift(8,e,"f")}function jY(e,t){if(t||(t=$X(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var HY=80,WY={1:{n:"CodePage",t:2},2:{n:"Category",t:HY},3:{n:"PresentationFormat",t:HY},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:HY},15:{n:"Company",t:HY},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:HY},27:{n:"ContentStatus",t:HY},28:{n:"Language",t:HY},29:{n:"Version",t:HY},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},GY={1:{n:"CodePage",t:2},2:{n:"Title",t:HY},3:{n:"Subject",t:HY},4:{n:"Author",t:HY},5:{n:"Keywords",t:HY},6:{n:"Comments",t:HY},7:{n:"Template",t:HY},8:{n:"LastAuthor",t:HY},9:{n:"RevNumber",t:HY},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:HY},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function qY(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var XY=xq(qY([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),YY={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},KY={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},$Y={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ZY(e,t){var n,r=function(e){for(var t=[],n=aq(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(KY),i=[];i[i.length]=Cq,i[i.length]=qq("Types",null,{xmlns:Zq,"xmlns:xsd":aX,"xmlns:xsi":oX}),i=i.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return qq("Default",null,{Extension:e[0],ContentType:e[1]})}));var o=function(r){e[r]&&e[r].length>0&&(n=e[r][0],i[i.length]=qq("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:$Y[r][t.bookType]||$Y[r].xlsx}))},a=function(n){(e[n]||[]).forEach(function(e){i[i.length]=qq("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:$Y[n][t.bookType]||$Y[n].xlsx})})},s=function(t){(e[t]||[]).forEach(function(e){i[i.length]=qq("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return o("workbooks"),a("sheets"),a("charts"),s("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(s),s("vba"),s("comments"),s("threadedcomments"),s("drawings"),a("metadata"),s("people"),i.length>2&&(i[i.length]="</Types>",i[1]=i[1].replace("/>",">")),i.join("")}var JY={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function QY(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function eK(e){var t=[Cq,qq("Relationships",null,{xmlns:Jq})];return aq(e["!id"]).forEach(function(n){t[t.length]=qq("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function tK(e,t,n,r,i,o){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=r,i.Target=n,[JY.HLINK,JY.XPATH,JY.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}function nK(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function rK(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function iK(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jW.version+"</meta:generator></office:meta></office:document-meta>"}var oK=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function aK(e,t,n,r,i){null==i[e]&&null!=t&&""!==t&&(i[e]=t,t=kq(t),r[r.length]=n?qq(e,t,n):Wq(e,t))}function sK(e,t){var n=t||{},r=[Cq,qq("cp:coreProperties",null,{"xmlns:cp":Yq,"xmlns:dc":eX,"xmlns:dcterms":tX,"xmlns:dcmitype":nX,"xmlns:xsi":oX})],i={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&aK("dcterms:created","string"==typeof e.CreatedDate?e.CreatedDate:Xq(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),null!=e.ModifiedDate&&aK("dcterms:modified","string"==typeof e.ModifiedDate?e.ModifiedDate:Xq(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=oK.length;++o){var a=oK[o],s=n.Props&&null!=n.Props[a[1]]?n.Props[a[1]]:e?e[a[1]]:null;!0===s?s="1":!1===s?s="0":"number"==typeof s&&(s=String(s)),null!=s&&aK(a[0],s,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var lK=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],cK=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function uK(e){var t=[],n=qq;return e||(e={}),e.Application="SheetJS",t[t.length]=Cq,t[t.length]=qq("Properties",null,{xmlns:$q,"xmlns:vt":iX}),lK.forEach(function(r){if(void 0!==e[r[1]]){var i;switch(r[2]){case"string":i=kq(String(e[r[1]]));break;case"bool":i=e[r[1]]?"true":"false"}void 0!==i&&(t[t.length]=n(r[0],i))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+kq(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function hK(e){var t=[Cq,qq("Properties",null,{xmlns:Kq,"xmlns:vt":iX})];if(!e)return t.join("");var n=1;return aq(e).forEach(function(r){++n,t[t.length]=qq("property",function(e){switch(typeof e){case"string":var t=qq("vt:lpwstr",kq(e));return t.replace(/&quot;/g,"_x0022_");case"number":return qq((0|e)==e?"vt:i4":"vt:r8",kq(String(e)));case"boolean":return qq("vt:bool",e?"true":"false")}if(e instanceof Date)return qq("vt:filetime",Xq(e));throw new Error("Unable to serialize "+e)}(e[r]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:kq(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var fK={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function dK(e,t){var n=$X(4),r=$X(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=$X(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var i=(n*=1e7)/Math.pow(2,32)|0;i>0&&(n%=Math.pow(2,32),r+=i);var o=$X(8);return o.write_shift(4,n),o.write_shift(4,r),o}(t);break;case 31:case 80:for((r=$X(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return sG([n,r])}var pK=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mK(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function gK(e,t,n){var r=$X(8),i=[],o=[],a=8,s=0,l=$X(8),c=$X(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),o.push(l),i.push(c),a+=8+l.length,!t){(c=$X(8)).write_shift(4,0),i.unshift(c);var u=[$X(4)];for(u[0].write_shift(4,e.length),s=0;s<e.length;++s){var h=e[s][0];for((l=$X(8+2*(h.length+1)+(h.length%2?0:2))).write_shift(4,s+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=sG(u),o.unshift(l),a+=8+l.length}for(s=0;s<e.length;++s)if((!t||t[e[s][0]])&&!(pK.indexOf(e[s][0])>-1||cK.indexOf(e[s][0])>-1)&&null!=e[s][1]){var f=e[s][1],d=0;if(t){var p=n[d=+t[e[s][0]]];if("version"==p.p&&"string"==typeof f){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}l=dK(p.t,f)}else{var g=mK(f);-1==g&&(g=31,f=String(f)),l=dK(g,f)}o.push(l),(c=$X(8)).write_shift(4,t?d:2+s),i.push(c),a+=8+l.length}var v=8*(o.length+1);for(s=0;s<o.length;++s)i[s].write_shift(4,v),v+=o[s].length;return r.write_shift(4,a),r.write_shift(4,o.length),sG([r].concat(i).concat(o))}function vK(e,t,n,r,i,o){var a=$X(i?68:48),s=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,rq.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,t,"hex"),a.write_shift(4,i?68:48);var l=gK(e,n,r);if(s.push(l),i){var c=gK(i,null,null);a.write_shift(16,o,"hex"),a.write_shift(4,68+l.length),s.push(c)}return sG(s)}function yK(e,t){return t||(t=$X(2)),t.write_shift(2,+!!e),t}function _K(e){return e.read_shift(2,"u")}function bK(e,t){return t||(t=$X(2)),t.write_shift(2,e),t}function xK(e,t,n){return n||(n=$X(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function wK(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),i="sbcs-cont";(n&&n.biff,n&&8!=n.biff)?12==n.biff&&(i="wstr"):e.read_shift(1)&&(i="dbcs-cont");return n.biff>=2&&n.biff<=5&&(i="cpstr"),r?e.read_shift(r,i):""}function SK(e){var t=e.t||"",n=$X(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=$X(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),sG([n,r])}function EK(e,t,n){return n||(n=$X(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function TK(e,t){t||(t=$X(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function AK(e){var t=$X(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3}t.write_shift(4,2),t.write_shift(4,o);var a=[8,6815827,6619237,4849780,83];for(n=0;n<a.length;++n)t.write_shift(4,a[n]);if(28==o)TK(r=r.slice(1),t);else if(2&o){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));var s=i>-1?r.slice(0,i):r;for(t.write_shift(4,2*(s.length+1)),n=0;n<s.length;++n)t.write_shift(2,s.charCodeAt(n));t.write_shift(2,0),8&o&&TK(i>-1?r.slice(i+1):"",t)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<a.length;++n)t.write_shift(1,parseInt(a[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function MK(e,t,n,r){return r||(r=$X(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function CK(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function OK(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function RK(e,t){return t||(t=$X(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function IK(e,t,n){var r=1536,i=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;default:throw new Error("unsupported BIFF version")}var o=$X(i);return o.write_shift(2,r),o.write_shift(2,t),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function kK(e,t){var n=!t||t.biff>=8?2:1,r=$X(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function PK(e,t,n,r){var i=n&&5==n.biff;r||(r=$X(i?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(i?1:2,t.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return null==o.l&&(o.l=o.length),o}function DK(e,t,n,r){var i=n&&5==n.biff;r||(r=$X(i?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var o=0;return e.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function NK(e){var t=$X(24),n=sY(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(r[i],16));return sG([t,AK(e[1])])}function LK(e){var t=e[1].Tooltip,n=$X(10+2*(t.length+1));n.write_shift(2,2048);var r=sY(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var i=0;i<t.length;++i)n.write_shift(2,t.charCodeAt(i));return n.write_shift(2,0),n}var FK=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=lq({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var i=gY(function(t,n){var r=[],i=nG(1);switch(n.type){case"base64":i=iG(QW(t));break;case"binary":i=iG(t);break;case"buffer":case"array":i=t}YX(i,0);var o=i.read_shift(1),a=!!(136&o),s=!1,l=!1;switch(o){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:s=!0,a=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+o.toString(16))}var c=0,u=521;2==o&&(c=i.read_shift(2)),i.l+=3,2!=o&&(c=i.read_shift(4)),c>1048576&&(c=1e6),2!=o&&(u=i.read_shift(2));var h=i.read_shift(2),f=n.codepage||1252;2!=o&&(i.l+=16,i.read_shift(1),0!==i[i.l]&&(f=e[i[i.l]]),i.l+=1,i.l+=2),l&&(i.l+=36);for(var d=[],p={},m=Math.min(i.length,2==o?521:u-10-(s?264:0)),g=l?32:11;i.l<m&&13!=i[i.l];)switch((p={}).name=YW.utils.decode(f,i.slice(i.l,i.l+g)).replace(/[\u0000\r\n].*$/g,""),i.l+=g,p.type=String.fromCharCode(i.read_shift(1)),2==o||l||(p.offset=i.read_shift(4)),p.len=i.read_shift(1),2==o&&(p.offset=i.read_shift(2)),p.dec=i.read_shift(1),p.name.length&&d.push(p),2!=o&&(i.l+=l?13:14),p.type){case"B":(!s||8!=p.len)&&n.WTF;break;case"G":case"P":n.WTF;break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+p.type)}if(13!==i[i.l]&&(i.l=u-1),13!==i.read_shift(1))throw new Error("DBF Terminator not found "+i.l+" "+i[i.l]);i.l=u;var v=0,y=0;for(r[0]=[],y=0;y!=d.length;++y)r[0][y]=d[y].name;for(;c-- >0;)if(42!==i[i.l])for(++i.l,r[++v]=[],y=0,y=0;y!=d.length;++y){var _=i.slice(i.l,i.l+d[y].len);i.l+=d[y].len,YX(_,0);var b=YW.utils.decode(f,_);switch(d[y].type){case"C":b.trim().length&&(r[v][y]=b.replace(/\s+$/,""));break;case"D":8===b.length?r[v][y]=new Date(+b.slice(0,4),+b.slice(4,6)-1,+b.slice(6,8)):r[v][y]=b;break;case"F":r[v][y]=parseFloat(b.trim());break;case"+":case"I":r[v][y]=l?2147483648^_.read_shift(-4,"i"):_.read_shift(4,"i");break;case"L":switch(b.trim().toUpperCase()){case"Y":case"T":r[v][y]=!0;break;case"N":case"F":r[v][y]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+b+"|")}break;case"M":if(!a)throw new Error("DBF Unexpected MEMO for type "+o.toString(16));r[v][y]="##MEMO##"+(l?parseInt(b.trim(),10):_.read_shift(4));break;case"N":(b=b.replace(/\u0000/g,"").trim())&&"."!=b&&(r[v][y]=+b||0);break;case"@":r[v][y]=new Date(_.read_shift(-8,"f")-621356832e5);break;case"T":r[v][y]=new Date(864e5*(_.read_shift(4)-2440588)+_.read_shift(4));break;case"Y":r[v][y]=_.read_shift(4,"i")/1e4+_.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[v][y]=-_.read_shift(-8,"f");break;case"B":if(s&&8==d[y].len){r[v][y]=_.read_shift(8,"f");break}case"G":case"P":_.l+=d[y].len;break;case"0":if("_NullFlags"===d[y].name)break;default:throw new Error("DBF Unsupported data type "+d[y].type)}}else i.l+=h;if(2!=o&&i.l<i.length&&26!=i[i.l++])throw new Error("DBF EOF Marker missing "+(i.l-1)+" of "+i.length+" "+i[i.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=d,r}(t,r),r);return i["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,i}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return pY(n(e,t),t)}catch(ame){if(t&&t.WTF)throw ame}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var i=n||{};if(+i.codepage>=0&&qW(+i.codepage),"string"==i.type)throw new Error("Cannot write DBF to JS string");var o=ZX(),a=YJ(e,{header:1,raw:!0,cellDates:!0}),s=a[0],l=a.slice(1),c=e["!cols"]||[],u=0,h=0,f=0,d=1;for(u=0;u<s.length;++u)if(((c[u]||{}).DBF||{}).name)s[u]=c[u].DBF.name,++f;else if(null!=s[u]){if(++f,"number"==typeof s[u]&&(s[u]=s[u].toString(10)),"string"!=typeof s[u])throw new Error("DBF Invalid column name "+s[u]+" |"+typeof s[u]+"|");if(s.indexOf(s[u])!==u)for(h=0;h<1024;++h)if(-1==s.indexOf(s[u]+"_"+h)){s[u]+="_"+h;break}}var p=hY(e["!ref"]),m=[],g=[],v=[];for(u=0;u<=p.e.c-p.s.c;++u){var y="",_="",b=0,x=[];for(h=0;h<l.length;++h)null!=l[h][u]&&x.push(l[h][u]);if(0!=x.length&&null!=s[u]){for(h=0;h<x.length;++h){switch(typeof x[h]){case"number":_="B";break;case"string":default:_="C";break;case"boolean":_="L";break;case"object":_=x[h]instanceof Date?"D":"C"}b=Math.max(b,String(x[h]).length),y=y&&y!=_?"C":_}b>250&&(b=250),"C"==(_=((c[u]||{}).DBF||{}).type)&&c[u].DBF.len>b&&(b=c[u].DBF.len),"B"==y&&"N"==_&&(y="N",v[u]=c[u].DBF.dec,b=c[u].DBF.len),g[u]="C"==y||"N"==_?b:r[y]||0,d+=g[u],m[u]=y}else m[u]="?"}var w=o.next(32);for(w.write_shift(4,318902576),w.write_shift(4,l.length),w.write_shift(2,296+32*f),w.write_shift(2,d),u=0;u<4;++u)w.write_shift(4,0);for(w.write_shift(4,(+t[HW]||3)<<8),u=0,h=0;u<s.length;++u)if(null!=s[u]){var S=o.next(32),E=(s[u].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,E,"sbcs"),S.write_shift(1,"?"==m[u]?"C":m[u],"sbcs"),S.write_shift(4,h),S.write_shift(1,g[u]||r[m[u]]||0),S.write_shift(1,v[u]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),h+=g[u]||r[m[u]]||0}var T=o.next(264);for(T.write_shift(4,13),u=0;u<65;++u)T.write_shift(4,0);for(u=0;u<l.length;++u){var A=o.next(d);for(A.write_shift(1,0),h=0;h<s.length;++h)if(null!=s[h])switch(m[h]){case"L":A.write_shift(1,null==l[u][h]?63:l[u][h]?84:70);break;case"B":A.write_shift(8,l[u][h]||0,"f");break;case"N":var M="0";for("number"==typeof l[u][h]&&(M=l[u][h].toFixed(v[h]||0)),f=0;f<g[h]-M.length;++f)A.write_shift(1,32);A.write_shift(1,M,"sbcs");break;case"D":l[u][h]?(A.write_shift(4,("0000"+l[u][h].getFullYear()).slice(-4),"sbcs"),A.write_shift(2,("00"+(l[u][h].getMonth()+1)).slice(-2),"sbcs"),A.write_shift(2,("00"+l[u][h].getDate()).slice(-2),"sbcs")):A.write_shift(8,"00000000","sbcs");break;case"C":var C=String(null!=l[u][h]?l[u][h]:"").slice(0,g[h]);for(A.write_shift(1,C,"sbcs"),f=0;f<g[h]-C.length;++f)A.write_shift(1,32)}}return o.next(1).write_shift(1,26),o.end()}}}(),UK=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("N("+aq(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?$W(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:$W(r)};function i(e,i){var o,a=e.split(/[\n\r]+/),s=-1,l=-1,c=0,u=0,h=[],f=[],d=null,p={},m=[],g=[],v=[],y=0;for(+i.codepage>=0&&qW(+i.codepage);c!==a.length;++c){y=0;var _,b=a[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),x=b.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),w=x[0];if(b.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==x[1].charAt(0)&&f.push(b.slice(3).replace(/;;/g,";"));break;case"C":var S=!1,E=!1,T=!1,A=!1,M=-1,C=-1;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"A":case"G":break;case"X":l=parseInt(x[u].slice(1))-1,E=!0;break;case"Y":for(s=parseInt(x[u].slice(1))-1,E||(l=0),o=h.length;o<=s;++o)h[o]=[];break;case"K":'"'===(_=x[u].slice(1)).charAt(0)?_=_.slice(1,_.length-1):"TRUE"===_?_=!0:"FALSE"===_?_=!1:isNaN(Sq(_))?isNaN(Tq(_).getDate())||(_=_q(_)):(_=Sq(_),null!==d&&XG(d)&&(_=mq(_))),S=!0;break;case"E":A=!0;var O=C$(x[u].slice(1),{r:s,c:l});h[s][l]=[h[s][l],O];break;case"S":T=!0,h[s][l]=[h[s][l],"S5S"];break;case"R":M=parseInt(x[u].slice(1))-1;break;case"C":C=parseInt(x[u].slice(1))-1;break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}if(S&&(h[s][l]&&2==h[s][l].length?h[s][l][0]=_:h[s][l]=_,d=null),T){if(A)throw new Error("SYLK shared formula cannot have own formula");var R=M>-1&&h[M][C];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");h[s][l][1]=I$(R[1],{r:s-M,c:l-C})}break;case"F":var I=0;for(u=1;u<x.length;++u)switch(x[u].charAt(0)){case"X":l=parseInt(x[u].slice(1))-1,++I;break;case"Y":for(s=parseInt(x[u].slice(1))-1,o=h.length;o<=s;++o)h[o]=[];break;case"M":y=parseInt(x[u].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":d=f[parseInt(x[u].slice(1))];break;case"W":for(v=x[u].slice(1).split(" "),o=parseInt(v[0],10);o<=parseInt(v[1],10);++o)y=parseInt(v[2],10),g[o-1]=0===y?{hidden:!0}:{wch:y},e$(g[o-1]);break;case"C":g[l=parseInt(x[u].slice(1))-1]||(g[l]={});break;case"R":m[s=parseInt(x[u].slice(1))-1]||(m[s]={}),y>0?(m[s].hpt=y,m[s].hpx=r$(y)):0===y&&(m[s].hidden=!0);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}I<1&&(d=null);break;default:if(i&&i.WTF)throw new Error("SYLK bad record "+b)}}return m.length>0&&(p["!rows"]=m),g.length>0&&(p["!cols"]=g),i&&i.sheetRows&&(h=h.slice(0,i.sheetRows)),[h,p]}function o(e,t){var n=function(e,t){switch(t.type){case"base64":return i(QW(e),t);case"binary":return i(e,t);case"buffer":return i(eG&&Buffer.isBuffer(e)?e.toString("binary"):aG(e),t);case"array":return i(bq(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],o=n[1],a=gY(r,t);return aq(o).forEach(function(e){a[e]=o[e]}),a}function a(e,t,n,r){var i="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":i+=e.v||0,e.f&&!e.F&&(i+=";E"+R$(e.f,{r:n,c:r}));break;case"b":i+=e.v?"TRUE":"FALSE";break;case"e":i+=e.w||e.v;break;case"d":i+='"'+(e.w||e.v)+'"';break;case"s":i+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return i}return e["|"]=254,{to_workbook:function(e,t){return pY(o(e,t),t)},to_sheet:o,from_sheet:function(e,t){var n,r,i=["ID;PWXL;N;E"],o=[],s=hY(e["!ref"]),l=Array.isArray(e),c="\r\n";i.push("P;PGeneral"),i.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=i,e["!cols"].forEach(function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=ZK(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=JK(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)})),e["!rows"]&&function(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*n$(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}(i,e["!rows"]),i.push("B;Y"+(s.e.r-s.s.r+1)+";X"+(s.e.c-s.s.c+1)+";D"+[s.s.c,s.s.r,s.e.c,s.e.r].join(" "));for(var u=s.s.r;u<=s.e.r;++u)for(var h=s.s.c;h<=s.e.c;++h){var f=lY({r:u,c:h});(n=l?(e[u]||[])[h]:e[f])&&(null!=n.v||n.f&&!n.F)&&o.push(a(n,0,u,h))}return i.join(c)+c+o.join(c)+c+"E"+c}}}(),BK=function(){function e(e,t){for(var n=e.split("\n"),r=-1,i=-1,o=0,a=[];o!==n.length;++o)if("BOT"!==n[o].trim()){if(!(r<0)){for(var s=n[o].trim().split(","),l=s[0],c=s[1],u=n[++o]||"";1&(u.match(/["]/g)||[]).length&&o<n.length-1;)u+="\n"+n[++o];switch(u=u.trim(),+l){case-1:if("BOT"===u){a[++r]=[],i=0;continue}if("EOD"!==u)throw new Error("Unrecognized DIF special command "+u);break;case 0:"TRUE"===u?a[r][i]=!0:"FALSE"===u?a[r][i]=!1:isNaN(Sq(c))?isNaN(Tq(c).getDate())?a[r][i]=c:a[r][i]=_q(c):a[r][i]=Sq(c),++i;break;case 1:(u=(u=u.slice(1,u.length-1)).replace(/""/g,'"'))&&u.match(/^=".*"$/)&&(u=u.slice(2,-1)),a[r][i++]=""!==u?u:null}if("EOD"===u)break}}else a[++r]=[],i=0;return t&&t.sheetRows&&(a=a.slice(0,t.sheetRows)),a}function t(t,n){return gY(function(t,n){switch(n.type){case"base64":return e(QW(t),n);case"binary":return e(t,n);case"buffer":return e(eG&&Buffer.isBuffer(t)?t.toString("binary"):aG(t),n);case"array":return e(bq(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,i){e.push(t),e.push(n+","+r),e.push('"'+i.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,i=[],o=hY(n["!ref"]),a=Array.isArray(n);e(i,"TABLE",0,1,"sheetjs"),e(i,"VECTORS",0,o.e.r-o.s.r+1,""),e(i,"TUPLES",0,o.e.c-o.s.c+1,""),e(i,"DATA",0,0,"");for(var s=o.s.r;s<=o.e.r;++s){t(i,-1,0,"BOT");for(var l=o.s.c;l<=o.e.c;++l){var c=lY({r:s,c:l});if(r=a?(n[s]||[])[l]:n[c])switch(r.t){case"n":var u=r.w;u||null==r.v||(u=r.v),null==u?r.f&&!r.F?t(i,1,0,"="+r.f):t(i,1,0,""):t(i,0,u,"V");break;case"b":t(i,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(i,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=ZG(r.z||_G[14],hq(_q(r.v)))),t(i,0,r.w,"V");break;default:t(i,1,0,"")}else t(i,1,0,"")}}t(i,-1,0,"EOD");return i.join("\r\n")}}();return{to_workbook:function(e,n){return pY(t(e,n),n)},to_sheet:t,from_sheet:n}}(),zK=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return gY(function(t,n){for(var r=t.split("\n"),i=-1,o=-1,a=0,s=[];a!==r.length;++a){var l=r[a].trim().split(":");if("cell"===l[0]){var c=sY(l[1]);if(s.length<=c.r)for(i=s.length;i<=c.r;++i)s[i]||(s[i]=[]);switch(i=c.r,o=c.c,l[2]){case"t":s[i][o]=e(l[3]);break;case"v":s[i][o]=+l[3];break;case"vtf":var u=l[l.length-1];case"vtc":"nl"===l[3]?s[i][o]=!!+l[4]:s[i][o]=+l[4],"vtf"==l[2]&&(s[i][o]=[s[i][o],u])}}}return n&&n.sheetRows&&(s=s.slice(0,n.sheetRows)),s}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),a="--SocialCalcSpreadsheetControlSave--";function s(e){if(!e||!e["!ref"])return"";for(var n,r=[],i=[],o="",a=cY(e["!ref"]),s=Array.isArray(e),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c)if(o=lY({r:l,c:c}),(n=s?(e[l]||[])[c]:e[o])&&null!=n.v&&"z"!==n.t){switch(i=["cell",o,"t"],n.t){case"s":case"str":i.push(t(n.v));break;case"n":n.f?(i[2]="vtf",i[3]="n",i[4]=n.v,i[5]=t(n.f)):(i[2]="v",i[3]=n.v);break;case"b":i[2]="vt"+(n.f?"f":"c"),i[3]="nl",i[4]=n.v?"1":"0",i[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var u=hq(_q(n.v));i[2]="vtc",i[3]="nd",i[4]=""+u,i[5]=n.w||ZG(n.z||_G[14],u);break;case"e":continue}r.push(i.join(":"))}return r.push("sheet:c:"+(a.e.c-a.s.c+1)+":r:"+(a.e.r-a.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return pY(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,i,o,i,s(e),a].join("\n")}}}(),VK=function(){function e(e,t,n,r,i){i.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(Sq(e))?isNaN(Tq(e).getDate())?t[n][r]=e:t[n][r]=_q(e):t[n][r]=Sq(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},i=!1,o=0,a=0;o<e.length;++o)34==(a=e.charCodeAt(o))?i=!i:!i&&a in t&&(r[a]=(r[a]||0)+1);for(o in a=[],r)Object.prototype.hasOwnProperty.call(r,o)&&a.push([r[o],o]);if(!a.length)for(o in r=n)Object.prototype.hasOwnProperty.call(r,o)&&a.push([r[o],o]);return a.sort(function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]}),t[a.pop()[1]]||44}function i(e,t){var n=t||{},i="",o=n.dense?[]:{},a={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(i=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(i=e.charAt(4),e=e.slice(6)):i=r(e.slice(0,1024)):i=n&&n.FS?n.FS:r(e.slice(0,1024));var s=0,l=0,c=0,u=0,h=0,f=i.charCodeAt(0),d=!1,p=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var g,v,y=null!=n.dateNF?(g=n.dateNF,v=(v="number"==typeof g?_G[g]:g).replace(tq,"(\\d+)"),new RegExp("^"+v+"$")):null;function _(){var t=e.slice(u,h),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=Sq(t)))if(!isNaN(Tq(t).getDate())||y&&t.match(y)){r.z=n.dateNF||_G[14];var i=0;y&&t.match(y)&&(t=function(e,t,n){var r=-1,i=-1,o=-1,a=-1,s=-1,l=-1;(t.match(tq)||[]).forEach(function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":o=c;break;case"h":a=c;break;case"s":l=c;break;case"m":a>=0?s=c:i=c}}),l>=0&&-1==s&&i>=0&&(s=i,i=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var u=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==a&&-1==s&&-1==l?c:-1==r&&-1==i&&-1==o?u:c+"T"+u}(0,n.dateNF,t.match(y)||[]),i=1),n.cellDates?(r.t="d",r.v=_q(t,i)):(r.t="n",r.v=hq(_q(t,i))),!1!==n.cellText&&(r.w=ZG(r.z,r.v instanceof Date?hq(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(o[s]||(o[s]=[]),o[s][l]=r):o[lY({c:l,r:s})]=r),u=h+1,m=e.charCodeAt(u),a.e.c<l&&(a.e.c=l),a.e.r<s&&(a.e.r=s),p==f)++l;else if(l=0,++s,n.sheetRows&&n.sheetRows<=s)return!0}e:for(;h<e.length;++h)switch(p=e.charCodeAt(h)){case 34:34===m&&(d=!d);break;case f:case 10:case 13:if(!d&&_())break e}return h-u>0&&_(),o["!ref"]=uY(a),o}function o(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?i(t,n):gY(function(t,n){var r=n||{},i=[];if(!t||0===t.length)return i;for(var o=t.split(/[\r\n]/),a=o.length-1;a>=0&&0===o[a].length;)--a;for(var s=10,l=0,c=0;c<=a;++c)-1==(l=o[c].indexOf(" "))?l=o[c].length:l++,s=Math.max(s,l);for(c=0;c<=a;++c){i[c]=[];var u=0;for(e(o[c].slice(0,s).trim(),i,c,u,r),u=1;u<=(o[c].length-s)/10+1;++u)e(o[c].slice(s+10*(u-1),s+10*u).trim(),i,c,u,r)}return r.sheetRows&&(i=i.slice(0,r.sheetRows)),i}(t,n),n):i(t,n)}function a(e,t){var n="",r="string"==t.type?[0,0,0,0]:function(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=QW(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}(e,t);switch(t.type){case"base64":n=QW(e);break;case"binary":case"string":n=e;break;case"buffer":65001==t.codepage?n=e.toString("utf8"):(t.codepage,n=eG&&Buffer.isBuffer(e)?e.toString("binary"):aG(e));break;case"array":n=bq(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=zq(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=zq(n):t.type,"socialcalc:version:"==n.slice(0,19)?zK.to_sheet("string"==t.type?n:zq(n),t):o(n,t)}return{to_workbook:function(e,t){return pY(a(e,t),t)},to_sheet:a,from_sheet:function(e){for(var t,n=[],r=hY(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){for(var a=[],s=r.s.c;s<=r.e.c;++s){var l=lY({r:o,c:s});if((t=i?(e[o]||[])[s]:e[l])&&null!=t.v){for(var c=(t.w||(dY(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";a.push(c+(0===s?" ":""))}else a.push("          ")}n.push(a.join(""))}return n.join("\n")}}}(),jK=function(){function e(e,t,n){if(e){YX(e,e.l||0);for(var r=n.Enum||v;e.l<e.length;){var i=e.read_shift(2),o=r[i]||r[65535],a=e.read_shift(2),s=e.l+a,l=o.f&&o.f(e,a,n);if(e.l=s,t(l,o,i))return}}}function t(t,n){if(!t)return t;var r=n||{},i=r.dense?[]:{},o="Sheet1",a="",s=0,l={},c=[],u=[],h={s:{r:0,c:0},e:{r:0,c:0}},f=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=v,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:h=e;break;case 204:e&&(a=e);break;case 222:a=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&!(112&~e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||_G[14],r.cellDates&&(e[1].t="d",e[1].v=mq(e[1].v))),r.qpro&&e[3]>s&&(i["!ref"]=uY(h),l[o]=i,c.push(o),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o=a||"Sheet"+(s+1),a="");var u=r.dense?(i[e[0].r]||[])[e[0].c]:i[lY(e[0])];if(u){u.t=e[1].t,u.v=e[1].v,null!=e[1].z&&(u.z=e[1].z),null!=e[1].f&&(u.f=e[1].f);break}r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[lY(e[0])]=e[1]}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=y,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:o=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>s&&(i["!ref"]=uY(h),l[o]=i,c.push(o),i=r.dense?[]:{},h={s:{r:0,c:0},e:{r:0,c:0}},s=e[3],o="Sheet"+(s+1)),f>0&&e[0].r>=f)break;r.dense?(i[e[0].r]||(i[e[0].r]=[]),i[e[0].r][e[0].c]=e[1]):i[lY(e[0])]=e[1],h.e.c<e[0].c&&(h.e.c=e[0].c),h.e.r<e[0].r&&(h.e.r=e[0].r);break;case 27:e[14e3]&&(u[e[14e3][0]]=e[14e3][1]);break;case 1537:u[e[0]]=e[1],e[0]==s&&(o=e[1])}},r)}if(i["!ref"]=uY(h),l[a||o]=i,c.push(a||o),!u.length)return{SheetNames:c,Sheets:l};for(var d={},p=[],m=0;m<u.length;++m)l[c[m]]?(p.push(u[m]||c[m]),d[u[m]]=l[u[m]]||l[c[m]]):(p.push(u[m]),d[u[m]]={"!ref":"A1"});return{SheetNames:p,Sheets:d}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].t="s",20768==r.vers){e.l++;var a=e.read_shift(1);return o[1].v=e.read_shift(a,"utf8"),o}return r.qpro&&e.l++,o[1].v=e.read_shift(i-e.l,"cstr"),o}function i(e,t,n){var r=$X(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var i=0;i<r.length;++i){var o=n.charCodeAt(i);r.write_shift(1,o>=128?95:o)}return r.write_shift(1,0),r}function o(e,t,n){var r=$X(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function a(e,t,n){var r=$X(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function s(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?aY(t):iY(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function u(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function h(e,t,n,r){var i=$X(6+r.length);i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),i.write_shift(1,39);for(var o=0;o<r.length;++o){var a=r.charCodeAt(o);i.write_shift(1,a>=128?95:a)}return i.write_shift(1,0),i}function f(e,t){var n=u(e),r=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(2);if(65535==o)return 0===r&&3221225472===i?(n[1].t="e",n[1].v=15):0===r&&3489660928===i?(n[1].t="e",n[1].v=42):n[1].v=0,n;var a=32768&o;return o=(32767&o)-16446,n[1].v=(1-2*a)*(i*Math.pow(2,o+32)+r*Math.pow(2,o)),n}function d(e,t,n,r){var i=$X(14);if(i.write_shift(2,e),i.write_shift(1,n),i.write_shift(1,t),0==r)return i.write_shift(4,0),i.write_shift(4,0),i.write_shift(2,65535),i;var o,a=0,s=0,l=0;return r<0&&(a=1,r=-r),s=0|Math.log2(r),2147483648&(l=(r/=Math.pow(2,s-31))>>>0)||(++s,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,o=(r*=Math.pow(2,32))>>>0,i.write_shift(4,o),i.write_shift(4,l),s+=16383+(a?32768:0),i.write_shift(2,s),i}function p(e,t){var n=u(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function g(e,t){var n=$X(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var i=e.charCodeAt(r);n[n.l++]=i>127?95:i}return n[n.l++]=0,n}var v={0:{n:"BOF",f:_K},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(2,"i"),i}},14:{n:"NUMBER",f:function(e,t,r){var i=n(e,0,r);return i[1].v=e.read_shift(8,"f"),i}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var i=e.l+t,o=n(e,0,r);if(o[1].v=e.read_shift(8,"f"),r.qpro)e.l=i;else{var a=e.read_shift(2);!function(e,t){YX(e,0);var n=[],r=0,i="",o="",a="",u="";for(;e.l<e.length;){var h=e[e.l++];switch(h){case 0:n.push(e.read_shift(8,"f"));break;case 1:o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(o+i);break;case 2:var f=s(t[0].c,e.read_shift(2),!0),d=s(t[0].r,e.read_shift(2),!1);o=s(t[0].c,e.read_shift(2),!0),i=s(t[0].r,e.read_shift(2),!1),n.push(f+d+":"+o+i);break;case 3:if(e.l<e.length)return;break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var p="";h=e[e.l++];)p+=String.fromCharCode(h);n.push('"'+p.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:u=n.pop(),a=n.pop(),n.push(["AND","OR"][h-20]+"("+a+","+u+")");break;default:if(h<32&&c[h])u=n.pop(),a=n.pop(),n.push(a+c[h]+u);else{if(!l[h])return;if(69==(r=l[h][1])&&(r=e[e.l++]),r>n.length)return;var m=n.slice(-r);n.length-=r,n.push(l[h][0]+"("+m.join(",")+")")}}}1==n.length&&(t[1].f=""+n[0])}(e.slice(e.l,e.l+a),o),e.l+=a}return o}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},y={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=u(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:f},24:{n:"NUMBER18",f:function(e,t){var n=u(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=f(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var i=e.read_shift(2);if(14e3==i){for(n[i]=[0,""],n[i][0]=e.read_shift(2);e[e.l];)n[i][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=u(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:p},40:{n:"FORMULA28",f:function(e,t){var n=p(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&qW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r,s,l=ZX(),c=hY(e["!ref"]),u=Array.isArray(e),h=[];iJ(l,0,(r=1030,(s=$X(2)).write_shift(2,r),s)),iJ(l,6,function(e){var t=$X(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(c));for(var f=Math.min(c.e.r,8191),d=c.s.r;d<=f;++d)for(var p=iY(d),m=c.s.c;m<=c.e.c;++m){d===c.s.r&&(h[m]=aY(m));var g=h[m]+p,v=u?(e[d]||[])[m]:e[g];if(v&&"z"!=v.t)if("n"==v.t)(0|v.v)==v.v&&v.v>=-32768&&v.v<=32767?iJ(l,13,o(d,m,v.v)):iJ(l,14,a(d,m,v.v));else iJ(l,15,i(d,m,dY(v).slice(0,239)))}return iJ(l,1),l.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&qW(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=ZX();iJ(r,0,function(e){var t=$X(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,i=0,o=0;o<e.SheetNames.length;++o){var a=e.SheetNames[o],s=e.Sheets[a];if(s&&s["!ref"]){++i;var l=cY(s["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,i),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var i=0,o=0;i<e.SheetNames.length;++i)(e.Sheets[e.SheetNames[i]]||{})["!ref"]&&iJ(r,27,g(e.SheetNames[i],o++));var a=0;for(i=0;i<e.SheetNames.length;++i){var s=e.Sheets[e.SheetNames[i]];if(s&&s["!ref"]){for(var l=hY(s["!ref"]),c=Array.isArray(s),u=[],f=Math.min(l.e.r,8191),p=l.s.r;p<=f;++p)for(var m=iY(p),v=l.s.c;v<=l.e.c;++v){p===l.s.r&&(u[v]=aY(v));var y=u[v]+m,_=c?(s[p]||[])[v]:s[y];if(_&&"z"!=_.t)if("n"==_.t)iJ(r,23,d(p,v,a,_.v));else iJ(r,22,h(p,v,a,dY(_).slice(0,239)))}++a}}return iJ(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(iG(QW(e)),n);case"binary":return t(iG(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}(),HK=/^\s|\s$|[\t\n\r]/;function WK(e,t){if(!t.bookSST)return"";var n=[Cq];n[n.length]=qq("sst",null,{xmlns:sX[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var i=e[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(HK)&&(o+=' xml:space="preserve"'),o+=">"+kq(i.t)+"</t>"),o+="</si>",n[n.length]=o}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var GK=function(e,t){var n=!1;return null==t&&(n=!0,t=$X(15+4*e.t.length)),t.write_shift(1,0),_Y(e.t,t),n?t.slice(0,t.l):t};function qK(e){var t=ZX();JX(t,159,function(e,t){return t||(t=$X(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)JX(t,19,GK(e[n]));return JX(t,160),t.end()}function XK(e){var t,n,r=0,i=function(e){for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}(e),o=i.length+1;for((t=nG(o))[0]=i.length,n=1;n!=o;++n)t[n]=i[n-1];for(n=o-1;n>=0;--n)r=((16384&r?1:0)|r<<1&32767)^t[n];return 52811^r}var YK=function(){function e(e,n){switch(n.type){case"base64":return t(QW(e),n);case"binary":return t(e,n);case"buffer":return t(eG&&Buffer.isBuffer(e)?e.toString("binary"):aG(e),n);case"array":return t(bq(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var i={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,o=/\\\w+\b/g,a=0,s=-1;r=o.exec(e);){if("\\cell"===r[0]){var l=e.slice(a,o.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++s,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][s]=c:n[lY({r:t,c:s})]=c}}a=o.lastIndex}s>i.e.c&&(i.e.c=s)}),n["!ref"]=uY(i),n}return{to_workbook:function(t,n){return pY(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=hY(e["!ref"]),i=Array.isArray(e),o=r.s.r;o<=r.e.r;++o){n.push("\\trowd\\trautofit1");for(var a=r.s.c;a<=r.e.c;++a)n.push("\\cellx"+(a+1));for(n.push("\\pard\\intbl"),a=r.s.c;a<=r.e.c;++a){var s=lY({r:o,c:a});(t=i?(e[o]||[])[a]:e[s])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(dY(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function KK(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var $K=6;function ZK(e){return Math.floor((e+Math.round(128/$K)/256)*$K)}function JK(e){return Math.floor((e-5)/$K*100+.5)/100}function QK(e){return Math.round((e*$K+5)/$K*256)/256}function e$(e){e.width?(e.wpx=ZK(e.width),e.wch=JK(e.wpx),e.MDW=$K):e.wpx?(e.wch=JK(e.wpx),e.width=QK(e.wch),e.MDW=$K):"number"==typeof e.wch&&(e.width=QK(e.wch),e.wpx=ZK(e.width),e.MDW=$K),e.customWidth&&delete e.customWidth}var t$=96;function n$(e){return 96*e/t$}function r$(e){return e*t$/96}function i$(e,t){var n,r=[Cq,qq("styleSheet",null,{xmlns:sX[0],"xmlns:vt":iX})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=qq("numFmt",null,{numFmtId:r,formatCode:kq(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=qq("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=qq("cellXfs",null),e.forEach(function(e){t[t.length]=qq("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=qq("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function o$(e,t,n){n||(n=$X(6+4*t.length)),n.write_shift(2,e),_Y(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function a$(e,t){t||(t=$X(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=$X(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),jY(e.color,t);return t.write_shift(1,2),_Y(e.name,t),t.length>t.l?t.slice(0,t.l):t}var s$,l$=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],c$=KX;function u$(e,t){t||(t=$X(84)),s$||(s$=lq(l$));var n=s$[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(jY({auto:1},t),jY({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function h$(e,t,n){n||(n=$X(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function f$(e,t){return t||(t=$X(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var d$=KX;function p$(e){var t;JX(e,613,vY(1)),JX(e,46,(t||(t=$X(51)),t.write_shift(1,0),f$(0,t),f$(0,t),f$(0,t),f$(0,t),f$(0,t),t.length>t.l?t.slice(0,t.l):t)),JX(e,614)}function m$(e){var t,n;JX(e,619,vY(1)),JX(e,48,(t={xfId:0,name:"Normal"},n||(n=$X(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,0),n.write_shift(1,0),IY(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),JX(e,620)}function g$(e){JX(e,508,function(e,t,n){var r=$X(2052);return r.write_shift(4,e),IY(t,r),IY(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),JX(e,509)}function v$(e,t){var n=ZX();return JX(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(JX(e,615,vY(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&JX(e,44,o$(r,t[r]))}),JX(e,616))}}(n,e.SSF),function(e){JX(e,611,vY(1)),JX(e,43,a$({sz:12,color:{theme:1},name:"Calibri",family:2})),JX(e,612)}(n),function(e){JX(e,603,vY(2)),JX(e,45,u$({patternType:"none"})),JX(e,45,u$({patternType:"gray125"})),JX(e,604)}(n),p$(n),function(e){JX(e,626,vY(1)),JX(e,47,h$({numFmtId:0},65535)),JX(e,627)}(n),function(e,t){JX(e,617,vY(t.length)),t.forEach(function(t){JX(e,47,h$(t,0))}),JX(e,618)}(n,t.cellXfs),m$(n),function(e){JX(e,505,vY(0)),JX(e,506)}(n),g$(n),JX(n,279),n.end()}function y$(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[Cq];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface=" "/>',n[n.length]='<a:font script="Hang" typeface=" "/>',n[n.length]='<a:font script="Hans" typeface=""/>',n[n.length]='<a:font script="Hant" typeface=""/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function _$(){var e,t,n=ZX();return JX(n,332),JX(n,334,vY(1)),JX(n,335,((t=$X(12+2*(e={name:"XLDAPR",version:12e4,flags:3496657072}).name.length)).write_shift(4,e.flags),t.write_shift(4,e.version),_Y(e.name,t),t.slice(0,t.l))),JX(n,336),JX(n,339,function(e,t){var n=$X(8+2*t.length);return n.write_shift(4,e),_Y(t,n),n.slice(0,n.l)}(1,"XLDAPR")),JX(n,52),JX(n,35,vY(514)),JX(n,4096,vY(0)),JX(n,4097,bK(1)),JX(n,36),JX(n,53),JX(n,340),JX(n,337,function(e){var t=$X(8);return t.write_shift(4,e),t.write_shift(4,1),t}(1)),JX(n,51,function(e){var t=$X(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),JX(n,338),JX(n,333),n.end()}function b$(){var e=[Cq];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var x$=1024;function w$(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),i=[qq("xml",null,{"xmlns:v":dX,"xmlns:o":lX,"xmlns:x":cX,"xmlns:mv":fX}).replace(/\/>/,">"),qq("o:shapelayout",qq("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),qq("v:shapetype",[qq("v:stroke",null,{joinstyle:"miter"}),qq("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];x$<1e3*e;)x$+=1e3;return t.forEach(function(e){var t=sY(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?qq("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,o=qq("v:fill",r,n);++x$,i=i.concat(["<v:shape"+Gq({id:"_x0000_s"+x$,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",o,qq("v:shadow",null,{on:"t",obscured:"t"}),qq("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Wq("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),Wq("x:AutoFill","False"),Wq("x:Row",String(t.r)),Wq("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function S$(e){var t=[Cq,qq("comments",null,{xmlns:sX[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=kq(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,i=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(kq(e.a))),i.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),i.length<=1)t.push(Wq("t",kq(i[0]||"")));else{for(var o="Comment:\n    "+i[0]+"\n",a=1;a<i.length;++a)o+="Reply:\n    "+i[a]+"\n";t.push(Wq("t",kq(o)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function E$(e,t,n){var r=[Cq,qq("ThreadedComments",null,{xmlns:Qq}).replace(/[\/]>/,">")];return e.forEach(function(e){var i="";(e[1]||[]).forEach(function(o,a){if(o.T){o.a&&-1==t.indexOf(o.a)&&t.push(o.a);var s={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==a?i=s.id:s.parentId=i,o.ID=s.id,o.a&&(s.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(o.a)).slice(-12)+"}"),r.push(qq("threadedComment",Wq("text",o.t||""),s))}else delete o.ID})}),r.push("</ThreadedComments>"),r.join("")}var T$=yY;function A$(e){var t=ZX(),n=[];return JX(t,628),JX(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),JX(t,632,function(e){return _Y(e.slice(0,54))}(e.a)))})}),JX(t,631),JX(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var i={s:sY(e[0]),e:sY(e[0])};JX(t,635,function(e,t){return null==t&&(t=$X(36)),t.write_shift(4,e[1].iauthor),BY(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([i,r])),r.t&&r.t.length>0&&JX(t,637,SY(r)),JX(t,636),delete r.iauthor})}),JX(t,634),JX(t,629),t.end()}var M$=["xlsb","xlsm","xlam","biff8","xla"],C$=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,i){var o=!1,a=!1;0==r.length?a=!0:"["==r.charAt(0)&&(a=!0,r=r.slice(1,-1)),0==i.length?o=!0:"["==i.charAt(0)&&(o=!0,i=i.slice(1,-1));var s=r.length>0?0|parseInt(r,10):0,l=i.length>0?0|parseInt(i,10):0;return o?l+=t.c:--l,a?s+=t.r:--s,n+(o?"":"$")+aY(l)+(a?"":"$")+iY(s)}return function(r,i){return t=i,r.replace(e,n)}}(),O$=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,R$=function(){return function(e,t){return e.replace(O$,function(e,n,r,i,o,a){var s=oY(i)-(r?0:t.c),l=rY(a)-(o?0:t.r);return n+"R"+(0==l?"":o?l+1:"["+l+"]")+"C"+(0==s?"":r?s+1:"["+s+"]")})}}();function I$(e,t){return e.replace(O$,function(e,n,r,i,o,a){return n+("$"==r?r+i:aY(oY(i)+t.c))+("$"==o?o+a:iY(rY(a)+t.r))})}function k$(e){e.l+=1}function P$(e,t){var n=e.read_shift(2);return[16383&n,n>>14&1,n>>15&1]}function D$(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return N$(e);12==n.biff&&(r=4)}var i=e.read_shift(r),o=e.read_shift(r),a=P$(e),s=P$(e);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:o,c:s[0],cRel:s[1],rRel:s[2]}}}function N$(e){var t=P$(e),n=P$(e),r=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:i,cRel:n[1],rRel:n[2]}}}function L$(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=P$(e),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),i=P$(e);return{r:r,c:i[0],cRel:i[1],rRel:i[2]}}function F$(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function U$(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function B$(e){return[e.read_shift(1),e.read_shift(1)]}function z$(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=function(e,t){return 1===e.read_shift(t)}(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=YY[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=zY(e);break;case 2:n[1]=function(e,t,n){if(n.biff>5)return function(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):function(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}(e,r,n)}(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function V$(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),i=[],o=0;o!=r;++o)i.push((12==n.biff?UY:OK)(e));return i}function j$(e,t,n){var r=0,i=0;12==n.biff?(r=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--i&&(i=256));for(var o=0,a=[];o!=r&&(a[o]=[]);++o)for(var s=0;s!=i;++s)a[o][s]=z$(e,n.biff);return a}function H$(e,t,n){return e.l+=2,[F$(e)]}function W$(e){return e.l+=6,[]}function G$(e){return e.l+=2,[_K(e),1&e.read_shift(2)]}var q$=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var X$={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:KX},3:{n:"PtgAdd",f:k$},4:{n:"PtgSub",f:k$},5:{n:"PtgMul",f:k$},6:{n:"PtgDiv",f:k$},7:{n:"PtgPower",f:k$},8:{n:"PtgConcat",f:k$},9:{n:"PtgLt",f:k$},10:{n:"PtgLe",f:k$},11:{n:"PtgEq",f:k$},12:{n:"PtgGe",f:k$},13:{n:"PtgGt",f:k$},14:{n:"PtgNe",f:k$},15:{n:"PtgIsect",f:k$},16:{n:"PtgUnion",f:k$},17:{n:"PtgRange",f:k$},18:{n:"PtgUplus",f:k$},19:{n:"PtgUminus",f:k$},20:{n:"PtgPercent",f:k$},21:{n:"PtgParen",f:k$},22:{n:"PtgMissArg",f:k$},23:{n:"PtgStr",f:function(e,t,n){return e.l++,wK(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,YY[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,zY(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(n&&n.biff<=3?1:2);return[uZ[i],cZ[i],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],i=e.read_shift(1),o=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[i,(0===o[0]?cZ:lZ)[o[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,i=!n||n.biff>=8?4:2,o=e.read_shift(i);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,o]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,L$(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,D$(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:KX},40:{n:"PtgMemNoMem",f:KX},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,i=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==i&&n>=128&&(n-=256),{r:t,c:n,cRel:i,rRel:r}}(e);var i=e.read_shift(r>=12?4:2),o=e.read_shift(2),a=(16384&o)>>14,s=(32768&o)>>15;if(o&=16383,1==s)for(;i>524287;)i-=1048576;if(1==a)for(;o>8191;)o-=16384;return{r:i,c:o,cRel:a,rRel:s}}(e,0,n);return[r,i]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=function(e,t,n){if(n.biff<8)return N$(e);var r=e.read_shift(12==n.biff?4:2),i=e.read_shift(12==n.biff?4:2),o=P$(e),a=P$(e);return{s:{r:r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}(e,0,n);return[r,i]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var i=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,i,L$(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,i,D$(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=4;if(n)switch(n.biff){case 5:o=15;break;case 12:o=6}return e.l+=o,[r,i]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,i=e.read_shift(2),o=8;if(n)switch(n.biff){case 5:e.l+=12,o=6;break;case 12:o=12}return e.l+=o,[r,i]}},255:{}},Y$={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},K$={1:{n:"PtgElfLel",f:G$},2:{n:"PtgElfRw",f:H$},3:{n:"PtgElfCol",f:H$},6:{n:"PtgElfRwV",f:H$},7:{n:"PtgElfColV",f:H$},10:{n:"PtgElfRadical",f:H$},11:{n:"PtgElfRadicalS",f:W$},13:{n:"PtgElfColS",f:W$},15:{n:"PtgElfColSV",f:W$},16:{n:"PtgElfRadicalLel",f:G$},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),i=e.read_shift(2),o=e.read_shift(2);return{ixti:t,coltype:3&n,rt:q$[n>>2&31],idx:r,c:i,C:o}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},$$={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),i=[],o=0;o<=r;++o)i.push(e.read_shift(n&&2==n.biff?1:2));return i}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:U$},33:{n:"PtgAttrBaxcel",f:U$},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),B$(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),B$(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Z$(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],i=[],o=0;o<r.length;++o){var a=r[o];if(a)if(2===a[0])i.push('"'+a[1].replace(/"/g,'""')+'"');else i.push(a[1]);else i.push("")}t.push(i.join(","))}return t.join(";")}var J$={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Q$(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var i="";if(n.biff>8)switch(e[r[0]][0]){case 357:return i=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return i=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(i=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function eZ(e,t,n){var r=Q$(e,t,n);return"#REF"==r?r:function(e,t){if(!(e||t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function tZ(e,t,n,r,i){var o,a,s,l,c=i&&i.biff||8,u={s:{c:0,r:0}},h=[],f=0,d=0,p="";if(!e[0]||!e[0][0])return"";for(var m=-1,g="",v=0,y=e[0].length;v<y;++v){var _=e[0][v];switch(_[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=h.pop(),a=h.pop(),m>=0){switch(e[0][m][1][0]){case 0:g=wq(" ",e[0][m][1][1]);break;case 1:g=wq("\r",e[0][m][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}a+=g,m=-1}h.push(a+J$[_[0]]+o);break;case"PtgIsect":o=h.pop(),a=h.pop(),h.push(a+" "+o);break;case"PtgUnion":o=h.pop(),a=h.pop(),h.push(a+","+o);break;case"PtgRange":o=h.pop(),a=h.pop(),h.push(a+":"+o);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":s=QX(_[1][1],u,i),h.push(tY(s,c));break;case"PtgRefN":s=n?QX(_[1][1],n,i):_[1][1],h.push(tY(s,c));break;case"PtgRef3d":f=_[1][1],s=QX(_[1][2],u,i),p=eZ(r,f,i),h.push(p+"!"+tY(s,c));break;case"PtgFunc":case"PtgFuncVar":var b=_[1][0],x=_[1][1];b||(b=0);var w=0==(b&=127)?[]:h.slice(-b);h.length-=b,"User"===x&&(x=w.shift()),h.push(x+"("+w.join(",")+")");break;case"PtgBool":h.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":h.push(_[1]);break;case"PtgNum":h.push(String(_[1]));break;case"PtgStr":h.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=eY(_[1][1],n?{s:n}:u,i),h.push(nY(l,i));break;case"PtgArea":l=eY(_[1][1],u,i),h.push(nY(l,i));break;case"PtgArea3d":f=_[1][1],l=_[1][2],p=eZ(r,f,i),h.push(p+"!"+nY(l,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgName":d=_[1][2];var S=(r.names||[])[d-1]||(r[0]||[])[d],E=S?S.Name:"SH33TJSNAME"+String(d);E&&"_xlfn."==E.slice(0,6)&&!i.xlfn&&(E=E.slice(6)),h.push(E);break;case"PtgNameX":var T,A=_[1][1];if(d=_[1][2],!(i.biff<=5)){var M="";if(14849==((r[A]||[])[0]||[])[0]||(1025==((r[A]||[])[0]||[])[0]?r[A][d]&&r[A][d].itab>0&&(M=r.SheetNames[r[A][d].itab-1]+"!"):M=r.SheetNames[d-1]+"!"),r[A]&&r[A][d])M+=r[A][d].Name;else if(r[0]&&r[0][d])M+=r[0][d].Name;else{var C=(Q$(r,A,i)||"").split(";;");C[d-1]?M=C[d-1]:M+="SH33TJSERRX"}h.push(M);break}A<0&&(A=-A),r[A]&&(T=r[A][d]),T||(T={Name:"SH33TJSERRY"}),h.push(T.Name);break;case"PtgParen":var O="(",R=")";if(m>=0){switch(g="",e[0][m][1][0]){case 2:O=wq(" ",e[0][m][1][1])+O;break;case 3:O=wq("\r",e[0][m][1][1])+O;break;case 4:R=wq(" ",e[0][m][1][1])+R;break;case 5:R=wq("\r",e[0][m][1][1])+R;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}h.push(O+h.pop()+R);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":h.push("#REF!");break;case"PtgExp":s={c:_[1][1],r:_[1][0]};var I={c:n.c,r:n.r};if(r.sharedf[lY(s)]){var k=r.sharedf[lY(s)];h.push(tZ(k,u,I,r,i))}else{var P=!1;for(o=0;o!=r.arrayf.length;++o)if(a=r.arrayf[o],!(s.c<a[0].s.c||s.c>a[0].e.c||s.r<a[0].s.r||s.r>a[0].e.r)){h.push(tZ(a[1],u,I,r,i)),P=!0;break}P||h.push(_[1])}break;case"PtgArray":h.push("{"+Z$(_[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=v;break;case"PtgMissArg":h.push("");break;case"PtgList":h.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(_))}if(3!=i.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][v][0])){var D=!0;switch((_=e[0][m])[1][0]){case 4:D=!1;case 0:g=wq(" ",_[1][1]);break;case 5:D=!1;case 1:g=wq("\r",_[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}h.push((D?g:"")+h.pop()+(D?"":g)),m=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function nZ(e,t,n,r,i){var o=MK(t,n,i),a=function(e){if(null==e){var t=$X(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return VY("number"==typeof e?e:0)}(e.v),s=$X(6);s.write_shift(2,33),s.write_shift(4,0);for(var l=$X(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return sG([o,a,s,l])}function rZ(e,t,n){var r=e.read_shift(4),i=function(e,t,n){for(var r,i,o=e.l+t,a=[];o!=e.l;)t=o-e.l,i=e[e.l],r=X$[i]||X$[Y$[i]],24!==i&&25!==i||(r=(24===i?K$:$$)[e[e.l+1]]),r&&r.f?a.push([r.n,r.f(e,t,n)]):KX(e,t);return a}(e,r,n),o=e.read_shift(4),a=o>0?function(e,t,n,r){if(r.biff<8)return KX(e,t);for(var i=e.l+t,o=[],a=0;a!==n.length;++a)switch(n[a][0]){case"PtgArray":n[a][1]=j$(e,0,r),o.push(n[a][1]);break;case"PtgMemArea":n[a][2]=V$(e,n[a][1],r),o.push(n[a][2]);break;case"PtgExp":r&&12==r.biff&&(n[a][1][1]=e.read_shift(4),o.push(n[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[a][0]}return 0!==(t=i-e.l)&&o.push(KX(e,t)),o}(e,o,i,n):null;return[i,a]}var iZ=rZ,oZ=rZ,aZ=rZ,sZ=rZ,lZ={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},cZ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},uZ={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function hZ(e){return("of:="+e.replace(O$,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function fZ(e){return e.replace(/\./,"!")}var dZ="undefined"!=typeof Map;function pZ(e,t,n){var r=0,i=e.length;if(n){if(dZ?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var o=dZ?n.get(t):n[t];r<o.length;++r)if(e[o[r]].t===t)return e.Count++,o[r]}else for(;r<i;++r)if(e[r].t===t)return e.Count++,r;return e[i]={t:t},e.Count++,e.Unique++,n&&(dZ?(n.has(t)||n.set(t,[]),n.get(t).push(i)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(i))),i}function mZ(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&($K=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=JK(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=QK(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function gZ(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function vZ(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],i=60,o=e.length;if(null==r&&n.ssf)for(;i<392;++i)if(null==n.ssf[i]){JG(t.z,i),n.ssf[i]=t.z,n.revssf[t.z]=r=i;break}for(i=0;i!=o;++i)if(e[i].numFmtId===r)return i;return e[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function yZ(e,t,n){if(e&&e["!ref"]){var r=hY(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var _Z=["objects","scenarios","selectLockedCells","selectUnlockedCells"],bZ=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function xZ(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!=typeof e.f||"z"===e.t&&!e.f)return"";var i="",o=e.t,a=e.v;if("z"!==e.t)switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=YY[e.v];break;case"d":r&&r.cellDates?i=_q(e.v,-1).toISOString():((e=xq(e)).t="n",i=""+(e.v=hq(_q(e.v)))),void 0===e.z&&(e.z=_G[14]);break;default:i=e.v}var s=Wq("v",kq(i)),l={r:t},c=vZ(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){s=Wq("v",""+pZ(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=o&&(e.t=o,e.v=a),"string"==typeof e.f&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;s=qq("f",kq(e.f),u)+(null!=e.v?s:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),qq("c",s,l)}function wZ(e,t,n,r){var i,o=[Cq,qq("worksheet",null,{xmlns:sX[0],"xmlns:r":rX})],a=n.SheetNames[e],s="",l=n.Sheets[a];null==l&&(l={});var c=l["!ref"]||"A1",u=hY(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=uY(u)}r||(r={}),l["!comments"]=[];var h=[];!function(e,t,n,r,i){var o=!1,a={},s=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(ame){}o=!0,a.codeName=Vq(kq(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),s=(s||"")+qq("outlinePr",null,c)}(o||s)&&(i[i.length]=qq("sheetPr",s,a))}(l,n,e,t,o),o[o.length]=qq("dimension",null,{ref:c}),o[o.length]=function(e,t,n,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),qq("sheetViews",qq("sheetView",null,i),{})}(0,0,0,n),t.sheetFormat&&(o[o.length]=qq("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(o[o.length]=function(e,t){for(var n,r=["<cols>"],i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=qq("col",null,mZ(i,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),o[i=o.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(s=function(e,t){var n,r,i=[],o=[],a=hY(e["!ref"]),s="",l="",c=[],u=0,h=0,f=e["!rows"],d=Array.isArray(e),p={r:l},m=-1;for(h=a.s.c;h<=a.e.c;++h)c[h]=aY(h);for(u=a.s.r;u<=a.e.r;++u){for(o=[],l=iY(u),h=a.s.c;h<=a.e.c;++h){n=c[h]+l;var g=d?(e[u]||[])[h]:e[n];void 0!==g&&null!=(s=xZ(g,n,e,t))&&o.push(s)}(o.length>0||f&&f[u])&&(p={r:l},f&&f[u]&&((r=f[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=n$(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level)),i[i.length]=qq("row",o.join(""),p))}if(f)for(;u<f.length;++u)f&&f[u]&&(p={r:u+1},(r=f[u]).hidden&&(p.hidden=1),m=-1,r.hpx?m=n$(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(p.ht=m,p.customHeight=1),r.level&&(p.outlineLevel=r.level),i[i.length]=qq("row","",p));return i.join("")}(l,t),s.length>0&&(o[o.length]=s)),o.length>i+1&&(o[o.length]="</sheetData>",o[i]=o[i].replace("/>",">")),l["!protect"]&&(o[o.length]=function(e){var t={sheet:1};return _Z.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),bZ.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=XK(e.password).toString(16).toUpperCase()),qq("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(o[o.length]=function(e,t,n,r){var i="string"==typeof e.ref?e.ref:uY(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var o=n.Workbook.Names,a=cY(i);a.s.r==a.e.r&&(a.e.r=cY(t["!ref"]).e.r,i=uY(a));for(var s=0;s<o.length;++s){var l=o[s];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+i;break}}return s==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+i}),qq("autoFilter",null,{ref:i})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(o[o.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+uY(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var f,d,p=-1,m=-1;return l["!links"].length>0&&(o[o.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(f={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=tK(r,-1,kq(e[1].Target).replace(/#.*$/,""),JY.HLINK),f["r:id"]="rId"+m),(p=e[1].Target.indexOf("#"))>-1&&(f.location=kq(e[1].Target.slice(p+1))),e[1].Tooltip&&(f.tooltip=kq(e[1].Tooltip)),o[o.length]=qq("hyperlink",null,f))}),o[o.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(o[o.length]=(gZ(d=l["!margins"]),qq("pageMargins",null,d))),t&&!t.ignoreEC&&null!=t.ignoreEC||(o[o.length]=Wq("ignoredErrors",qq("ignoredError",null,{numberStoredAsText:1,sqref:c}))),h.length>0&&(m=tK(r,-1,"../drawings/drawing"+(e+1)+".xml",JY.DRAW),o[o.length]=qq("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=h),l["!comments"].length>0&&(m=tK(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",JY.VML),o[o.length]=qq("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),o.length>1&&(o[o.length]="</worksheet>",o[1]=o[1].replace("/>",">")),o.join("")}function SZ(e,t,n,r){var i=function(e,t,n){var r=$X(145),i=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var o=320;i.hpx?o=20*n$(i.hpx):i.hpt&&(o=20*i.hpt),r.write_shift(2,o),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var s=0,l=r.l;r.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var h=-1,f=-1,d=u<<10;d<u+1<<10;++d)c.c=d,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[lY(c)])&&(h<0&&(h=d),f=d);h<0||(++s,r.write_shift(4,h),r.write_shift(4,f))}var p=r.l;return r.l=l,r.write_shift(4,s),r.l=p,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(i.length>17||(t["!rows"]||[])[r])&&JX(e,0,i)}var EZ=UY,TZ=BY;var AZ=UY,MZ=BY;var CZ=["left","right","top","bottom","header","footer"];function OZ(e,t,n,r,i,o,a){if(void 0===t.v)return!1;var s="";switch(t.t){case"b":s=t.v?"1":"0";break;case"d":(t=xq(t)).z=t.z||_G[14],t.v=hq(_q(t.v)),t.t="n";break;case"n":case"e":s=""+t.v;break;default:s=t.v}var l={r:n,c:r};switch(l.s=vZ(i.cellXfs,t,i),t.l&&o["!links"].push([lY(l),t.l]),t.c&&o["!comments"].push([lY(l),t.c]),t.t){case"s":case"str":return i.bookSST?(s=pZ(i.Strings,t.v,i.revStrings),l.t="s",l.v=s,a?JX(e,18,function(e,t,n){return null==n&&(n=$X(8)),MY(t,n),n.write_shift(4,t.v),n}(0,l)):JX(e,7,function(e,t,n){return null==n&&(n=$X(12)),TY(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",a?JX(e,17,function(e,t,n){return null==n&&(n=$X(8+4*e.v.length)),MY(t,n),_Y(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):JX(e,6,function(e,t,n){return null==n&&(n=$X(12+4*e.v.length)),TY(t,n),_Y(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?a?JX(e,13,function(e,t,n){return null==n&&(n=$X(8)),MY(t,n),LY(e.v,n),n}(t,l)):JX(e,2,function(e,t,n){return null==n&&(n=$X(12)),TY(t,n),LY(e.v,n),n}(t,l)):a?JX(e,16,function(e,t,n){return null==n&&(n=$X(12)),MY(t,n),VY(e.v,n),n}(t,l)):JX(e,5,function(e,t,n){return null==n&&(n=$X(16)),TY(t,n),VY(e.v,n),n}(t,l)),!0;case"b":return l.t="b",a?JX(e,15,function(e,t,n){return null==n&&(n=$X(5)),MY(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):JX(e,4,function(e,t,n){return null==n&&(n=$X(9)),TY(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",a?JX(e,14,function(e,t,n){return null==n&&(n=$X(8)),MY(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):JX(e,3,function(e,t,n){return null==n&&(n=$X(9)),TY(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return a?JX(e,12,function(e,t,n){return null==n&&(n=$X(4)),MY(t,n)}(0,l)):JX(e,1,function(e,t,n){return null==n&&(n=$X(8)),TY(t,n)}(0,l)),!0}function RZ(e,t){var n,r;t&&t["!merges"]&&(JX(e,177,(n=t["!merges"].length,null==r&&(r=$X(4)),r.write_shift(4,n),r)),t["!merges"].forEach(function(t){JX(e,176,MZ(t))}),JX(e,178))}function IZ(e,t){t&&t["!cols"]&&(JX(e,390),t["!cols"].forEach(function(t,n){t&&JX(e,60,function(e,t,n){null==n&&(n=$X(18));var r=mZ(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var i=0;return t.hidden&&(i|=1),"number"==typeof r.width&&(i|=2),t.level&&(i|=t.level<<8),n.write_shift(2,i),n}(n,t))}),JX(e,391))}function kZ(e,t){var n,r;t&&t["!ref"]&&(JX(e,648),JX(e,649,(n=hY(t["!ref"]),(r=$X(24)).write_shift(4,4),r.write_shift(4,1),BY(n,r),r)),JX(e,650))}function PZ(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=tK(n,-1,t[1].Target.replace(/#.*$/,""),JY.HLINK);JX(e,494,function(e,t){var n=$X(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));BY({s:sY(e[0]),e:sY(e[0])},n),DY("rId"+t,n);var r=e[1].Target.indexOf("#");return _Y((-1==r?"":e[1].Target.slice(r+1))||"",n),_Y(e[1].Tooltip||"",n),_Y("",n),n.slice(0,n.l)}(t,r))}}),delete t["!links"]}function DZ(e,t,n){JX(e,133),JX(e,137,function(e,t,n){null==n&&(n=$X(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),JX(e,138),JX(e,134)}function NZ(e,t){var n,r;t["!protect"]&&JX(e,535,(n=t["!protect"],null==r&&(r=$X(66)),r.write_shift(2,n.password?XK(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)}),r))}function LZ(e,t,n,r){var i=ZX(),o=n.SheetNames[e],a=n.Sheets[o]||{},s=o;try{n&&n.Workbook&&(s=n.Workbook.Sheets[e].CodeName||s)}catch(ame){}var l,c,u=hY(a["!ref"]||"A1");if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],JX(i,129),(n.vbaraw||a["!outline"])&&JX(i,147,function(e,t,n){null==n&&(n=$X(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var i=1;i<3;++i)n.write_shift(1,0);return jY({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),OY(e,n),n.slice(0,n.l)}(s,a["!outline"])),JX(i,148,TZ(u)),DZ(i,0,n.Workbook),IZ(i,a),function(e,t,n,r){var i,o=hY(t["!ref"]||"A1"),a="",s=[];JX(e,145);var l=Array.isArray(t),c=o.e.r;t["!rows"]&&(c=Math.max(o.e.r,t["!rows"].length-1));for(var u=o.s.r;u<=c;++u){a=iY(u),SZ(e,t,o,u);var h=!1;if(u<=o.e.r)for(var f=o.s.c;f<=o.e.c;++f){u===o.s.r&&(s[f]=aY(f)),i=s[f]+a;var d=l?(t[u]||[])[f]:t[i];h=!!d&&OZ(e,d,u,f,r,t,h)}}JX(e,146)}(i,a,0,t),NZ(i,a),function(e,t,n,r){if(t["!autofilter"]){var i=t["!autofilter"],o="string"==typeof i.ref?i.ref:uY(i.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,s=cY(o);s.s.r==s.e.r&&(s.e.r=cY(t["!ref"]).e.r,o=uY(s));for(var l=0;l<a.length;++l){var c=a[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+o;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+o}),JX(e,161,BY(hY(o))),JX(e,162)}}(i,a,n,e),RZ(i,a),PZ(i,a,r),a["!margins"]&&JX(i,476,(l=a["!margins"],null==c&&(c=$X(48)),gZ(l),CZ.forEach(function(e){VY(l[e],c)}),c)),t&&!t.ignoreEC&&null!=t.ignoreEC||kZ(i,a),function(e,t,n,r){if(t["!comments"].length>0){var i=tK(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",JY.VML);JX(e,551,DY("rId"+i)),t["!legacy"]=i}}(i,a,e,r),JX(i,130),i.end()}var FZ=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var UZ="][*?/\\".split("");function BZ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");return UZ.forEach(function(t){if(-1!=e.indexOf(t))throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),!0}function zZ(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t,n,r,i=e.Workbook&&e.Workbook.Sheets||[];t=e.SheetNames,n=i,r=!!e.vbaraw,t.forEach(function(e,i){BZ(e);for(var o=0;o<i;++o)if(e==t[o])throw new Error("Duplicate Sheet Name: "+e);if(r){var a=n&&n[i]&&n[i].CodeName||e;if(95==a.charCodeAt(0)&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}});for(var o=0;o<e.SheetNames.length;++o)yZ(e.Sheets[e.SheetNames[o]],e.SheetNames[o],o)}function VZ(e){var t=[Cq];t[t.length]=qq("workbook",null,{xmlns:sX[0],"xmlns:r":rX});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(FZ.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=qq("workbookPr",null,r);var i=e.Workbook&&e.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",o=0;o!=e.SheetNames.length&&i[o]&&i[o].Hidden;++o);o==e.SheetNames.length&&(o=0),t[t.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",o=0;o!=e.SheetNames.length;++o){var a={name:kq(e.SheetNames[o].slice(0,31))};if(a.sheetId=""+(o+1),a["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden"}t[t.length]=qq("sheet",null,a)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=qq("definedName",kq(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jZ(e,t){return t||(t=$X(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),DY(e.strRelID,t),_Y(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function HZ(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,i=t.Workbook.Sheets,o=0,a=-1,s=-1;o<i.length;++o)!i[o]||!i[o].Hidden&&-1==a?a=o:1==i[o].Hidden&&-1==s&&(s=o);if(!(s>a))JX(e,135),JX(e,158,(n=a,r||(r=$X(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),JX(e,136)}}function WZ(e,t){var n=ZX();return JX(n,131),JX(n,128,function(e,t){t||(t=$X(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return _Y("SheetJS",t),_Y(jW.version,t),_Y(jW.version,t),_Y("7262",t),t.length>t.l?t.slice(0,t.l):t}()),JX(n,153,function(e,t){t||(t=$X(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),OY(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),HZ(n,e),function(e,t){JX(e,143);for(var n=0;n!=t.SheetNames.length;++n)JX(e,156,jZ({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));JX(e,144)}(n,e),JX(n,132),n.end()}function GZ(e,t,n,r,i){return(".bin"===t.slice(-4)?LZ:wZ)(e,n,r,i)}function qZ(e,t,n){return(".bin"===t.slice(-4)?A$:S$)(e)}function XZ(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return aq(fK).map(function(e){for(var t=0;t<oK.length;++t)if(oK[t][1]==e)return oK[t];for(t=0;t<lK.length;++t)if(lK[t][1]==e)return lK[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var i=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof i?i=String(i):!0===i||!1===i?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),n.push(Wq(fK[r[1]]||r[1],i))}}),qq("DocumentProperties",n.join(""),{xmlns:lX})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return e&&aq(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<oK.length;++r)if(t==oK[r][1])return;for(r=0;r<lK.length;++r)if(t==lK[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var o=e[t],a="string";"number"==typeof o?(a="float",o=String(o)):!0===o||!1===o?(a="boolean",o=o?"1":"0"):o=String(o),i.push(qq(Pq(t),o,{"dt:dt":a}))}}),t&&aq(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],o="string";"number"==typeof r?(o="float",r=String(r)):!0===r||!1===r?(o="boolean",r=r?"1":"0"):r instanceof Date?(o="dateTime.tz",r=r.toISOString()):r=String(r),i.push(qq(Pq(n),r,{"dt:dt":o}))}}),"<"+r+' xmlns="'+lX+'">'+i.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function YZ(e){return qq("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+R$(e.Ref,{r:0,c:0})})}function KZ(e,t,n,r,i,o,a){if(!e||null==e.v&&null==e.f)return"";var s={};if(e.f&&(s["ss:Formula"]="="+kq(R$(e.f,a))),e.F&&e.F.slice(0,t.length)==t){var l=sY(e.F.slice(t.length+1));s["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(e.l&&e.l.Target&&(s["ss:HRef"]=kq(e.l.Target),e.l.Tooltip&&(s["x:HRefScreenTip"]=kq(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],u=0;u!=c.length;++u)c[u].s.c==a.c&&c[u].s.r==a.r&&(c[u].e.c>c[u].s.c&&(s["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(s["ss:MergeDown"]=c[u].e.r-c[u].s.r));var h="",f="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":h="Number",f=String(e.v);break;case"b":h="Boolean",f=e.v?"1":"0";break;case"e":h="Error",f=YY[e.v];break;case"d":h="DateTime",f=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||_G[14]);break;case"s":h="String",f=((e.v||"")+"").replace(Rq,function(e){return Oq[e]}).replace(Dq,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var d=vZ(r.cellXfs,e,r);s["ss:StyleID"]="s"+(21+d),s["ss:Index"]=a.c+1;var p=null!=e.v?f:"",m="z"==e.t?"":'<Data ss:Type="'+h+'">'+p+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=qq("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return qq("Comment",t,{"ss:Author":e.a})}).join("")),qq("Cell",m,s)}function $Z(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=r$(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function ZZ(e,t,n){var r=[],i=n.SheetNames[e],o=n.Sheets[i],a=o?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],a=0;a<i.length;++a){var s=i[a];s.Sheet==n&&(s.Name.match(/^_xlfn\./)||o.push(YZ(s)))}return o.join("")}(o,0,e,n):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=o?function(e,t){if(!e["!ref"])return"";var n=hY(e["!ref"]),r=e["!merges"]||[],i=0,o=[];e["!cols"]&&e["!cols"].forEach(function(e,t){e$(e);var n=!!e.width,r=mZ(t,e),i={"ss:Index":t+1};n&&(i["ss:Width"]=ZK(r.width)),e.hidden&&(i["ss:Hidden"]="1"),o.push(qq("Column",null,i))});for(var a=Array.isArray(e),s=n.s.r;s<=n.e.r;++s){for(var l=[$Z(s,(e["!rows"]||[])[s])],c=n.s.c;c<=n.e.c;++c){var u=!1;for(i=0;i!=r.length;++i)if(!(r[i].s.c>c||r[i].s.r>s||r[i].e.c<c||r[i].e.r<s)){r[i].s.c==c&&r[i].s.r==s||(u=!0);break}if(!u){var h={r:s,c:c},f=lY(h),d=a?(e[s]||[])[c]:e[f];l.push(KZ(d,f,e,t,0,0,h))}}l.push("</Row>"),l.length>2&&o.push(l.join(""))}return o.join("")}(o,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(qq("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(qq("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(qq("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)i.push(qq("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<n&&(!r.Workbook.Sheets[o]||r.Workbook.Sheets[o].Hidden);++o);o==n&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Wq("ProtectContents","True")),e["!protect"].objects&&i.push(Wq("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Wq("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||i.push(Wq("EnableSelection","UnlockedCells")):i.push(Wq("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&i.push("<"+t[1]+"/>")})),0==i.length?"":qq("WorksheetOptions",i.join(""),{xmlns:cX})}(o,0,e,n)),r.join("")}function JZ(e,t){t||(t={}),e.SSF||(e.SSF=xq(_G)),e.SSF&&(eq(),QG(e.SSF),t.revssf=cq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],vZ(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(XZ(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(qq("Worksheet",ZZ(r,t,e),{"ss:Name":kq(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(qq("NumberFormat",null,{"ss:Format":kq(_G[e.numFmtId])}));var i={"ss:ID":"s"+(21+t)};n.push(qq("Style",r.join(""),i))}),qq("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var i=t[r];null==i.Sheet&&(i.Name.match(/^_xlfn\./)||n.push(YZ(i)))}return qq("Names",n.join(""))}(e),Cq+qq("Workbook",n.join(""),{xmlns:uX,"xmlns:o":lX,"xmlns:x":cX,"xmlns:ss":uX,"xmlns:dt":hX,"xmlns:html":pX})}var QZ="e0859ff2f94f6810ab9108002b27b3d9",eJ="02d5cdd59c2e1b10939708002b2cf9ae",tJ="05d5cdd59c2e1b10939708002b2cf9ae";function nJ(e,t){var n=t||{},r=rq.utils.cfb_new({root:"R"}),i="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":i="/Workbook",n.biff=8;break;case"biff5":i="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return rq.utils.cfb_add(r,i,dJ(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],i=[],o=[],a=0,s=sq(WY,"n"),l=sq(GY,"n");if(e.Props)for(n=aq(e.Props),a=0;a<n.length;++a)(Object.prototype.hasOwnProperty.call(s,n[a])?r:Object.prototype.hasOwnProperty.call(l,n[a])?i:o).push([n[a],e.Props[n[a]]]);if(e.Custprops)for(n=aq(e.Custprops),a=0;a<n.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},n[a])||(Object.prototype.hasOwnProperty.call(s,n[a])?r:Object.prototype.hasOwnProperty.call(l,n[a])?i:o).push([n[a],e.Custprops[n[a]]]);var c=[];for(a=0;a<o.length;++a)pK.indexOf(o[a][0])>-1||cK.indexOf(o[a][0])>-1||null!=o[a][1]&&c.push(o[a]);i.length&&rq.utils.cfb_add(t,"/SummaryInformation",vK(i,QZ,l,GY)),(r.length||c.length)&&rq.utils.cfb_add(t,"/DocumentSummaryInformation",vK(r,eJ,s,WY,c.length?c:null,tJ))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var i=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==i.slice(-1)&&rq.utils.cfb_add(e,i,t.FileIndex[r].content)}})}(r,rq.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var rJ={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var o=e.read_shift(1);return e.l=r,7&o&&(n.level=7&o),16&o&&(n.hidden=!0),32&o&&(n.hpt=i/20),n}},1:{f:function(e){return[EY(e)]}},2:{f:function(e){return[EY(e),NY(e),"n"]}},3:{f:function(e){return[EY(e),e.read_shift(1),"e"]}},4:{f:function(e){return[EY(e),e.read_shift(1),"b"]}},5:{f:function(e){return[EY(e),zY(e),"n"]}},6:{f:function(e){return[EY(e),yY(e),"str"]}},7:{f:function(e){return[EY(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,i=EY(e);i.r=n["!row"];var o=[i,yY(e),"str"];if(n.cellFormula){e.l+=2;var a=oZ(e,r-e.l,n);o[3]=tZ(a,0,i,n.supbooks,n)}else e.l=r;return o}},9:{f:function(e,t,n){var r=e.l+t,i=EY(e);i.r=n["!row"];var o=[i,zY(e),"n"];if(n.cellFormula){e.l+=2;var a=oZ(e,r-e.l,n);o[3]=tZ(a,0,i,n.supbooks,n)}else e.l=r;return o}},10:{f:function(e,t,n){var r=e.l+t,i=EY(e);i.r=n["!row"];var o=[i,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var a=oZ(e,r-e.l,n);o[3]=tZ(a,0,i,n.supbooks,n)}else e.l=r;return o}},11:{f:function(e,t,n){var r=e.l+t,i=EY(e);i.r=n["!row"];var o=[i,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var a=oZ(e,r-e.l,n);o[3]=tZ(a,0,i,n.supbooks,n)}else e.l=r;return o}},12:{f:function(e){return[AY(e)]}},13:{f:function(e){return[AY(e),NY(e),"n"]}},14:{f:function(e){return[AY(e),e.read_shift(1),"e"]}},15:{f:function(e){return[AY(e),e.read_shift(1),"b"]}},16:{f:function(e){return[AY(e),zY(e),"n"]}},17:{f:function(e){return[AY(e),yY(e),"str"]}},18:{f:function(e){return[AY(e),e.read_shift(4),"s"]}},19:{f:xY},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),o=kY(e),a=aZ(e,0,n),s=RY(e);e.l=r;var l={Name:o,Ptg:a};return i<268435455&&(l.Sheet=i),s&&(l.Comment=s),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var i=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var o=e.read_shift(1);0!=o&&(r.underline=o);var a=e.read_shift(1);a>0&&(r.family=a);var s=e.read_shift(1);switch(s>0&&(r.charset=s),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),i=e.read_shift(2,"i"),o=e.read_shift(1),a=e.read_shift(1),s=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=XY[r];l&&(t.rgb=KK(l));break;case 2:t.rgb=KK([o,a,s]);break;case 3:t.theme=r}return 0!=i&&(t.tint=i>0?i/32767:i/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=yY(e),r}},44:{f:function(e,t){return[e.read_shift(2),yY(e)]}},45:{f:c$},46:{f:d$},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),i=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:i}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:function(e,t,n){if(!n.cellStyles)return KX(e,t);var r=n&&n.biff>=12?4:2,i=e.read_shift(r),o=e.read_shift(r),a=e.read_shift(r),s=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:i,e:o,w:a,ixfe:s,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}},62:{f:function(e){return[EY(e),xY(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=lY(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:KX,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=CY(e),n}},148:{f:EZ,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var i=t>8?yY(e):"";return i.length>0&&(n.CodeName=i),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=PY(e),n.name=yY(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:UY},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:AZ},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:yY(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:PY},357:{},358:{},359:{},360:{T:1},361:{},362:{f:function(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=wK(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],i=e.l+t,o=e.read_shift(n.biff>8?4:2);0!==o--;)r.push(CK(e,n.biff,n));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return r}},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,i=FY(e),o=e.read_shift(1),a=[i];if(a[2]=o,n.cellFormula){var s=iZ(e,r-e.l,n);a[1]=s}else e.l=r;return a}},427:{f:function(e,t,n){var r=e.l+t,i=[UY(e)];if(n.cellFormula){var o=sZ(e,r-e.l,n);i[1]=o,e.l=r}else e.l=r;return i}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return CZ.forEach(function(n){t[n]=zY(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=UY(e),i=RY(e),o=yY(e),a=yY(e),s=yY(e);e.l=n;var l={rfx:r,relId:i,loc:o,display:s};return a&&(l.Tooltip=a),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:PY},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:T$},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=UY(e);return t.rfx=n.s,t.ref=lY(n.s),e.l+=16,t}},636:{T:-1},637:{f:wY},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:yY(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function iJ(e,t,n,r){var i=t;if(!isNaN(i)){var o=r||(n||[]).length||0,a=e.next(4);a.write_shift(2,i),a.write_shift(2,o),o>0&&NX(n)&&e.push(n)}}function oJ(e,t,n){return e||(e=$X(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function aJ(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var i="d"==t.t?hq(_q(t.v)):t.v;return void(i==(0|i)&&i>=0&&i<65536?iJ(e,2,function(e,t,n){var r=$X(9);return oJ(r,e,t),r.write_shift(2,n),r}(n,r,i)):iJ(e,3,function(e,t,n){var r=$X(15);return oJ(r,e,t),r.write_shift(8,n,"f"),r}(n,r,i)));case"b":case"e":return void iJ(e,5,function(e,t,n,r){var i=$X(9);return oJ(i,e,t),xK(n,r||"b",i),i}(n,r,t.v,t.t));case"s":case"str":return void iJ(e,4,function(e,t,n){var r=$X(8+2*n.length);return oJ(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}iJ(e,1,oJ(null,n,r))}function sJ(e,t){for(var n=t||{},r=ZX(),i=0,o=0;o<e.SheetNames.length;++o)e.SheetNames[o]==n.sheet&&(i=o);if(0==i&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return iJ(r,4==n.biff?1033:3==n.biff?521:9,IK(0,16,n)),function(e,t,n,r){var i,o=Array.isArray(t),a=hY(t["!ref"]||"A1"),s="",l=[];if(a.e.c>255||a.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),i=uY(a)}for(var c=a.s.r;c<=a.e.r;++c){s=iY(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=aY(u)),i=l[u]+s;var h=o?(t[c]||[])[u]:t[i];h&&aJ(e,h,c,u)}}}(r,e.Sheets[e.SheetNames[i]],0,n),iJ(r,10),r.end()}function lJ(e,t,n){iJ(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,i=$X(r?15+n.length:16+2*n.length);return i.write_shift(2,20*e.sz),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,n.length),r||i.write_shift(1,1),i.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),i}({sz:12,name:"Arial"},n))}function cJ(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&iJ(e,125,function(e,t){var n=$X(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(mZ(r,t),r))})}}function uJ(e,t,n,r,i){var o=16+vZ(i.cellXfs,t,i);if(null!=t.v||t.bf)if(t.bf)iJ(e,6,nZ(t,n,r,0,o));else switch(t.t){case"d":case"n":iJ(e,515,function(e,t,n,r){var i=$X(14);return MK(e,t,r,i),VY(n,i),i}(n,r,"d"==t.t?hq(_q(t.v)):t.v,o));break;case"b":case"e":iJ(e,517,function(e,t,n,r,i,o){var a=$X(8);return MK(e,t,r,a),xK(n,o,a),a}(n,r,t.v,o,0,t.t));break;case"s":case"str":if(i.bookSST)iJ(e,253,function(e,t,n,r){var i=$X(10);return MK(e,t,r,i),i.write_shift(4,n),i}(n,r,pZ(i.Strings,t.v,i.revStrings),o));else iJ(e,516,function(e,t,n,r,i){var o=!i||8==i.biff,a=$X(+o+8+(1+o)*n.length);return MK(e,t,r,a),a.write_shift(2,n.length),o&&a.write_shift(1,1),a.write_shift((1+o)*n.length,n,o?"utf16le":"sbcs"),a}(n,r,(t.v||"").slice(0,255),o,i));break;default:iJ(e,513,MK(n,r,o))}else iJ(e,513,MK(n,r,o))}function hJ(e,t,n){var r,i,o=ZX(),a=n.SheetNames[e],s=n.Sheets[a]||{},l=(n||{}).Workbook||{},c=(l.Sheets||[])[e]||{},u=Array.isArray(s),h=8==t.biff,f="",d=[],p=hY(s["!ref"]||"A1"),m=h?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}iJ(o,2057,IK(0,16,t)),iJ(o,13,bK(1)),iJ(o,12,bK(100)),iJ(o,15,yK(!0)),iJ(o,17,yK(!1)),iJ(o,16,VY(.001)),iJ(o,95,yK(!0)),iJ(o,42,yK(!1)),iJ(o,43,yK(!1)),iJ(o,130,bK(1)),iJ(o,128,((i=$X(8)).write_shift(4,0),i.write_shift(2,0),i.write_shift(2,0),i)),iJ(o,131,yK(!1)),iJ(o,132,yK(!1)),h&&cJ(o,s["!cols"]),iJ(o,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=$X(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(p,t)),h&&(s["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=iY(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(d[v]=aY(v)),r=d[v]+f;var y=u?(s[g]||[])[v]:s[r];y&&(uJ(o,y,g,v,t),h&&y.l&&s["!links"].push([r,y.l]))}}var _=c.CodeName||c.name||a;return h&&iJ(o,574,function(e){var t=$X(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((l.Views||[])[0])),h&&(s["!merges"]||[]).length&&iJ(o,229,function(e){var t=$X(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)RK(e[n],t);return t}(s["!merges"])),h&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];iJ(e,440,NK(r)),r[1].Tooltip&&iJ(e,2048,LK(r))}delete t["!links"]}(o,s),iJ(o,442,EK(_)),h&&function(e,t){var n=$X(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),iJ(e,2151,n),(n=$X(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),RK(hY(t["!ref"]||"A1"),n),n.write_shift(4,4),iJ(e,2152,n)}(o,s),iJ(o,10),o.end()}function fJ(e,t,n){var r,i=ZX(),o=(e||{}).Workbook||{},a=o.Sheets||[],s=o.WBProps||{},l=8==n.biff,c=5==n.biff;(iJ(i,2057,IK(0,5,n)),"xla"==n.bookType&&iJ(i,135),iJ(i,225,l?bK(1200):null),iJ(i,193,function(e,t){t||(t=$X(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),c&&iJ(i,191),c&&iJ(i,192),iJ(i,226),iJ(i,92,function(e,t){var n=!t||8==t.biff,r=$X(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),iJ(i,66,bK(l?1200:1252)),l&&iJ(i,353,bK(0)),l&&iJ(i,448),iJ(i,317,function(e){for(var t=$X(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),l&&e.vbaraw&&iJ(i,211),l&&e.vbaraw)&&iJ(i,442,EK(s.CodeName||"ThisWorkbook"));iJ(i,156,bK(17)),iJ(i,25,yK(!1)),iJ(i,18,yK(!1)),iJ(i,19,bK(0)),l&&iJ(i,431,yK(!1)),l&&iJ(i,444,bK(0)),iJ(i,61,((r=$X(18)).write_shift(2,0),r.write_shift(2,0),r.write_shift(2,29280),r.write_shift(2,17600),r.write_shift(2,56),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,1),r.write_shift(2,500),r)),iJ(i,64,yK(!1)),iJ(i,141,bK(0)),iJ(i,34,yK("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&function(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}(e.Workbook.WBProps.date1904)?"true":"false"}(e))),iJ(i,14,yK(!0)),l&&iJ(i,439,yK(!1)),iJ(i,218,bK(0)),lJ(i,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)null!=t[i]&&iJ(e,1054,PK(i,t[i],n))})}(i,e.SSF,n),function(e,t){for(var n=0;n<16;++n)iJ(e,224,DK({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){iJ(e,224,DK(n,0,t))})}(i,n),l&&iJ(i,352,yK(!1));var u=i.end(),h=ZX();l&&iJ(h,140,function(e){return e||(e=$X(4)),e.write_shift(2,1),e.write_shift(2,1),e}()),l&&n.Strings&&function(e,t,n){var r=(n||[]).length||0;if(r<=8224)return iJ(e,t,n,r);var i=t;if(!isNaN(i)){for(var o=n.parts||[],a=0,s=0,l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;var c=e.next(4);for(c.write_shift(2,i),c.write_shift(2,l),e.push(n.slice(s,s+l)),s+=l;s<r;){for((c=e.next(4)).write_shift(2,60),l=0;l+(o[a]||8224)<=8224;)l+=o[a]||8224,a++;c.write_shift(2,l),e.push(n.slice(s,s+l)),s+=l}}}(h,252,function(e){var t=$X(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=SK(e[r]);var i=sG([t].concat(n));return i.parts=[t.length].concat(n.map(function(e){return e.length})),i}(n.Strings)),iJ(h,10);var f=h.end(),d=ZX(),p=0,m=0;for(m=0;m<e.SheetNames.length;++m)p+=(l?12:11)+(l?2:1)*e.SheetNames[m].length;var g=u.length+p+f.length;for(m=0;m<e.SheetNames.length;++m){iJ(d,133,kK({pos:g,hs:(a[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),g+=t[m].length}var v=d.end();if(p!=v.length)throw new Error("BS8 "+p+" != "+v.length);var y=[];return u.length&&y.push(u),v.length&&y.push(v),f.length&&y.push(f),sG(y)}function dJ(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])cY(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error}var i=t||{};switch(i.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=xq(_G)),e&&e.SSF&&(eq(),QG(e.SSF),n.revssf=cq(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,BJ(n),n.cellXfs=[],vZ(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)r[r.length]=hJ(i,n,e);return r.unshift(fJ(e,r,n)),sG(r)}(e,t);case 4:case 3:case 2:return sJ(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function pJ(e,t,n,r){for(var i=e["!merges"]||[],o=[],a=t.s.c;a<=t.e.c;++a){for(var s=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>n||i[c].s.c>a||i[c].e.r<n||i[c].e.c<a)){if(i[c].s.r<n||i[c].s.c<a){s=-1;break}s=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(s<0)){var u=lY({r:n,c:a}),h=r.dense?(e[n]||[])[a]:e[u],f=h&&null!=h.v&&(h.h||Nq(h.w||(dY(h),h.w)||""))||"",d={};s>1&&(d.rowspan=s),l>1&&(d.colspan=l),r.editable?f='<span contenteditable="true">'+f+"</span>":h&&(d["data-t"]=h&&h.t||"z",null!=h.v&&(d["data-v"]=h.v),null!=h.z&&(d["data-z"]=h.z),h.l&&"#"!=(h.l.Target||"#").charAt(0)&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),d.id=(r.id||"sjs")+"-"+u,o.push(qq("td",f,d))}}return"<tr>"+o.join("")+"</tr>"}function mJ(e,t){var n=t||{},r=null!=n.header?n.header:'<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',i=null!=n.footer?n.footer:"</body></html>",o=[r],a=cY(e["!ref"]);n.dense=Array.isArray(e),o.push(function(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}(0,0,n));for(var s=a.s.r;s<=a.e.r;++s)o.push(pJ(e,a,s,n));return o.push("</table>"+i),o.join("")}function gJ(e,t,n){var r=n||{},i=0,o=0;if(null!=r.origin)if("number"==typeof r.origin)i=r.origin;else{var a="string"==typeof r.origin?sY(r.origin):r.origin;i=a.r,o=a.c}var s=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,s.length),c={s:{r:0,c:0},e:{r:i,c:o}};if(e["!ref"]){var u=cY(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),-1==i&&(c.e.r=i=u.e.r+1)}var h=[],f=0,d=e["!rows"]||(e["!rows"]=[]),p=0,m=0,g=0,v=0,y=0,_=0;for(e["!cols"]||(e["!cols"]=[]);p<s.length&&m<l;++p){var b=s[p];if(yJ(b)){if(r.display)continue;d[m]={hidden:!0}}var x=b.children;for(g=v=0;g<x.length;++g){var w=x[g];if(!r.display||!yJ(w)){var S=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):jq(w.innerHTML),E=w.getAttribute("data-z")||w.getAttribute("z");for(f=0;f<h.length;++f){var T=h[f];T.s.c==v+o&&T.s.r<m+i&&m+i<=T.e.r&&(v=T.e.c+1-o,f=-1)}_=+w.getAttribute("colspan")||1,((y=+w.getAttribute("rowspan")||1)>1||_>1)&&h.push({s:{r:m+i,c:v+o},e:{r:m+i+(y||1)-1,c:v+o+(_||1)-1}});var A={t:"s",v:S},M=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=S&&(0==S.length?A.t=M||"z":r.raw||0==S.trim().length||"s"==M||("TRUE"===S?A={t:"b",v:!0}:"FALSE"===S?A={t:"b",v:!1}:isNaN(Sq(S))?isNaN(Tq(S).getDate())||(A={t:"d",v:_q(S)},r.cellDates||(A={t:"n",v:hq(A.v)}),A.z=r.dateNF||_G[14]):A={t:"n",v:Sq(S)})),void 0===A.z&&null!=E&&(A.z=E);var C="",O=w.getElementsByTagName("A");if(O&&O.length)for(var R=0;R<O.length&&(!O[R].hasAttribute("href")||"#"==(C=O[R].getAttribute("href")).charAt(0));++R);C&&"#"!=C.charAt(0)&&(A.l={Target:C}),r.dense?(e[m+i]||(e[m+i]=[]),e[m+i][v+o]=A):e[lY({c:v+o,r:m+i})]=A,c.e.c<v+o&&(c.e.c=v+o),v+=_}}++m}return h.length&&(e["!merges"]=(e["!merges"]||[]).concat(h)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=uY(c),m>=l&&(e["!fullref"]=uY((c.e.r=s.length-p+m-1+i,c))),e}function vJ(e,t){return gJ((t||{}).dense?[]:{},e,t)}function yJ(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"==typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"==typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var _J=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Gq({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return Cq+t}}(),bJ=function(){var e=function(e){return kq(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(n,r,i){var o=[];o.push('      <table:table table:name="'+kq(r.SheetNames[i])+'" table:style-name="ta1">\n');var a=0,s=0,l=cY(n["!ref"]||"A1"),c=n["!merges"]||[],u=0,h=Array.isArray(n);if(n["!cols"])for(s=0;s<=l.e.c;++s)o.push("        <table:table-column"+(n["!cols"][s]?' table:style-name="co'+n["!cols"][s].ods+'"':"")+"></table:table-column>\n");var f="",d=n["!rows"]||[];for(a=0;a<l.s.r;++a)f=d[a]?' table:style-name="ro'+d[a].ods+'"':"",o.push("        <table:table-row"+f+"></table:table-row>\n");for(;a<=l.e.r;++a){for(f=d[a]?' table:style-name="ro'+d[a].ods+'"':"",o.push("        <table:table-row"+f+">\n"),s=0;s<l.s.c;++s)o.push(t);for(;s<=l.e.c;++s){var p=!1,m={},g="";for(u=0;u!=c.length;++u)if(!(c[u].s.c>s||c[u].s.r>a||c[u].e.c<s||c[u].e.r<a)){c[u].s.c==s&&c[u].s.r==a||(p=!0),m["table:number-columns-spanned"]=c[u].e.c-c[u].s.c+1,m["table:number-rows-spanned"]=c[u].e.r-c[u].s.r+1;break}if(p)o.push("          <table:covered-table-cell/>\n");else{var v=lY({r:a,c:s}),y=h?(n[a]||[])[s]:n[v];if(y&&y.f&&(m["table:formula"]=kq(hZ(y.f)),y.F&&y.F.slice(0,v.length)==v)){var _=cY(y.F);m["table:number-matrix-columns-spanned"]=_.e.c-_.s.c+1,m["table:number-matrix-rows-spanned"]=_.e.r-_.s.r+1}if(y){switch(y.t){case"b":g=y.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=y.v?"true":"false";break;case"n":g=y.w||String(y.v||0),m["office:value-type"]="float",m["office:value"]=y.v||0;break;case"s":case"str":g=null==y.v?"":y.v,m["office:value-type"]="string";break;case"d":g=y.w||_q(y.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=_q(y.v).toISOString(),m["table:style-name"]="ce1";break;default:o.push(t);continue}var b=e(g);if(y.l&&y.l.Target){var x=y.l.Target;"#"==(x="#"==x.charAt(0)?"#"+fZ(x.slice(1)):x).charAt(0)||x.match(/^\w+:/)||(x="../"+x),b=qq("text:a",b,{"xlink:href":x.replace(/&/g,"&amp;")})}o.push("          "+qq("table:table-cell",qq("text:p",b,{}),m)+"\n")}else o.push(t)}}o.push("        </table:table-row>\n")}return o.push("      </table:table>\n"),o.join("")};return function(e,t){var r=[Cq],i=Gq({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),o=Gq({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+i+o+">\n"),r.push(iK().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+i+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var i=t["!cols"][r];if(null==i.width&&null==i.wpx&&null==i.wch)continue;e$(i),i.ods=n;var o=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+o+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var i=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+i+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var a=0;a!=e.SheetNames.length;++a)r.push(n(e.Sheets[e.SheetNames[a]],e,a));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function xJ(e,t){if("fods"==t.bookType)return bJ(e,t);var n=Mq(),r="",i=[],o=[];return Aq(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),Aq(n,r="content.xml",bJ(e,t)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),Aq(n,r="styles.xml",_J(e,t)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),Aq(n,r="meta.xml",Cq+iK()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),Aq(n,r="manifest.rdf",function(e){var t=[Cq];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(nK(e[n][0],e[n][1])),t.push(rK("",e[n][0]));return t.push(nK("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(o)),i.push([r,"application/rdf+xml"]),Aq(n,r="META-INF/manifest.xml",function(e){var t=[Cq];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(i)),n}function wJ(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function SJ(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):iG(Vq(e))}function EJ(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function TJ(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function AJ(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function MJ(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function CJ(e){for(var t=[],n=[0];n[0]<e.length;){var r,i=n[0],o=TJ(e,n),a=7&o,s=0;if(0==(o=Math.floor(o/8)))break;switch(a){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:s=4,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 1:s=8,r=e.slice(n[0],n[0]+s),n[0]+=s;break;case 2:s=TJ(e,n),r=e.slice(n[0],n[0]+s),n[0]+=s;break;default:throw new Error("PB Type ".concat(a," for Field ").concat(o," at offset ").concat(i))}var c={data:r,type:a};null==t[o]?t[o]=[c]:t[o].push(c)}return t}function OJ(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(AJ(8*n+e.type)),2==e.type&&t.push(AJ(e.data.length)),t.push(e.data))})}),EJ(t)}function RJ(e){for(var t,n=[],r=[0];r[0]<e.length;){var i=TJ(e,r),o=CJ(e.slice(r[0],r[0]+i));r[0]+=i;var a={id:MJ(o[1][0].data),messages:[]};o[2].forEach(function(t){var n=CJ(t.data),i=MJ(n[3][0].data);a.messages.push({meta:n,data:e.slice(r[0],r[0]+i)}),r[0]+=i}),(null==(t=o[3])?void 0:t[0])&&(a.merge=MJ(o[3][0].data)>>>0>0),n.push(a)}return n}function IJ(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:AJ(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:AJ(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:AJ(e.data.length)}],n[2].push({data:OJ(e.meta),type:2})});var i=OJ(n);t.push(AJ(i.length)),t.push(i),r.forEach(function(e){return t.push(e)})}),EJ(t)}function kJ(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=TJ(t,n),i=[];n[0]<t.length;){var o=3&t[n[0]];if(0!=o){var a=0,s=0;if(1==o?(s=4+(t[n[0]]>>2&7),a=(224&t[n[0]++])<<3,a|=t[n[0]++]):(s=1+(t[n[0]++]>>2),2==o?(a=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(a=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),i=[EJ(i)],0==a)throw new Error("Invalid offset 0");if(a>i[0].length)throw new Error("Invalid offset beyond length");if(s>=a)for(i.push(i[0].slice(-a)),s-=a;s>=i[i.length-1].length;)i.push(i[i.length-1]),s-=i[i.length-1].length;i.push(i[0].slice(-a,-a+s))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}i.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var u=EJ(i);if(u.length!=r)throw new Error("Unexpected length: ".concat(u.length," != ").concat(r));return u}function PJ(e){for(var t=[],n=0;n<e.length;){var r=e[n++],i=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(kJ(r,e.slice(n,n+i))),n+=i}if(n!==e.length)throw new Error("data is not a valid framed stream!");return EJ(t)}function DJ(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),i=new Uint8Array(4);t.push(i);var o=AJ(r),a=o.length;t.push(o),r<=60?(a++,t.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),a+=r,i[0]=0,i[1]=255&a,i[2]=a>>8&255,i[3]=a>>16&255,n+=r}return EJ(t)}function NJ(e,t){var n=new Uint8Array(32),r=wJ(n),i=12,o=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,i=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var o=0;i>=1;++o,i/=256)e[t+o]=255&i;e[t+15]|=n>=0?0:128}(n,i,e.v),o|=1,i+=16;break;case"b":n[1]=6,r.setFloat64(i,e.v?1:0,!0),o|=2,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,o,!0),n.slice(0,i)}function LJ(e,t){var n=new Uint8Array(32),r=wJ(n),i=12,o=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(i,e.v,!0),o|=32,i+=8;break;case"b":n[2]=6,r.setFloat64(i,e.v?1:0,!0),o|=32,i+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(i,t.indexOf(e.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,o,!0),n.slice(0,i)}function FJ(e){return TJ(CJ(e)[1][0].data)}function UJ(e,t,n){var r,i,o,a;if(!(null==(r=e[6])?void 0:r[0])||!(null==(i=e[7])?void 0:i[0]))throw"Mutation only works on post-BNC storages!";if((null==(a=null==(o=e[8])?void 0:o[0])?void 0:a.data)&&MJ(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var s=0,l=wJ(e[7][0].data),c=0,u=[],h=wJ(e[4][0].data),f=0,d=[],p=0;p<t.length;++p)if(null!=t[p]){var m,g;switch(l.setUint16(2*p,c,!0),h.setUint16(2*p,f,!0),typeof t[p]){case"string":m=NJ({t:"s",v:t[p]},n),g=LJ({t:"s",v:t[p]},n);break;case"number":m=NJ({t:"n",v:t[p]},n),g=LJ({t:"n",v:t[p]},n);break;case"boolean":m=NJ({t:"b",v:t[p]},n),g=LJ({t:"b",v:t[p]},n);break;default:throw new Error("Unsupported value "+t[p])}u.push(m),c+=m.length,d.push(g),f+=g.length,++s}else l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535);for(e[2][0].data=AJ(s);p<e[7][0].data.length/2;++p)l.setUint16(2*p,65535,!0),h.setUint16(2*p,65535,!0);return e[6][0].data=EJ(u),e[3][0].data=EJ(d),s}function BJ(e){var t;(t=[["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]],function(e){for(var n=0;n!=t.length;++n){var r=t[n];void 0===e[r[0]]&&(e[r[0]]=r[1]),"n"===r[2]&&(e[r[0]]=Number(e[r[0]]))}})(e)}function zJ(e,t){return"ods"==t.bookType?xJ(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length;var r=cY(n["!ref"]);r.s.r=r.s.c=0,r.e.c>9&&(r.e.c=9),r.e.r>49&&(r.e.r=49);var i=YJ(n,{range:r,header:1}),o=["~Sh33tJ5~"];i.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&o.push(e)})});var a={},s=[],l=rq.read(t.numbers,{type:"base64"});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&RJ(PJ(t.content)).forEach(function(e){s.push(e.id),a[e.id]={deps:[],location:n,type:MJ(e.messages[0].meta[1][0].data)}})}),s.sort(function(e,t){return e-t});var c=s.filter(function(e){return e>1}).map(function(e){return[e,AJ(e)]});l.FileIndex.map(function(e,t){return[e,l.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&RJ(PJ(t.content)).forEach(function(e){e.messages.forEach(function(t){c.forEach(function(t){e.messages.some(function(e){return 11006!=MJ(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])})&&a[t[0]].deps.push(e.id)})})})});for(var u,h=rq.find(l,a[1].location),f=RJ(PJ(h.content)),d=0;d<f.length;++d){var p=f[d];1==p.id&&(u=p)}var m=FJ(CJ(u.messages[0].data)[1][0].data);for(f=RJ(PJ((h=rq.find(l,a[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);for(m=FJ(CJ(u.messages[0].data)[2][0].data),f=RJ(PJ((h=rq.find(l,a[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);for(m=FJ(CJ(u.messages[0].data)[2][0].data),f=RJ(PJ((h=rq.find(l,a[m].location)).content)),d=0;d<f.length;++d)(p=f[d]).id==m&&(u=p);var g=CJ(u.messages[0].data);g[6][0].data=AJ(r.e.r+1),g[7][0].data=AJ(r.e.c+1);for(var v=FJ(g[46][0].data),y=rq.find(l,a[v].location),_=RJ(PJ(y.content)),b=0;b<_.length&&_[b].id!=v;++b);if(_[b].id!=v)throw"Bad ColumnRowUIDMapArchive";var x=CJ(_[b].messages[0].data);x[1]=[],x[2]=[],x[3]=[];for(var w=0;w<=r.e.c;++w){var S=[];S[1]=S[2]=[{type:0,data:AJ(w+420690)}],x[1].push({type:2,data:OJ(S)}),x[2].push({type:0,data:AJ(w)}),x[3].push({type:0,data:AJ(w)})}x[4]=[],x[5]=[],x[6]=[];for(var E=0;E<=r.e.r;++E)(S=[])[1]=S[2]=[{type:0,data:AJ(E+726270)}],x[4].push({type:2,data:OJ(S)}),x[5].push({type:0,data:AJ(E)}),x[6].push({type:0,data:AJ(E)});_[b].messages[0].data=OJ(x),y.content=DJ(IJ(_)),y.size=y.content.length,delete g[46];var T=CJ(g[4][0].data);T[7][0].data=AJ(r.e.r+1);var A=FJ(CJ(T[1][0].data)[2][0].data);if((_=RJ(PJ((y=rq.find(l,a[A].location)).content)))[0].id!=A)throw"Bad HeaderStorageBucket";var M=CJ(_[0].messages[0].data);for(E=0;E<i.length;++E){var C=CJ(M[2][0].data);C[1][0].data=AJ(E),C[4][0].data=AJ(i[E].length),M[2][E]={type:M[2][0].type,data:OJ(C)}}_[0].messages[0].data=OJ(M),y.content=DJ(IJ(_)),y.size=y.content.length;var O=FJ(T[2][0].data);if((_=RJ(PJ((y=rq.find(l,a[O].location)).content)))[0].id!=O)throw"Bad HeaderStorageBucket";for(M=CJ(_[0].messages[0].data),w=0;w<=r.e.c;++w)(C=CJ(M[2][0].data))[1][0].data=AJ(w),C[4][0].data=AJ(r.e.r+1),M[2][w]={type:M[2][0].type,data:OJ(C)};_[0].messages[0].data=OJ(M),y.content=DJ(IJ(_)),y.size=y.content.length;var R=FJ(T[4][0].data);!function(){for(var e,t=rq.find(l,a[R].location),n=RJ(PJ(t.content)),r=0;r<n.length;++r){var i=n[r];i.id==R&&(e=i)}var s=CJ(e.messages[0].data);s[3]=[];var c=[];o.forEach(function(e,t){c[1]=[{type:0,data:AJ(t)}],c[2]=[{type:0,data:AJ(1)}],c[3]=[{type:2,data:SJ(e)}],s[3].push({type:2,data:OJ(c)})}),e.messages[0].data=OJ(s);var u=DJ(IJ(n));t.content=u,t.size=t.content.length}();var I=CJ(T[3][0].data),k=I[1][0];delete I[2];var P=CJ(k.data),D=FJ(P[2][0].data);!function(){for(var e,t=rq.find(l,a[D].location),n=RJ(PJ(t.content)),s=0;s<n.length;++s){var c=n[s];c.id==D&&(e=c)}var u=CJ(e.messages[0].data);delete u[6],delete I[7];var h=new Uint8Array(u[5][0].data);u[5]=[];for(var f=0,d=0;d<=r.e.r;++d){var p=CJ(h);f+=UJ(p,i[d],o),p[1][0].data=AJ(d),u[5].push({data:OJ(p),type:2})}u[1]=[{type:0,data:AJ(r.e.c+1)}],u[2]=[{type:0,data:AJ(r.e.r+1)}],u[3]=[{type:0,data:AJ(f)}],u[4]=[{type:0,data:AJ(r.e.r+1)}],e.messages[0].data=OJ(u);var m=DJ(IJ(n));t.content=m,t.size=t.content.length}(),k.data=OJ(P),T[3][0].data=OJ(I),g[4][0].data=OJ(T),u.messages[0].data=OJ(g);var N=DJ(IJ(f));return h.content=N,h.size=h.content.length,l}(e,t):"xlsb"==t.bookType?function(e,t){x$=1024,e&&!e.SSF&&(e.SSF=xq(_G));e&&e.SSF&&(eq(),QG(e.SSF),t.revssf=cq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dZ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=M$.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};BJ(t=t||{});var o=Mq(),a="",s=0;t.cellXfs=[],vZ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Aq(o,a="docProps/core.xml",sK(e.Props,t)),i.coreprops.push(a),tK(t.rels,2,a,JY.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Aq(o,a,uK(e.Props)),i.extprops.push(a),tK(t.rels,3,a,JY.EXT_PROPS),e.Custprops!==e.Props&&aq(e.Custprops||{}).length>0&&(Aq(o,a="docProps/custom.xml",hK(e.Custprops)),i.custprops.push(a),tK(t.rels,4,a,JY.CUST_PROPS));for(s=1;s<=e.SheetNames.length;++s){var u={"!id":{}},h=e.Sheets[e.SheetNames[s-1]];(h||{})["!type"];if(Aq(o,a="xl/worksheets/sheet"+s+"."+n,GZ(s-1,a,t,e,u)),i.sheets.push(a),tK(t.wbrels,-1,"worksheets/sheet"+s+"."+n,JY.WS[0]),h){var f=h["!comments"],d=!1,p="";f&&f.length>0&&(Aq(o,p="xl/comments"+s+"."+n,qZ(f,p)),i.comments.push(p),tK(u,-1,"../comments"+s+"."+n,JY.CMNT),d=!0),h["!legacy"]&&d&&Aq(o,"xl/drawings/vmlDrawing"+s+".vml",w$(s,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&Aq(o,QY(a),eK(u))}null!=t.Strings&&t.Strings.length>0&&(Aq(o,a="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?qK:WK)(e,n)}(t.Strings,a,t)),i.strs.push(a),tK(t.wbrels,-1,"sharedStrings."+n,JY.SST));Aq(o,a="xl/workbook."+n,function(e,t){return(".bin"===t.slice(-4)?WZ:VZ)(e)}(e,a)),i.workbooks.push(a),tK(t.rels,1,a,JY.WB),Aq(o,a="xl/theme/theme1.xml",y$(e.Themes,t)),i.themes.push(a),tK(t.wbrels,-1,"theme/theme1.xml",JY.THEME),Aq(o,a="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?v$:i$)(e,n)}(e,a,t)),i.styles.push(a),tK(t.wbrels,-1,"styles."+n,JY.STY),e.vbaraw&&r&&(Aq(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),tK(t.wbrels,-1,"vbaProject.bin",JY.VBA));return Aq(o,a="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?_$:b$)()}(a)),i.metadata.push(a),tK(t.wbrels,-1,"metadata."+n,JY.XLMETA),Aq(o,"[Content_Types].xml",ZY(i,t)),Aq(o,"_rels/.rels",eK(t.rels)),Aq(o,"xl/_rels/workbook."+n+".rels",eK(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t):function(e,t){x$=1024,e&&!e.SSF&&(e.SSF=xq(_G));e&&e.SSF&&(eq(),QG(e.SSF),t.revssf=cq(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dZ?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=M$.indexOf(t.bookType)>-1,i={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};BJ(t=t||{});var o=Mq(),a="",s=0;t.cellXfs=[],vZ(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(Aq(o,a="docProps/core.xml",sK(e.Props,t)),i.coreprops.push(a),tK(t.rels,2,a,JY.CORE_PROPS),a="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,Aq(o,a,uK(e.Props)),i.extprops.push(a),tK(t.rels,3,a,JY.EXT_PROPS),e.Custprops!==e.Props&&aq(e.Custprops||{}).length>0&&(Aq(o,a="docProps/custom.xml",hK(e.Custprops)),i.custprops.push(a),tK(t.rels,4,a,JY.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,s=1;s<=e.SheetNames.length;++s){var h={"!id":{}},f=e.Sheets[e.SheetNames[s-1]];(f||{})["!type"];if(Aq(o,a="xl/worksheets/sheet"+s+"."+n,wZ(s-1,t,e,h)),i.sheets.push(a),tK(t.wbrels,-1,"worksheets/sheet"+s+"."+n,JY.WS[0]),f){var d=f["!comments"],p=!1,m="";if(d&&d.length>0){var g=!1;d.forEach(function(e){e[1].forEach(function(e){1==e.T&&(g=!0)})}),g&&(Aq(o,m="xl/threadedComments/threadedComment"+s+"."+n,E$(d,u,t)),i.threadedcomments.push(m),tK(h,-1,"../threadedComments/threadedComment"+s+"."+n,JY.TCMNT)),Aq(o,m="xl/comments"+s+"."+n,S$(d)),i.comments.push(m),tK(h,-1,"../comments"+s+"."+n,JY.CMNT),p=!0}f["!legacy"]&&p&&Aq(o,"xl/drawings/vmlDrawing"+s+".vml",w$(s,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&Aq(o,QY(a),eK(h))}null!=t.Strings&&t.Strings.length>0&&(Aq(o,a="xl/sharedStrings."+n,WK(t.Strings,t)),i.strs.push(a),tK(t.wbrels,-1,"sharedStrings."+n,JY.SST));Aq(o,a="xl/workbook."+n,VZ(e)),i.workbooks.push(a),tK(t.rels,1,a,JY.WB),Aq(o,a="xl/theme/theme1.xml",y$(e.Themes,t)),i.themes.push(a),tK(t.wbrels,-1,"theme/theme1.xml",JY.THEME),Aq(o,a="xl/styles."+n,i$(e,t)),i.styles.push(a),tK(t.wbrels,-1,"styles."+n,JY.STY),e.vbaraw&&r&&(Aq(o,a="xl/vbaProject.bin",e.vbaraw),i.vba.push(a),tK(t.wbrels,-1,"vbaProject.bin",JY.VBA));Aq(o,a="xl/metadata."+n,b$()),i.metadata.push(a),tK(t.wbrels,-1,"metadata."+n,JY.XLMETA),u.length>1&&(Aq(o,a="xl/persons/person.xml",function(e){var t=[Cq,qq("personList",null,{xmlns:Qq,"xmlns:x":sX[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(qq("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(u)),i.people.push(a),tK(t.wbrels,-1,"persons/person.xml",JY.PEOPLE));return Aq(o,"[Content_Types].xml",ZY(i,t)),Aq(o,"_rels/.rels",eK(t.rels)),Aq(o,"xl/_rels/workbook."+n+".rels",eK(t.wbrels)),delete t.revssf,delete t.ssf,o}(e,t)}function VJ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return oq(t.file,rq.write(e,{type:eG?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return rq.write(e,t)}function jJ(e,t){var n=xq(t||{});return function(e,t){var n={},r=eG?"nodebuffer":"undefined"!=typeof Uint8Array?"array":"string";t.compression&&(n.compression="DEFLATE");if(t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?rq.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!=typeof Deno&&"string"==typeof i){if("binary"==t.type||"base64"==t.type)return i;i=new Uint8Array(oG(i))}return t.password&&"undefined"!=typeof encrypt_agile?VJ(encrypt_agile(i,t.password),t):"file"===t.type?oq(t.file,i):"string"==t.type?zq(i):i}(zJ(e,n),n)}function HJ(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return JW(Vq(r));case"binary":return Vq(r);case"string":return e;case"file":return oq(t.file,r,"utf8");case"buffer":return eG?tG(r,"utf8"):"undefined"!=typeof TextEncoder?(new TextEncoder).encode(r):HJ(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function WJ(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?JW(n):"string"==t.type?zq(n):n;case"file":return oq(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function GJ(e,t){XW(),zZ(e);var n=xq(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=GJ(e,n);return n.type="array",oG(r)}var i=0;if(n.sheet&&(i="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return HJ(JZ(e,n),n);case"slk":case"sylk":return HJ(UK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"htm":case"html":return HJ(mJ(e.Sheets[e.SheetNames[i]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return JW(e);case"binary":case"string":return e;case"file":return oq(t.file,e,"binary");case"buffer":return eG?tG(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(JJ(e.Sheets[e.SheetNames[i]],n),n);case"csv":return HJ(ZJ(e.Sheets[e.SheetNames[i]],n),n,"\ufeff");case"dif":return HJ(BK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"dbf":return WJ(FK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"prn":return HJ(VK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"rtf":return HJ(YK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"eth":return HJ(zK.from_sheet(e.Sheets[e.SheetNames[i]],n),n);case"fods":return HJ(xJ(e,n),n);case"wk1":return WJ(jK.sheet_to_wk1(e.Sheets[e.SheetNames[i]],n),n);case"wk3":return WJ(jK.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),WJ(dJ(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return VJ(nJ(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return jJ(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function qJ(e,t,n){var r={type:"file"};return r.file=t,function(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}(r),GJ(e,r)}function XJ(e,t,n,r,i,o,a,s){var l=iY(n),c=s.defval,u=s.raw||!Object.prototype.hasOwnProperty.call(s,"raw"),h=!0,f=1===i?[]:{};if(1!==i)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:n,enumerable:!1})}catch(ame){f.__rowNum__=n}else f.__rowNum__=n;if(!a||e[n])for(var d=t.s.c;d<=t.e.c;++d){var p=a?e[n][d]:e[r[d]+l];if(void 0!==p&&void 0!==p.t){var m=p.v;switch(p.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(null!=o[d]){if(null==m)if("e"==p.t&&null===m)f[o[d]]=null;else if(void 0!==c)f[o[d]]=c;else{if(!u||null!==m)continue;f[o[d]]=null}else f[o[d]]=u&&("n"!==p.t||"n"===p.t&&!1!==s.rawNumbers)?m:dY(p,m,s);null!=m&&(h=!1)}}else{if(void 0===c)continue;null!=o[d]&&(f[o[d]]=c)}}return{row:f,isempty:h}}function YJ(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,i=1,o=[],a=0,s="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof u){case"string":l=hY(u);break;case"number":(l=hY(e["!ref"])).s.r=u;break;default:l=u}r>0&&(i=0);var h=iY(l.s.r),f=[],d=[],p=0,m=0,g=Array.isArray(e),v=l.s.r,y=0,_={};g&&!e[v]&&(e[v]=[]);var b=c.skipHidden&&e["!cols"]||[],x=c.skipHidden&&e["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(b[y]||{}).hidden)switch(f[y]=aY(y),n=g?e[v][y]:e[f[y]+h],r){case 1:o[y]=y-l.s.c;break;case 2:o[y]=f[y];break;case 3:o[y]=c.header[y-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),s=a=dY(n,null,c),m=_[a]||0){do{s=a+"_"+m++}while(_[s]);_[a]=m,_[s]=1}else _[a]=1;o[y]=s}for(v=l.s.r+i;v<=l.e.r;++v)if(!(x[v]||{}).hidden){var w=XJ(e,l,v,f,r,o,g,c);(!1===w.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(d[p++]=w.row)}return d.length=p,d}var KJ=/"/g;function $J(e,t,n,r,i,o,a,s){for(var l=!0,c=[],u="",h=iY(n),f=t.s.c;f<=t.e.c;++f)if(r[f]){var d=s.dense?(e[n]||[])[f]:e[r[f]+h];if(null==d)u="";else if(null!=d.v){l=!1,u=""+(s.rawNumbers&&"n"==d.t?d.v:dY(d,null,s));for(var p=0,m=0;p!==u.length;++p)if((m=u.charCodeAt(p))===i||m===o||34===m||s.forceQuotes){u='"'+u.replace(KJ,'""')+'"';break}"ID"==u&&(u='"ID"')}else null==d.f||d.F?u="":(l=!1,(u="="+d.f).indexOf(",")>=0&&(u='"'+u.replace(KJ,'""')+'"'));c.push(u)}return!1===s.blankrows&&l?null:c.join(a)}function ZJ(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var i=hY(e["!ref"]),o=void 0!==r.FS?r.FS:",",a=o.charCodeAt(0),s=void 0!==r.RS?r.RS:"\n",l=s.charCodeAt(0),c=new RegExp(("|"==o?"\\|":o)+"+$"),u="",h=[];r.dense=Array.isArray(e);for(var f=r.skipHidden&&e["!cols"]||[],d=r.skipHidden&&e["!rows"]||[],p=i.s.c;p<=i.e.c;++p)(f[p]||{}).hidden||(h[p]=aY(p));for(var m=0,g=i.s.r;g<=i.e.r;++g)(d[g]||{}).hidden||null!=(u=$J(e,i,g,h,a,l,o,r))&&(r.strip&&(u=u.replace(c,"")),(u||!1!==r.blankrows)&&n.push((m++?s:"")+u));return delete r.dense,n.join("")}function JJ(e,t){return t||(t={}),t.FS="\t",t.RS="\n",ZJ(e,t)}function QJ(e,t,n){var r,i=n||{},o=+!i.skipHeader,a=e||{},s=0,l=0;if(a&&null!=i.origin)if("number"==typeof i.origin)s=i.origin;else{var c="string"==typeof i.origin?sY(i.origin):i.origin;s=c.r,l=c.c}var u={s:{c:0,r:0},e:{c:l,r:s+t.length-1+o}};if(a["!ref"]){var h=hY(a["!ref"]);u.e.c=Math.max(u.e.c,h.e.c),u.e.r=Math.max(u.e.r,h.e.r),-1==s&&(s=h.e.r+1,u.e.r=s+t.length-1+o)}else-1==s&&(s=0,u.e.r=t.length-1+o);var f=i.header||[],d=0;t.forEach(function(e,t){aq(e).forEach(function(n){-1==(d=f.indexOf(n))&&(f[d=f.length]=n);var c=e[n],u="z",h="",p=lY({c:l+d,r:s+t+o});r=eQ(a,p),!c||"object"!=typeof c||c instanceof Date?("number"==typeof c?u="n":"boolean"==typeof c?u="b":"string"==typeof c?u="s":c instanceof Date?(u="d",i.cellDates||(u="n",c=hq(c)),h=i.dateNF||_G[14]):null===c&&i.nullError&&(u="e",c=0),r?(r.t=u,r.v=c,delete r.w,delete r.R,h&&(r.z=h)):a[p]=r={t:u,v:c},h&&(r.z=h)):a[p]=c})}),u.e.c=Math.max(u.e.c,l+f.length-1);var p=iY(s);if(o)for(d=0;d<f.length;++d)a[aY(d+l)+p]={t:"s",v:f[d]};return a["!ref"]=uY(u),a}function eQ(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=sY(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return eQ(e,lY("number"!=typeof t?t:{r:t,c:n||0}))}function tQ(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var nQ={encode_col:aY,encode_row:iY,encode_cell:lY,encode_range:uY,decode_col:oY,decode_row:rY,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:sY,decode_range:cY,format_cell:dY,sheet_add_aoa:mY,sheet_add_json:QJ,sheet_add_dom:gJ,aoa_to_sheet:gY,json_to_sheet:function(e,t){return QJ(null,e,t)},table_to_sheet:vJ,table_to_book:function(e,t){return pY(vJ(e,t),t)},sheet_to_csv:ZJ,sheet_to_txt:JJ,sheet_to_json:YJ,sheet_to_html:mJ,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var i,o=hY(e["!ref"]),a="",s=[],l=[],c=Array.isArray(e);for(i=o.s.c;i<=o.e.c;++i)s[i]=aY(i);for(var u=o.s.r;u<=o.e.r;++u)for(a=iY(u),i=o.s.c;i<=o.e.c;++i)if(n=s[i]+a,r="",void 0!==(t=c?(e[u]||[])[i]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:YJ,sheet_get_cell:eQ,book_new:function(){return{SheetNames:[],Sheets:{}}},book_append_sheet:function(e,t,n,r){var i=1;if(!n)for(;i<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+i);++i,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var o=n.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var a=o&&o[1]||n;for(++i;i<=65535&&-1!=e.SheetNames.indexOf(n=a+i);++i);}if(BZ(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n},book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:tQ,cell_set_internal_link:function(e,t,n){return tQ(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var i="string"!=typeof t?t:hY(t),o="string"==typeof t?t:uY(t),a=i.s.r;a<=i.e.r;++a)for(var s=i.s.c;s<=i.e.c;++s){var l=eQ(e,a,s);l.t="n",l.F=o,delete l.v,a==i.s.r&&s==i.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},rQ=Object.defineProperty,iQ=Object.getOwnPropertySymbols,oQ=Object.prototype.hasOwnProperty,aQ=Object.prototype.propertyIsEnumerable,sQ=(e,t,n)=>t in e?rQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,lQ=(e,t)=>{for(var n in t||(t={}))oQ.call(t,n)&&sQ(e,n,t[n]);if(iQ)for(var n of iQ(t))aQ.call(t,n)&&sQ(e,n,t[n]);return e},cQ=(e,t)=>{var n={};for(var r in e)oQ.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&iQ)for(var r of iQ(e))t.indexOf(r)<0&&aQ.call(e,r)&&(n[r]=e[r]);return n};function uQ(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function hQ(e,t){return Array.isArray(e)&&e.splice(t,1),e}function fQ(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function dQ(e,t,n){const r=e.children[n];e.insertBefore(t,r)}function pQ(e){e.parentNode&&e.parentNode.removeChild(e)}function mQ(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}const gQ=Object.assign;function vQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function yQ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vQ(Object(n),!0).forEach(function(t){bQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _Q(e){return(_Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bQ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(){return xQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xQ.apply(this,arguments)}function wQ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function SQ(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var EQ=SQ(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),TQ=SQ(/Edge/i),AQ=SQ(/firefox/i),MQ=SQ(/safari/i)&&!SQ(/chrome/i)&&!SQ(/android/i),CQ=SQ(/iP(ad|od|hone)/i),OQ=SQ(/chrome/i)&&SQ(/android/i),RQ={capture:!1,passive:!1};function IQ(e,t,n){e.addEventListener(t,n,!EQ&&RQ)}function kQ(e,t,n){e.removeEventListener(t,n,!EQ&&RQ)}function PQ(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(MI){return!1}return!1}}function DQ(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function NQ(e,t,n,r){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&PQ(e,t):PQ(e,t))||r&&e===n)return e;if(e===n)break}while(e=DQ(e))}return null}var LQ,FQ=/\s+/g;function UQ(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(FQ," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(FQ," ")}}function BQ(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];!(t in r)&&-1===t.indexOf("webkit")&&(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function zQ(e,t){var n="";if("string"==typeof e)n=e;else do{var r=BQ(e,"transform");r&&"none"!==r&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function VQ(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function jQ(){return document.scrollingElement||document.documentElement}function HQ(e,t,n,r,i){if(e.getBoundingClientRect||e===window){var o,a,s,l,c,u,h;if(e!==window&&e.parentNode&&e!==jQ()?(a=(o=e.getBoundingClientRect()).top,s=o.left,l=o.bottom,c=o.right,u=o.height,h=o.width):(a=0,s=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!EQ))do{if(i&&i.getBoundingClientRect&&("none"!==BQ(i,"transform")||n&&"static"!==BQ(i,"position"))){var f=i.getBoundingClientRect();a-=f.top+parseInt(BQ(i,"border-top-width")),s-=f.left+parseInt(BQ(i,"border-left-width")),l=a+o.height,c=s+o.width;break}}while(i=i.parentNode);if(r&&e!==window){var d=zQ(i||e),p=d&&d.a,m=d&&d.d;d&&(l=(a/=m)+(u/=m),c=(s/=p)+(h/=p))}return{top:a,left:s,bottom:l,right:c,width:h,height:u}}}function WQ(e,t,n){for(var r=KQ(e,!0),i=HQ(e)[t];r;){if(!(i>=HQ(r)[n]))return r;if(r===jQ())break;r=KQ(r,!1)}return!1}function GQ(e,t,n,r){for(var i=0,o=0,a=e.children;o<a.length;){if("none"!==a[o].style.display&&a[o]!==Q0.ghost&&(r||a[o]!==Q0.dragged)&&NQ(a[o],n.draggable,e,!1)){if(i===t)return a[o];i++}o++}return null}function qQ(e,t){for(var n=e.lastElementChild;n&&(n===Q0.ghost||"none"===BQ(n,"display")||t&&!PQ(n,t));)n=n.previousElementSibling;return n||null}function XQ(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"!==e.nodeName.toUpperCase()&&e!==Q0.clone&&(!t||PQ(e,t))&&n++;return n}function YQ(e){var t=0,n=0,r=jQ();if(e)do{var i=zQ(e),o=i.a,a=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==r&&(e=e.parentNode));return[t,n]}function KQ(e,t){if(!e||!e.getBoundingClientRect)return jQ();var n=e,r=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=BQ(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return jQ();if(r||t)return n;r=!0}}}while(n=n.parentNode);return jQ()}function $Q(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function ZQ(e,t){return function(){if(!LQ){var n=arguments;1===n.length?e.call(this,n[0]):e.apply(this,n),LQ=setTimeout(function(){LQ=void 0},t)}}}function JQ(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function QQ(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function e0(e,t,n){var r={};return Array.from(e.children).forEach(function(i){var o,a,s,l;if(NQ(i,t.draggable,e,!1)&&!i.animated&&i!==n){var c=HQ(i);r.left=Math.min(null!==(o=r.left)&&void 0!==o?o:1/0,c.left),r.top=Math.min(null!==(a=r.top)&&void 0!==a?a:1/0,c.top),r.right=Math.max(null!==(s=r.right)&&void 0!==s?s:-1/0,c.right),r.bottom=Math.max(null!==(l=r.bottom)&&void 0!==l?l:-1/0,c.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var t0="Sortable"+(new Date).getTime();function n0(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach(function(e){if("none"!==BQ(e,"display")&&e!==Q0.ghost){t.push({target:e,rect:HQ(e)});var n=yQ({},t[t.length-1].rect);if(e.thisAnimationDuration){var r=zQ(e,!0);r&&(n.top-=r.f,n.left-=r.e)}e.fromRect=n}})},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var r=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var i=!1,o=0;t.forEach(function(e){var t=0,n=e.target,a=n.fromRect,s=HQ(n),l=n.prevFromRect,c=n.prevToRect,u=e.rect,h=zQ(n,!0);h&&(s.top-=h.f,s.left-=h.e),n.toRect=s,n.thisAnimationDuration&&$Q(l,s)&&!$Q(a,s)&&(u.top-s.top)/(u.left-s.left)===(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}(u,l,c,r.options)),$Q(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=r.options.animation),r.animate(n,u,s,t)),t&&(i=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(e),i?e=setTimeout(function(){"function"==typeof n&&n()},o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,r){if(r){BQ(e,"transition",""),BQ(e,"transform","");var i=zQ(this.el),o=i&&i.a,a=i&&i.d,s=(t.left-n.left)/(o||1),l=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!l,BQ(e,"transform","translate3d("+s+"px,"+l+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),BQ(e,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),BQ(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout(function(){BQ(e,"transition",""),BQ(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}var r0=[],i0={initializeByDefault:!0},o0={mount:function(e){for(var t in i0)i0.hasOwnProperty(t)&&!(t in e)&&(e[t]=i0[t]);r0.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),r0.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+"Global";r0.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](yQ({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](yQ({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var i in r0.forEach(function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var o=new r(e,t,e.options);o.sortable=e,o.options=e.options,e[i]=o,xQ(n,o.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var o=this.modifyOption(e,i,e.options[i]);void 0!==o&&(e.options[i]=o)}},getEventProperties:function(e,t){var n={};return r0.forEach(function(r){"function"==typeof r.eventProperties&&xQ(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return r0.forEach(function(i){e[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[t]&&(r=i.optionListeners[t].call(e[i.pluginName],n))}),r}};var a0=["evt"],s0=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.evt,i=wQ(n,a0);o0.pluginEvent.bind(Q0)(e,t,yQ({dragEl:c0,parentEl:u0,ghostEl:h0,rootEl:f0,nextEl:d0,lastDownEl:p0,cloneEl:m0,cloneHidden:g0,dragStarted:O0,putSortable:w0,activeSortable:Q0.active,originalEvent:r,oldIndex:v0,oldDraggableIndex:_0,newIndex:y0,newDraggableIndex:b0,hideGhostForTarget:K0,unhideGhostForTarget:$0,cloneNowHidden:function(){g0=!0},cloneNowShown:function(){g0=!1},dispatchSortableEvent:function(e){l0({sortable:t,name:e,originalEvent:r})}},i))};function l0(e){!function(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,a=e.toEl,s=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,p=e.extraEventProperties;if(t=t||n&&n[t0]){var m,g=t.options,v="on"+r.charAt(0).toUpperCase()+r.substr(1);!window.CustomEvent||EQ||TQ?(m=document.createEvent("Event")).initEvent(r,!0,!0):m=new CustomEvent(r,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=f,m.pullMode=d?d.lastPutMode:void 0;var y=yQ(yQ({},p),o0.getEventProperties(r,t));for(var _ in y)m[_]=y[_];n&&n.dispatchEvent(m),g[v]&&g[v].call(t,m)}}(yQ({putSortable:w0,cloneEl:m0,targetEl:c0,rootEl:f0,oldIndex:v0,oldDraggableIndex:_0,newIndex:y0,newDraggableIndex:b0},e))}var c0,u0,h0,f0,d0,p0,m0,g0,v0,y0,_0,b0,x0,w0,S0,E0,T0,A0,M0,C0,O0,R0,I0,k0,P0,D0=!1,N0=!1,L0=[],F0=!1,U0=!1,B0=[],z0=!1,V0=[],j0="undefined"!=typeof document,H0=CQ,W0=TQ||EQ?"cssFloat":"float",G0=j0&&!OQ&&!CQ&&"draggable"in document.createElement("div"),q0=function(){if(j0){if(EQ)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),X0=function(e,t){var n=BQ(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=GQ(e,0,t),o=GQ(e,1,t),a=i&&BQ(i),s=o&&BQ(o),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+HQ(i).width,c=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+HQ(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&"none"!==a.float){var u="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==u?"horizontal":"vertical"}return i&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||l>=r&&"none"===n[W0]||o&&"none"===n[W0]&&l+c>r)?"vertical":"horizontal"},Y0=function(e){function t(e,n){return function(r,i,o,a){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(r,i,o,a),n)(r,i,o,a);var l=(n?r:i).options.group.name;return!0===e||"string"==typeof e&&e===l||e.join&&e.indexOf(l)>-1}}var n={},r=e.group;(!r||"object"!=_Q(r))&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},K0=function(){!q0&&h0&&BQ(h0,"display","none")},$0=function(){!q0&&h0&&BQ(h0,"display","")};j0&&!OQ&&document.addEventListener("click",function(e){if(N0)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),N0=!1,!1},!0);var Z0=function(e){if(c0){var t=function(e,t){var n;return L0.some(function(r){var i=r[t0].options.emptyInsertThreshold;if(i&&!qQ(r)){var o=HQ(r),a=e>=o.left-i&&e<=o.right+i,s=t>=o.top-i&&t<=o.bottom+i;if(a&&s)return n=r}}),n}((e=e.touches?e.touches[0]:e).clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[t0]._onDragOver(n)}}},J0=function(e){c0&&c0.parentNode[t0]._isOutsideThisEl(e.target)};function Q0(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=xQ({},t),e[t0]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return X0(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Q0.supportPointer&&"PointerEvent"in window&&!MQ,emptyInsertThreshold:5};for(var r in o0.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in Y0(t),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!t.forceFallback&&G0,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?IQ(e,"pointerdown",this._onTapStart):(IQ(e,"mousedown",this._onTapStart),IQ(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(IQ(e,"dragover",this),IQ(e,"dragenter",this)),L0.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),xQ(this,n0())}function e1(e,t,n,r,i,o,a,s){var l,c,u=e[t0],h=u.options.onMove;return!window.CustomEvent||EQ||TQ?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||HQ(t),l.willInsertAfter=s,l.originalEvent=a,e.dispatchEvent(l),h&&(c=h.call(u,l,a)),c}function t1(e){e.draggable=!1}function n1(){z0=!1}function r1(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function i1(e){return setTimeout(e,0)}function o1(e){return clearTimeout(e)}Q0.prototype={constructor:Q0,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(R0=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,c0):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=r.filter;if(function(e){V0.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&V0.push(r)}}(n),!c0&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||r.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!MQ||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=NQ(s,r.draggable,n,!1))&&s.animated||p0===s)){if(v0=XQ(s),_0=XQ(s,r.draggable),"function"==typeof c){if(c.call(this,e,s,this))return l0({sortable:t,rootEl:l,name:"filter",targetEl:s,toEl:n,fromEl:n}),s0("filter",t,{evt:e}),void(i&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some(function(r){if(r=NQ(l,r.trim(),n,!1))return l0({sortable:t,rootEl:r,name:"filter",targetEl:s,fromEl:n,toEl:n}),s0("filter",t,{evt:e}),!0})))return void(i&&e.cancelable&&e.preventDefault());r.handle&&!NQ(l,r.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var r,i=this,o=i.el,a=i.options,s=o.ownerDocument;if(n&&!c0&&n.parentNode===o){var l=HQ(n);if(f0=o,u0=(c0=n).parentNode,d0=c0.nextSibling,p0=n,x0=a.group,Q0.dragged=c0,S0={target:c0,clientX:(t||e).clientX,clientY:(t||e).clientY},M0=S0.clientX-l.left,C0=S0.clientY-l.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,c0.style["will-change"]="all",r=function(){s0("delayEnded",i,{evt:e}),Q0.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!AQ&&i.nativeDraggable&&(c0.draggable=!0),i._triggerDragStart(e,t),l0({sortable:i,name:"choose",originalEvent:e}),UQ(c0,a.chosenClass,!0))},a.ignore.split(",").forEach(function(e){VQ(c0,e.trim(),t1)}),IQ(s,"dragover",Z0),IQ(s,"mousemove",Z0),IQ(s,"touchmove",Z0),IQ(s,"mouseup",i._onDrop),IQ(s,"touchend",i._onDrop),IQ(s,"touchcancel",i._onDrop),AQ&&this.nativeDraggable&&(this.options.touchStartThreshold=4,c0.draggable=!0),s0("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(TQ||EQ))r();else{if(Q0.eventCanceled)return void this._onDrop();IQ(s,"mouseup",i._disableDelayedDrag),IQ(s,"touchend",i._disableDelayedDrag),IQ(s,"touchcancel",i._disableDelayedDrag),IQ(s,"mousemove",i._delayedDragTouchMoveHandler),IQ(s,"touchmove",i._delayedDragTouchMoveHandler),a.supportPointer&&IQ(s,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(r,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){c0&&t1(c0),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;kQ(e,"mouseup",this._disableDelayedDrag),kQ(e,"touchend",this._disableDelayedDrag),kQ(e,"touchcancel",this._disableDelayedDrag),kQ(e,"mousemove",this._delayedDragTouchMoveHandler),kQ(e,"touchmove",this._delayedDragTouchMoveHandler),kQ(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?IQ(document,"pointermove",this._onTouchMove):IQ(document,t?"touchmove":"mousemove",this._onTouchMove):(IQ(c0,"dragend",this),IQ(f0,"dragstart",this._onDragStart));try{document.selection?i1(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(D0=!1,f0&&c0){s0("dragStarted",this,{evt:t}),this.nativeDraggable&&IQ(document,"dragover",J0);var n=this.options;!e&&UQ(c0,n.dragClass,!1),UQ(c0,n.ghostClass,!0),Q0.active=this,e&&this._appendGhost(),l0({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(E0){this._lastX=E0.clientX,this._lastY=E0.clientY,K0();for(var e=document.elementFromPoint(E0.clientX,E0.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(E0.clientX,E0.clientY))!==t;)t=e;if(c0.parentNode[t0]._isOutsideThisEl(e),t)do{if(t[t0]){if(t[t0]._onDragOver({clientX:E0.clientX,clientY:E0.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);$0()}},_onTouchMove:function(e){if(S0){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,o=h0&&zQ(h0,!0),a=h0&&o&&o.a,s=h0&&o&&o.d,l=H0&&P0&&YQ(P0),c=(i.clientX-S0.clientX+r.x)/(a||1)+(l?l[0]-B0[0]:0)/(a||1),u=(i.clientY-S0.clientY+r.y)/(s||1)+(l?l[1]-B0[1]:0)/(s||1);if(!Q0.active&&!D0){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(h0){o?(o.e+=c-(T0||0),o.f+=u-(A0||0)):o={a:1,b:0,c:0,d:1,e:c,f:u};var h="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");BQ(h0,"webkitTransform",h),BQ(h0,"mozTransform",h),BQ(h0,"msTransform",h),BQ(h0,"transform",h),T0=c,A0=u,E0=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!h0){var e=this.options.fallbackOnBody?document.body:f0,t=HQ(c0,!0,H0,!0,e),n=this.options;if(H0){for(P0=e;"static"===BQ(P0,"position")&&"none"===BQ(P0,"transform")&&P0!==document;)P0=P0.parentNode;P0!==document.body&&P0!==document.documentElement?(P0===document&&(P0=jQ()),t.top+=P0.scrollTop,t.left+=P0.scrollLeft):P0=jQ(),B0=YQ(P0)}UQ(h0=c0.cloneNode(!0),n.ghostClass,!1),UQ(h0,n.fallbackClass,!0),UQ(h0,n.dragClass,!0),BQ(h0,"transition",""),BQ(h0,"transform",""),BQ(h0,"box-sizing","border-box"),BQ(h0,"margin",0),BQ(h0,"top",t.top),BQ(h0,"left",t.left),BQ(h0,"width",t.width),BQ(h0,"height",t.height),BQ(h0,"opacity","0.8"),BQ(h0,"position",H0?"absolute":"fixed"),BQ(h0,"zIndex","100000"),BQ(h0,"pointerEvents","none"),Q0.ghost=h0,e.appendChild(h0),BQ(h0,"transform-origin",M0/parseInt(h0.style.width)*100+"% "+C0/parseInt(h0.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;s0("dragStart",this,{evt:e}),Q0.eventCanceled?this._onDrop():(s0("setupClone",this),Q0.eventCanceled||((m0=QQ(c0)).removeAttribute("id"),m0.draggable=!1,m0.style["will-change"]="",this._hideClone(),UQ(m0,this.options.chosenClass,!1),Q0.clone=m0),n.cloneId=i1(function(){s0("clone",n),!Q0.eventCanceled&&(n.options.removeCloneOnHide||f0.insertBefore(m0,c0),n._hideClone(),l0({sortable:n,name:"clone"}))}),!t&&UQ(c0,i.dragClass,!0),t?(N0=!0,n._loopId=setInterval(n._emulateDragOver,50)):(kQ(document,"mouseup",n._onDrop),kQ(document,"touchend",n._onDrop),kQ(document,"touchcancel",n._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(n,r,c0)),IQ(document,"drop",n),BQ(c0,"transform","translateZ(0)")),D0=!0,n._dragStartId=i1(n._dragStarted.bind(n,t,e)),IQ(document,"selectstart",n),O0=!0,MQ&&BQ(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,r,i,o=this.el,a=e.target,s=this.options,l=s.group,c=Q0.active,u=x0===l,h=s.sort,f=w0||c,d=this,p=!1;if(!z0){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=NQ(a,s.draggable,o,!0),O("dragOver"),Q0.eventCanceled)return p;if(c0.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||d._ignoreWhileAnimating===a)return I(!1);if(N0=!1,c&&!s.disabled&&(u?h||(r=u0!==f0):w0===this||(this.lastPutMode=x0.checkPull(this,c,c0,e))&&l.checkPut(this,c,c0,e))){if(i="vertical"===this._getDirection(e,a),t=HQ(c0),O("dragOverValid"),Q0.eventCanceled)return p;if(r)return u0=f0,R(),this._hideClone(),O("revert"),Q0.eventCanceled||(d0?f0.insertBefore(c0,d0):f0.appendChild(c0)),I(!0);var m=qQ(o,s.draggable);if(!m||function(e,t,n){var r=HQ(qQ(n.el,n.options.draggable)),i=e0(n.el,n.options,h0),o=10;return t?e.clientX>i.right+o||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+o||e.clientX>r.right&&e.clientY>r.top}(e,i,this)&&!m.animated){if(m===c0)return I(!1);if(m&&o===e.target&&(a=m),a&&(n=HQ(a)),!1!==e1(f0,o,c0,t,a,n,e,!!a))return R(),m&&m.nextSibling?o.insertBefore(c0,m.nextSibling):o.appendChild(c0),u0=o,k(),I(!0)}else if(m&&function(e,t,n){var r=HQ(GQ(n.el,0,n.options,!0)),i=e0(n.el,n.options,h0),o=10;return t?e.clientX<i.left-o||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-o||e.clientY<r.bottom&&e.clientX<r.left}(e,i,this)){var g=GQ(o,0,s,!0);if(g===c0)return I(!1);if(n=HQ(a=g),!1!==e1(f0,o,c0,t,a,n,e,!1))return R(),o.insertBefore(c0,g),u0=o,k(),I(!0)}else if(a.parentNode===o){n=HQ(a);var v,y,_,b=c0.parentNode!==o,x=!function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,l=n?t.width:t.height;return r===a||i===s||r+o/2===a+l/2}(c0.animated&&c0.toRect||t,a.animated&&a.toRect||n,i),w=i?"top":"left",S=WQ(a,"top","top")||WQ(c0,"top","top"),E=S?S.scrollTop:void 0;if(R0!==a&&(y=n[w],F0=!1,U0=!x&&s.invertSwap||b),v=function(e,t,n,r,i,o,a,s){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,u=r?n.top:n.left,h=r?n.bottom:n.right,f=!1;if(!a)if(s&&k0<c*i){if(!F0&&(1===I0?l>u+c*o/2:l<h-c*o/2)&&(F0=!0),F0)f=!0;else if(1===I0?l<u+k0:l>h-k0)return-I0}else if(l>u+c*(1-i)/2&&l<h-c*(1-i)/2)return function(e){return XQ(c0)<XQ(e)?1:-1}(t);return f=f||a,f&&(l<u+c*o/2||l>h-c*o/2)?l>u+c/2?1:-1:0}(e,a,n,i,x?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,U0,R0===a),0!==v){var T=XQ(c0);do{T-=v,_=u0.children[T]}while(_&&("none"===BQ(_,"display")||_===h0))}if(0===v||_===a)return I(!1);R0=a,I0=v;var A=a.nextElementSibling,M=!1,C=e1(f0,o,c0,t,a,n,e,M=1===v);if(!1!==C)return(1===C||-1===C)&&(M=1===C),z0=!0,setTimeout(n1,30),R(),M&&!A?o.appendChild(c0):a.parentNode.insertBefore(c0,M?A:a),S&&JQ(S,0,E-S.scrollTop),u0=c0.parentNode,void 0!==y&&!U0&&(k0=Math.abs(y-HQ(a)[w])),k(),I(!0)}if(o.contains(c0))return I(!1)}return!1}function O(s,l){s0(s,d,yQ({evt:e,isOwner:u,axis:i?"vertical":"horizontal",revert:r,dragRect:t,targetRect:n,canSort:h,fromSortable:f,target:a,completed:I,onMove:function(n,r){return e1(f0,o,c0,t,n,HQ(n),e,r)},changed:k},l))}function R(){O("dragOverAnimationCapture"),d.captureAnimationState(),d!==f&&f.captureAnimationState()}function I(t){return O("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(d),d!==f&&(UQ(c0,w0?w0.options.ghostClass:c.options.ghostClass,!1),UQ(c0,s.ghostClass,!0)),w0!==d&&d!==Q0.active?w0=d:d===Q0.active&&w0&&(w0=null),f===d&&(d._ignoreWhileAnimating=a),d.animateAll(function(){O("dragOverAnimationComplete"),d._ignoreWhileAnimating=null}),d!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===c0&&!c0.animated||a===o&&!a.animated)&&(R0=null),!s.dragoverBubble&&!e.rootEl&&a!==document&&(c0.parentNode[t0]._isOutsideThisEl(e.target),!t&&Z0(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function k(){y0=XQ(c0),b0=XQ(c0,s.draggable),l0({sortable:d,name:"change",toEl:o,newIndex:y0,newDraggableIndex:b0,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){kQ(document,"mousemove",this._onTouchMove),kQ(document,"touchmove",this._onTouchMove),kQ(document,"pointermove",this._onTouchMove),kQ(document,"dragover",Z0),kQ(document,"mousemove",Z0),kQ(document,"touchmove",Z0)},_offUpEvents:function(){var e=this.el.ownerDocument;kQ(e,"mouseup",this._onDrop),kQ(e,"touchend",this._onDrop),kQ(e,"pointerup",this._onDrop),kQ(e,"touchcancel",this._onDrop),kQ(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;y0=XQ(c0),b0=XQ(c0,n.draggable),s0("drop",this,{evt:e}),u0=c0&&c0.parentNode,y0=XQ(c0),b0=XQ(c0,n.draggable),Q0.eventCanceled||(D0=!1,U0=!1,F0=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),o1(this.cloneId),o1(this._dragStartId),this.nativeDraggable&&(kQ(document,"drop",this),kQ(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),MQ&&BQ(document.body,"user-select",""),BQ(c0,"transform",""),e&&(O0&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),h0&&h0.parentNode&&h0.parentNode.removeChild(h0),(f0===u0||w0&&"clone"!==w0.lastPutMode)&&m0&&m0.parentNode&&m0.parentNode.removeChild(m0),c0&&(this.nativeDraggable&&kQ(c0,"dragend",this),t1(c0),c0.style["will-change"]="",O0&&!D0&&UQ(c0,w0?w0.options.ghostClass:this.options.ghostClass,!1),UQ(c0,this.options.chosenClass,!1),l0({sortable:this,name:"unchoose",toEl:u0,newIndex:null,newDraggableIndex:null,originalEvent:e}),f0!==u0?(y0>=0&&(l0({rootEl:u0,name:"add",toEl:u0,fromEl:f0,originalEvent:e}),l0({sortable:this,name:"remove",toEl:u0,originalEvent:e}),l0({rootEl:u0,name:"sort",toEl:u0,fromEl:f0,originalEvent:e}),l0({sortable:this,name:"sort",toEl:u0,originalEvent:e})),w0&&w0.save()):y0!==v0&&y0>=0&&(l0({sortable:this,name:"update",toEl:u0,originalEvent:e}),l0({sortable:this,name:"sort",toEl:u0,originalEvent:e})),Q0.active&&((null==y0||-1===y0)&&(y0=v0,b0=_0),l0({sortable:this,name:"end",toEl:u0,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){s0("nulling",this),f0=c0=u0=h0=d0=m0=p0=g0=S0=E0=O0=y0=b0=v0=_0=R0=I0=w0=x0=Q0.dragged=Q0.ghost=Q0.clone=Q0.active=null,V0.forEach(function(e){e.checked=!0}),V0.length=T0=A0=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":c0&&(this._onDragOver(e),(t=e).dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault());break;case"selectstart":e.preventDefault()}var t},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,o=this.options;r<i;r++)NQ(e=n[r],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||r1(e));return t},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var i=r.children[t];NQ(i,this.options.draggable,r,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return NQ(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var r=o0.modifyOption(this,e,t);n[e]=void 0!==r?r:t,"group"===e&&Y0(n)},destroy:function(){s0("destroy",this);var e=this.el;e[t0]=null,kQ(e,"mousedown",this._onTapStart),kQ(e,"touchstart",this._onTapStart),kQ(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(kQ(e,"dragover",this),kQ(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),L0.splice(L0.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!g0){if(s0("hideClone",this),Q0.eventCanceled)return;BQ(m0,"display","none"),this.options.removeCloneOnHide&&m0.parentNode&&m0.parentNode.removeChild(m0),g0=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(g0){if(s0("showClone",this),Q0.eventCanceled)return;c0.parentNode!=f0||this.options.group.revertClone?d0?f0.insertBefore(m0,d0):f0.appendChild(m0):f0.insertBefore(m0,c0),this.options.group.revertClone&&this.animate(c0,m0),BQ(m0,"display",""),g0=!1}}else this._hideClone()}},j0&&IQ(document,"touchmove",function(e){(Q0.active||D0)&&e.cancelable&&e.preventDefault()}),Q0.utils={on:IQ,off:kQ,css:BQ,find:VQ,is:function(e,t){return!!NQ(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:ZQ,closest:NQ,toggleClass:UQ,clone:QQ,index:XQ,nextTick:i1,cancelNextTick:o1,detectDirection:X0,getChild:GQ},Q0.get=function(e){return e[t0]},Q0.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(Q0.utils=yQ(yQ({},Q0.utils),e.utils)),o0.mount(e)})},Q0.create=function(e,t){return new Q0(e,t)},Q0.version="1.15.2";var a1,s1,l1,c1,u1,h1,f1=[],d1=!1;function p1(){f1.forEach(function(e){clearInterval(e.pid)}),f1=[]}function m1(){clearInterval(h1)}var g1=ZQ(function(e,t,n,r){if(t.scroll){var i,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=jQ(),u=!1;s1!==n&&(s1=n,p1(),a1=t.scroll,i=t.scrollFn,!0===a1&&(a1=KQ(n,!0)));var h=0,f=a1;do{var d=f,p=HQ(d),m=p.top,g=p.bottom,v=p.left,y=p.right,_=p.width,b=p.height,x=void 0,w=void 0,S=d.scrollWidth,E=d.scrollHeight,T=BQ(d),A=d.scrollLeft,M=d.scrollTop;d===c?(x=_<S&&("auto"===T.overflowX||"scroll"===T.overflowX||"visible"===T.overflowX),w=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY||"visible"===T.overflowY)):(x=_<S&&("auto"===T.overflowX||"scroll"===T.overflowX),w=b<E&&("auto"===T.overflowY||"scroll"===T.overflowY));var C=x&&(Math.abs(y-o)<=s&&A+_<S)-(Math.abs(v-o)<=s&&!!A),O=w&&(Math.abs(g-a)<=s&&M+b<E)-(Math.abs(m-a)<=s&&!!M);if(!f1[h])for(var R=0;R<=h;R++)f1[R]||(f1[R]={});(f1[h].vx!=C||f1[h].vy!=O||f1[h].el!==d)&&(f1[h].el=d,f1[h].vx=C,f1[h].vy=O,clearInterval(f1[h].pid),(0!=C||0!=O)&&(u=!0,f1[h].pid=setInterval(function(){r&&0===this.layer&&Q0.active._onTouchMove(u1);var t=f1[this.layer].vy?f1[this.layer].vy*l:0,n=f1[this.layer].vx?f1[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(Q0.dragged.parentNode[t0],n,t,e,u1,f1[this.layer].el)||JQ(f1[this.layer].el,n,t)}.bind({layer:h}),24))),h++}while(t.bubbleScroll&&f!==c&&(f=KQ(f,!1)));d1=u}},30),v1=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var l=n||i;a();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);s(),l&&!l.el.contains(u)&&(o("spill"),this.onSpill({dragEl:r,putSortable:n}))}};function y1(){}function _1(){}function b1(e){return null==e?e:JSON.parse(JSON.stringify(e))}y1.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=GQ(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:v1},xQ(y1,{pluginName:"revertOnSpill"}),_1.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:v1},xQ(_1,{pluginName:"removeOnSpill"}),Q0.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?IQ(document,"dragover",this._handleAutoScroll):this.options.supportPointer?IQ(document,"pointermove",this._handleFallbackAutoScroll):t.touches?IQ(document,"touchmove",this._handleFallbackAutoScroll):IQ(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?kQ(document,"dragover",this._handleAutoScroll):(kQ(document,"pointermove",this._handleFallbackAutoScroll),kQ(document,"touchmove",this._handleFallbackAutoScroll),kQ(document,"mousemove",this._handleFallbackAutoScroll)),m1(),p1(),clearTimeout(LQ),LQ=void 0},nulling:function(){u1=s1=a1=d1=h1=l1=c1=null,f1.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(r,i);if(u1=e,t||this.options.forceAutoScrollFallback||TQ||EQ||MQ){g1(e,this.options,o,t);var a=KQ(o,!0);d1&&(!h1||r!==l1||i!==c1)&&(h1&&m1(),h1=setInterval(function(){var o=KQ(document.elementFromPoint(r,i),!0);o!==a&&(a=o,p1()),g1(e,n.options,o,t)},10),l1=r,c1=i)}else{if(!this.options.bubbleScroll||KQ(o,!0)===jQ())return void p1();g1(e,this.options,KQ(o,!1),!1)}}},xQ(e,{pluginName:"scroll",initializeByDefault:!0})}),Q0.mount(_1,y1);let x1=null,w1=null;function S1(e=null,t=null){x1=e,w1=t}const E1=Symbol("cloneElement");function T1(...e){var t,n;const r=null==(t=Ra())?void 0:t.proxy;let i=null;const o=e[0];let[,a,s]=e;Array.isArray(sn(a))||(s=a,a=null);let l=null;const{immediate:c=!0,clone:u=b1,customUpdate:h}=null!=(n=sn(s))?n:{};const f={onUpdate:function(e){if(h)return void h(e);const{from:t,item:n,oldIndex:r,oldDraggableIndex:i,newDraggableIndex:o}=e;if(pQ(n),dQ(t,n,r),tn(a)){const e=[...sn(a)];return void(a.value=uQ(e,i,o))}uQ(sn(a),i,o)},onStart:function(e){var t;const{from:n,oldIndex:r,item:o}=e;i=Array.from(n.childNodes);const s=sn(null==(t=sn(a))?void 0:t[r]),l=u(s);S1(s,l),o[E1]=l},onAdd:function(e){const t=e.item[E1];if(!function(e){return void 0===e}(t)){if(pQ(e.item),tn(a)){const n=[...sn(a)];return void(a.value=fQ(n,e.newDraggableIndex,t))}fQ(sn(a),e.newDraggableIndex,t)}},onRemove:function(e){const{from:t,item:n,oldIndex:r,oldDraggableIndex:i,pullMode:o,clone:s}=e;if(dQ(t,n,r),"clone"!==o){if(tn(a)){const e=[...sn(a)];return void(a.value=hQ(e,i))}hQ(sn(a),i)}else pQ(s)},onEnd:function(e){const{newIndex:t,oldIndex:n,from:r,to:o}=e;let a=null;const s=t===n&&r===o;try{if(s){let e=null;null==i||i.some((t,n)=>{if(e&&(null==i?void 0:i.length)!==o.childNodes.length)return r.insertBefore(e,t.nextSibling),!0;const a=o.childNodes[n];e=null==o?void 0:o.replaceChild(t,a)})}}catch(l){a=l}finally{i=null}Ln(()=>{if(S1(),a)throw a})}};function d(e){const t=sn(o);return e||(e=function(e){return"string"==typeof e}(t)?function(e,t=document){var n;let r=null;return r="function"==typeof(null==t?void 0:t.querySelector)?null==(n=null==t?void 0:t.querySelector)?void 0:n.call(t,e):document.querySelector(e),r||"Element not found: ".concat(e),r}(t,null==r?void 0:r.$el):t),e&&!function(e){return e instanceof HTMLElement}(e)&&(e=e.$el),e}function p(){var e;const t=null!=(e=sn(s))?e:{},{immediate:n,clone:r}=t,i=cQ(t,["immediate","clone"]);return mQ(i,(e,t)=>{(function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)})(e)&&(i[e]=(e,...n)=>(gQ(e,{data:x1,clonedData:w1}),t(e,...n)))}),function(e,t){const n=lQ({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=function(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}(e[r],t[r]):n[r]=t[r]}),n}(null===a?{}:f,i)}const m=e=>{e=d(e),l&&g.destroy(),l=new Q0(e,p())};lr(()=>s,()=>{l&&mQ(p(),(e,t)=>{null==l||l.option(e,t)})},{deep:!0});const g={option:(e,t)=>null==l?void 0:l.option(e,t),destroy:()=>{null==l||l.destroy(),l=null},save:()=>null==l?void 0:l.save(),toArray:()=>null==l?void 0:l.toArray(),closest:(...e)=>null==l?void 0:l.closest(...e)};return function(e){Ra()?pi(e):Ln(e)}(()=>{c&&m()}),function(e){Ra()&&yi(e)}(g.destroy),lQ({start:m,pause:()=>null==g?void 0:g.option("disabled",!0),resume:()=>null==g?void 0:g.option("disabled",!1)},g)}const A1=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"],M1=["clone","animation","ghostClass","group","sort","disabled","store","handle","draggable","swapThreshold","invertSwap","invertedSwapThreshold","removeCloneOnHide","direction","chosenClass","dragClass","ignore","filter","preventOnFilter","easing","setData","dropBubble","dragoverBubble","dataIdAttr","delay","delayOnTouchOnly","touchStartThreshold","forceFallback","fallbackClass","fallbackOnBody","fallbackTolerance","fallbackOffset","supportPointer","emptyInsertThreshold","scroll","forceAutoScrollFallback","scrollSensitivity","scrollSpeed","bubbleScroll","modelValue","tag","target","customUpdate",...A1.map(e=>"on".concat(e.replace(/^\S/,e=>e.toUpperCase())))],C1=Ur({name:"VueDraggable",model:{prop:"modelValue",event:"update:modelValue"},props:M1,emits:["update:modelValue",...A1],setup(e,{slots:t,emit:n,expose:r,attrs:i}){const o=A1.reduce((e,t)=>(e["on".concat(t.replace(/^\S/,e=>e.toUpperCase()))]=(...e)=>n(t,...e),e),{}),a=qa(()=>{const t=dn(e),{modelValue:n}=t,r=cQ(t,["modelValue"]),a=Object.entries(r).reduce((e,[t,n])=>{const r=sn(n);return void 0!==r&&(e[t]=r),e},{});return lQ(lQ({},o),function(e){return Object.keys(e).reduce((t,n)=>(void 0!==e[n]&&(t[function(e){return e.replace(/-(\w)/g,(e,t)=>t?t.toUpperCase():"")}(n)]=e[n]),t),{})}(lQ(lQ({},i),a)))}),s=qa({get:()=>e.modelValue,set:e=>n("update:modelValue",e)}),l=nn(),c=jt(T1(e.target||l,s,a));return r(c),()=>{var n;return Xa(e.tag||"div",{ref:l},null==(n=null==t?void 0:t.default)?void 0:n.call(t,c))}}});var O1="object"==typeof global&&global&&global.Object===Object&&global,R1="object"==typeof self&&self&&self.Object===Object&&self,I1=O1||R1||Function("return this")(),k1=I1.Symbol,P1=Object.prototype,D1=P1.hasOwnProperty,N1=P1.toString,L1=k1?k1.toStringTag:void 0;var F1=Object.prototype.toString;var U1=k1?k1.toStringTag:void 0;function B1(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":U1&&U1 in Object(e)?function(e){var t=D1.call(e,L1),n=e[L1];try{e[L1]=void 0;var r=!0}catch(ame){}var i=N1.call(e);return r&&(t?e[L1]=n:delete e[L1]),i}(e):function(e){return F1.call(e)}(e)}function z1(e){return null!=e&&"object"==typeof e}var V1=Array.isArray,j1=/\s/;var H1=/^\s+/;function W1(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&j1.test(e.charAt(t)););return t}(e)+1).replace(H1,""):e}function G1(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var q1=/^[-+]0x[0-9a-f]+$/i,X1=/^0b[01]+$/i,Y1=/^0o[0-7]+$/i,K1=parseInt;function $1(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||z1(e)&&"[object Symbol]"==B1(e)}(e))return NaN;if(G1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=G1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=W1(e);var n=X1.test(e);return n||Y1.test(e)?K1(e.slice(2),n?2:8):q1.test(e)?NaN:+e}function Z1(e){return e}function J1(e){if(!G1(e))return!1;var t=B1(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Q1,e2=I1["__core-js_shared__"],t2=(Q1=/[^.]+$/.exec(e2&&e2.keys&&e2.keys.IE_PROTO||""))?"Symbol(src)_1."+Q1:"";var n2=Function.prototype.toString;function r2(e){if(null!=e){try{return n2.call(e)}catch(ame){}try{return e+""}catch(ame){}}return""}var i2=/^\[object .+?Constructor\]$/,o2=Function.prototype,a2=Object.prototype,s2=o2.toString,l2=a2.hasOwnProperty,c2=RegExp("^"+s2.call(l2).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function u2(e){return!(!G1(e)||(t=e,t2&&t2 in t))&&(J1(e)?c2:i2).test(r2(e));var t}function h2(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return u2(n)?n:void 0}var f2=h2(I1,"WeakMap"),d2=Object.create,p2=function(){function e(){}return function(t){if(!G1(t))return{};if(d2)return d2(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var m2=Date.now;var g2,v2,y2,_2=function(){try{var e=h2(Object,"defineProperty");return e({},"",{}),e}catch(ame){}}(),b2=_2?function(e,t){return _2(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Z1,x2=(g2=b2,v2=0,y2=0,function(){var e=m2(),t=16-(e-y2);if(y2=e,t>0){if(++v2>=800)return arguments[0]}else v2=0;return g2.apply(void 0,arguments)});var w2=/^(?:0|[1-9]\d*)$/;function S2(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&w2.test(e))&&e>-1&&e%1==0&&e<t}function E2(e,t,n){"__proto__"==t&&_2?_2(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function T2(e,t){return e===t||e!=e&&t!=t}var A2=Object.prototype.hasOwnProperty;function M2(e,t,n){var r=e[t];A2.call(e,t)&&T2(r,n)&&(void 0!==n||t in e)||E2(e,t,n)}var C2=Math.max;function O2(e,t){return x2(function(e,t,n){return t=C2(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=C2(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Z1),e+"")}function R2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function I2(e){return null!=e&&R2(e.length)&&!J1(e)}var k2=Object.prototype;function P2(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||k2)}function D2(e){return z1(e)&&"[object Arguments]"==B1(e)}var N2=Object.prototype,L2=N2.hasOwnProperty,F2=N2.propertyIsEnumerable,U2=D2(function(){return arguments}())?D2:function(e){return z1(e)&&L2.call(e,"callee")&&!F2.call(e,"callee")};var B2="object"==typeof exports&&exports&&!exports.nodeType&&exports,z2=B2&&"object"==typeof module&&module&&!module.nodeType&&module,V2=z2&&z2.exports===B2?I1.Buffer:void 0,j2=(V2?V2.isBuffer:void 0)||function(){return!1},H2={};function W2(e){return function(t){return e(t)}}H2["[object Float32Array]"]=H2["[object Float64Array]"]=H2["[object Int8Array]"]=H2["[object Int16Array]"]=H2["[object Int32Array]"]=H2["[object Uint8Array]"]=H2["[object Uint8ClampedArray]"]=H2["[object Uint16Array]"]=H2["[object Uint32Array]"]=!0,H2["[object Arguments]"]=H2["[object Array]"]=H2["[object ArrayBuffer]"]=H2["[object Boolean]"]=H2["[object DataView]"]=H2["[object Date]"]=H2["[object Error]"]=H2["[object Function]"]=H2["[object Map]"]=H2["[object Number]"]=H2["[object Object]"]=H2["[object RegExp]"]=H2["[object Set]"]=H2["[object String]"]=H2["[object WeakMap]"]=!1;var G2="object"==typeof exports&&exports&&!exports.nodeType&&exports,q2=G2&&"object"==typeof module&&module&&!module.nodeType&&module,X2=q2&&q2.exports===G2&&O1.process,Y2=function(){try{var e=q2&&q2.require&&q2.require("util").types;return e||X2&&X2.binding&&X2.binding("util")}catch(ame){}}(),K2=Y2&&Y2.isTypedArray,$2=K2?W2(K2):function(e){return z1(e)&&R2(e.length)&&!!H2[B1(e)]},Z2=Object.prototype.hasOwnProperty;function J2(e,t){var n=V1(e),r=!n&&U2(e),i=!n&&!r&&j2(e),o=!n&&!r&&!i&&$2(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],l=s.length;for(var c in e)!t&&!Z2.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||S2(c,l))||s.push(c);return s}function Q2(e,t){return function(n){return e(t(n))}}var e3=Q2(Object.keys,Object),t3=Object.prototype.hasOwnProperty;function n3(e){return I2(e)?J2(e):function(e){if(!P2(e))return e3(e);var t=[];for(var n in Object(e))t3.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}var r3=Object.prototype.hasOwnProperty;function i3(e){if(!G1(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=P2(e),n=[];for(var r in e)("constructor"!=r||!t&&r3.call(e,r))&&n.push(r);return n}function o3(e){return I2(e)?J2(e,!0):i3(e)}var a3=h2(Object,"create");var s3=Object.prototype.hasOwnProperty;var l3=Object.prototype.hasOwnProperty;function c3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function u3(e,t){for(var n=e.length;n--;)if(T2(e[n][0],t))return n;return-1}c3.prototype.clear=function(){this.__data__=a3?a3(null):{},this.size=0},c3.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},c3.prototype.get=function(e){var t=this.__data__;if(a3){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return s3.call(t,e)?t[e]:void 0},c3.prototype.has=function(e){var t=this.__data__;return a3?void 0!==t[e]:l3.call(t,e)},c3.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=a3&&void 0===t?"__lodash_hash_undefined__":t,this};var h3=Array.prototype.splice;function f3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}f3.prototype.clear=function(){this.__data__=[],this.size=0},f3.prototype.delete=function(e){var t=this.__data__,n=u3(t,e);return!(n<0)&&(n==t.length-1?t.pop():h3.call(t,n,1),--this.size,!0)},f3.prototype.get=function(e){var t=this.__data__,n=u3(t,e);return n<0?void 0:t[n][1]},f3.prototype.has=function(e){return u3(this.__data__,e)>-1},f3.prototype.set=function(e,t){var n=this.__data__,r=u3(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var d3=h2(I1,"Map");function p3(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function m3(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}m3.prototype.clear=function(){this.size=0,this.__data__={hash:new c3,map:new(d3||f3),string:new c3}},m3.prototype.delete=function(e){var t=p3(this,e).delete(e);return this.size-=t?1:0,t},m3.prototype.get=function(e){return p3(this,e).get(e)},m3.prototype.has=function(e){return p3(this,e).has(e)},m3.prototype.set=function(e,t){var n=p3(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};var g3=Q2(Object.getPrototypeOf,Object),v3=Function.prototype,y3=Object.prototype,_3=v3.toString,b3=y3.hasOwnProperty,x3=_3.call(Object);function w3(e){var t=this.__data__=new f3(e);this.size=t.size}w3.prototype.clear=function(){this.__data__=new f3,this.size=0},w3.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},w3.prototype.get=function(e){return this.__data__.get(e)},w3.prototype.has=function(e){return this.__data__.has(e)},w3.prototype.set=function(e,t){var n=this.__data__;if(n instanceof f3){var r=n.__data__;if(!d3||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new m3(r)}return n.set(e,t),this.size=n.size,this};var S3="object"==typeof exports&&exports&&!exports.nodeType&&exports,E3=S3&&"object"==typeof module&&module&&!module.nodeType&&module,T3=E3&&E3.exports===S3?I1.Buffer:void 0,A3=T3?T3.allocUnsafe:void 0;function M3(e,t){if(t)return e.slice();var n=e.length,r=A3?A3(n):new e.constructor(n);return e.copy(r),r}var C3=Object.prototype.propertyIsEnumerable,O3=Object.getOwnPropertySymbols,R3=O3?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}(O3(e),function(t){return C3.call(e,t)}))}:function(){return[]};function I3(e){return function(e,t,n){var r=t(e);return V1(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,n3,R3)}var k3=h2(I1,"DataView"),P3=h2(I1,"Promise"),D3=h2(I1,"Set"),N3="[object Map]",L3="[object Promise]",F3="[object Set]",U3="[object WeakMap]",B3="[object DataView]",z3=r2(k3),V3=r2(d3),j3=r2(P3),H3=r2(D3),W3=r2(f2),G3=B1;(k3&&G3(new k3(new ArrayBuffer(1)))!=B3||d3&&G3(new d3)!=N3||P3&&G3(P3.resolve())!=L3||D3&&G3(new D3)!=F3||f2&&G3(new f2)!=U3)&&(G3=function(e){var t=B1(e),n="[object Object]"==t?e.constructor:void 0,r=n?r2(n):"";if(r)switch(r){case z3:return B3;case V3:return N3;case j3:return L3;case H3:return F3;case W3:return U3}return t});var q3=Object.prototype.hasOwnProperty;var X3=I1.Uint8Array;function Y3(e){var t=new e.constructor(e.byteLength);return new X3(t).set(new X3(e)),t}var K3=/\w*$/;var $3=k1?k1.prototype:void 0,Z3=$3?$3.valueOf:void 0;function J3(e,t){var n=t?Y3(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Q3(e,t,n){var r,i,o,a,s,l=e.constructor;switch(t){case"[object ArrayBuffer]":return Y3(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return s=Y3((a=e).buffer),new a.constructor(s,a.byteOffset,a.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return J3(e,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return(o=new(i=e).constructor(i.source,K3.exec(i))).lastIndex=i.lastIndex,o;case"[object Symbol]":return r=e,Z3?Object(Z3.call(r)):{}}}function e4(e){return"function"!=typeof e.constructor||P2(e)?{}:p2(g3(e))}var t4=Y2&&Y2.isMap,n4=t4?W2(t4):function(e){return z1(e)&&"[object Map]"==G3(e)};var r4=Y2&&Y2.isSet,i4=r4?W2(r4):function(e){return z1(e)&&"[object Set]"==G3(e)},o4="[object Arguments]",a4="[object Function]",s4="[object Object]",l4={};function c4(e,t,n,r,i,o){var a,s=1&t;if(void 0!==a)return a;if(!G1(e))return e;var l=V1(e);if(l)a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&q3.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e);else{var c=G3(e),u=c==a4||"[object GeneratorFunction]"==c;if(j2(e))return M3(e,s);if(c==s4||c==o4||u&&!i)a=u?{}:e4(e);else{if(!l4[c])return i?e:{};a=Q3(e,c,s)}}o||(o=new w3);var h=o.get(e);if(h)return h;o.set(e,a),i4(e)?e.forEach(function(r){a.add(c4(r,t,n,r,e,o))}):n4(e)&&e.forEach(function(r,i){a.set(i,c4(r,t,n,i,e,o))});var f=l?void 0:I3(e);return function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););}(f||e,function(r,i){f&&(r=e[i=r]),M2(a,i,c4(r,t,n,i,e,o))}),a}l4[o4]=l4["[object Array]"]=l4["[object ArrayBuffer]"]=l4["[object DataView]"]=l4["[object Boolean]"]=l4["[object Date]"]=l4["[object Float32Array]"]=l4["[object Float64Array]"]=l4["[object Int8Array]"]=l4["[object Int16Array]"]=l4["[object Int32Array]"]=l4["[object Map]"]=l4["[object Number]"]=l4[s4]=l4["[object RegExp]"]=l4["[object Set]"]=l4["[object String]"]=l4["[object Symbol]"]=l4["[object Uint8Array]"]=l4["[object Uint8ClampedArray]"]=l4["[object Uint16Array]"]=l4["[object Uint32Array]"]=!0,l4["[object Error]"]=l4[a4]=l4["[object WeakMap]"]=!1;function u4(e){return c4(e,5)}var h4=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[++r];if(!1===t(i[s],s,i))break}return e},f4=function(){return I1.Date.now()},d4=Math.max,p4=Math.min;function m4(e,t,n){var r,i,o,a,s,l,c=0,u=!1,h=!1,f=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function p(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=o}function m(){var e=f4();if(p(e))return g(e);s=setTimeout(m,function(e){var n=t-(e-l);return h?p4(n,o-(e-c)):n}(e))}function g(e){return s=void 0,f&&r?d(e):(r=i=void 0,a)}function v(){var e=f4(),n=p(e);if(r=arguments,i=this,l=e,n){if(void 0===s)return function(e){return c=e,s=setTimeout(m,t),u?d(e):a}(l);if(h)return clearTimeout(s),s=setTimeout(m,t),d(l)}return void 0===s&&(s=setTimeout(m,t)),a}return t=$1(t)||0,G1(n)&&(u=!!n.leading,o=(h="maxWait"in n)?d4($1(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),v.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=i=s=void 0},v.flush=function(){return void 0===s?a:g(f4())},v}function g4(e,t,n){(void 0!==n&&!T2(e[t],n)||void 0===n&&!(t in e))&&E2(e,t,n)}function v4(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}function y4(e){return function(e,t,n){var r=!n;n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],s=void 0;void 0===s&&(s=e[a]),r?E2(n,a,s):M2(n,a,s)}return n}(e,o3(e))}function _4(e,t,n,r,i,o,a){var s=v4(e,n),l=v4(t,n),c=a.get(l);if(c)g4(e,n,c);else{var u,h=o?o(s,l,n+"",e,t,a):void 0,f=void 0===h;if(f){var d=V1(l),p=!d&&j2(l),m=!d&&!p&&$2(l);h=l,d||p||m?V1(s)?h=s:z1(u=s)&&I2(u)?h=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(s):p?(f=!1,h=M3(l,!0)):m?(f=!1,h=J3(l,!0)):h=[]:function(e){if(!z1(e)||"[object Object]"!=B1(e))return!1;var t=g3(e);if(null===t)return!0;var n=b3.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&_3.call(n)==x3}(l)||U2(l)?(h=s,U2(s)?h=y4(s):G1(s)&&!J1(s)||(h=e4(l))):f=!1}f&&(a.set(l,h),i(h,l,r,o,a),a.delete(l)),g4(e,n,h)}}function b4(e,t,n,r,i){e!==t&&h4(t,function(o,a){if(i||(i=new w3),G1(o))_4(e,t,a,n,b4,r,i);else{var s=r?r(v4(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),g4(e,a,s)}},o3)}var x4,w4=(x4=function(e,t,n){b4(e,t,n)},O2(function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=x4.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!G1(n))return!1;var r=typeof t;return!!("number"==r?I2(n)&&S2(t,n.length):"string"==r&&t in n)&&T2(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&x4(e,a,n,i)}return e}));function S4(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return G1(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),m4(e,t,{leading:r,maxWait:t,trailing:i})}var E4,T4={exports:{}},A4={exports:{}},M4={exports:{}},C4=M4.exports;function O4(){return E4||(E4=1,e=M4,function(t,n){e.exports?e.exports=n():t.EvEmitter=n()}("undefined"!=typeof window?window:C4,function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var n=this._events=this._events||{},r=n[e]=n[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var n=this._onceEvents=this._onceEvents||{};return(n[e]=n[e]||{})[t]=!0,this}},t.off=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){var r=n.indexOf(t);return-1!=r&&n.splice(r,1),this}},t.emitEvent=function(e,t){var n=this._events&&this._events[e];if(n&&n.length){n=n.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],i=0;i<n.length;i++){var o=n[i];r&&r[o]&&(this.off(e,o),delete r[o]),o.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),M4.exports;var e}var R4,I4={exports:{}};function k4(){return R4||(R4=1,e=I4,function(t,n){e.exports?e.exports=n():t.getSize=n()}(window,function(){function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){},n=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=n.length;function i(e){var n=getComputedStyle(e);return n||t("Style returned "+n+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),n}var o,a=!1;function s(t){if(function(){if(!a){a=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var n=document.body||document.documentElement;n.appendChild(t);var r=i(t);o=200==Math.round(e(r.width)),s.isBoxSizeOuter=o,n.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=i(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[n[t]]=0;return e}();var c={};c.width=t.offsetWidth,c.height=t.offsetHeight;for(var u=c.isBorderBox="border-box"==l.boxSizing,h=0;h<r;h++){var f=n[h],d=l[f],p=parseFloat(d);c[f]=isNaN(p)?0:p}var m=c.paddingLeft+c.paddingRight,g=c.paddingTop+c.paddingBottom,v=c.marginLeft+c.marginRight,y=c.marginTop+c.marginBottom,_=c.borderLeftWidth+c.borderRightWidth,b=c.borderTopWidth+c.borderBottomWidth,x=u&&o,w=e(l.width);!1!==w&&(c.width=w+(x?0:m+_));var S=e(l.height);return!1!==S&&(c.height=S+(x?0:g+b)),c.innerWidth=c.width-(m+_),c.innerHeight=c.height-(g+b),c.outerWidth=c.width+v,c.outerHeight=c.height+y,c}}return s})),I4.exports;var e}var P4,D4,N4={exports:{}},L4={exports:{}};function F4(){return D4||(D4=1,e=N4,function(t,n){e.exports?e.exports=n(t,function(){return P4||(P4=1,e=L4,function(t,n){e.exports?e.exports=n():t.matchesSelector=n()}(window,function(){var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],n=0;n<t.length;n++){var r=t[n]+"MatchesSelector";if(e[r])return r}}();return function(t,n){return t[e](n)}})),L4.exports;var e}()):t.fizzyUIUtils=n(t,t.matchesSelector)}(window,function(e,t){var n={extend:function(e,t){for(var n in t)e[n]=t[n];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;n.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?r.call(e):[e]},n.removeFrom=function(e,t){var n=e.indexOf(t);-1!=n&&e.splice(n,1)},n.getParent=function(e,n){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,n))return e},n.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},n.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},n.filterFindElements=function(e,r){e=n.makeArray(e);var i=[];return e.forEach(function(e){if(e instanceof HTMLElement)if(r){t(e,r)&&i.push(e);for(var n=e.querySelectorAll(r),o=0;o<n.length;o++)i.push(n[o])}else i.push(e)}),i},n.debounceMethod=function(e,t,n){n=n||100;var r=e.prototype[t],i=t+"Timeout";e.prototype[t]=function(){var e=this[i];clearTimeout(e);var t=arguments,o=this;this[i]=setTimeout(function(){r.apply(o,t),delete o[i]},n)}},n.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},n.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()};var i=e.console;return n.htmlInit=function(t,r){n.docReady(function(){var o=n.toDashed(r),a="data-"+o,s=document.querySelectorAll("["+a+"]"),l=document.querySelectorAll(".js-"+o),c=n.makeArray(s).concat(n.makeArray(l)),u=a+"-options",h=e.jQuery;c.forEach(function(e){var n,o=e.getAttribute(a)||e.getAttribute(u);try{n=o&&JSON.parse(o)}catch(l){return void(i&&i.error("Error parsing "+a+" on "+e.className+": "+l))}var s=new t(e,n);h&&h.data(e,r,s)})})},n})),N4.exports;var e}var U4,B4,z4,V4={exports:{}};function j4(){return B4||(B4=1,e=A4,function(t,n){e.exports?e.exports=n(t,O4(),k4(),F4(),function(){return U4||(U4=1,e=V4,function(t,n){e.exports?e.exports=n(O4(),k4()):(t.Outlayer={},t.Outlayer.Item=n(t.EvEmitter,t.getSize))}(window,function(e,t){var n=document.documentElement.style,r="string"==typeof n.transition?"transition":"WebkitTransition",i="string"==typeof n.transform?"transform":"WebkitTransform",o={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],a={transform:i,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function s(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=s.prototype=Object.create(e.prototype);l.constructor=s,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var n in e)t[a[n]||n]=e[n]},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),r=e[t?"left":"right"],i=e[n?"top":"bottom"],o=parseFloat(r),a=parseFloat(i),s=this.layout.size;-1!=r.indexOf("%")&&(o=o/100*s.width),-1!=i.indexOf("%")&&(a=a/100*s.height),o=isNaN(o)?0:o,a=isNaN(a)?0:a,o-=t?s.paddingLeft:s.paddingRight,a-=n?s.paddingTop:s.paddingBottom,this.position.x=o,this.position.y=a},l.layoutPosition=function(){var e=this.layout.size,t={},n=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),i=n?"paddingLeft":"paddingRight",o=n?"left":"right",a=n?"right":"left",s=this.position.x+e[i];t[o]=this.getXValue(s),t[a]="";var l=r?"paddingTop":"paddingBottom",c=r?"top":"bottom",u=r?"bottom":"top",h=this.position.y+e[l];t[c]=this.getYValue(h),t[u]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!i||this.isTransitioning){var o=e-n,a=t-r,s={};s.transform=this.getTranslate(o,a),this.transition({to:s,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);e.from&&(this.css(e.from),this.element.offsetHeight),this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var c="opacity,"+i.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()});l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:c,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(o,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var u={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,n=u[e.propertyName]||e.propertyName;delete t.ingProperties[n],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]),n in t.onEnd&&(t.onEnd[n].call(this),delete t.onEnd[n]),this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(o,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var h={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(h)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var n in t)return n},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},s})),V4.exports;var e}()):t.Outlayer=n(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(e,t,n,r,i){var o=e.console,a=e.jQuery,s=function(){},l=0,c={};function u(e,t){var n=r.getQueryElement(e);if(n){this.element=n,a&&(this.$element=a(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var i=++l;this.element.outlayerGUID=i,c[i]=this,this._create(),this._getOption("initLayout")&&this.layout()}else o&&o.error("Bad element for "+this.constructor.namespace+": "+(n||e))}u.namespace="outlayer",u.Item=i,u.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var h=u.prototype;function f(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}r.extend(h,t.prototype),h.option=function(e){r.extend(this.options,e)},h._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},u.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},h._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},h.reloadItems=function(){this.items=this._itemize(this.element.children)},h._itemize=function(e){for(var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[],i=0;i<t.length;i++){var o=new n(t[i],this);r.push(o)}return r},h._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},h.getItemElements=function(){return this.items.map(function(e){return e.element})},h.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},h._init=h.layout,h._resetLayout=function(){this.getSize()},h.getSize=function(){this.size=n(this.element)},h._getMeasurement=function(e,t){var r,i=this.options[e];i?("string"==typeof i?r=this.element.querySelector(i):i instanceof HTMLElement&&(r=i),this[e]=r?n(r)[t]:i):this[e]=0},h.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},h._getItemsForLayout=function(e){return e.filter(function(e){return!e.isIgnored})},h._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var n=[];e.forEach(function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,n.push(r)},this),this._processLayoutQueue(n)}},h._getItemLayoutPosition=function(){return{x:0,y:0}},h._processLayoutQueue=function(e){this.updateStagger(),e.forEach(function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)},this)},h.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),n=t&&t[1],r=t&&t[2];if(!n.length)return 0;n=parseFloat(n);var i=d[r]||1;return n*i}(e),this.stagger;this.stagger=0},h._positionItem=function(e,t,n,r,i){r?e.goTo(t,n):(e.stagger(i*this.stagger),e.moveTo(t,n))},h._postLayout=function(){this.resizeContainer()},h.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},h._getContainerSize=s,h._setContainerMeasure=function(e,t){if(void 0!==e){var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},h._emitCompleteOnItems=function(e,t){var n=this;function r(){n.dispatchEvent(e+"Complete",null,[t])}var i=t.length;if(t&&i){var o=0;t.forEach(function(t){t.once(e,a)})}else r();function a(){++o==i&&r()}},h.dispatchEvent=function(e,t,n){var r=t?[t].concat(n):n;if(this.emitEvent(e,r),a)if(this.$element=this.$element||a(this.element),t){var i=a.Event(t);i.type=e,this.$element.trigger(i,n)}else this.$element.trigger(e,n)},h.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},h.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},h.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},h.unstamp=function(e){(e=this._find(e))&&e.forEach(function(e){r.removeFrom(this.stamps,e),this.unignore(e)},this)},h._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},h._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},h._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},h._manageStamp=s,h._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,i=n(e);return{left:t.left-r.left-i.marginLeft,top:t.top-r.top-i.marginTop,right:r.right-t.right-i.marginRight,bottom:r.bottom-t.bottom-i.marginBottom}},h.handleEvent=r.handleEvent,h.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},h.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},h.onresize=function(){this.resize()},r.debounceMethod(u,"onresize",100),h.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},h.needsResizeLayout=function(){var e=n(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},h.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},h.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},h.prepended=function(e){var t=this._itemize(e);if(t.length){var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)}},h.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.reveal()})}},h.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach(function(e,n){e.stagger(n*t),e.hide()})}},h.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},h.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},h.getItem=function(e){for(var t=0;t<this.items.length;t++){var n=this.items[t];if(n.element==e)return n}},h.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach(function(e){var n=this.getItem(e);n&&t.push(n)},this),t},h.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach(function(e){e.remove(),r.removeFrom(this.items,e)},this)},h.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach(function(e){e.destroy()}),this.unbindResize();var t=this.element.outlayerGUID;delete c[t],delete this.element.outlayerGUID,a&&a.removeData(this.element,this.constructor.namespace)},u.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&c[t]},u.create=function(e,t){var n=f(u);return n.defaults=r.extend({},u.defaults),r.extend(n.defaults,t),n.compatOptions=r.extend({},u.compatOptions),n.namespace=e,n.data=u.data,n.Item=f(i),r.htmlInit(n,e),a&&a.bridget&&a.bridget(e,n),n};var d={ms:1,s:1e3};return u.Item=i,u})),A4.exports;var e}var H4,W4=(z4||(z4=1,H4=T4,function(e,t){H4.exports?H4.exports=t(j4(),k4()):e.Masonry=t(e.Outlayer,e.getSize)}(window,function(e,t){var n=e.create("masonry");n.compatOptions.fitWidth="isFitWidth";var r=n.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],n=e&&e.element;this.columnWidth=n&&t(n).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,i=this.containerWidth+this.gutter,o=i/r,a=r-i%r;o=Math[a&&a<1?"round":"floor"](o),this.cols=Math.max(o,1)},r.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,n=t(e);this.containerWidth=n&&n.innerWidth},r._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,n=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](n,e),i={x:this.columnWidth*r.col,y:r.y},o=r.y+e.size.outerHeight,a=n+r.col,s=r.col;s<a;s++)this.colYs[s]=o;return i},r._getTopColPosition=function(e){var t=this._getTopColGroup(e),n=Math.min.apply(Math,t);return{col:t.indexOf(n),y:n}},r._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],n=this.cols+1-e,r=0;r<n;r++)t[r]=this._getColGroupY(r,e);return t},r._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var n=this.colYs.slice(e,e+t);return Math.max.apply(Math,n)},r._getHorizontalColPosition=function(e,t){var n=this.horizontalColIndex%this.cols;n=e>1&&n+e>this.cols?0:n;var r=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=r?n+e:this.horizontalColIndex,{col:n,y:this._getColGroupY(n,e)}},r._manageStamp=function(e){var n=t(e),r=this._getElementOffset(e),i=this._getOption("originLeft")?r.left:r.right,o=i+n.outerWidth,a=Math.floor(i/this.columnWidth);a=Math.max(0,a);var s=Math.floor(o/this.columnWidth);s-=o%this.columnWidth?0:1,s=Math.min(this.cols-1,s);for(var l=(this._getOption("originTop")?r.top:r.bottom)+n.outerHeight,c=a;c<=s;c++)this.colYs[c]=Math.max(l,this.colYs[c])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},r._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},n})),T4.exports);const G4=_R(W4);function q4(e){return"string"==typeof e?"'".concat(e,"'"):(new X4).serialize(e)}const X4=function(){var n;class r{constructor(){var t,r,i;t=this,r=n,i=new Map,r.has(t)?e("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,i)}compare(e,t){const n=typeof e,r=typeof t;return"string"===n&&"string"===r?e.localeCompare(t):"number"===n&&"number"===r?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:"'".concat(e,"'");case"bigint":return"".concat(e,"n");case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?"unknown:".concat(t):t.slice(8,-1),e);const n=e.constructor,r=n===Object||void 0===n?"":n.name;if(""!==r&&globalThis[r]===n)return this.serializeBuiltInType(r,e);if("function"==typeof e.toJSON){const t=e.toJSON();return r+(null!==t&&"object"==typeof t?this.$object(t):"(".concat(this.serialize(t),")"))}return this.serializeObjectEntries(r,Object.entries(e))}serializeBuiltInType(e,t){const n=this["$"+e];if(n)return n.call(this,t);if("function"==typeof(null==t?void 0:t.entries))return this.serializeObjectEntries(e,t.entries());throw new Error("Cannot serialize ".concat(e))}serializeObjectEntries(e,t){const n=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let r="".concat(e,"{");for(let i=0;i<n.length;i++){const[e,t]=n[i];r+="".concat(this.serialize(e,!0),":").concat(this.serialize(t)),i<n.length-1&&(r+=",")}return r+"}"}$object(e){let r=t(this,n).get(e);return void 0===r&&(t(this,n).set(e,"#".concat(t(this,n).size)),r=this.serializeObject(e),t(this,n).set(e,r)),r}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?"".concat(e.name||"","()[native]"):"".concat(e.name,"(").concat(e.length,")").concat(t.replace(/\s*\n\s*/g,""))}$Array(e){let t="[";for(let n=0;n<e.length;n++)t+=this.serialize(e[n]),n<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return"Date(".concat(e.toISOString(),")")}catch(ame){return"Date(null)"}}$ArrayBuffer(e){return"ArrayBuffer[".concat(new Uint8Array(e).join(","),"]")}$Set(e){return"Set".concat(this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t))))}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}n=new WeakMap;for(const e of["Error","RegExp","URL"])r.prototype["$"+e]=function(t){return"".concat(e,"(").concat(t,")")};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])r.prototype["$"+e]=function(t){return"".concat(e,"[").concat(t.join(","),"]")};for(const e of["BigInt64Array","BigUint64Array"])r.prototype["$"+e]=function(t){return"".concat(e,"[").concat(t.join("n,")).concat(t.length>0?"n":"","]")};return r}();function Y4(e,t){return e===t||q4(e)===q4(t)}function K4(e,t){const n="string"!=typeof e||t?t:"".concat(e,"Context"),r=Symbol(n);return[t=>{const n=tr(r,t);if(n)return n;if(null===n)return n;throw new Error("Injection `".concat(r.toString(),"` not found. Component must be used within ").concat(Array.isArray(e)?"one of the following components: ".concat(e.join(", ")):"`".concat(e,"`")))},e=>(er(r,e),e)]}function $4(){let e=document.activeElement;if(null==e)return null;for(;null!=e&&null!=e.shadowRoot&&null!=e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function Z4(e,t,n){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),r.dispatchEvent(i)}function J4(e){return e?e.flatMap(e=>e.type===Zo?J4(e.children):[e]):[]}const[Q4]=K4("ConfigProvider");function e5(e){return!!ke()&&(Pe(e),!0)}function t5(){const e=new Set,t=t=>{e.delete(t)};return{on:n=>{e.add(n);const r=()=>t(n);return e5(r),{off:r}},off:t,trigger:(...t)=>Promise.all(Array.from(e).map(e=>e(...t))),clear:()=>{e.clear()}}}function n5(e){return tn(t=qa(e))?jt(new Proxy({},{get:(e,n,r)=>sn(Reflect.get(t.value,n,r)),set:(e,n,r)=>(tn(t.value[n])&&!tn(r)?t.value[n].value=r:t.value[n]=r,!0),deleteProperty:(e,n)=>Reflect.deleteProperty(t.value,n),has:(e,n)=>Reflect.has(t.value,n),ownKeys:()=>Object.keys(t.value),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})})):jt(t);var t}const r5="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);const i5=Object.prototype.toString,o5=a5();function a5(){var e,t;return r5&&(null==(e=null==window?void 0:window.navigator)?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||(null==(t=null==window?void 0:window.navigator)?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(null==window?void 0:window.navigator.userAgent))}function s5(e){return Array.isArray(e)?e:[e]}function l5(e,t=1e4){return fn((n,r)=>{let i,o=ln(e);return e5(()=>{clearTimeout(i)}),{get:()=>(n(),o),set(n){o=n,r(),clearTimeout(i),i=setTimeout(()=>{o=ln(e),r()},ln(t))}}})}function c5(e,t){Ra()&&vi(e,t)}const u5=r5?window:void 0;function h5(e){var t;const n=ln(e);return null!=(t=null==n?void 0:n.$el)?t:n}function f5(...e){const t=[],n=()=>{t.forEach(e=>e()),t.length=0},r=qa(()=>{const t=s5(ln(e[0])).filter(e=>null!=e);return t.every(e=>"string"!=typeof e)?t:void 0}),i=(o=([e,r,i,o])=>{if(n(),!(null==e?void 0:e.length)||!(null==r?void 0:r.length)||!(null==i?void 0:i.length))return;const a=(s=o,"[object Object]"===i5.call(s)?{...o}:o);var s;t.push(...e.flatMap(e=>r.flatMap(t=>i.map(n=>((e,t,n,r)=>(e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)))(e,t,n,a)))))},a={flush:"post"},lr(()=>{var t,n;return[null!=(n=null==(t=r.value)?void 0:t.map(e=>h5(e)))?n:[u5].filter(e=>null!=e),s5(ln(r.value?e[1]:e[0])),s5(sn(r.value?e[2]:e[1])),ln(r.value?e[3]:e[2])]},o,{...a,immediate:!0}));var o,a;return e5(n),()=>{i(),n()}}function d5(...e){let t,n,r={};3===e.length?(t=e[0],n=e[1],r=e[2]):2===e.length?"object"==typeof e[1]?(t=!0,n=e[0],r=e[1]):(t=e[0],n=e[1]):(t=!0,n=e[0]);const{target:i=u5,eventName:o="keydown",passive:a=!1,dedupe:s=!1}=r,l="function"==typeof(c=t)?c:"string"==typeof c?e=>e.key===c:Array.isArray(c)?e=>c.includes(e.key):()=>!0;var c;return f5(i,o,e=>{e.repeat&&ln(s)||l(e)&&n(e)},a)}function p5(e,t,n,r={}){var i,o,a;const{clone:s=!1,passive:l=!1,eventName:c,deep:u=!1,defaultValue:h,shouldEmit:f}=r,d=Ra(),p=n||(null==d?void 0:d.emit)||(null==(i=null==d?void 0:d.$emit)?void 0:i.bind(d))||(null==(a=null==(o=null==d?void 0:d.proxy)?void 0:o.$emit)?void 0:a.bind(null==d?void 0:d.proxy));let m=c;t||(t="modelValue"),m=m||"update:".concat(t.toString());const g=e=>{return s?"function"==typeof s?s(e):(t=e,JSON.parse(JSON.stringify(t))):e;var t},v=()=>void 0!==e[t]?g(e[t]):h,y=e=>{f?f(e)&&p(m,e):p(m,e)};if(l){const n=nn(v());let r=!1;return lr(()=>e[t],e=>{r||(r=!0,n.value=g(e),Ln(()=>r=!1))}),lr(n,n=>{r||n===e[t]&&!u||y(n)},{deep:u}),n}return qa({get:()=>v(),set(e){y(e)}})}function m5(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function g5(e,t,n=".",r){if(!m5(t))return g5(e,{},n,r);const i=Object.assign({},t);for(const o in e){if("__proto__"===o||"constructor"===o)continue;const t=e[o];null!=t&&(r&&r(i,o,t,n)||(Array.isArray(t)&&Array.isArray(i[o])?i[o]=[...t,...i[o]]:m5(t)&&m5(i[o])?i[o]=g5(t,i[o],(n?"".concat(n,"."):"")+o.toString(),r):i[o]=t))}return i}const v5=(...e)=>e.reduce((e,t)=>g5(e,t,"",y5),{});var y5;const _5=function(e){let t,n,r=0;const i=()=>{r-=1,n&&r<=0&&(n.stop(),t=void 0,n=void 0)};return(...o)=>(r+=1,n||(n=Ie(!0),t=n.run(()=>e(...o))),e5(i),t)}(()=>{const e=nn(new Map),t=nn(),n=qa(()=>{for(const t of e.value.values())if(t)return!0;return!1}),r=Q4({scrollBody:nn(!0)});let i=null;return lr(n,(e,n)=>{var o;if(!r5)return;if(!e)return void(n&&(()=>{var e;document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=null!=(e=t.value)?e:"",o5&&(null==i||i()),t.value=void 0})());void 0===t.value&&(t.value=document.body.style.overflow);const a=window.innerWidth-document.documentElement.clientWidth,s={padding:a,margin:0},l=(null==(o=r.scrollBody)?void 0:o.value)?"object"==typeof r.scrollBody.value?v5({padding:!0===r.scrollBody.value.padding?a:r.scrollBody.value.padding,margin:!0===r.scrollBody.value.margin?a:r.scrollBody.value.margin},s):s:{padding:0,margin:0};a>0&&(document.body.style.paddingRight="number"==typeof l.padding?"".concat(l.padding,"px"):String(l.padding),document.body.style.marginRight="number"==typeof l.margin?"".concat(l.margin,"px"):String(l.margin),document.documentElement.style.setProperty("--scrollbar-width","".concat(a,"px")),document.body.style.overflow="hidden"),o5&&(i=f5(document,"touchmove",e=>function(e){const t=e||window.event,n=t.target;if(n instanceof Element&&b5(n))return!1;if(t.touches.length>1)return!0;t.preventDefault&&t.cancelable&&t.preventDefault();return!1}(e),{passive:!1})),Ln(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function b5(e){const t=window.getComputedStyle(e);if("scroll"===t.overflowX||"scroll"===t.overflowY||"auto"===t.overflowX&&e.clientWidth<e.scrollWidth||"auto"===t.overflowY&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return t instanceof Element&&"BODY"!==t.tagName&&b5(t)}}function x5(e){const t=qa(()=>sn(e)),n=qa(()=>new Intl.Collator("en",{usage:"search",...t.value}));return{startsWith:(e,t)=>0===t.length||(e=e.normalize("NFC"),t=t.normalize("NFC"),0===n.value.compare(e.slice(0,t.length),t)),endsWith:(e,t)=>0===t.length||(e=e.normalize("NFC"),t=t.normalize("NFC"),0===n.value.compare(e.slice(-t.length),t)),contains:(e,t)=>{if(0===t.length)return!0;e=e.normalize("NFC");let r=0;const i=(t=t.normalize("NFC")).length;for(;r+i<=e.length;r++){const o=e.slice(r,r+i);if(0===n.value.compare(t,o))return!0}return!1}}}let w5=0;function S5(){const e=document.createElement("span");return e.setAttribute("data-reka-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function E5(){const e=Ra(),t=nn(),n=qa(()=>{var e,n;return["#text","#comment"].includes(null==(e=t.value)?void 0:e.$el.nodeName)?null==(n=t.value)?void 0:n.$el.nextElementSibling:h5(t)}),r=Object.assign({},e.exposed),i={};for(const o in e.props)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>e.props[o]});if(Object.keys(r).length>0)for(const o in r)Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>r[o]});return Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=i,{forwardRef:function(n){if(t.value=n,n&&(Object.defineProperty(i,"$el",{enumerable:!0,configurable:!0,get:()=>n instanceof Element?n:n.$el}),!(n instanceof Element||Object.hasOwn(n,"$el")))){const t=n.$.exposed,r=Object.assign({},i);for(const e in t)Object.defineProperty(r,e,{enumerable:!0,configurable:!0,get:()=>t[e]});e.exposed=r}},currentRef:t,currentElement:n}}function T5(e){var t;const n=Ra(),r=Object.keys(null!=(t=null==n?void 0:n.type.props)?t:{}).reduce((e,t)=>{const r=(null==n?void 0:n.type.props[t]).default;return void 0!==r&&(e[t]=r),e},{}),i=gn(e);return qa(()=>{var e;const t={},o=null!=(e=null==n?void 0:n.vnode.props)?e:{};return Object.keys(o).forEach(e=>{t[k(e)]=o[e]}),Object.keys({...r,...t}).reduce((e,t)=>(void 0!==i.value[t]&&(e[t]=i.value[t]),e),{})})}function A5(e,t){const n=T5(e),r=t?function(e){const t=Ra(),n=null==t?void 0:t.type.emits,r={};return null==n||n.length,null==n||n.forEach(t=>{r[L(k(t))]=(...n)=>e(t,...n)}),r}(t):{};return qa(()=>({...n.value,...r}))}var M5=new WeakMap,C5=new WeakMap,O5={},R5=0,I5=function(e){return e&&(e.host||I5(e.parentNode))},k5=function(e,t,n,r){var i=function(e,t){return t.map(function(t){if(e.contains(t))return t;var n=I5(t);return n&&e.contains(n)?n:null}).filter(function(e){return Boolean(e)})}(t,Array.isArray(e)?e:[e]);O5[n]||(O5[n]=new WeakMap);var o=O5[n],a=[],s=new Set,l=new Set(i),c=function(e){e&&!s.has(e)&&(s.add(e),c(e.parentNode))};i.forEach(c);var u=function(e){e&&!l.has(e)&&Array.prototype.forEach.call(e.children,function(e){if(s.has(e))u(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,l=(M5.get(e)||0)+1,c=(o.get(e)||0)+1;M5.set(e,l),o.set(e,c),a.push(e),1===l&&i&&C5.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(ame){}})};return u(t),s.clear(),R5++,function(){a.forEach(function(e){var t=M5.get(e)-1,i=o.get(e)-1;M5.set(e,t),o.set(e,i),t||(C5.has(e)||e.removeAttribute(r),C5.delete(e)),i||e.removeAttribute(n)}),--R5||(M5=new WeakMap,M5=new WeakMap,C5=new WeakMap,O5={})}},P5=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),k5(r,i,n,"aria-hidden")):function(){return null}};function D5(e,t="reka"){return"".concat(t,"-").concat(null==Br?void 0:Br())}function N5(e,t){const n=nn(e);return{state:n,dispatch:e=>{n.value=function(e){const r=t[n.value][e];return null!=r?r:n.value}(e)}}}function L5(e){const t=l5("",1e3);return{search:t,handleTypeaheadSearch:(e,n)=>{t.value=t.value+e;{const e=$4(),r=n.map(e=>{var t,n,r,i;return{...e,textValue:null!=(i=null!=(r=null==(t=e.value)?void 0:t.textValue)?r:null==(n=e.ref.textContent)?void 0:n.trim())?i:""}}),i=r.find(t=>t.ref===e),o=function(e,t,n){const r=t.length>1&&Array.from(t).every(e=>e===t[0]),i=r?t[0]:t,o=n?e.indexOf(n):-1;let a=(s=e,l=Math.max(o,0),s.map((e,t)=>s[(l+t)%s.length]));var s,l;1===i.length&&(a=a.filter(e=>e!==n));const c=a.find(e=>e.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}(r.map(e=>e.textValue),t.value,null==i?void 0:i.textValue),a=r.find(e=>e.textValue===o);return a&&a.ref.focus(),null==a?void 0:a.ref}},resetTypeahead:()=>{t.value=""}}}function F5(e){return e&&getComputedStyle(e).animationName||"none"}var U5=Ur({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:n}){var r;const{present:i,forceMount:o}=dn(e),a=nn(),{isPresent:s}=function(e,t){var n,r;const i=nn({}),o=nn("none"),a=nn(e),s=e.value?"mounted":"unmounted";let l;const c=null!=(r=null==(n=t.value)?void 0:n.ownerDocument.defaultView)?r:u5,{state:u,dispatch:h}=N5(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),f=e=>{var n;if(r5){const r=new CustomEvent(e,{bubbles:!1,cancelable:!1});null==(n=t.value)||n.dispatchEvent(r)}};lr(e,async(e,n)=>{var r;const a=n!==e;if(await Ln(),a){const a=o.value,s=F5(t.value);e?(h("MOUNT"),f("enter"),"none"===s&&f("after-enter")):"none"===s||"undefined"===s||"none"===(null==(r=i.value)?void 0:r.display)?(h("UNMOUNT"),f("leave"),f("after-leave")):n&&a!==s?(h("ANIMATION_OUT"),f("leave")):(h("UNMOUNT"),f("after-leave"))}},{immediate:!0});const d=e=>{const n=F5(t.value),r=n.includes(CSS.escape(e.animationName)),i="mounted"===u.value?"enter":"leave";if(e.target===t.value&&r&&(f("after-".concat(i)),h("ANIMATION_END"),!a.value)){const e=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",l=null==c?void 0:c.setTimeout(()=>{var n;"forwards"===(null==(n=t.value)?void 0:n.style.animationFillMode)&&(t.value.style.animationFillMode=e)})}e.target===t.value&&"none"===n&&h("ANIMATION_END")},p=e=>{e.target===t.value&&(o.value=F5(t.value))},m=lr(t,(e,t)=>{e?(i.value=getComputedStyle(e),e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d)):(h("ANIMATION_END"),void 0!==l&&(null==c||c.clearTimeout(l)),null==t||t.removeEventListener("animationstart",p),null==t||t.removeEventListener("animationcancel",d),null==t||t.removeEventListener("animationend",d))},{immediate:!0}),g=lr(u,()=>{const e=F5(t.value);o.value="mounted"===u.value?e:"none"});return yi(()=>{m(),g()}),{isPresent:qa(()=>["mounted","unmountSuspended"].includes(u.value))}}(i,a);n({present:s});let l=t.default({present:s.value});l=J4(l||[]);const c=Ra();if(l&&(null==l?void 0:l.length)>1){const e=(null==(r=null==c?void 0:c.parent)?void 0:r.type.name)?"<".concat(c.parent.type.name," />"):"component";throw new Error(["Detected an invalid children for `".concat(e,"` for  `Presence` component."),"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(e=>"  - ".concat(e)).join("\n")].join("\n"))}return()=>o.value||i.value||s.value?Xa(t.default({present:s.value})[0],{ref:e=>{const t=h5(e);return void 0===(null==t?void 0:t.hasAttribute)||((null==t?void 0:t.hasAttribute("data-reka-popper-content-wrapper"))?a.value=t.firstElementChild:a.value=t),t}}):null}});const B5=Ur({name:"PrimitiveSlot",inheritAttrs:!1,setup:(e,{attrs:t,slots:n})=>()=>{var e;if(!n.default)return null;const r=J4(n.default()),i=r.findIndex(e=>e.type!==Qo);if(-1===i)return r;const o=r[i];null==(e=o.props)||delete e.ref;const a=o.props?Ea(t,o.props):t,s=va({...o,props:{}},a);return 1===r.length?s:(r[i]=s,r)}}),z5=["area","img","input"],V5=Ur({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(e,{attrs:t,slots:n}){const r=e.asChild?"template":e.as;return"string"==typeof r&&z5.includes(r)?()=>Xa(r,t):"template"!==r?()=>Xa(e.as,t,{default:n.default}):()=>Xa(B5,t,{default:n.default})}});function j5(){const e=nn(),t=qa(()=>{var t,n;return["#text","#comment"].includes(null==(t=e.value)?void 0:t.$el.nodeName)?null==(n=e.value)?void 0:n.$el.nextElementSibling:h5(e)});return{primitiveElement:e,currentElement:t}}function H5(e,t){const n=t.closest("[data-dismissable-layer]"),r=""===e.dataset.dismissableLayer?e:e.querySelector("[data-dismissable-layer]"),i=Array.from(e.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!(!n||!(r===n||i.indexOf(r)<i.indexOf(n)))}const W5=jt({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,originalBodyPointerEvents:void 0,branches:new Set});var G5=Ur({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(e,{emit:t}){const n=e,r=t,{forwardRef:i,currentElement:o}=E5(),a=qa(()=>{var e,t;return null!=(t=null==(e=o.value)?void 0:e.ownerDocument)?t:globalThis.document}),s=qa(()=>W5.layersRoot),l=qa(()=>o.value?Array.from(s.value).indexOf(o.value):-1),c=qa(()=>W5.layersWithOutsidePointerEventsDisabled.size>0),u=qa(()=>{const e=Array.from(s.value),[t]=[...W5.layersWithOutsidePointerEventsDisabled].slice(-1),n=e.indexOf(t);return l.value>=n}),h=function(e,t,n=!0){var r,i;const o=null!=(i=null==(r=null==t?void 0:t.value)?void 0:r.ownerDocument)?i:null==globalThis?void 0:globalThis.document,a=nn(!1),s=nn(()=>{});return or(r=>{if(!r5||!ln(n))return;const i=async n=>{const r=n.target;if((null==t?void 0:t.value)&&r)if(H5(t.value,r))a.value=!1;else{if(n.target&&!a.value){let t=function(){Z4("dismissableLayer.pointerDownOutside",e,r)};const r={originalEvent:n};"touch"===n.pointerType?(o.removeEventListener("click",s.value),s.value=t,o.addEventListener("click",s.value,{once:!0})):t()}else o.removeEventListener("click",s.value);a.value=!1}},l=window.setTimeout(()=>{o.addEventListener("pointerdown",i)},0);r(()=>{window.clearTimeout(l),o.removeEventListener("pointerdown",i),o.removeEventListener("click",s.value)})}),{onPointerDownCapture:()=>{ln(n)&&(a.value=!0)}}}(async e=>{const t=[...W5.branches].some(t=>null==t?void 0:t.contains(e.target));u.value&&!t&&(r("pointerDownOutside",e),r("interactOutside",e),await Ln(),e.defaultPrevented||r("dismiss"))},o),f=function(e,t,n=!0){var r,i;const o=null!=(i=null==(r=null==t?void 0:t.value)?void 0:r.ownerDocument)?i:null==globalThis?void 0:globalThis.document,a=nn(!1);return or(r=>{if(!r5||!ln(n))return;const i=async n=>{if(!(null==t?void 0:t.value))return;await Ln(),await Ln();const r=n.target;t.value&&r&&!H5(t.value,r)&&n.target&&!a.value&&Z4("dismissableLayer.focusOutside",e,{originalEvent:n})};o.addEventListener("focusin",i),r(()=>o.removeEventListener("focusin",i))}),{onFocusCapture:()=>{ln(n)&&(a.value=!0)},onBlurCapture:()=>{ln(n)&&(a.value=!1)}}}(e=>{[...W5.branches].some(t=>null==t?void 0:t.contains(e.target))||(r("focusOutside",e),r("interactOutside",e),e.defaultPrevented||r("dismiss"))},o);return d5("Escape",e=>{l.value===s.value.size-1&&(r("escapeKeyDown",e),e.defaultPrevented||r("dismiss"))}),or(e=>{o.value&&(n.disableOutsidePointerEvents&&(0===W5.layersWithOutsidePointerEventsDisabled.size&&(W5.originalBodyPointerEvents=a.value.body.style.pointerEvents,a.value.body.style.pointerEvents="none"),W5.layersWithOutsidePointerEventsDisabled.add(o.value)),s.value.add(o.value),e(()=>{n.disableOutsidePointerEvents&&1===W5.layersWithOutsidePointerEventsDisabled.size&&null!=W5.originalBodyPointerEvents&&(a.value.body.style.pointerEvents=W5.originalBodyPointerEvents)}))}),or(e=>{e(()=>{o.value&&(s.value.delete(o.value),W5.layersWithOutsidePointerEventsDisabled.delete(o.value))})}),(e,t)=>(ra(),ca(sn(V5),{ref:sn(i),"as-child":e.asChild,as:e.as,"data-dismissable-layer":"",style:Z({pointerEvents:c.value?u.value?"auto":"none":void 0}),onFocusCapture:sn(f).onFocusCapture,onBlurCapture:sn(f).onBlurCapture,onPointerdownCapture:sn(h).onPointerDownCapture},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}});const q5=function(e){let t,n=!1;const r=Ie(!0);return(...i)=>(n||(t=r.run(()=>e(...i)),n=!0),t)}(()=>nn([]));function X5(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const Y5="focusScope.autoFocusOnMount",K5="focusScope.autoFocusOnUnmount",$5={bubbles:!1,cancelable:!0};function Z5(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function J5(e,t){for(const n of e)if(!Q5(n,{upTo:t}))return n}function Q5(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==t&&e===t)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function e6(e,{select:t=!1}={}){if(e&&e.focus){const n=$4();e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}var t6=Ur({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:t}){const n=e,r=t,{currentRef:i,currentElement:o}=E5(),a=nn(null),s=function(){const e=q5();return{add(t){const n=e.value[0];t!==n&&(null==n||n.pause()),e.value=X5(e.value,t),e.value.unshift(t)},remove(t){var n;e.value=X5(e.value,t),null==(n=e.value[0])||n.resume()}}}(),l=jt({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});function c(e){if(!n.loop&&!n.trapped)return;if(l.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,r=$4();if(t&&r){const t=e.currentTarget,[i,o]=function(e){const t=Z5(e);return[J5(t,e),J5(t.reverse(),e)]}(t);i&&o?e.shiftKey||r!==o?e.shiftKey&&r===i&&(e.preventDefault(),n.loop&&e6(o,{select:!0})):(e.preventDefault(),n.loop&&e6(i,{select:!0})):r===t&&e.preventDefault()}}return or(e=>{if(!r5)return;const t=o.value;if(!n.trapped)return;function r(e){if(l.paused||!t)return;const n=e.target;t.contains(n)?a.value=n:e6(a.value,{select:!0})}function i(e){if(l.paused||!t)return;const n=e.relatedTarget;null!==n&&(t.contains(n)||e6(a.value,{select:!0}))}document.addEventListener("focusin",r),document.addEventListener("focusout",i);const s=new MutationObserver(function(e){t.contains(a.value)||e6(t)});t&&s.observe(t,{childList:!0,subtree:!0}),e(()=>{document.removeEventListener("focusin",r),document.removeEventListener("focusout",i),s.disconnect()})}),or(async e=>{const t=o.value;if(await Ln(),!t)return;s.add(l);const n=$4();if(!t.contains(n)){const e=new CustomEvent(Y5,$5);t.addEventListener(Y5,e=>r("mountAutoFocus",e)),t.dispatchEvent(e),e.defaultPrevented||(!function(e,{select:t=!1}={}){const n=$4();for(const r of e)if(e6(r,{select:t}),$4()!==n)return!0}((i=Z5(t),i.filter(e=>"A"!==e.tagName)),{select:!0}),$4()===n&&e6(t))}var i;e(()=>{t.removeEventListener(Y5,e=>r("mountAutoFocus",e));const e=new CustomEvent(K5,$5),i=e=>{r("unmountAutoFocus",e)};t.addEventListener(K5,i),t.dispatchEvent(e),setTimeout(()=>{e.defaultPrevented||e6(null!=n?n:document.body,{select:!0}),t.removeEventListener(K5,i),s.remove(l)},0)})}),(e,t)=>(ra(),ca(sn(V5),{ref_key:"currentRef",ref:i,tabindex:"-1","as-child":e.asChild,as:e.as,onKeydown:c},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["as-child","as"]))}}),n6=Ur({__name:"Teleport",props:{to:{type:null,required:!1,default:"body"},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=function(){const e=rn(!1),t=Ra();return t&&pi(()=>{e.value=!0},t),e}();return(e,n)=>sn(t)||e.forceMount?(ra(),ca(xr,{key:0,to:e.to,disabled:e.disabled,defer:e.defer},[Ii(e.$slots,"default")],8,["to","disabled","defer"])):ba("v-if",!0)}});const r6="data-reka-collection-item";function i6(e={}){const{key:t="",isProvider:n=!1}=e,r="".concat(t,"CollectionProvider");let i;if(n){const e=nn(new Map),t=nn();i={collectionRef:t,itemMap:e},er(r,i)}else i=tr(r);const o=Ur({name:"CollectionSlot",setup(e,{slots:t}){const{primitiveElement:n,currentElement:r}=j5();return lr(r,()=>{i.collectionRef.value=r.value}),()=>Xa(B5,{ref:n},t)}}),a=Ur({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(e,{slots:t,attrs:n}){const{primitiveElement:r,currentElement:o}=j5();return or(t=>{if(o.value){const n=Jt(o.value);i.itemMap.value.set(n,{ref:o.value,value:e.value}),t(()=>i.itemMap.value.delete(n))}}),()=>Xa(B5,{...n,[r6]:"",ref:r},t)}});return{getItems:(e=!1)=>{const t=i.collectionRef.value;if(!t)return[];const n=Array.from(t.querySelectorAll("[".concat(r6,"]"))),r=Array.from(i.itemMap.value.values()).sort((e,t)=>n.indexOf(e.ref)-n.indexOf(t.ref));return e?r:r.filter(e=>""!==e.ref.dataset.disabled)},reactiveItems:qa(()=>Array.from(i.itemMap.value.values())),itemMapSize:qa(()=>i.itemMap.value.size),CollectionSlot:o,CollectionItem:a}}const o6={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};var a6=Ur({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup:e=>(e,t)=>(ra(),ca(sn(V5),{as:e.as,"as-child":e.asChild,"aria-hidden":"focusable"===e.feature?"true":void 0,"data-hidden":"fully-hidden"===e.feature?"":void 0,tabindex:"fully-hidden"===e.feature?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}),s6=Ur({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,{primitiveElement:n,currentElement:r}=j5();return lr(qa(()=>{var e;return null!=(e=t.checked)?e:t.value}),(e,t)=>{if(!r.value)return;const n=r.value,i=window.HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(i,"value").set;if(o&&e!==t){const t=new Event("input",{bubbles:!0}),r=new Event("change",{bubbles:!0});o.call(n,e),n.dispatchEvent(t),n.dispatchEvent(r)}}),(e,r)=>(ra(),ca(a6,Ea({ref_key:"primitiveElement",ref:n},{...t,...e.$attrs},{as:"input"}),null,16))}}),l6=Ur({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const t=e,n=qa(()=>"object"==typeof t.value&&Array.isArray(t.value)&&0===t.value.length&&t.required),r=qa(()=>"string"==typeof t.value||"number"==typeof t.value||"boolean"==typeof t.value||null===t.value||void 0===t.value?[{name:t.name,value:t.value}]:"object"==typeof t.value&&Array.isArray(t.value)?t.value.flatMap((e,n)=>"object"==typeof e?Object.entries(e).map(([e,r])=>({name:"".concat(t.name,"[").concat(n,"][").concat(e,"]"),value:r})):{name:"".concat(t.name,"[").concat(n,"]"),value:e}):null===t.value||"object"!=typeof t.value||Array.isArray(t.value)?[]:Object.entries(t.value).map(([e,n])=>({name:"".concat(t.name,"[").concat(e,"]"),value:n})));return(e,i)=>(ra(),la(Zo,null,[ba(" We render single input if it's required "),n.value?(ra(),ca(s6,Ea({key:e.name},{...t,...e.$attrs},{name:e.name,value:e.value}),null,16,["name","value"])):(ra(!0),la(Zo,{key:1},Ri(r.value,n=>(ra(),ca(s6,Ea({key:n.name},{ref_for:!0},{...t,...e.$attrs},{name:n.name,value:n.value}),null,16,["name","value"]))),128))],2112))}});const[c6,u6]=K4("PopperRoot");var h6=Ur({inheritAttrs:!1,__name:"PopperRoot",setup(e){const t=nn();return u6({anchor:t,onAnchorChange:e=>t.value=e}),(e,t)=>Ii(e.$slots,"default")}}),f6=Ur({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,{forwardRef:n,currentElement:r}=E5(),i=c6();return ar(()=>{var e;i.onAnchorChange(null!=(e=t.reference)?e:r.value)}),(e,t)=>(ra(),ca(sn(V5),{ref:sn(n),as:e.as,"as-child":e.asChild},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["as","as-child"]))}});const d6={key:0,d:"M0 0L6 6L12 0"},p6={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var m6=Ur({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return E5(),(e,n)=>(ra(),ca(sn(V5),Ea(t,{width:e.width,height:e.height,viewBox:e.asChild?void 0:"0 0 12 6",preserveAspectRatio:e.asChild?void 0:"none"}),{default:Zn(()=>[Ii(e.$slots,"default",{},()=>[e.rounded?(ra(),la("path",p6)):(ra(),la("path",d6))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}});function g6(e){return null!==e}function v6(e){return{name:"transformOrigin",options:e,fn(t){var n,r,i,o,a;const{placement:s,rects:l,middlewareData:c}=t,u=0!==(null==(n=c.arrow)?void 0:n.centerOffset),h=u?0:e.arrowWidth,f=u?0:e.arrowHeight,[d,p]=y6(s),m={start:"0%",center:"50%",end:"100%"}[p],g=(null!=(i=null==(r=c.arrow)?void 0:r.x)?i:0)+h/2,v=(null!=(a=null==(o=c.arrow)?void 0:o.y)?a:0)+f/2;let y="",_="";return"bottom"===d?(y=u?m:"".concat(g,"px"),_="".concat(-f,"px")):"top"===d?(y=u?m:"".concat(g,"px"),_="".concat(l.floating.height+f,"px")):"right"===d?(y="".concat(-f,"px"),_=u?m:"".concat(v,"px")):"left"===d&&(y="".concat(l.floating.width+f,"px"),_=u?m:"".concat(v,"px")),{data:{x:y,y:_}}}}}function y6(e){const[t,n="center"]=e.split("-");return[t,n]}const _6=["top","right","bottom","left"],b6=Math.min,x6=Math.max,w6=Math.round,S6=Math.floor,E6=e=>({x:e,y:e}),T6={left:"right",right:"left",bottom:"top",top:"bottom"},A6={start:"end",end:"start"};function M6(e,t,n){return x6(e,b6(t,n))}function C6(e,t){return"function"==typeof e?e(t):e}function O6(e){return e.split("-")[0]}function R6(e){return e.split("-")[1]}function I6(e){return"x"===e?"y":"x"}function k6(e){return"y"===e?"height":"width"}const P6=new Set(["top","bottom"]);function D6(e){return P6.has(O6(e))?"y":"x"}function N6(e){return I6(D6(e))}function L6(e){return e.replace(/start|end/g,e=>A6[e])}const F6=["left","right"],U6=["right","left"],B6=["top","bottom"],z6=["bottom","top"];function V6(e,t,n,r){const i=R6(e);let o=function(e,t,n){switch(e){case"top":case"bottom":return n?t?U6:F6:t?F6:U6;case"left":case"right":return t?B6:z6;default:return[]}}(O6(e),"start"===n,r);return i&&(o=o.map(e=>e+"-"+i),t&&(o=o.concat(o.map(L6)))),o}function j6(e){return e.replace(/left|right|bottom|top/g,e=>T6[e])}function H6(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function W6(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function G6(e,t,n){let{reference:r,floating:i}=e;const o=D6(t),a=N6(t),s=k6(a),l=O6(t),c="y"===o,u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[s]/2-i[s]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(R6(t)){case"start":d[a]-=f*(n&&c?-1:1);break;case"end":d[a]+=f*(n&&c?-1:1)}return d}async function q6(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:a,elements:s,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=C6(t,e),p=H6(d),m=s[f?"floating"===h?"reference":"floating":h],g=W6(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(m)))||n?m:m.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),v="floating"===h?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,y=await(null==o.getOffsetParent?void 0:o.getOffsetParent(s.floating)),_=await(null==o.isElement?void 0:o.isElement(y))&&await(null==o.getScale?void 0:o.getScale(y))||{x:1,y:1},b=W6(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:v,offsetParent:y,strategy:l}):v);return{top:(g.top-b.top+p.top)/_.y,bottom:(b.bottom-g.bottom+p.bottom)/_.y,left:(g.left-b.left+p.left)/_.x,right:(b.right-g.right+p.right)/_.x}}function X6(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Y6(e){return _6.some(t=>e[t]>=0)}const K6=new Set(["left","top"]);function $6(){return"undefined"!=typeof window}function Z6(e){return e8(e)?(e.nodeName||"").toLowerCase():"#document"}function J6(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Q6(e){var t;return null==(t=(e8(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function e8(e){return!!$6()&&(e instanceof Node||e instanceof J6(e).Node)}function t8(e){return!!$6()&&(e instanceof Element||e instanceof J6(e).Element)}function n8(e){return!!$6()&&(e instanceof HTMLElement||e instanceof J6(e).HTMLElement)}function r8(e){return!(!$6()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof J6(e).ShadowRoot)}const i8=new Set(["inline","contents"]);function o8(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=v8(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!i8.has(i)}const a8=new Set(["table","td","th"]);function s8(e){return a8.has(Z6(e))}const l8=[":popover-open",":modal"];function c8(e){return l8.some(t=>{try{return e.matches(t)}catch(n){return!1}})}const u8=["transform","translate","scale","rotate","perspective"],h8=["transform","translate","scale","rotate","perspective","filter"],f8=["paint","layout","strict","content"];function d8(e){const t=p8(),n=t8(e)?v8(e):e;return u8.some(e=>!!n[e]&&"none"!==n[e])||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||h8.some(e=>(n.willChange||"").includes(e))||f8.some(e=>(n.contain||"").includes(e))}function p8(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}const m8=new Set(["html","body","#document"]);function g8(e){return m8.has(Z6(e))}function v8(e){return J6(e).getComputedStyle(e)}function y8(e){return t8(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function _8(e){if("html"===Z6(e))return e;const t=e.assignedSlot||e.parentNode||r8(e)&&e.host||Q6(e);return r8(t)?t.host:t}function b8(e){const t=_8(e);return g8(t)?e.ownerDocument?e.ownerDocument.body:e.body:n8(t)&&o8(t)?t:b8(t)}function x8(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=b8(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),a=J6(i);if(o){const e=w8(a);return t.concat(a,a.visualViewport||[],o8(i)?i:[],e&&n?x8(e):[])}return t.concat(i,x8(i,[],n))}function w8(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function S8(e){const t=v8(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=n8(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=w6(n)!==o||w6(r)!==a;return s&&(n=o,r=a),{width:n,height:r,$:s}}function E8(e){return t8(e)?e:e.contextElement}function T8(e){const t=E8(e);if(!n8(t))return E6(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=S8(t);let a=(o?w6(n.width):n.width)/r,s=(o?w6(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const A8=E6(0);function M8(e){const t=J6(e);return p8()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:A8}function C8(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=E8(e);let a=E6(1);t&&(r?t8(r)&&(a=T8(r)):a=T8(e));const s=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==J6(e))&&t}(o,n,r)?M8(o):E6(0);let l=(i.left+s.x)/a.x,c=(i.top+s.y)/a.y,u=i.width/a.x,h=i.height/a.y;if(o){const e=J6(o),t=r&&t8(r)?J6(r):r;let n=e,i=w8(n);for(;i&&r&&t!==n;){const e=T8(i),t=i.getBoundingClientRect(),r=v8(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,a=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=o,c+=a,n=J6(i),i=w8(n)}}return W6({width:u,height:h,x:l,y:c})}function O8(e,t){const n=y8(e).scrollLeft;return t?t.left+n:C8(Q6(e)).left+n}function R8(e,t){const n=e.getBoundingClientRect();return{x:n.left+t.scrollLeft-O8(e,n),y:n.top+t.scrollTop}}const I8=new Set(["absolute","fixed"]);function k8(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=J6(e),r=Q6(e),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;const e=p8();(!e||e&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}const c=O8(r);if(c<=0){const e=r.ownerDocument,t=e.body,n=getComputedStyle(t),i="CSS1Compat"===e.compatMode&&parseFloat(n.marginLeft)+parseFloat(n.marginRight)||0,a=Math.abs(r.clientWidth-t.clientWidth-i);a<=25&&(o-=a)}else c<=25&&(o+=c);return{width:o,height:a,x:s,y:l}}(e,n);else if("document"===t)r=function(e){const t=Q6(e),n=y8(e),r=e.ownerDocument.body,i=x6(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=x6(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+O8(e);const s=-n.scrollTop;return"rtl"===v8(r).direction&&(a+=x6(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:s}}(Q6(e));else if(t8(t))r=function(e,t){const n=C8(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=n8(e)?T8(e):E6(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=M8(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return W6(r)}function P8(e,t){const n=_8(e);return!(n===t||!t8(n)||g8(n))&&("fixed"===v8(n).position||P8(n,t))}function D8(e,t,n){const r=n8(t),i=Q6(t),o="fixed"===n,a=C8(e,!0,o,t);let s={scrollLeft:0,scrollTop:0};const l=E6(0);function c(){l.x=O8(i)}if(r||!r&&!o)if(("body"!==Z6(t)||o8(i))&&(s=y8(t)),r){const e=C8(t,!0,o,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=!i||r||o?E6(0):R8(i,s);return{x:a.left+s.scrollLeft-l.x-u.x,y:a.top+s.scrollTop-l.y-u.y,width:a.width,height:a.height}}function N8(e){return"static"===v8(e).position}function L8(e,t){if(!n8(e)||"fixed"===v8(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Q6(e)===n&&(n=n.ownerDocument.body),n}function F8(e,t){const n=J6(e);if(c8(e))return n;if(!n8(e)){let t=_8(e);for(;t&&!g8(t);){if(t8(t)&&!N8(t))return t;t=_8(t)}return n}let r=L8(e,t);for(;r&&s8(r)&&N8(r);)r=L8(r,t);return r&&g8(r)&&N8(r)&&!d8(r)?n:r||function(e){let t=_8(e);for(;n8(t)&&!g8(t);){if(d8(t))return t;if(c8(t))return null;t=_8(t)}return null}(e)||n}const U8={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,a=Q6(r),s=!!t&&c8(t.floating);if(r===a||s&&o)return n;let l={scrollLeft:0,scrollTop:0},c=E6(1);const u=E6(0),h=n8(r);if((h||!h&&!o)&&(("body"!==Z6(r)||o8(a))&&(l=y8(r)),n8(r))){const e=C8(r);c=T8(r),u.x=e.x+r.clientLeft,u.y=e.y+r.clientTop}const f=!a||h||o?E6(0):R8(a,l);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}},getDocumentElement:Q6,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?c8(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=x8(e,[],!1).filter(e=>t8(e)&&"body"!==Z6(e)),i=null;const o="fixed"===v8(e).position;let a=o?_8(e):e;for(;t8(a)&&!g8(a);){const t=v8(a),n=d8(a);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&I8.has(i.position)||o8(a)&&!n&&P8(e,a))?r=r.filter(e=>e!==a):i=t,a=_8(a)}return t.set(e,r),r}(t,this._c):[].concat(n),r],a=o[0],s=o.reduce((e,n)=>{const r=k8(t,n,i);return e.top=x6(r.top,e.top),e.right=b6(r.right,e.right),e.bottom=b6(r.bottom,e.bottom),e.left=x6(r.left,e.left),e},k8(t,a,i));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:F8,getElementRects:async function(e){const t=this.getOffsetParent||F8,n=this.getDimensions,r=await n(e.floating);return{reference:D8(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=S8(e);return{width:t,height:n}},getScale:T8,isElement:t8,isRTL:function(e){return"rtl"===v8(e).direction}};function B8(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function z8(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=E8(e),u=i||o?[...c?x8(c):[],...x8(t)]:[];u.forEach(e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)});const h=c&&s?function(e,t){let n,r=null;const i=Q6(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:h,width:f,height:d}=c;if(s||t(),!f||!d)return;const p={rootMargin:-S6(h)+"px "+-S6(i.clientWidth-(u+f))+"px "+-S6(i.clientHeight-(h+d))+"px "+-S6(u)+"px",threshold:x6(0,b6(1,l))||1};let m=!0;function g(t){const r=t[0].intersectionRatio;if(r!==l){if(!m)return a();r?a(!1,r):n=setTimeout(()=>{a(!1,1e-7)},1e3)}1!==r||B8(c,e.getBoundingClientRect())||a(),m=!1}try{r=new IntersectionObserver(g,{...p,root:i.ownerDocument})}catch(v){r=new IntersectionObserver(g,p)}r.observe(e)}(!0),o}(c,n):null;let f,d=-1,p=null;a&&(p=new ResizeObserver(e=>{let[r]=e;r&&r.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let m=l?C8(e):null;return l&&function t(){const r=C8(e);m&&!B8(m,r)&&n();m=r,f=requestAnimationFrame(t)}(),n(),()=>{var e;u.forEach(e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)}),null==h||h(),null==(e=p)||e.disconnect(),p=null,l&&cancelAnimationFrame(f)}}const V8=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:a,middlewareData:s}=t,l=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),a=O6(n),s=R6(n),l="y"===D6(n),c=K6.has(a)?-1:1,u=o&&l?-1:1,h=C6(t,e);let{mainAxis:f,crossAxis:d,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return s&&"number"==typeof p&&(d="end"===s?-1*p:p),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}(t,e);return a===(null==(n=s.offset)?void 0:n.placement)&&null!=(r=s.arrow)&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:a}}}}},j8=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:s={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...l}=C6(e,t),c={x:n,y:r},u=await q6(t,l),h=D6(O6(i)),f=I6(h);let d=c[f],p=c[h];if(o){const e="y"===f?"bottom":"right";d=M6(d+u["y"===f?"top":"left"],d,d-u[e])}if(a){const e="y"===h?"bottom":"right";p=M6(p+u["y"===h?"top":"left"],p,p-u[e])}const m=s.fn({...t,[f]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r,enabled:{[f]:o,[h]:a}}}}}},H8=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:s,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=C6(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const v=O6(i),y=D6(s),_=O6(s)===s,b=await(null==l.isRTL?void 0:l.isRTL(c.floating)),x=f||(_||!m?[j6(s)]:function(e){const t=j6(e);return[L6(e),t,L6(t)]}(s)),w="none"!==p;!f&&w&&x.push(...V6(s,m,p,b));const S=[s,...x],E=await q6(t,g),T=[];let A=(null==(r=o.flip)?void 0:r.overflows)||[];if(u&&T.push(E[v]),h){const e=function(e,t,n){void 0===n&&(n=!1);const r=R6(e),i=N6(e),o=k6(i);let a="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=j6(a)),[a,j6(a)]}(i,a,b);T.push(E[e[0]],E[e[1]])}if(A=[...A,{placement:i,overflows:T}],!T.every(e=>e<=0)){var M,C;const e=((null==(M=o.flip)?void 0:M.index)||0)+1,t=S[e];if(t){if(!("alignment"===h&&y!==D6(t))||A.every(e=>D6(e.placement)!==y||e.overflows[0]>0))return{data:{index:e,overflows:A},reset:{placement:t}}}let n=null==(C=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:C.placement;if(!n)switch(d){case"bestFit":{var O;const e=null==(O=A.filter(e=>{if(w){const t=D6(e.placement);return t===y||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:O[0];e&&(n=e);break}case"initialPlacement":n=s}if(i!==n)return{reset:{placement:n}}}return{}}}},W8=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:a,elements:s}=t,{apply:l=()=>{},...c}=C6(e,t),u=await q6(t,c),h=O6(i),f=R6(i),d="y"===D6(i),{width:p,height:m}=o.floating;let g,v;"top"===h||"bottom"===h?(g=h,v=f===(await(null==a.isRTL?void 0:a.isRTL(s.floating))?"start":"end")?"left":"right"):(v=h,g="end"===f?"top":"bottom");const y=m-u.top-u.bottom,_=p-u.left-u.right,b=b6(m-u[g],y),x=b6(p-u[v],_),w=!t.middlewareData.shift;let S=b,E=x;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(E=_),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(S=y),w&&!f){const e=x6(u.left,0),t=x6(u.right,0),n=x6(u.top,0),r=x6(u.bottom,0);d?E=p-2*(0!==e||0!==t?e+t:x6(u.left,u.right)):S=m-2*(0!==n||0!==r?n+r:x6(u.top,u.bottom))}await l({...t,availableWidth:E,availableHeight:S});const T=await a.getDimensions(s.floating);return p!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}},G8=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=C6(e,t);switch(r){case"referenceHidden":{const e=X6(await q6(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Y6(e)}}}case"escaped":{const e=X6(await q6(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Y6(e)}}}default:return{}}}}},q8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:a,elements:s,middlewareData:l}=t,{element:c,padding:u=0}=C6(e,t)||{};if(null==c)return{};const h=H6(u),f={x:n,y:r},d=N6(i),p=k6(d),m=await a.getDimensions(c),g="y"===d,v=g?"top":"left",y=g?"bottom":"right",_=g?"clientHeight":"clientWidth",b=o.reference[p]+o.reference[d]-f[d]-o.floating[p],x=f[d]-o.reference[d],w=await(null==a.getOffsetParent?void 0:a.getOffsetParent(c));let S=w?w[_]:0;S&&await(null==a.isElement?void 0:a.isElement(w))||(S=s.floating[_]||o.floating[p]);const E=b/2-x/2,T=S/2-m[p]/2-1,A=b6(h[v],T),M=b6(h[y],T),C=A,O=S-m[p]-M,R=S/2-m[p]/2+E,I=M6(C,R,O),k=!l.arrow&&null!=R6(i)&&R!==I&&o.reference[p]/2-(R<C?A:M)-m[p]/2<0,P=k?R<C?R-C:R-O:0;return{[d]:f[d]+P,data:{[d]:I,centerOffset:R-I-P,...k&&{alignmentOffset:P}},reset:k}}}),X8=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=t,{offset:s=0,mainAxis:l=!0,crossAxis:c=!0}=C6(e,t),u={x:n,y:r},h=D6(i),f=I6(h);let d=u[f],p=u[h];const m=C6(s,t),g="number"==typeof m?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const e="y"===f?"height":"width",t=o.reference[f]-o.floating[e]+g.mainAxis,n=o.reference[f]+o.reference[e]-g.mainAxis;d<t?d=t:d>n&&(d=n)}if(c){var v,y;const e="y"===f?"width":"height",t=K6.has(O6(i)),n=o.reference[h]-o.floating[e]+(t&&(null==(v=a.offset)?void 0:v[h])||0)+(t?0:g.crossAxis),r=o.reference[h]+o.reference[e]+(t?0:(null==(y=a.offset)?void 0:y[h])||0)-(t?g.crossAxis:0);p<n?p=n:p>r&&(p=r)}return{[f]:d,[h]:p}}}},Y8=(e,t,n)=>{const r=new Map,i={platform:U8,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,s=o.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:h}=G6(c,r,l),f=r,d={},p=0;for(let m=0;m<s.length;m++){const{name:n,fn:o}=s[m],{x:g,y:v,data:y,reset:_}=await o({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:c,platform:a,elements:{reference:e,floating:t}});u=null!=g?g:u,h=null!=v?v:h,d={...d,[n]:{...d[n],...y}},_&&p<=50&&(p++,"object"==typeof _&&(_.placement&&(f=_.placement),_.rects&&(c=!0===_.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):_.rects),({x:u,y:h}=G6(c,f,l))),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:d}})(e,t,{...i,platform:o})};function K8(e){if(function(e){return null!=e&&"object"==typeof e&&"$el"in e}(e)){const t=e.$el;return e8(t)&&"#comment"===Z6(t)?null:t}return e}function $8(e){return"function"==typeof e?e():sn(e)}function Z8(e){if("undefined"==typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J8(e,t){const n=Z8(e);return Math.round(t*n)/n}const[Q8,e9]=K4("PopperContent");var t9=Ur({inheritAttrs:!1,__name:"PopperContent",props:Vi({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1}),emits:["placed"],setup(e,{emit:t}){const n=e,r=t,i=c6(),{forwardRef:o,currentElement:a}=E5(),s=nn(),l=nn(),{width:c,height:u}=function(e){const t=nn(),n=qa(()=>{var e,n;return null!=(n=null==(e=t.value)?void 0:e.width)?n:0}),r=qa(()=>{var e,n;return null!=(n=null==(e=t.value)?void 0:e.height)?n:0});return pi(()=>{const n=h5(e);if(n){t.value={width:n.offsetWidth,height:n.offsetHeight};const e=new ResizeObserver(e=>{if(!Array.isArray(e))return;if(!e.length)return;const r=e[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=n.offsetWidth,o=n.offsetHeight;t.value={width:i,height:o}});return e.observe(n,{box:"border-box"}),()=>e.unobserve(n)}t.value=void 0}),{width:n,height:r}}(l),h=qa(()=>n.side+("center"!==n.align?"-".concat(n.align):"")),f=qa(()=>"number"==typeof n.collisionPadding?n.collisionPadding:{top:0,right:0,bottom:0,left:0,...n.collisionPadding}),d=qa(()=>Array.isArray(n.collisionBoundary)?n.collisionBoundary:[n.collisionBoundary]),p=qa(()=>({padding:f.value,boundary:d.value.filter(g6),altBoundary:d.value.length>0})),m=qa(()=>({mainAxis:n.sideFlip,crossAxis:n.alignFlip})),g=function(e,t){const n=rn();return or(()=>{n.value=e()},{...t,flush:"sync"}),Wt(n)}(()=>{return[V8({mainAxis:n.sideOffset+u.value,alignmentAxis:n.alignOffset}),n.prioritizePosition&&n.avoidCollisions&&H8({...p.value,...m.value}),n.avoidCollisions&&j8({mainAxis:!0,crossAxis:!!n.prioritizePosition,limiter:"partial"===n.sticky?X8():void 0,...p.value}),!n.prioritizePosition&&n.avoidCollisions&&H8({...p.value,...m.value}),W8({...p.value,apply:({elements:e,rects:t,availableWidth:n,availableHeight:r})=>{const{width:i,height:o}=t.reference,a=e.floating.style;a.setProperty("--reka-popper-available-width","".concat(n,"px")),a.setProperty("--reka-popper-available-height","".concat(r,"px")),a.setProperty("--reka-popper-anchor-width","".concat(i,"px")),a.setProperty("--reka-popper-anchor-height","".concat(o,"px"))}}),l.value&&(e={element:l.value,padding:n.arrowPadding},{name:"arrow",options:e,fn(t){const n=K8($8(e.element));return null==n?{}:q8({element:n,padding:e.padding}).fn(t)}}),v6({arrowWidth:c.value,arrowHeight:u.value}),n.hideWhenDetached&&G8({strategy:"referenceHidden",...p.value})];var e}),v=qa(()=>{var e;return null!=(e=n.reference)?e:i.anchor.value}),{floatingStyles:y,placement:_,isPositioned:b,middlewareData:x}=function(e,t,n){void 0===n&&(n={});const r=n.whileElementsMounted,i=qa(()=>{var e;return null==(e=$8(n.open))||e}),o=qa(()=>$8(n.middleware)),a=qa(()=>{var e;return null!=(e=$8(n.placement))?e:"bottom"}),s=qa(()=>{var e;return null!=(e=$8(n.strategy))?e:"absolute"}),l=qa(()=>{var e;return null==(e=$8(n.transform))||e}),c=qa(()=>K8(e.value)),u=qa(()=>K8(t.value)),h=nn(0),f=nn(0),d=nn(s.value),p=nn(a.value),m=rn({}),g=nn(!1),v=qa(()=>{const e={position:d.value,left:"0",top:"0"};if(!u.value)return e;const t=J8(u.value,h.value),n=J8(u.value,f.value);return l.value?{...e,transform:"translate("+t+"px, "+n+"px)",...Z8(u.value)>=1.5&&{willChange:"transform"}}:{position:d.value,left:t+"px",top:n+"px"}});let y;function _(){if(null==c.value||null==u.value)return;const e=i.value;Y8(c.value,u.value,{middleware:o.value,placement:a.value,strategy:s.value}).then(t=>{h.value=t.x,f.value=t.y,d.value=t.strategy,p.value=t.placement,m.value=t.middlewareData,g.value=!1!==e})}function b(){"function"==typeof y&&(y(),y=void 0)}return lr([o,a,s,i],_,{flush:"sync"}),lr([c,u],function(){b(),void 0!==r?null==c.value||null==u.value||(y=r(c.value,u.value,_)):_()},{flush:"sync"}),lr(i,function(){i.value||(g.value=!1)},{flush:"sync"}),ke()&&Pe(b),{x:Gt(h),y:Gt(f),strategy:Gt(d),placement:Gt(p),middlewareData:Gt(m),isPositioned:Gt(g),floatingStyles:v,update:_}}(v,s,{strategy:n.positionStrategy,placement:h,whileElementsMounted:(...e)=>z8(...e,{layoutShift:!n.disableUpdateOnLayoutShift,animationFrame:"always"===n.updatePositionStrategy}),middleware:g}),w=qa(()=>y6(_.value)[0]),S=qa(()=>y6(_.value)[1]);ar(()=>{b.value&&r("placed")});const E=qa(()=>{var e;return 0!==(null==(e=x.value.arrow)?void 0:e.centerOffset)}),T=nn("");or(()=>{a.value&&(T.value=window.getComputedStyle(a.value).zIndex)});const A=qa(()=>{var e,t;return null!=(t=null==(e=x.value.arrow)?void 0:e.x)?t:0}),M=qa(()=>{var e,t;return null!=(t=null==(e=x.value.arrow)?void 0:e.y)?t:0});return e9({placedSide:w,onArrowChange:e=>l.value=e,arrowX:A,arrowY:M,shouldHideArrow:E}),(e,t)=>{var r,i,a;return ra(),la("div",{ref_key:"floatingRef",ref:s,"data-reka-popper-content-wrapper":"",style:Z({...sn(y),transform:sn(b)?sn(y).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:T.value,"--reka-popper-transform-origin":[null==(r=sn(x).transformOrigin)?void 0:r.x,null==(i=sn(x).transformOrigin)?void 0:i.y].join(" "),...(null==(a=sn(x).hide)?void 0:a.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[ma(sn(V5),Ea({ref:sn(o)},e.$attrs,{"as-child":n.asChild,as:e.as,"data-side":w.value,"data-align":S.value,style:{animation:sn(b)?void 0:"none"}}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}});const n9={top:"bottom",right:"left",bottom:"top",left:"right"};var r9=Ur({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:t}=E5(),n=Q8(),r=qa(()=>n9[n.placedSide.value]);return(e,i)=>{var o,a,s,l;return ra(),la("span",{ref:e=>{sn(n).onArrowChange(e)},style:Z({position:"absolute",left:(null==(o=sn(n).arrowX)?void 0:o.value)?"".concat(null==(a=sn(n).arrowX)?void 0:a.value,"px"):void 0,top:(null==(s=sn(n).arrowY)?void 0:s.value)?"".concat(null==(l=sn(n).arrowY)?void 0:l.value,"px"):void 0,[r.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[sn(n).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[sn(n).placedSide.value],visibility:sn(n).shouldHideArrow.value?"hidden":void 0})},[ma(m6,Ea(e.$attrs,{ref:sn(t),style:{display:"block"},as:e.as,"as-child":e.asChild,rounded:e.rounded,width:e.width,height:e.height}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4)}}});function i9(e,t,n){return void 0!==e&&void 0!==t&&("string"==typeof e?e===t:"function"==typeof n?n(e,t):"string"==typeof n?(null==e?void 0:e[n])===(null==t?void 0:t[n]):Y4(e,t))}const[o9,a9]=K4("ListboxRoot");var s9=Ur({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:t,emit:n}){var r;const i=e,o=n,{multiple:a,highlightOnHover:s,orientation:l,disabled:c,selectionBehavior:u,dir:h}=dn(i),{getItems:f}=i6({isProvider:!0}),{handleTypeaheadSearch:d}=L5(),{primitiveElement:p,currentElement:m}=j5(),g={ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"},v=function(e){const t=Q4({dir:nn("ltr")});return qa(()=>{var n;return(null==e?void 0:e.value)||(null==(n=t.dir)?void 0:n.value)||"ltr"})}(h),y=(_=m,qa(()=>{var e;return!ln(_)||Boolean(null==(e=h5(_))?void 0:e.closest("form"))}));var _;const b=nn(),x=nn(!1),w=nn(!0),S=p5(i,"modelValue",o,{defaultValue:null!=(r=i.defaultValue)?r:a.value?[]:void 0,passive:void 0===i.modelValue,deep:!0});const E=nn(null),T=nn(null),A=nn(!1),M=nn(!1),C=t5(),O=t5(),R=t5();function I(){return f().map(e=>e.ref).filter(e=>""!==e.dataset.disabled)}function k(e,t=!0){if(!e)return;E.value=e,w.value&&E.value.focus(),t&&E.value.scrollIntoView({block:"nearest"});const n=f().find(t=>t.ref===e);o("highlight",n)}function P(){Ln(()=>{N(new KeyboardEvent("keydown",{key:"PageUp"}))})}function D(e){const t=E.value;(null==t?void 0:t.isConnected)&&(T.value=t),E.value=null,o("leave",e)}function N(e){const t=function(e,t,n){const r=function(e,t){return"rtl"!==t?e:"ArrowLeft"===e?"ArrowRight":"ArrowRight"===e?"ArrowLeft":e}(e.key,n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r)||"horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return o6[r]}(e,l.value,v.value);if(!t)return;let n=I();if(E.value){if("last"===t)n.reverse();else if("prev"===t||"next"===t){"prev"===t&&n.reverse();const e=n.indexOf(E.value);n=n.slice(e+1)}!function(e,t){var n;if(A.value||"replace"!==i.selectionBehavior||!a.value||!Array.isArray(S.value))return;const r=e.altKey||e.ctrlKey||e.metaKey;if(r&&!e.shiftKey)return;if(e.shiftKey){const r=f().filter(e=>""!==e.ref.dataset.disabled);let i=null==(n=r.find(e=>e.ref===t))?void 0:n.value;if(e.key===g.END?i=r[r.length-1].value:e.key===g.HOME&&(i=r[0].value),!i||!b.value)return;const o=function(e,t,n){const r=e.findIndex(e=>Y4(e,t)),i=e.findIndex(e=>Y4(e,n));if(-1===r||-1===i)return[];const[o,a]=[r,i].sort((e,t)=>e-t);return e.slice(o,a+1)}(r.map(e=>e.value),b.value,i);S.value=o}}(e,n[0])}if(n.length){k(n[E.value||"prev"!==t?0:n.length-1])}return A.value?O.trigger(e):void 0}async function L(e){if(await Ln(),A.value)C.trigger(e);else{const e=I(),t=e.find(e=>"checked"===e.dataset.state);t?k(t):e.length&&k(e[0])}}return lr(S,()=>{x.value||Ln(()=>{L()})},{immediate:!0,deep:!0}),t({highlightedElement:E,highlightItem:function(e){if(A.value)R.trigger(e);else{const t=f().find(t=>i9(t.value,e,i.by));t&&(E.value=t.ref,k(t.ref))}},highlightFirstItem:P,highlightSelected:L,getItems:f}),a9({modelValue:S,onValueChange:function(e){if(x.value=!0,i.multiple){const t=Array.isArray(S.value)?[...S.value]:[],n=t.findIndex(t=>i9(t,e,i.by));"toggle"===i.selectionBehavior?(-1===n?t.push(e):t.splice(n,1),S.value=t):(S.value=[e],b.value=e)}else"toggle"===i.selectionBehavior&&i9(S.value,e,i.by)?S.value=void 0:S.value=e;setTimeout(()=>{x.value=!1},1)},multiple:a,orientation:l,dir:v,disabled:c,highlightOnHover:s,highlightedElement:E,isVirtual:A,virtualFocusHook:C,virtualKeydownHook:O,virtualHighlightHook:R,by:i.by,firstValue:b,selectionBehavior:u,focusable:w,onLeave:D,onEnter:function(e){var t,n;const r=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if(null==(t=e.currentTarget)||t.dispatchEvent(r),o("entryFocus",r),!r.defaultPrevented)if(T.value)k(T.value);else{k(null==(n=I())?void 0:n[0])}},changeHighlight:k,onKeydownEnter:function(e){E.value&&E.value.isConnected&&(e.preventDefault(),e.stopPropagation(),M.value||E.value.click())},onKeydownNavigation:N,onKeydownTypeAhead:function(e){if(w.value){if(x.value=!0,A.value)O.trigger(e);else{const t=e.altKey||e.ctrlKey||e.metaKey;if(t&&"a"===e.key&&a.value){const t=f(),n=t.map(e=>e.value);S.value=[...n],e.preventDefault(),k(t[t.length-1].ref)}else if(!t){const t=d(e.key,f());t&&k(t)}}setTimeout(()=>{x.value=!1},1)}},onCompositionStart:function(){M.value=!0},onCompositionEnd:function(){Ln(()=>{M.value=!1})},highlightFirstItem:P}),(e,t)=>(ra(),ca(sn(V5),{ref_key:"primitiveElement",ref:p,as:e.as,"as-child":e.asChild,dir:sn(v),"data-disabled":sn(c)?"":void 0,onPointerleave:D,onFocusout:t[0]||(t[0]=async e=>{const t=e.relatedTarget||e.target;await Ln(),E.value&&sn(m)&&!sn(m).contains(t)&&D(e)})},{default:Zn(()=>[Ii(e.$slots,"default",{modelValue:sn(S)}),sn(y)&&e.name?(ra(),ca(sn(l6),{key:0,name:e.name,value:sn(S),disabled:sn(c),required:e.required},null,8,["name","value","disabled","required"])):ba("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),l9=Ur({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:t}=i6(),n=o9(),r=l5(!1,10);return(e,i)=>(ra(),ca(sn(t),null,{default:Zn(()=>[ma(sn(V5),{role:"listbox",as:e.as,"as-child":e.asChild,tabindex:sn(n).focusable.value?sn(n).highlightedElement.value?"-1":"0":"-1","aria-orientation":sn(n).orientation.value,"aria-multiselectable":!!sn(n).multiple.value,"data-orientation":sn(n).orientation.value,onMousedown:i[0]||(i[0]=kl(e=>r.value=!0,["left"])),onFocus:i[1]||(i[1]=e=>{sn(r)||sn(n).onEnter(e)}),onKeydown:[i[2]||(i[2]=Dl(e=>{("vertical"!==sn(n).orientation.value||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)&&("horizontal"!==sn(n).orientation.value||"ArrowUp"!==e.key&&"ArrowDown"!==e.key)&&(e.preventDefault(),sn(n).focusable.value&&sn(n).onKeydownNavigation(e))},["down","up","left","right","home","end"])),Dl(sn(n).onKeydownEnter,["enter"]),sn(n).onKeydownTypeAhead]},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),c9=Ur({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,r=p5(n,"modelValue",t,{defaultValue:"",passive:void 0===n.modelValue}),i=o9(),{primitiveElement:o,currentElement:a}=j5(),s=qa(()=>n.disabled||i.disabled.value||!1),l=nn();return sr(()=>{var e;return l.value=null==(e=i.highlightedElement.value)?void 0:e.id}),pi(()=>{i.focusable.value=!1,setTimeout(()=>{var e;n.autoFocus&&(null==(e=a.value)||e.focus())},1)}),yi(()=>{i.focusable.value=!0}),(e,t)=>{var n;return ra(),ca(sn(V5),{ref_key:"primitiveElement",ref:o,as:e.as,"as-child":e.asChild,value:sn(r),disabled:s.value?"":void 0,"data-disabled":s.value?"":void 0,"aria-disabled":null!=(n=s.value)?n:void 0,"aria-activedescendant":l.value,type:"text",onKeydown:[Dl(kl(sn(i).onKeydownNavigation,["prevent"]),["down","up","home","end"]),Dl(sn(i).onKeydownEnter,["enter"])],onInput:t[0]||(t[0]=e=>{r.value=e.target.value,sn(i).highlightFirstItem()}),onCompositionstart:sn(i).onCompositionStart,onCompositionend:sn(i).onCompositionEnd},{default:Zn(()=>[Ii(e.$slots,"default",{modelValue:sn(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"])}}});const[u9,h9]=K4("ListboxGroup");var f9=Ur({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const t=e,n=D5(0,"reka-listbox-group");return h9({id:n}),(e,r)=>(ra(),ca(sn(V5),Ea({role:"group"},t,{"aria-labelledby":sn(n)}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),d9=Ur({__name:"ListboxGroupLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const t=e,n=u9({id:""});return(e,r)=>(ra(),ca(sn(V5),Ea(t,{id:sn(n).id}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["id"]))}});const[p9,m9]=K4("ListboxItem");var g9=Ur({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:t}){const n=e,r=t,i=D5(0,"reka-listbox-item"),{CollectionItem:o}=i6(),{forwardRef:a,currentElement:s}=E5(),l=o9(),c=qa(()=>s.value===l.highlightedElement.value),u=qa(()=>{return e=l.modelValue.value,t=n.value,r=l.by,void 0!==e&&(Array.isArray(e)?e.some(e=>i9(e,t,r)):i9(e,t,r));var e,t,r}),h=qa(()=>l.disabled.value||n.disabled);async function f(e){r("select",e),(null==e?void 0:e.defaultPrevented)||!h.value&&e&&(l.onValueChange(n.value),l.changeHighlight(s.value))}function d(e){Z4("listbox.select",f,{originalEvent:e,value:n.value})}return m9({isSelected:u}),(e,t)=>(ra(),ca(sn(o),{value:e.value},{default:Zn(()=>[Ya([c.value,u.value],()=>ma(sn(V5),Ea({id:sn(i)},e.$attrs,{ref:sn(a),role:"option",tabindex:sn(l).focusable.value?c.value?"0":"-1":-1,"aria-selected":u.value,as:e.as,"as-child":e.asChild,disabled:h.value?"":void 0,"data-disabled":h.value?"":void 0,"data-highlighted":c.value?"":void 0,"data-state":u.value?"checked":"unchecked",onClick:d,onKeydown:Dl(kl(d,["prevent"]),["space"]),onPointermove:t[0]||(t[0]=()=>{sn(l).highlightedElement.value!==sn(s)&&sn(l).highlightOnHover.value&&!sn(l).focusable.value&&sn(l).changeHighlight(sn(s),!1)})}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),t,1)]),_:3},8,["value"]))}});const[v9,y9]=K4("PopoverRoot");var _9=Ur({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},modal:{type:Boolean,required:!1,default:!1}},emits:["update:open"],setup(e,{emit:t}){const n=e,r=t,{modal:i}=dn(n),o=p5(n,"open",r,{defaultValue:n.defaultOpen,passive:void 0===n.open}),a=nn(),s=nn(!1);return y9({contentId:"",triggerId:"",modal:i,open:o,onOpenChange:e=>{o.value=e},onOpenToggle:()=>{o.value=!o.value},triggerElement:a,hasCustomAnchor:s}),(e,t)=>(ra(),ca(sn(h6),null,{default:Zn(()=>[Ii(e.$slots,"default",{open:sn(o),close:()=>o.value=!1})]),_:3}))}}),b9=Ur({__name:"PopoverArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const t=e;return E5(),(e,n)=>(ra(),ca(sn(r9),re(ga(t)),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16))}}),x9=Ur({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=t,r=T5(function(e,...t){const n=t.flat(),r=n[0];return n5(()=>"function"==typeof r?Object.fromEntries(Object.entries(dn(e)).filter(([e,t])=>!r(ln(t),e))):Object.fromEntries(Object.entries(dn(e)).filter(e=>!n.includes(e[0]))))}(e,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=E5(),o=v9();return or(e=>{var t,n;if(!r5)return;const r=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",null!=(t=r[0])?t:S5()),document.body.insertAdjacentElement("beforeend",null!=(n=r[1])?n:S5()),w5++,e(()=>{1===w5&&document.querySelectorAll("[data-reka-focus-guard]").forEach(e=>e.remove()),w5--})}),(e,t)=>(ra(),ca(sn(t6),{"as-child":"",loop:"",trapped:e.trapFocus,onMountAutoFocus:t[5]||(t[5]=e=>n("openAutoFocus",e)),onUnmountAutoFocus:t[6]||(t[6]=e=>n("closeAutoFocus",e))},{default:Zn(()=>[ma(sn(G5),{"as-child":"","disable-outside-pointer-events":e.disableOutsidePointerEvents,onPointerDownOutside:t[0]||(t[0]=e=>n("pointerDownOutside",e)),onInteractOutside:t[1]||(t[1]=e=>n("interactOutside",e)),onEscapeKeyDown:t[2]||(t[2]=e=>n("escapeKeyDown",e)),onFocusOutside:t[3]||(t[3]=e=>n("focusOutside",e)),onDismiss:t[4]||(t[4]=e=>sn(o).onOpenChange(!1))},{default:Zn(()=>[ma(sn(t9),Ea(sn(r),{id:sn(o).contentId,ref:sn(i),"data-state":sn(o).open.value?"open":"closed","aria-labelledby":sn(o).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),w9=Ur({__name:"PopoverContentModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=v9(),o=nn(!1);!function(e){const t=Math.random().toString(36).substring(2,7),n=_5();n.value.set(t,e);const r=qa({get:()=>{var e;return null!=(e=n.value.get(t))&&e},set:e=>n.value.set(t,e)});c5(()=>{n.value.delete(t)})}(!0);const a=A5(n,r),{forwardRef:s,currentElement:l}=E5();return function(e){let t;lr(()=>h5(e),e=>{e?t=P5(e):t&&t()}),yi(()=>{t&&t()})}(l),(e,t)=>(ra(),ca(x9,Ea(sn(a),{ref:sn(s),"trap-focus":sn(i).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:t[0]||(t[0]=kl(e=>{var t;r("closeAutoFocus",e),o.value||null==(t=sn(i).triggerElement.value)||t.focus()},["prevent"])),onPointerDownOutside:t[1]||(t[1]=e=>{r("pointerDownOutside",e);const t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey,i=2===t.button||n;o.value=i}),onFocusOutside:t[2]||(t[2]=kl(()=>{},["prevent"]))}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16,["trap-focus"]))}}),S9=Ur({__name:"PopoverContentNonModal",props:{side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=v9(),o=nn(!1),a=nn(!1),s=A5(n,r);return(e,t)=>(ra(),ca(x9,Ea(sn(s),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:t[0]||(t[0]=e=>{var t;r("closeAutoFocus",e),e.defaultPrevented||(o.value||null==(t=sn(i).triggerElement.value)||t.focus(),e.preventDefault()),o.value=!1,a.value=!1}),onInteractOutside:t[1]||(t[1]=async e=>{var t;r("interactOutside",e),e.defaultPrevented||(o.value=!0,"pointerdown"===e.detail.originalEvent.type&&(a.value=!0));const n=e.target;(null==(t=sn(i).triggerElement.value)?void 0:t.contains(n))&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&a.value&&e.preventDefault()})}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16))}}),E9=Ur({__name:"PopoverContent",props:{forceMount:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:t}){const n=e,r=t,i=v9(),o=A5(n,r),{forwardRef:a}=E5();return i.contentId||(i.contentId=D5(0,"reka-popover-content")),(e,t)=>(ra(),ca(sn(U5),{present:e.forceMount||sn(i).open.value},{default:Zn(()=>[sn(i).modal.value?(ra(),ca(w9,Ea({key:0},sn(o),{ref:sn(a)}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16)):(ra(),ca(S9,Ea({key:1},sn(o),{ref:sn(a)}),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),T9=Ur({__name:"PopoverPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const t=e;return(e,n)=>(ra(),ca(sn(n6),re(ga(t)),{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},16))}}),A9=Ur({__name:"PopoverTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const t=e,n=v9(),{forwardRef:r,currentElement:i}=E5();return n.triggerId||(n.triggerId=D5(0,"reka-popover-trigger")),pi(()=>{n.triggerElement.value=i.value}),(e,i)=>(ra(),ca(Ai(sn(n).hasCustomAnchor.value?sn(V5):sn(f6)),{"as-child":""},{default:Zn(()=>[ma(sn(V5),{id:sn(n).triggerId,ref:sn(r),type:"button"===e.as?"button":void 0,"aria-haspopup":"dialog","aria-expanded":sn(n).open.value,"aria-controls":sn(n).contentId,"data-state":sn(n).open.value?"open":"closed",as:e.as,"as-child":t.asChild,onClick:sn(n).onOpenToggle},{default:Zn(()=>[Ii(e.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}});function M9(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=M9(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function C9(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=M9(e))&&(r&&(r+=" "),r+=t);return r}const O9=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,R9=C9,I9=(e,t)=>n=>{var r;if(null==(null==t?void 0:t.variants))return R9(e,null==n?void 0:n.class,null==n?void 0:n.className);const{variants:i,defaultVariants:o}=t,a=Object.keys(i).map(e=>{const t=null==n?void 0:n[e],r=null==o?void 0:o[e];if(null===t)return null;const a=O9(t)||O9(r);return i[e][a]}),s=n&&Object.entries(n).reduce((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e},{}),l=null==t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every(e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...s}[t]):{...o,...s}[t]===n})?[...e,n,r]:e},[]);return R9(e,a,l,null==n?void 0:n.class,null==n?void 0:n.className)},k9=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),P9="-",D9=[],N9=e=>{const t=U9(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]"))return F9(e);const n=e.split(P9),r=""===n[0]&&n.length>1?1:0;return L9(n,r,t)},getConflictingClassGroupIds:(e,t)=>{if(t){const t=r[e],i=n[e];return t?i?((e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n})(i,t):t:i||D9}return n[e]||D9}}},L9=(e,t,n)=>{if(0===e.length-t)return n.classGroupId;const r=e[t],i=n.nextPart.get(r);if(i){const n=L9(e,t+1,i);if(n)return n}const o=n.validators;if(null===o)return;const a=0===t?e.join(P9):e.slice(t).join(P9),s=o.length;for(let l=0;l<s;l++){const e=o[l];if(e.validator(a))return e.classGroupId}},F9=e=>-1===e.slice(1,-1).indexOf(":")?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?"arbitrary.."+r:void 0})(),U9=e=>{const{theme:t,classGroups:n}=e;return B9(n,t)},B9=(e,t)=>{const n=k9();for(const r in e){const i=e[r];z9(i,n,r,t)}return n},z9=(e,t,n,r)=>{const i=e.length;for(let o=0;o<i;o++){const i=e[o];V9(i,t,n,r)}},V9=(e,t,n,r)=>{"string"!=typeof e?"function"!=typeof e?W9(e,t,n,r):H9(e,t,n,r):j9(e,t,n)},j9=(e,t,n)=>{(""===e?t:G9(t,e)).classGroupId=n},H9=(e,t,n,r)=>{q9(e)?z9(e(r),t,n,r):(null===t.validators&&(t.validators=[]),t.validators.push(((e,t)=>({classGroupId:e,validator:t}))(n,e)))},W9=(e,t,n,r)=>{const i=Object.entries(e),o=i.length;for(let a=0;a<o;a++){const[e,o]=i[a];z9(o,G9(t,e),n,r)}},G9=(e,t)=>{let n=e;const r=t.split(P9),i=r.length;for(let o=0;o<i;o++){const e=r[o];let t=n.nextPart.get(e);t||(t=k9(),n.nextPart.set(e,t)),n=t}return n},q9=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,X9=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const i=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(e){let t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(i(e,t),t):void 0},set(e,t){e in n?n[e]=t:i(e,t)}}},Y9=[],K9=(e,t,n,r,i)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),$9=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=e=>{const t=[];let n,r=0,i=0,o=0;const a=e.length;for(let u=0;u<a;u++){const a=e[u];if(0===r&&0===i){if(":"===a){t.push(e.slice(o,u)),o=u+1;continue}if("/"===a){n=u;continue}}"["===a?r++:"]"===a?r--:"("===a?i++:")"===a&&i--}const s=0===t.length?e:e.slice(o);let l=s,c=!1;s.endsWith("!")?(l=s.slice(0,-1),c=!0):s.startsWith("!")&&(l=s.slice(1),c=!0);return K9(t,c,l,n&&n>o?n-o:void 0)};if(t){const e=t+":",n=r;r=t=>t.startsWith(e)?n(t.slice(e.length)):K9(Y9,!1,t,void 0,!0)}if(n){const e=r;r=t=>n({className:t,parseClassName:e})}return r},Z9=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((e,n)=>{t.set(e,1e6+n)}),e=>{const n=[];let r=[];for(let i=0;i<e.length;i++){const o=e[i],a="["===o[0],s=t.has(o);a||s?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(o)):r.push(o)}return r.length>0&&(r.sort(),n.push(...r)),n}},J9=/\s+/,Q9=e=>{if("string"==typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Q9(e[r]))&&(n&&(n+=" "),n+=t);return n},e7=[],t7=e=>{const t=t=>t[e]||e7;return t.isThemeGetter=!0,t},n7=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,r7=/^\((?:(\w[\w-]*):)?(.+)\)$/i,i7=/^\d+\/\d+$/,o7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,s7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,u7=e=>i7.test(e),h7=e=>!!e&&!Number.isNaN(Number(e)),f7=e=>!!e&&Number.isInteger(Number(e)),d7=e=>e.endsWith("%")&&h7(e.slice(0,-1)),p7=e=>o7.test(e),m7=()=>!0,g7=e=>a7.test(e)&&!s7.test(e),v7=()=>!1,y7=e=>l7.test(e),_7=e=>c7.test(e),b7=e=>!w7(e)&&!C7(e),x7=e=>N7(e,B7,v7),w7=e=>n7.test(e),S7=e=>N7(e,z7,g7),E7=e=>N7(e,V7,h7),T7=e=>N7(e,F7,v7),A7=e=>N7(e,U7,_7),M7=e=>N7(e,H7,y7),C7=e=>r7.test(e),O7=e=>L7(e,z7),R7=e=>L7(e,j7),I7=e=>L7(e,F7),k7=e=>L7(e,B7),P7=e=>L7(e,U7),D7=e=>L7(e,H7,!0),N7=(e,t,n)=>{const r=n7.exec(e);return!!r&&(r[1]?t(r[1]):n(r[2]))},L7=(e,t,n=!1)=>{const r=r7.exec(e);return!!r&&(r[1]?t(r[1]):n)},F7=e=>"position"===e||"percentage"===e,U7=e=>"image"===e||"url"===e,B7=e=>"length"===e||"size"===e||"bg-size"===e,z7=e=>"length"===e,V7=e=>"number"===e,j7=e=>"family-name"===e,H7=e=>"shadow"===e,W7=((e,...t)=>{let n,r,i,o;const a=e=>{const t=r(e);if(t)return t;const o=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,a=[],s=e.trim().split(J9);let l="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{isExternal:t,modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}=n(e);if(t){l=e+(l.length>0?" "+l:l);continue}let p=!!d,m=r(p?f.substring(0,d):f);if(!m){if(!p){l=e+(l.length>0?" "+l:l);continue}if(m=r(f),!m){l=e+(l.length>0?" "+l:l);continue}p=!1}const g=0===u.length?"":1===u.length?u[0]:o(u).join(":"),v=h?g+"!":g,y=v+m;if(a.indexOf(y)>-1)continue;a.push(y);const _=i(m,p);for(let n=0;n<_.length;++n){const e=_[n];a.push(v+e)}l=e+(l.length>0?" "+l:l)}return l})(e,n);return i(e,o),o};return o=s=>{const l=t.reduce((e,t)=>t(e),e());return n=(e=>({cache:X9(e.cacheSize),parseClassName:$9(e),sortModifiers:Z9(e),...N9(e)}))(l),r=n.cache.get,i=n.cache.set,o=a,a(s)},(...e)=>o(((...e)=>{let t,n,r=0,i="";for(;r<e.length;)(t=e[r++])&&(n=Q9(t))&&(i&&(i+=" "),i+=n);return i})(...e))})(()=>{const e=t7("color"),t=t7("font"),n=t7("text"),r=t7("font-weight"),i=t7("tracking"),o=t7("leading"),a=t7("breakpoint"),s=t7("container"),l=t7("spacing"),c=t7("radius"),u=t7("shadow"),h=t7("inset-shadow"),f=t7("text-shadow"),d=t7("drop-shadow"),p=t7("blur"),m=t7("perspective"),g=t7("aspect"),v=t7("ease"),y=t7("animate"),_=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",C7,w7],b=()=>[C7,w7,l],x=()=>[u7,"full","auto",...b()],w=()=>[f7,"none","subgrid",C7,w7],S=()=>["auto",{span:["full",f7,C7,w7]},f7,C7,w7],E=()=>[f7,"auto",C7,w7],T=()=>["auto","min","max","fr",C7,w7],A=()=>["auto",...b()],M=()=>[u7,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],C=()=>[e,C7,w7],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom",I7,T7,{position:[C7,w7]}],R=()=>["auto","cover","contain",k7,x7,{size:[C7,w7]}],I=()=>[d7,O7,S7],k=()=>["","none","full",c,C7,w7],P=()=>["",h7,O7,S7],D=()=>[h7,d7,I7,T7],N=()=>["","none",p,C7,w7],L=()=>["none",h7,C7,w7],F=()=>["none",h7,C7,w7],U=()=>[h7,C7,w7],B=()=>[u7,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[p7],breakpoint:[p7],color:[m7],container:[p7],"drop-shadow":[p7],ease:["in","out","in-out"],font:[b7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[p7],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[p7],shadow:[p7],spacing:["px",h7],text:[p7],"text-shadow":[p7],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",u7,w7,C7,g]}],container:["container"],columns:[{columns:[h7,w7,C7,s]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:x()}],"inset-x":[{"inset-x":x()}],"inset-y":[{"inset-y":x()}],start:[{start:x()}],end:[{end:x()}],top:[{top:x()}],right:[{right:x()}],bottom:[{bottom:x()}],left:[{left:x()}],visibility:["visible","invisible","collapse"],z:[{z:[f7,"auto",C7,w7]}],basis:[{basis:[u7,"full","auto",s,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[h7,u7,"auto","initial","none",w7]}],grow:[{grow:["",h7,C7,w7]}],shrink:[{shrink:["",h7,C7,w7]}],order:[{order:[f7,"first","last","none",C7,w7]}],"grid-cols":[{"grid-cols":w()}],"col-start-end":[{col:S()}],"col-start":[{"col-start":E()}],"col-end":[{"col-end":E()}],"grid-rows":[{"grid-rows":w()}],"row-start-end":[{row:S()}],"row-start":[{"row-start":E()}],"row-end":[{"row-end":E()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":T()}],"auto-rows":[{"auto-rows":T()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe","normal"]}],"justify-items":[{"justify-items":["start","end","center","stretch","center-safe","end-safe","normal"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"align-items":[{items:["start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"align-self":[{self:["auto","start","end","center","stretch","center-safe","end-safe",{baseline:["","last"]}]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"]}],"place-items":[{"place-items":["start","end","center","stretch","center-safe","end-safe","baseline"]}],"place-self":[{"place-self":["auto","start","end","center","stretch","center-safe","end-safe"]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:A()}],mx:[{mx:A()}],my:[{my:A()}],ms:[{ms:A()}],me:[{me:A()}],mt:[{mt:A()}],mr:[{mr:A()}],mb:[{mb:A()}],ml:[{ml:A()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[s,"screen",...M()]}],"min-w":[{"min-w":[s,"screen","none",...M()]}],"max-w":[{"max-w":[s,"screen","none","prose",{screen:[a]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",n,O7,S7]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,C7,E7]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",d7,w7]}],"font-family":[{font:[R7,w7,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,C7,w7]}],"line-clamp":[{"line-clamp":[h7,"none",C7,E7]}],leading:[{leading:[o,...b()]}],"list-image":[{"list-image":["none",C7,w7]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",C7,w7]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:C()}],"text-color":[{text:C()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","wavy"]}],"text-decoration-thickness":[{decoration:[h7,"from-font","auto",C7,S7]}],"text-decoration-color":[{decoration:C()}],"underline-offset":[{"underline-offset":[h7,"auto",C7,w7]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",C7,w7]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",C7,w7]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:O()}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},f7,C7,w7],radial:["",C7,w7],conic:[f7,C7,w7]},P7,A7]}],"bg-color":[{bg:C()}],"gradient-from-pos":[{from:I()}],"gradient-via-pos":[{via:I()}],"gradient-to-pos":[{to:I()}],"gradient-from":[{from:C()}],"gradient-via":[{via:C()}],"gradient-to":[{to:C()}],rounded:[{rounded:k()}],"rounded-s":[{"rounded-s":k()}],"rounded-e":[{"rounded-e":k()}],"rounded-t":[{"rounded-t":k()}],"rounded-r":[{"rounded-r":k()}],"rounded-b":[{"rounded-b":k()}],"rounded-l":[{"rounded-l":k()}],"rounded-ss":[{"rounded-ss":k()}],"rounded-se":[{"rounded-se":k()}],"rounded-ee":[{"rounded-ee":k()}],"rounded-es":[{"rounded-es":k()}],"rounded-tl":[{"rounded-tl":k()}],"rounded-tr":[{"rounded-tr":k()}],"rounded-br":[{"rounded-br":k()}],"rounded-bl":[{"rounded-bl":k()}],"border-w":[{border:P()}],"border-w-x":[{"border-x":P()}],"border-w-y":[{"border-y":P()}],"border-w-s":[{"border-s":P()}],"border-w-e":[{"border-e":P()}],"border-w-t":[{"border-t":P()}],"border-w-r":[{"border-r":P()}],"border-w-b":[{"border-b":P()}],"border-w-l":[{"border-l":P()}],"divide-x":[{"divide-x":P()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":P()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:["solid","dashed","dotted","double","hidden","none"]}],"divide-style":[{divide:["solid","dashed","dotted","double","hidden","none"]}],"border-color":[{border:C()}],"border-color-x":[{"border-x":C()}],"border-color-y":[{"border-y":C()}],"border-color-s":[{"border-s":C()}],"border-color-e":[{"border-e":C()}],"border-color-t":[{"border-t":C()}],"border-color-r":[{"border-r":C()}],"border-color-b":[{"border-b":C()}],"border-color-l":[{"border-l":C()}],"divide-color":[{divide:C()}],"outline-style":[{outline:["solid","dashed","dotted","double","none","hidden"]}],"outline-offset":[{"outline-offset":[h7,C7,w7]}],"outline-w":[{outline:["",h7,O7,S7]}],"outline-color":[{outline:C()}],shadow:[{shadow:["","none",u,D7,M7]}],"shadow-color":[{shadow:C()}],"inset-shadow":[{"inset-shadow":["none",h,D7,M7]}],"inset-shadow-color":[{"inset-shadow":C()}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:C()}],"ring-offset-w":[{"ring-offset":[h7,S7]}],"ring-offset-color":[{"ring-offset":C()}],"inset-ring-w":[{"inset-ring":P()}],"inset-ring-color":[{"inset-ring":C()}],"text-shadow":[{"text-shadow":["none",f,D7,M7]}],"text-shadow-color":[{"text-shadow":C()}],opacity:[{opacity:[h7,C7,w7]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[h7]}],"mask-image-linear-from-pos":[{"mask-linear-from":D()}],"mask-image-linear-to-pos":[{"mask-linear-to":D()}],"mask-image-linear-from-color":[{"mask-linear-from":C()}],"mask-image-linear-to-color":[{"mask-linear-to":C()}],"mask-image-t-from-pos":[{"mask-t-from":D()}],"mask-image-t-to-pos":[{"mask-t-to":D()}],"mask-image-t-from-color":[{"mask-t-from":C()}],"mask-image-t-to-color":[{"mask-t-to":C()}],"mask-image-r-from-pos":[{"mask-r-from":D()}],"mask-image-r-to-pos":[{"mask-r-to":D()}],"mask-image-r-from-color":[{"mask-r-from":C()}],"mask-image-r-to-color":[{"mask-r-to":C()}],"mask-image-b-from-pos":[{"mask-b-from":D()}],"mask-image-b-to-pos":[{"mask-b-to":D()}],"mask-image-b-from-color":[{"mask-b-from":C()}],"mask-image-b-to-color":[{"mask-b-to":C()}],"mask-image-l-from-pos":[{"mask-l-from":D()}],"mask-image-l-to-pos":[{"mask-l-to":D()}],"mask-image-l-from-color":[{"mask-l-from":C()}],"mask-image-l-to-color":[{"mask-l-to":C()}],"mask-image-x-from-pos":[{"mask-x-from":D()}],"mask-image-x-to-pos":[{"mask-x-to":D()}],"mask-image-x-from-color":[{"mask-x-from":C()}],"mask-image-x-to-color":[{"mask-x-to":C()}],"mask-image-y-from-pos":[{"mask-y-from":D()}],"mask-image-y-to-pos":[{"mask-y-to":D()}],"mask-image-y-from-color":[{"mask-y-from":C()}],"mask-image-y-to-color":[{"mask-y-to":C()}],"mask-image-radial":[{"mask-radial":[C7,w7]}],"mask-image-radial-from-pos":[{"mask-radial-from":D()}],"mask-image-radial-to-pos":[{"mask-radial-to":D()}],"mask-image-radial-from-color":[{"mask-radial-from":C()}],"mask-image-radial-to-color":[{"mask-radial-to":C()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"]}],"mask-image-conic-pos":[{"mask-conic":[h7]}],"mask-image-conic-from-pos":[{"mask-conic-from":D()}],"mask-image-conic-to-pos":[{"mask-conic-to":D()}],"mask-image-conic-from-color":[{"mask-conic-from":C()}],"mask-image-conic-to-color":[{"mask-conic-to":C()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:O()}],"mask-repeat":[{mask:["no-repeat",{repeat:["","x","y","space","round"]}]}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",C7,w7]}],filter:[{filter:["","none",C7,w7]}],blur:[{blur:N()}],brightness:[{brightness:[h7,C7,w7]}],contrast:[{contrast:[h7,C7,w7]}],"drop-shadow":[{"drop-shadow":["","none",d,D7,M7]}],"drop-shadow-color":[{"drop-shadow":C()}],grayscale:[{grayscale:["",h7,C7,w7]}],"hue-rotate":[{"hue-rotate":[h7,C7,w7]}],invert:[{invert:["",h7,C7,w7]}],saturate:[{saturate:[h7,C7,w7]}],sepia:[{sepia:["",h7,C7,w7]}],"backdrop-filter":[{"backdrop-filter":["","none",C7,w7]}],"backdrop-blur":[{"backdrop-blur":N()}],"backdrop-brightness":[{"backdrop-brightness":[h7,C7,w7]}],"backdrop-contrast":[{"backdrop-contrast":[h7,C7,w7]}],"backdrop-grayscale":[{"backdrop-grayscale":["",h7,C7,w7]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h7,C7,w7]}],"backdrop-invert":[{"backdrop-invert":["",h7,C7,w7]}],"backdrop-opacity":[{"backdrop-opacity":[h7,C7,w7]}],"backdrop-saturate":[{"backdrop-saturate":[h7,C7,w7]}],"backdrop-sepia":[{"backdrop-sepia":["",h7,C7,w7]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",C7,w7]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[h7,"initial",C7,w7]}],ease:[{ease:["linear","initial",v,C7,w7]}],delay:[{delay:[h7,C7,w7]}],animate:[{animate:["none",y,C7,w7]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,C7,w7]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:L()}],"rotate-x":[{"rotate-x":L()}],"rotate-y":[{"rotate-y":L()}],"rotate-z":[{"rotate-z":L()}],scale:[{scale:F()}],"scale-x":[{"scale-x":F()}],"scale-y":[{"scale-y":F()}],"scale-z":[{"scale-z":F()}],"scale-3d":["scale-3d"],skew:[{skew:U()}],"skew-x":[{"skew-x":U()}],"skew-y":[{"skew-y":U()}],transform:[{transform:[C7,w7,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:B()}],"translate-x":[{"translate-x":B()}],"translate-y":[{"translate-y":B()}],"translate-z":[{"translate-z":B()}],"translate-none":["translate-none"],accent:[{accent:C()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:C()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",C7,w7]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",C7,w7]}],fill:[{fill:["none",...C()]}],"stroke-w":[{stroke:[h7,O7,S7,E7]}],stroke:[{stroke:["none",...C()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function G7(e){return(G7="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q7=/^\s+/,X7=/\s+$/;function Y7(e,t){if(t=t||{},(e=e||"")instanceof Y7)return e;if(!(this instanceof Y7))return new Y7(e,t);var n=function(e){var t={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;"string"==typeof e&&(e=function(e){e=e.replace(q7,"").replace(X7,"").toLowerCase();var t,n=!1;if(hee[e])e=hee[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=Eee.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=Eee.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=Eee.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=Eee.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=Eee.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=Eee.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=Eee.hex8.exec(e))return{r:gee(t[1]),g:gee(t[2]),b:gee(t[3]),a:bee(t[4]),format:n?"name":"hex8"};if(t=Eee.hex6.exec(e))return{r:gee(t[1]),g:gee(t[2]),b:gee(t[3]),format:n?"name":"hex"};if(t=Eee.hex4.exec(e))return{r:gee(t[1]+""+t[1]),g:gee(t[2]+""+t[2]),b:gee(t[3]+""+t[3]),a:bee(t[4]+""+t[4]),format:n?"name":"hex8"};if(t=Eee.hex3.exec(e))return{r:gee(t[1]+""+t[1]),g:gee(t[2]+""+t[2]),b:gee(t[3]+""+t[3]),format:n?"name":"hex"};return!1}(e));"object"==G7(e)&&(Tee(e.r)&&Tee(e.g)&&Tee(e.b)?(l=e.r,c=e.g,u=e.b,t={r:255*pee(l,255),g:255*pee(c,255),b:255*pee(u,255)},a=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Tee(e.h)&&Tee(e.s)&&Tee(e.v)?(r=yee(e.s),i=yee(e.v),t=function(e,t,n){e=6*pee(e,360),t=pee(t,100),n=pee(n,100);var r=Math.floor(e),i=e-r,o=n*(1-t),a=n*(1-i*t),s=n*(1-(1-i)*t),l=r%6,c=[n,a,o,o,s,n][l],u=[s,n,n,a,o,o][l],h=[o,o,s,n,n,a][l];return{r:255*c,g:255*u,b:255*h}}(e.h,r,i),a=!0,s="hsv"):Tee(e.h)&&Tee(e.s)&&Tee(e.l)&&(r=yee(e.s),o=yee(e.l),t=function(e,t,n){var r,i,o;function a(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=pee(e,360),t=pee(t,100),n=pee(n,100),0===t)r=i=o=n;else{var s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;r=a(l,s,e+1/3),i=a(l,s,e),o=a(l,s,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,r,o),a=!0,s="hsl"),e.hasOwnProperty("a")&&(n=e.a));var l,c,u;return n=dee(n),{ok:a,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}function K7(e,t,n){e=pee(e,255),t=pee(t,255),n=pee(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=(o+a)/2;if(o==a)r=i=0;else{var l=o-a;switch(i=s>.5?l/(2-o-a):l/(o+a),o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,l:s}}function $7(e,t,n){e=pee(e,255),t=pee(t,255),n=pee(n,255);var r,i,o=Math.max(e,t,n),a=Math.min(e,t,n),s=o,l=o-a;if(i=0===o?0:l/o,o==a)r=0;else{switch(o){case e:r=(t-n)/l+(t<n?6:0);break;case t:r=(n-e)/l+2;break;case n:r=(e-t)/l+4}r/=6}return{h:r,s:i,v:s}}function Z7(e,t,n,r){var i=[vee(Math.round(e).toString(16)),vee(Math.round(t).toString(16)),vee(Math.round(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function J7(e,t,n,r){return[vee(_ee(r)),vee(Math.round(e).toString(16)),vee(Math.round(t).toString(16)),vee(Math.round(n).toString(16))].join("")}function Q7(e,t){t=0===t?0:t||10;var n=Y7(e).toHsl();return n.s-=t/100,n.s=mee(n.s),Y7(n)}function eee(e,t){t=0===t?0:t||10;var n=Y7(e).toHsl();return n.s+=t/100,n.s=mee(n.s),Y7(n)}function tee(e){return Y7(e).desaturate(100)}function nee(e,t){t=0===t?0:t||10;var n=Y7(e).toHsl();return n.l+=t/100,n.l=mee(n.l),Y7(n)}function ree(e,t){t=0===t?0:t||10;var n=Y7(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),Y7(n)}function iee(e,t){t=0===t?0:t||10;var n=Y7(e).toHsl();return n.l-=t/100,n.l=mee(n.l),Y7(n)}function oee(e,t){var n=Y7(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,Y7(n)}function aee(e){var t=Y7(e).toHsl();return t.h=(t.h+180)%360,Y7(t)}function see(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=Y7(e).toHsl(),r=[Y7(e)],i=360/t,o=1;o<t;o++)r.push(Y7({h:(n.h+o*i)%360,s:n.s,l:n.l}));return r}function lee(e){var t=Y7(e).toHsl(),n=t.h;return[Y7(e),Y7({h:(n+72)%360,s:t.s,l:t.l}),Y7({h:(n+216)%360,s:t.s,l:t.l})]}function cee(e,t,n){t=t||6,n=n||30;var r=Y7(e).toHsl(),i=360/n,o=[Y7(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(Y7(r));return o}function uee(e,t){t=t||6;for(var n=Y7(e).toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/t;t--;)a.push(Y7({h:r,s:i,v:o})),o=(o+s)%1;return a}Y7.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=dee(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=$7(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=$7(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=K7(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=K7(this._r,this._g,this._b),t=Math.round(360*e.h),n=Math.round(100*e.s),r=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Z7(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[vee(Math.round(e).toString(16)),vee(Math.round(t).toString(16)),vee(Math.round(n).toString(16)),vee(_ee(r))];if(i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1))return o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0);return o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*pee(this._r,255))+"%",g:Math.round(100*pee(this._g,255))+"%",b:Math.round(100*pee(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*pee(this._r,255))+"%, "+Math.round(100*pee(this._g,255))+"%, "+Math.round(100*pee(this._b,255))+"%)":"rgba("+Math.round(100*pee(this._r,255))+"%, "+Math.round(100*pee(this._g,255))+"%, "+Math.round(100*pee(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(fee[Z7(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+J7(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=Y7(e);n="#"+J7(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return Y7(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(nee,arguments)},brighten:function(){return this._applyModification(ree,arguments)},darken:function(){return this._applyModification(iee,arguments)},desaturate:function(){return this._applyModification(Q7,arguments)},saturate:function(){return this._applyModification(eee,arguments)},greyscale:function(){return this._applyModification(tee,arguments)},spin:function(){return this._applyModification(oee,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(cee,arguments)},complement:function(){return this._applyCombination(aee,arguments)},monochromatic:function(){return this._applyCombination(uee,arguments)},splitcomplement:function(){return this._applyCombination(lee,arguments)},triad:function(){return this._applyCombination(see,[3])},tetrad:function(){return this._applyCombination(see,[4])}},Y7.fromRatio=function(e,t){if("object"==G7(e)){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:yee(e[r]));e=n}return Y7(e,t)},Y7.equals=function(e,t){return!(!e||!t)&&Y7(e).toRgbString()==Y7(t).toRgbString()},Y7.random=function(){return Y7.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},Y7.mix=function(e,t,n){n=0===n?0:n||50;var r=Y7(e).toRgb(),i=Y7(t).toRgb(),o=n/100;return Y7({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},Y7.readability=function(e,t){var n=Y7(e),r=Y7(t);return(Math.max(n.getLuminance(),r.getLuminance())+.05)/(Math.min(n.getLuminance(),r.getLuminance())+.05)},Y7.isReadable=function(e,t,n){var r,i,o=Y7.readability(e,t);switch(i=!1,(r=function(e){var t,n;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==n&&"large"!==n&&(n="small");return{level:t,size:n}}(n)).level+r.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},Y7.mostReadable=function(e,t,n){var r,i,o,a,s=null,l=0;i=(n=n||{}).includeFallbackColors,o=n.level,a=n.size;for(var c=0;c<t.length;c++)(r=Y7.readability(e,t[c]))>l&&(l=r,s=Y7(t[c]));return Y7.isReadable(e,s,{level:o,size:a})||!i?s:(n.includeFallbackColors=!1,Y7.mostReadable(e,["#fff","#000"],n))};var hee=Y7.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},fee=Y7.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(hee);function dee(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function pee(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function mee(e){return Math.min(1,Math.max(0,e))}function gee(e){return parseInt(e,16)}function vee(e){return 1==e.length?"0"+e:""+e}function yee(e){return e<=1&&(e=100*e+"%"),e}function _ee(e){return Math.round(255*parseFloat(e)).toString(16)}function bee(e){return gee(e)/255}var xee,wee,See,Eee=(wee="[\\s|\\(]+("+(xee="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+xee+")[,|\\s]+("+xee+")\\s*\\)?",See="[\\s|\\(]+("+xee+")[,|\\s]+("+xee+")[,|\\s]+("+xee+")[,|\\s]+("+xee+")\\s*\\)?",{CSS_UNIT:new RegExp(xee),rgb:new RegExp("rgb"+wee),rgba:new RegExp("rgba"+See),hsl:new RegExp("hsl"+wee),hsla:new RegExp("hsla"+See),hsv:new RegExp("hsv"+wee),hsva:new RegExp("hsva"+See),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Tee(e){return!!Eee.CSS_UNIT.exec(e)}var Aee,Mee={};var Cee,Oee=(Aee||(Aee=1,(Cee=Cee||{}).stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),i=e.visit(t.style);return i&&(n+=" "+i),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(e){return e.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_calc:function(e){return"calc("+e.value+")"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_hsl:function(t){return e.visit_color("hsl("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%)",t)},visit_hsla:function(t){return e.visit_color("hsla("+t.value[0]+", "+t.value[1]+"%, "+t.value[2]+"%, "+t.value[3]+")",t)},visit_var:function(t){return e.visit_color("var("+t.value+")",t)},visit_color:function(t,n){var r=t,i=e.visit(n.length);return i&&(r+=" "+i),r},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(t,i){n+=e.visit(t),i<r-1&&(n+=", ")}),n},visit_object:function(t){return t.width&&t.height?e.visit(t.width)+" "+e.visit(t.height):""},visit:function(t){if(!t)return"";if(t instanceof Array)return e.visit_array(t);if("object"!=typeof t||t.type){if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}throw Error("Invalid node.")}return e.visit_object(t)}};return function(t){return e.visit(t)}}(),(Cee=Cee||{}).parse=function(){var e=/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,t=/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,n=/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,r=/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,i=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,o=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,a=/^(left|center|right|top|bottom)/i,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,l=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,c=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,u=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,h=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))rad/,f=/^\(/,d=/^\)/,p=/^,/,m=/^\#([0-9a-fA-F]+)/,g=/^([a-zA-Z]+)/,v=/^rgb/i,y=/^rgba/i,_=/^var/i,b=/^calc/i,x=/^(--[a-zA-Z0-9-,\s\#]+)/,w=/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/,S=/^hsl/i,E=/^hsla/i,T="";function A(e){var t=new Error(T+": "+e);throw t.source=T,t}function M(){var e=F(C);return T.length>0&&A("Invalid input not EOF"),e}function C(){return O("linear-gradient",e,I)||O("repeating-linear-gradient",t,I)||O("radial-gradient",n,k)||O("repeating-radial-gradient",r,k)}function O(e,t,n){return R(t,function(t){var r=n();return r&&(W(p)||A("Missing comma before color stops")),{type:e,orientation:r,colorStops:F(U)}})}function R(e,t){var n=W(e);if(n){W(f)||A("Missing (");var r=t(n);return W(d)||A("Missing )"),r}}function I(){var e=H("directional",i,1);if(e)return e;var t=H("position-keyword",a,1);return t?{type:"directional",value:t.value}:H("angular",u,1)||H("angular",h,1)}function k(){var e,t,n=P();return n&&((e=[]).push(n),t=T,W(p)&&((n=P())?e.push(n):T=t)),e}function P(){var e,t,n=((t=H("shape",/^(circle)/i,0))&&(t.style=j()||D()),t||((e=H("shape",/^(ellipse)/i,0))&&(e.style=L()||V()||D()),e));if(n)n.at=N();else{var r=D();if(r){n=r;var i=N();i&&(n.at=i)}else{var o=N();if(o)n={type:"default-radial",at:o};else{var a=L();a&&(n={type:"default-radial",at:a})}}}return n}function D(){return H("extent-keyword",o,1)}function N(){if(H("position",/^at/,0)){var e=L();return e||A("Missing positioning value"),e}}function L(){var e={x:V(),y:V()};if(e.x||e.y)return{type:"position",value:e}}function F(e){var t=e(),n=[];if(t)for(n.push(t);W(p);)(t=e())?n.push(t):A("One extra comma");return n}function U(){var e=H("hex",m,1)||R(E,function(){var e=z();W(p);var t=W(l),n=t?t[1]:null;W(p);var r=(t=W(l))?t[1]:null;W(p);var i=z();return n&&r||A("Expected percentage value for saturation and lightness in HSLA"),{type:"hsla",value:[e,n,r,i]}})||R(S,function(){W(l)&&A("HSL hue value must be a number in degrees (0-360) or normalized (-360 to 360), not a percentage");var e=z();W(p);var t=W(l),n=t?t[1]:null;W(p);var r=(t=W(l))?t[1]:null;return n&&r||A("Expected percentage value for saturation and lightness in HSL"),{type:"hsl",value:[e,n,r]}})||R(y,function(){return{type:"rgba",value:F(z)}})||R(v,function(){return{type:"rgb",value:F(z)}})||R(_,function(){return{type:"var",value:B()}})||H("literal",g,0);return e||A("Expected color definition"),e.length=V(),e}function B(){return W(x)[1]}function z(){return W(w)[1]}function V(){return H("%",l,1)||H("position-keyword",a,1)||R(b,function(){for(var e=1,t=0;e>0&&t<T.length;){var n=T.charAt(t);"("===n?e++:")"===n&&e--,t++}e>0&&A("Missing closing parenthesis in calc() expression");var r=T.substring(0,t-1);return G(t-1),{type:"calc",value:r}})||j()}function j(){return H("px",s,1)||H("em",c,1)}function H(e,t,n){var r=W(t);if(r)return{type:e,value:r[n]}}function W(e){var t,n;return(n=/^[\n\r\t\s]+/.exec(T))&&G(n[0].length),(t=e.exec(T))&&G(t[0].length),t}function G(e){T=T.substr(e)}return function(e){return(T=e.toString().trim()).endsWith(";")&&(T=T.slice(0,-1)),M()}}(),Mee.parse=Cee.parse,Mee.stringify=Cee.stringify),Mee),Ree="top",Iee="bottom",kee="right",Pee="left",Dee="auto",Nee=[Ree,Iee,kee,Pee],Lee="start",Fee="end",Uee="viewport",Bee="popper",zee=Nee.reduce(function(e,t){return e.concat([t+"-"+Lee,t+"-"+Fee])},[]),Vee=[].concat(Nee,[Dee]).reduce(function(e,t){return e.concat([t,t+"-"+Lee,t+"-"+Fee])},[]),jee=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Hee(e){return e?(e.nodeName||"").toLowerCase():null}function Wee(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Gee(e){return e instanceof Wee(e).Element||e instanceof Element}function qee(e){return e instanceof Wee(e).HTMLElement||e instanceof HTMLElement}function Xee(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Wee(e).ShadowRoot||e instanceof ShadowRoot)}const Yee={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];qee(i)&&Hee(i)&&(Object.assign(i.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});qee(r)&&Hee(r)&&(Object.assign(r.style,o),Object.keys(i).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};function Kee(e){return e.split("-")[0]}var $ee=Math.max,Zee=Math.min,Jee=Math.round;function Qee(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ete(){return!/^((?!chrome|android).)*safari/i.test(Qee())}function tte(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&qee(e)&&(i=e.offsetWidth>0&&Jee(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Jee(r.height)/e.offsetHeight||1);var a=(Gee(e)?Wee(e):window).visualViewport,s=!ete()&&n,l=(r.left+(s&&a?a.offsetLeft:0))/i,c=(r.top+(s&&a?a.offsetTop:0))/o,u=r.width/i,h=r.height/o;return{width:u,height:h,top:c,right:l+u,bottom:c+h,left:l,x:l,y:c}}function nte(e){var t=tte(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function rte(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Xee(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ite(e){return Wee(e).getComputedStyle(e)}function ote(e){return["table","td","th"].indexOf(Hee(e))>=0}function ate(e){return((Gee(e)?e.ownerDocument:e.document)||window.document).documentElement}function ste(e){return"html"===Hee(e)?e:e.assignedSlot||e.parentNode||(Xee(e)?e.host:null)||ate(e)}function lte(e){return qee(e)&&"fixed"!==ite(e).position?e.offsetParent:null}function cte(e){for(var t=Wee(e),n=lte(e);n&&ote(n)&&"static"===ite(n).position;)n=lte(n);return n&&("html"===Hee(n)||"body"===Hee(n)&&"static"===ite(n).position)?t:n||function(e){var t=/firefox/i.test(Qee());if(/Trident/i.test(Qee())&&qee(e)&&"fixed"===ite(e).position)return null;var n=ste(e);for(Xee(n)&&(n=n.host);qee(n)&&["html","body"].indexOf(Hee(n))<0;){var r=ite(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ute(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function hte(e,t,n){return $ee(e,Zee(t,n))}function fte(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function dte(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function pte(e){return e.split("-")[1]}var mte={top:"auto",right:"auto",bottom:"auto",left:"auto"};function gte(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,f=a.x,d=void 0===f?0:f,p=a.y,m=void 0===p?0:p,g="function"==typeof u?u({x:d,y:m}):{x:d,y:m};d=g.x,m=g.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),_=Pee,b=Ree,x=window;if(c){var w=cte(n),S="clientHeight",E="clientWidth";if(w===Wee(n)&&"static"!==ite(w=ate(n)).position&&"absolute"===s&&(S="scrollHeight",E="scrollWidth"),i===Ree||(i===Pee||i===kee)&&o===Fee)b=Iee,m-=(h&&w===x&&x.visualViewport?x.visualViewport.height:w[S])-r.height,m*=l?1:-1;if(i===Pee||(i===Ree||i===Iee)&&o===Fee)_=kee,d-=(h&&w===x&&x.visualViewport?x.visualViewport.width:w[E])-r.width,d*=l?1:-1}var T,A=Object.assign({position:s},c&&mte),M=!0===u?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Jee(n*i)/i||0,y:Jee(r*i)/i||0}}({x:d,y:m},Wee(n)):{x:d,y:m};return d=M.x,m=M.y,l?Object.assign({},A,((T={})[b]=y?"0":"",T[_]=v?"0":"",T.transform=(x.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",T)):Object.assign({},A,((t={})[b]=y?m+"px":"",t[_]=v?d+"px":"",t.transform="",t))}var vte={passive:!0};var yte={left:"right",right:"left",bottom:"top",top:"bottom"};function _te(e){return e.replace(/left|right|bottom|top/g,function(e){return yte[e]})}var bte={start:"end",end:"start"};function xte(e){return e.replace(/start|end/g,function(e){return bte[e]})}function wte(e){var t=Wee(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ste(e){return tte(ate(e)).left+wte(e).scrollLeft}function Ete(e){var t=ite(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Tte(e){return["html","body","#document"].indexOf(Hee(e))>=0?e.ownerDocument.body:qee(e)&&Ete(e)?e:Tte(ste(e))}function Ate(e,t){var n;void 0===t&&(t=[]);var r=Tte(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Wee(r),a=i?[o].concat(o.visualViewport||[],Ete(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(Ate(ste(a)))}function Mte(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Cte(e,t,n){return t===Uee?Mte(function(e,t){var n=Wee(e),r=ate(e),i=n.visualViewport,o=r.clientWidth,a=r.clientHeight,s=0,l=0;if(i){o=i.width,a=i.height;var c=ete();(c||!c&&"fixed"===t)&&(s=i.offsetLeft,l=i.offsetTop)}return{width:o,height:a,x:s+Ste(e),y:l}}(e,n)):Gee(t)?function(e,t){var n=tte(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Mte(function(e){var t,n=ate(e),r=wte(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=$ee(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=$ee(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+Ste(e),l=-r.scrollTop;return"rtl"===ite(i||n).direction&&(s+=$ee(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(ate(e)))}function Ote(e,t,n,r){var i="clippingParents"===t?function(e){var t=Ate(ste(e)),n=["absolute","fixed"].indexOf(ite(e).position)>=0&&qee(e)?cte(e):e;return Gee(n)?t.filter(function(e){return Gee(e)&&rte(e,n)&&"body"!==Hee(e)}):[]}(e):[].concat(t),o=[].concat(i,[n]),a=o[0],s=o.reduce(function(t,n){var i=Cte(e,n,r);return t.top=$ee(i.top,t.top),t.right=Zee(i.right,t.right),t.bottom=Zee(i.bottom,t.bottom),t.left=$ee(i.left,t.left),t},Cte(e,a,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Rte(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?Kee(i):null,a=i?pte(i):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(o){case Ree:t={x:s,y:n.y-r.height};break;case Iee:t={x:s,y:n.y+n.height};break;case kee:t={x:n.x+n.width,y:l};break;case Pee:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var c=o?ute(o):null;if(null!=c){var u="y"===c?"height":"width";switch(a){case Lee:t[c]=t[c]-(n[u]/2-r[u]/2);break;case Fee:t[c]=t[c]+(n[u]/2-r[u]/2)}}return t}function Ite(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,a=void 0===o?e.strategy:o,s=n.boundary,l=void 0===s?"clippingParents":s,c=n.rootBoundary,u=void 0===c?Uee:c,h=n.elementContext,f=void 0===h?Bee:h,d=n.altBoundary,p=void 0!==d&&d,m=n.padding,g=void 0===m?0:m,v=fte("number"!=typeof g?g:dte(g,Nee)),y=f===Bee?"reference":Bee,_=e.rects.popper,b=e.elements[p?y:f],x=Ote(Gee(b)?b:b.contextElement||ate(e.elements.popper),l,u,a),w=tte(e.elements.reference),S=Rte({reference:w,element:_,placement:i}),E=Mte(Object.assign({},_,S)),T=f===Bee?E:w,A={top:x.top-T.top+v.top,bottom:T.bottom-x.bottom+v.bottom,left:x.left-T.left+v.left,right:T.right-x.right+v.right},M=e.modifiersData.offset;if(f===Bee&&M){var C=M[i];Object.keys(A).forEach(function(e){var t=[kee,Iee].indexOf(e)>=0?1:-1,n=[Ree,Iee].indexOf(e)>=0?"y":"x";A[e]+=C[n]*t})}return A}const kte={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0===a||a,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,p=void 0===d||d,m=n.allowedAutoPlacements,g=t.options.placement,v=Kee(g),y=l||(v===g||!p?[_te(g)]:function(e){if(Kee(e)===Dee)return[];var t=_te(e);return[xte(e),t,xte(t)]}(g)),_=[g].concat(y).reduce(function(e,n){return e.concat(Kee(n)===Dee?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?Vee:l,u=pte(r),h=u?s?zee:zee.filter(function(e){return pte(e)===u}):Nee,f=h.filter(function(e){return c.indexOf(e)>=0});0===f.length&&(f=h);var d=f.reduce(function(t,n){return t[n]=Ite(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[Kee(n)],t},{});return Object.keys(d).sort(function(e,t){return d[e]-d[t]})}(t,{placement:n,boundary:u,rootBoundary:h,padding:c,flipVariations:p,allowedAutoPlacements:m}):n)},[]),b=t.rects.reference,x=t.rects.popper,w=new Map,S=!0,E=_[0],T=0;T<_.length;T++){var A=_[T],M=Kee(A),C=pte(A)===Lee,O=[Ree,Iee].indexOf(M)>=0,R=O?"width":"height",I=Ite(t,{placement:A,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),k=O?C?kee:Pee:C?Iee:Ree;b[R]>x[R]&&(k=_te(k));var P=_te(k),D=[];if(o&&D.push(I[M]<=0),s&&D.push(I[k]<=0,I[P]<=0),D.every(function(e){return e})){E=A,S=!1;break}w.set(A,D)}if(S)for(var N=function(e){var t=_.find(function(t){var n=w.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},L=p?3:1;L>0;L--){if("break"===N(L))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Pte(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Dte(e){return[Ree,kee,Iee,Pee].some(function(t){return e[t]>=0})}function Nte(e,t,n){void 0===n&&(n=!1);var r,i,o=qee(t),a=qee(t)&&function(e){var t=e.getBoundingClientRect(),n=Jee(t.width)/e.offsetWidth||1,r=Jee(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),s=ate(t),l=tte(e,a,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==Hee(t)||Ete(s))&&(c=(r=t)!==Wee(r)&&qee(r)?{scrollLeft:(i=r).scrollLeft,scrollTop:i.scrollTop}:wte(r)),qee(t)?((u=tte(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):s&&(u.x=Ste(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Lte(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||i(e)}),r}var Fte={placement:"bottom",modifiers:[],strategy:"absolute"};function Ute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}function Bte(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Fte:i;return function(e,t,n){void 0===n&&(n=o);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fte,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:Gee(e)?Ate(e):e.contextElement?Ate(e.contextElement):[],popper:Ate(t)};var a,c,f=function(e){var t=Lte(e);return jee.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}((a=[].concat(r,s.options.modifiers),c=a.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{}),Object.keys(c).map(function(e){return c[e]})));return s.orderedModifiers=f.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:u,options:r}),a=function(){};l.push(o||a)}}),u.update()},forceUpdate:function(){if(!c){var e=s.elements,t=e.reference,n=e.popper;if(Ute(t,n)){s.rects={reference:Nte(t,cte(n),"fixed"===s.options.strategy),popper:nte(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<s.orderedModifiers.length;r++)if(!0!==s.reset){var i=s.orderedModifiers[r],o=i.fn,a=i.options,l=void 0===a?{}:a,h=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:h,instance:u})||s)}else s.reset=!1,r=-1}}},update:(i=function(){return new Promise(function(e){u.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(i())})})),a}),destroy:function(){h(),c=!0}};if(!Ute(e,t))return u;function h(){l.forEach(function(e){return e()}),l=[]}return u.setOptions(n).then(function(e){!c&&n.onFirstUpdate&&n.onFirstUpdate(e)}),u}}var zte=Bte({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,l=Wee(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(e){e.addEventListener("scroll",n.update,vte)}),s&&l.addEventListener("resize",n.update,vte),function(){o&&c.forEach(function(e){e.removeEventListener("scroll",n.update,vte)}),s&&l.removeEventListener("resize",n.update,vte)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Rte({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:Kee(t.placement),variation:pte(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,gte(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,gte(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Yee,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,a=Vee.reduce(function(e,n){return e[n]=function(e,t,n){var r=Kee(e),i=[Pee,Ree].indexOf(r)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Pee,kee].indexOf(r)>=0?{x:s,y:a}:{x:a,y:s}}(n,t.rects,o),e},{}),s=a[t.placement],l=s.x,c=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=a}},kte,{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,a=n.altAxis,s=void 0!==a&&a,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,f=n.tether,d=void 0===f||f,p=n.tetherOffset,m=void 0===p?0:p,g=Ite(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=Kee(t.placement),y=pte(t.placement),_=!y,b=ute(v),x="x"===b?"y":"x",w=t.modifiersData.popperOffsets,S=t.rects.reference,E=t.rects.popper,T="function"==typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,A="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(w){if(o){var O,R="y"===b?Ree:Pee,I="y"===b?Iee:kee,k="y"===b?"height":"width",P=w[b],D=P+g[R],N=P-g[I],L=d?-E[k]/2:0,F=y===Lee?S[k]:E[k],U=y===Lee?-E[k]:-S[k],B=t.elements.arrow,z=d&&B?nte(B):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=V[R],H=V[I],W=hte(0,S[k],z[k]),G=_?S[k]/2-L-W-j-A.mainAxis:F-W-j-A.mainAxis,q=_?-S[k]/2+L+W+H+A.mainAxis:U+W+H+A.mainAxis,X=t.elements.arrow&&cte(t.elements.arrow),Y=X?"y"===b?X.clientTop||0:X.clientLeft||0:0,K=null!=(O=null==M?void 0:M[b])?O:0,$=P+q-K,Z=hte(d?Zee(D,P+G-K-Y):D,P,d?$ee(N,$):N);w[b]=Z,C[b]=Z-P}if(s){var J,Q="x"===b?Ree:Pee,ee="x"===b?Iee:kee,te=w[x],ne="y"===x?"height":"width",re=te+g[Q],ie=te-g[ee],oe=-1!==[Ree,Pee].indexOf(v),ae=null!=(J=null==M?void 0:M[x])?J:0,se=oe?re:te-S[ne]-E[ne]-ae+A.altAxis,le=oe?te+S[ne]+E[ne]-ae-A.altAxis:ie,ce=d&&oe?(he=hte(se,te,ue=le))>ue?ue:he:hte(d?se:re,te,d?le:ie);w[x]=ce,C[x]=ce-te}var ue,he;t.modifiersData[r]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,a=n.modifiersData.popperOffsets,s=Kee(n.placement),l=ute(s),c=[Pee,kee].indexOf(s)>=0?"height":"width";if(o&&a){var u=function(e,t){return fte("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:dte(e,Nee))}(i.padding,n),h=nte(o),f="y"===l?Ree:Pee,d="y"===l?Iee:kee,p=n.rects.reference[c]+n.rects.reference[l]-a[l]-n.rects.popper[c],m=a[l]-n.rects.reference[l],g=cte(o),v=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,y=p/2-m/2,_=u[f],b=v-h[c]-u[d],x=v/2-h[c]/2+y,w=hte(_,x,b),S=l;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-x,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&rte(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Ite(t,{elementContext:"reference"}),s=Ite(t,{altBoundary:!0}),l=Pte(a,r),c=Pte(s,i,o),u=Dte(l),h=Dte(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}}]});function Vte(e){return"[object Object]"===Object.prototype.toString.call(e)}function jte(){return jte=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jte.apply(this,arguments)}function Hte(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}const Wte={silent:!1,logLevel:"warn"},Gte=["validator"],qte=Object.prototype,Xte=qte.toString,Yte=qte.hasOwnProperty,Kte=/^\s*function (\w+)/;function $te(e){var t;const n=null!==(t=null==e?void 0:e.type)&&void 0!==t?t:e;if(n){const e=n.toString().match(Kte);return e?e[1]:""}return""}const Zte=function(e){var t,n;return!1!==Vte(e)&&(void 0===(t=e.constructor)||!1!==Vte(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))};let Jte=e=>e;const Qte=(e,t)=>Yte.call(e,t),ene=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},tne=Array.isArray||function(e){return"[object Array]"===Xte.call(e)},nne=e=>"[object Function]"===Xte.call(e),rne=e=>Zte(e)&&Qte(e,"_vueTypes_name"),ine=e=>Zte(e)&&(Qte(e,"type")||["_vueTypes_name","validator","default","required"].some(t=>Qte(e,t)));function one(e,t){return Object.defineProperty(e.bind(t),"__original",{value:e})}function ane(e,t,n=!1){let r,i=!0,o="";r=Zte(e)?e:{type:e};const a=rne(r)?r._vueTypes_name+" - ":"";if(ine(r)&&null!==r.type){if(void 0===r.type||!0===r.type)return i;if(!r.required&&void 0===t)return i;tne(r.type)?(i=r.type.some(e=>!0===ane(e,t,!0)),o=r.type.map(e=>$te(e)).join(" or ")):(o=$te(r),i="Array"===o?tne(t):"Object"===o?Zte(t):"String"===o||"Number"===o||"Boolean"===o||"Function"===o?function(e){if(null==e)return"";const t=e.constructor.toString().match(Kte);return t?t[1]:""}(t)===o:t instanceof r.type)}if(!i){const e="".concat(a,'value "').concat(t,'" should be of type "').concat(o,'"');return!1===n?(Jte(e),!1):e}if(Qte(r,"validator")&&nne(r.validator)){const e=Jte,o=[];if(Jte=e=>{o.push(e)},i=r.validator(t),Jte=e,!i){const e=(o.length>1?"* ":"")+o.join("\n* ");return o.length=0,!1===n?(Jte(e),i):e}}return i}function sne(e,t){const n=Object.defineProperties(t,{_vueTypes_name:{value:e,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(e){return void 0===e?(Qte(this,"default")&&delete this.default,this):nne(e)||!0===ane(this,e,!0)?(this.default=tne(e)?()=>[...e]:Zte(e)?()=>Object.assign({},e):e,this):(Jte("".concat(this._vueTypes_name,' - invalid default value: "').concat(e,'"')),this)}}}),{validator:r}=n;return nne(r)&&(n.validator=one(r,n)),n}function lne(e,t){const n=sne(e,t);return Object.defineProperty(n,"validate",{value(e){return nne(this.validator)&&Jte("".concat(this._vueTypes_name," - calling .validate() will overwrite the current custom validator function. Validator info:\n").concat(JSON.stringify(this))),this.validator=one(e,this),this}})}function cne(e,t,n){const r=function(e){const t={};return Object.getOwnPropertyNames(e).forEach(n=>{t[n]=Object.getOwnPropertyDescriptor(e,n)}),Object.defineProperties({},t)}(t);if(r._vueTypes_name=e,!Zte(n))return r;const{validator:i}=n,o=Hte(n,Gte);if(nne(i)){let{validator:e}=r;e&&(e=null!==(s=(a=e).__original)&&void 0!==s?s:a),r.validator=one(e?function(t){return e.call(this,t)&&i.call(this,t)}:i,r)}var a,s;return Object.assign(r,o)}function une(e){return e.replace(/^(?!\s*$)/gm,"  ")}function hne(e,t="custom validation failed"){if("function"!=typeof e)throw new TypeError("[VueTypes error]: You must provide a function as argument");return sne(e.name||"<<anonymous function>>",{type:null,validator(n){const r=e(n);return r||Jte("".concat(this._vueTypes_name," - ").concat(t)),r}})}function fne(e){if(!tne(e))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const t='oneOf - value should be one of "'.concat(e.join('", "'),'".'),n=e.reduce((e,t)=>{if(null!=t){const n=t.constructor;-1===e.indexOf(n)&&e.push(n)}return e},[]);return sne("oneOf",{type:n.length>0?n:void 0,validator(n){const r=-1!==e.indexOf(n);return r||Jte(t),r}})}function dne(e){if(!tne(e))throw new TypeError("[VueTypes error]: You must provide an array as argument");let t=!1,n=[];for(let i=0;i<e.length;i+=1){const r=e[i];if(ine(r)){if(rne(r)&&"oneOf"===r._vueTypes_name&&r.type){n=n.concat(r.type);continue}if(nne(r.validator)&&(t=!0),!0===r.type||!r.type){Jte('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(r.type)}else n.push(r)}n=n.filter((e,t)=>n.indexOf(e)===t);const r=n.length>0?n:null;return sne("oneOfType",t?{type:r,validator(t){const n=[],r=e.some(e=>{const r=ane(rne(e)&&"oneOf"===e._vueTypes_name?e.type||null:e,t,!0);return"string"==typeof r&&n.push(r),!0===r});return r||Jte("oneOfType - provided value does not match any of the ".concat(n.length," passed-in validators:\n").concat(une(n.join("\n")))),r}}:{type:r})}function pne(e){return sne("arrayOf",{type:Array,validator(t){let n="";const r=t.every(t=>(n=ane(e,t,!0),!0===n));return r||Jte("arrayOf - value validation error:\n".concat(une(n))),r}})}function mne(e){return sne("instanceOf",{type:e})}function gne(e){return sne("objectOf",{type:Object,validator(t){let n="";const r=Object.keys(t).every(r=>(n=ane(e,t[r],!0),!0===n));return r||Jte("objectOf - value validation error:\n".concat(une(n))),r}})}function vne(e){const t=Object.keys(e),n=t.filter(t=>{var n;return!(null===(n=e[t])||void 0===n||!n.required)}),r=sne("shape",{type:Object,validator(r){if(!Zte(r))return!1;const i=Object.keys(r);if(n.length>0&&n.some(e=>-1===i.indexOf(e))){const e=n.filter(e=>-1===i.indexOf(e));return Jte(1===e.length?'shape - required property "'.concat(e[0],'" is not defined.'):'shape - required properties "'.concat(e.join('", "'),'" are not defined.')),!1}return i.every(n=>{if(-1===t.indexOf(n))return!0===this._vueTypes_isLoose||(Jte('shape - shape definition does not include a "'.concat(n,'" property. Allowed keys: "').concat(t.join('", "'),'".')),!1);const i=ane(e[n],r[n],!0);return"string"==typeof i&&Jte('shape - "'.concat(n,'" property validation error:\n ').concat(une(i))),!0===i})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const yne=["name","validate","getter"],_ne=(()=>{var e;return(e=class{static get any(){return lne("any",{})}static get func(){return lne("function",{type:Function}).def(this.defaults.func)}static get bool(){return lne("boolean",{type:Boolean}).def(this.defaults.bool)}static get string(){return lne("string",{type:String}).def(this.defaults.string)}static get number(){return lne("number",{type:Number}).def(this.defaults.number)}static get array(){return lne("array",{type:Array}).def(this.defaults.array)}static get object(){return lne("object",{type:Object}).def(this.defaults.object)}static get integer(){return sne("integer",{type:Number,validator:e=>ene(e)}).def(this.defaults.integer)}static get symbol(){return sne("symbol",{validator:e=>"symbol"==typeof e})}static get nullable(){return{type:null}}static extend(e){if(tne(e))return e.forEach(e=>this.extend(e)),this;const{name:t,validate:n=!1,getter:r=!1}=e,i=Hte(e,yne);if(Qte(this,t))throw new TypeError('[VueTypes error]: Type "'.concat(t,'" already defined'));const{type:o}=i;if(rne(o))return delete i.type,Object.defineProperty(this,t,r?{get:()=>cne(t,o,i)}:{value(...e){const n=cne(t,o,i);return n.validator&&(n.validator=n.validator.bind(n,...e)),n}});let a;return a=r?{get(){const e=Object.assign({},i);return n?lne(t,e):sne(t,e)},enumerable:!0}:{value(...e){const r=Object.assign({},i);let o;return o=n?lne(t,r):sne(t,r),r.validator&&(o.validator=r.validator.bind(o,...e)),o},enumerable:!0},Object.defineProperty(this,t,a)}}).defaults={},e.sensibleDefaults=void 0,e.config=Wte,e.custom=hne,e.oneOf=fne,e.instanceOf=mne,e.oneOfType=dne,e.arrayOf=pne,e.objectOf=gne,e.shape=vne,e.utils={validate:(e,t)=>!0===ane(t,e,!0),toType:(e,t,n=!1)=>n?lne(e,t):sne(e,t)},e})();let bne=class extends(function(e={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var t;return(t=class extends _ne{static get sensibleDefaults(){return jte({},this.defaults)}static set sensibleDefaults(t){this.defaults=!1!==t?jte({},!0!==t?t:e):{}}}).defaults=jte({},e),t}()){};var xne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function wne(e){var t={exports:{}};return e(t,t.exports),t.exports}var Sne=function(e){return e&&e.Math==Math&&e},Ene=Sne("object"==typeof globalThis&&globalThis)||Sne("object"==typeof window&&window)||Sne("object"==typeof self&&self)||Sne("object"==typeof xne&&xne)||function(){return this}()||Function("return this")(),Tne=function(e){try{return!!e()}catch(t){return!0}},Ane=!Tne(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}),Mne={}.propertyIsEnumerable,Cne=Object.getOwnPropertyDescriptor,One={f:Cne&&!Mne.call({1:2},1)?function(e){var t=Cne(this,e);return!!t&&t.enumerable}:Mne},Rne=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Ine={}.toString,kne=function(e){return Ine.call(e).slice(8,-1)},Pne="".split,Dne=Tne(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==kne(e)?Pne.call(e,""):Object(e)}:Object,Nne=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},Lne=function(e){return Dne(Nne(e))},Fne=function(e){return"object"==typeof e?null!==e:"function"==typeof e},Une=function(e,t){if(!Fne(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!Fne(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!Fne(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!Fne(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},Bne={}.hasOwnProperty,zne=function(e,t){return Bne.call(e,t)},Vne=Ene.document,jne=Fne(Vne)&&Fne(Vne.createElement),Hne=function(e){return jne?Vne.createElement(e):{}},Wne=!Ane&&!Tne(function(){return 7!=Object.defineProperty(Hne("div"),"a",{get:function(){return 7}}).a}),Gne=Object.getOwnPropertyDescriptor,qne={f:Ane?Gne:function(e,t){if(e=Lne(e),t=Une(t,!0),Wne)try{return Gne(e,t)}catch(n){}if(zne(e,t))return Rne(!One.f.call(e,t),e[t])}},Xne=function(e){if(!Fne(e))throw TypeError(String(e)+" is not an object");return e},Yne=Object.defineProperty,Kne={f:Ane?Yne:function(e,t,n){if(Xne(e),t=Une(t,!0),Xne(n),Wne)try{return Yne(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},$ne=Ane?function(e,t,n){return Kne.f(e,t,Rne(1,n))}:function(e,t,n){return e[t]=n,e},Zne=function(e,t){try{$ne(Ene,e,t)}catch(MI){Ene[e]=t}return t},Jne=Ene["__core-js_shared__"]||Zne("__core-js_shared__",{}),Qne=Function.toString;"function"!=typeof Jne.inspectSource&&(Jne.inspectSource=function(e){return Qne.call(e)});var ere,tre,nre,rre=Jne.inspectSource,ire=Ene.WeakMap,ore="function"==typeof ire&&/native code/.test(rre(ire)),are=wne(function(e){(e.exports=function(e,t){return Jne[e]||(Jne[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),sre=0,lre=Math.random(),cre=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++sre+lre).toString(36)},ure=are("keys"),hre=function(e){return ure[e]||(ure[e]=cre(e))},fre={},dre=Ene.WeakMap;if(ore){var pre=Jne.state||(Jne.state=new dre),mre=pre.get,gre=pre.has,vre=pre.set;ere=function(e,t){return t.facade=e,vre.call(pre,e,t),t},tre=function(e){return mre.call(pre,e)||{}},nre=function(e){return gre.call(pre,e)}}else{var yre=hre("state");fre[yre]=!0,ere=function(e,t){return t.facade=e,$ne(e,yre,t),t},tre=function(e){return zne(e,yre)?e[yre]:{}},nre=function(e){return zne(e,yre)}}var _re,bre={set:ere,get:tre,has:nre,enforce:function(e){return nre(e)?tre(e):ere(e,{})},getterFor:function(e){return function(t){var n;if(!Fne(t)||(n=tre(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}},xre=wne(function(e){var t=bre.get,n=bre.enforce,r=String(String).split("String");(e.exports=function(e,t,i,o){var a,s=!!o&&!!o.unsafe,l=!!o&&!!o.enumerable,c=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof t||zne(i,"name")||$ne(i,"name",t),(a=n(i)).source||(a.source=r.join("string"==typeof t?t:""))),e!==Ene?(s?!c&&e[t]&&(l=!0):delete e[t],l?e[t]=i:$ne(e,t,i)):l?e[t]=i:Zne(t,i)})(Function.prototype,"toString",function(){return"function"==typeof this&&t(this).source||rre(this)})}),wre=Ene,Sre=function(e){return"function"==typeof e?e:void 0},Ere=function(e,t){return arguments.length<2?Sre(wre[e])||Sre(Ene[e]):wre[e]&&wre[e][t]||Ene[e]&&Ene[e][t]},Tre=Math.ceil,Are=Math.floor,Mre=function(e){return isNaN(e=+e)?0:(e>0?Are:Tre)(e)},Cre=Math.min,Ore=function(e){return e>0?Cre(Mre(e),9007199254740991):0},Rre=Math.max,Ire=Math.min,kre=function(e,t){var n=Mre(e);return n<0?Rre(n+t,0):Ire(n,t)},Pre={indexOf:(_re=!1,function(e,t,n){var r,i=Lne(e),o=Ore(i.length),a=kre(n,o);if(_re&&t!=t){for(;o>a;)if((r=i[a++])!=r)return!0}else for(;o>a;a++)if((_re||a in i)&&i[a]===t)return _re||a||0;return!_re&&-1})},Dre=Pre.indexOf,Nre=function(e,t){var n,r=Lne(e),i=0,o=[];for(n in r)!zne(fre,n)&&zne(r,n)&&o.push(n);for(;t.length>i;)zne(r,n=t[i++])&&(~Dre(o,n)||o.push(n));return o},Lre=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Fre=Lre.concat("length","prototype"),Ure={f:Object.getOwnPropertyNames||function(e){return Nre(e,Fre)}},Bre={f:Object.getOwnPropertySymbols},zre=Ere("Reflect","ownKeys")||function(e){var t=Ure.f(Xne(e)),n=Bre.f;return n?t.concat(n(e)):t},Vre=function(e,t){for(var n=zre(t),r=Kne.f,i=qne.f,o=0;o<n.length;o++){var a=n[o];zne(e,a)||r(e,a,i(t,a))}},jre=/#|\.prototype\./,Hre=function(e,t){var n=Gre[Wre(e)];return n==Xre||n!=qre&&("function"==typeof t?Tne(t):!!t)},Wre=Hre.normalize=function(e){return String(e).replace(jre,".").toLowerCase()},Gre=Hre.data={},qre=Hre.NATIVE="N",Xre=Hre.POLYFILL="P",Yre=Hre,Kre=qne.f,$re=function(e,t){var n,r,i,o,a,s=e.target,l=e.global,c=e.stat;if(n=l?Ene:c?Ene[s]||Zne(s,{}):(Ene[s]||{}).prototype)for(r in t){if(o=t[r],i=e.noTargetGet?(a=Kre(n,r))&&a.value:n[r],!Yre(l?r:s+(c?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;Vre(o,i)}(e.sham||i&&i.sham)&&$ne(o,"sham",!0),xre(n,r,o,e)}},Zre=function(e,t){var n=[][e];return!!n&&Tne(function(){n.call(null,t||function(){throw 1},1)})},Jre=Object.defineProperty,Qre={},eie=function(e){throw e},tie=function(e,t){if(zne(Qre,e))return Qre[e];t||(t={});var n=[][e],r=!!zne(t,"ACCESSORS")&&t.ACCESSORS,i=zne(t,0)?t[0]:eie,o=zne(t,1)?t[1]:void 0;return Qre[e]=!!n&&!Tne(function(){if(r&&!Ane)return!0;var e={length:-1};r?Jre(e,1,{enumerable:!0,get:eie}):e[1]=1,n.call(e,i,o)})},nie=Pre.indexOf,rie=[].indexOf,iie=!!rie&&1/[1].indexOf(1,-0)<0,oie=Zre("indexOf"),aie=tie("indexOf",{ACCESSORS:!0,1:0});function sie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lie(e,t,n){return n&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e,n),e}$re({target:"Array",proto:!0,forced:iie||!oie||!aie},{indexOf:function(e){return iie?rie.apply(this,arguments)||0:nie(this,e,arguments.length>1?arguments[1]:void 0)}}),function(){function e(){sie(this,e)}lie(e,0,[{key:"isInBrowser",value:function(){return"undefined"!=typeof window}},{key:"isServer",value:function(){return"undefined"==typeof window}},{key:"getUA",value:function(){return e.isInBrowser()?window.navigator.userAgent.toLowerCase():""}},{key:"isMobile",value:function(){return/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion)}},{key:"isOpera",value:function(){return-1!==navigator.userAgent.indexOf("Opera")}},{key:"isIE",value:function(){var t=e.getUA();return""!==t&&t.indexOf("msie")>0}},{key:"isIE9",value:function(){var t=e.getUA();return""!==t&&t.indexOf("msie 9.0")>0}},{key:"isEdge",value:function(){var t=e.getUA();return""!==t&&t.indexOf("edge/")>0}},{key:"isChrome",value:function(){var t=e.getUA();return""!==t&&/chrome\/\d+/.test(t)&&!e.isEdge()}},{key:"isPhantomJS",value:function(){var t=e.getUA();return""!==t&&/phantomjs/.test(t)}},{key:"isFirefox",value:function(){var t=e.getUA();return""!==t&&/firefox/.test(t)}}])}();var cie=[].join,uie=Dne!=Object,hie=Zre("join",",");$re({target:"Array",proto:!0,forced:uie||!hie},{join:function(e){return cie.call(Lne(this),void 0===e?",":e)}});var fie,die,pie=function(e){return Object(Nne(e))},mie=Array.isArray||function(e){return"Array"==kne(e)},gie=!!Object.getOwnPropertySymbols&&!Tne(function(){return!String(Symbol())}),vie=gie&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,yie=are("wks"),_ie=Ene.Symbol,bie=vie?_ie:_ie&&_ie.withoutSetter||cre,xie=function(e){return zne(yie,e)||(gie&&zne(_ie,e)?yie[e]=_ie[e]:yie[e]=bie("Symbol."+e)),yie[e]},wie=xie("species"),Sie=function(e,t){var n;return mie(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!mie(n.prototype)?Fne(n)&&null===(n=n[wie])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)},Eie=function(e,t,n){var r=Une(t);r in e?Kne.f(e,r,Rne(0,n)):e[r]=n},Tie=Ere("navigator","userAgent")||"",Aie=Ene.process,Mie=Aie&&Aie.versions,Cie=Mie&&Mie.v8;Cie?die=(fie=Cie.split("."))[0]+fie[1]:Tie&&(!(fie=Tie.match(/Edge\/(\d+)/))||fie[1]>=74)&&(fie=Tie.match(/Chrome\/(\d+)/))&&(die=fie[1]);var Oie=die&&+die,Rie=xie("species"),Iie=function(e){return Oie>=51||!Tne(function(){var t=[];return(t.constructor={})[Rie]=function(){return{foo:1}},1!==t[e](Boolean).foo})},kie=Iie("splice"),Pie=tie("splice",{ACCESSORS:!0,0:0,1:2}),Die=Math.max,Nie=Math.min;$re({target:"Array",proto:!0,forced:!kie||!Pie},{splice:function(e,t){var n,r,i,o,a,s,l=pie(this),c=Ore(l.length),u=kre(e,c),h=arguments.length;if(0===h?n=r=0:1===h?(n=0,r=c-u):(n=h-2,r=Nie(Die(Mre(t),0),c-u)),c+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(i=Sie(l,r),o=0;o<r;o++)(a=u+o)in l&&Eie(i,o,l[a]);if(i.length=r,n<r){for(o=u;o<c-r;o++)s=o+n,(a=o+r)in l?l[s]=l[a]:delete l[s];for(o=c;o>c-r+n;o--)delete l[o-1]}else if(n>r)for(o=c-r;o>u;o--)s=o+n-1,(a=o+r-1)in l?l[s]=l[a]:delete l[s];for(o=0;o<n;o++)l[o+u]=arguments[o+2];return l.length=c-r+n,i}});var Lie={};Lie[xie("toStringTag")]="z";var Fie="[object z]"===String(Lie),Uie=xie("toStringTag"),Bie="Arguments"==kne(function(){return arguments}()),zie=Fie?kne:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=Object(e),Uie))?n:Bie?kne(t):"Object"==(r=kne(t))&&"function"==typeof t.callee?"Arguments":r},Vie=Fie?{}.toString:function(){return"[object "+zie(this)+"]"};Fie||xre(Object.prototype,"toString",Vie,{unsafe:!0});var jie=function(){var e=Xne(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Hie(e,t){return RegExp(e,t)}var Wie,Gie,qie={UNSUPPORTED_Y:Tne(function(){var e=Hie("a","y");return e.lastIndex=2,null!=e.exec("abcd")}),BROKEN_CARET:Tne(function(){var e=Hie("^r","gy");return e.lastIndex=2,null!=e.exec("str")})},Xie=RegExp.prototype.exec,Yie=String.prototype.replace,Kie=Xie,$ie=(Wie=/a/,Gie=/b*/g,Xie.call(Wie,"a"),Xie.call(Gie,"a"),0!==Wie.lastIndex||0!==Gie.lastIndex),Zie=qie.UNSUPPORTED_Y||qie.BROKEN_CARET,Jie=void 0!==/()??/.exec("")[1];($ie||Jie||Zie)&&(Kie=function(e){var t,n,r,i,o=this,a=Zie&&o.sticky,s=jie.call(o),l=o.source,c=0,u=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),n=new RegExp("^(?:"+l+")",s)),Jie&&(n=new RegExp("^"+l+"$(?!\\s)",s)),$ie&&(t=o.lastIndex),r=Xie.call(a?n:o,u),a?r?(r.input=r.input.slice(c),r[0]=r[0].slice(c),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:$ie&&r&&(o.lastIndex=o.global?r.index+r[0].length:t),Jie&&r&&r.length>1&&Yie.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r});var Qie=Kie;$re({target:"RegExp",proto:!0,forced:/./.exec!==Qie},{exec:Qie});var eoe=RegExp.prototype,toe=eoe.toString,noe=Tne(function(){return"/a/b"!=toe.call({source:"a",flags:"b"})}),roe="toString"!=toe.name;(noe||roe)&&xre(RegExp.prototype,"toString",function(){var e=Xne(this),t=String(e.source),n=e.flags;return"/"+t+"/"+String(void 0===n&&e instanceof RegExp&&!("flags"in eoe)?jie.call(e):n)},{unsafe:!0});var ioe=xie("species"),ooe=!Tne(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),aoe="$0"==="a".replace(/./,"$0"),soe=xie("replace"),loe=!!/./[soe]&&""===/./[soe]("a","$0"),coe=!Tne(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}),uoe=function(e,t,n,r){var i=xie(e),o=!Tne(function(){var t={};return t[i]=function(){return 7},7!=""[e](t)}),a=o&&!Tne(function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[ioe]=function(){return n},n.flags="",n[i]=/./[i]),n.exec=function(){return t=!0,null},n[i](""),!t});if(!o||!a||"replace"===e&&(!ooe||!aoe||loe)||"split"===e&&!coe){var s=/./[i],l=n(i,""[e],function(e,t,n,r,i){return t.exec===Qie?o&&!i?{done:!0,value:s.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}},{REPLACE_KEEPS_$0:aoe,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:loe}),c=l[0],u=l[1];xre(String.prototype,e,c),xre(RegExp.prototype,i,function(e,t){return u.call(e,this,t)})}r&&$ne(RegExp.prototype[i],"sham",!0)},hoe=xie("match"),foe=function(e){var t;return Fne(e)&&(void 0!==(t=e[hoe])?!!t:"RegExp"==kne(e))},doe=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},poe=xie("species"),moe={charAt:function(e){return function(t,n){var r,i,o=String(Nne(t)),a=Mre(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}(!0)},goe=moe.charAt,voe=function(e,t,n){return t+(n?goe(e,t).length:1)},yoe=function(e,t){var n=e.exec;if("function"==typeof n){var r=n.call(e,t);if("object"!=typeof r)throw TypeError("RegExp exec method returned something other than an Object or null");return r}if("RegExp"!==kne(e))throw TypeError("RegExp#exec called on incompatible receiver");return Qie.call(e,t)},_oe=[].push,boe=Math.min,xoe=!Tne(function(){return!RegExp(4294967295,"y")});uoe("split",0,function(e,t,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var r=String(Nne(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===e)return[r];if(!foe(e))return t.call(r,e,i);for(var o,a,s,l=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),u=0,h=new RegExp(e.source,c+"g");(o=Qie.call(h,r))&&!((a=h.lastIndex)>u&&(l.push(r.slice(u,o.index)),o.length>1&&o.index<r.length&&_oe.apply(l,o.slice(1)),s=o[0].length,u=a,l.length>=i));)h.lastIndex===o.index&&h.lastIndex++;return u===r.length?!s&&h.test("")||l.push(""):l.push(r.slice(u)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var i=Nne(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,n):r.call(String(i),t,n)},function(e,i){var o=n(r,e,this,i,r!==t);if(o.done)return o.value;var a=Xne(e),s=String(this),l=function(e,t){var n,r=Xne(e).constructor;return void 0===r||null==(n=Xne(r)[poe])?t:doe(n)}(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(xoe?"y":"g"),h=new l(xoe?a:"^(?:"+a.source+")",u),f=void 0===i?4294967295:i>>>0;if(0===f)return[];if(0===s.length)return null===yoe(h,s)?[s]:[];for(var d=0,p=0,m=[];p<s.length;){h.lastIndex=xoe?p:0;var g,v=yoe(h,xoe?s:s.slice(p));if(null===v||(g=boe(Ore(h.lastIndex+(xoe?0:p)),s.length))===d)p=voe(s,p,c);else{if(m.push(s.slice(d,p)),m.length===f)return m;for(var y=1;y<=v.length-1;y++)if(m.push(v[y]),m.length===f)return m;p=d=g}}return m.push(s.slice(d)),m}]},!xoe);var woe="\t\n\v\f\r \u2028\u2029\ufeff",Soe="["+woe+"]",Eoe=RegExp("^"+Soe+Soe+"*"),Toe=RegExp(Soe+Soe+"*$"),Aoe={trim:function(e){return function(t){var n=String(Nne(t));return 1&e&&(n=n.replace(Eoe,"")),2&e&&(n=n.replace(Toe,"")),n}}(3)},Moe=Aoe.trim;$re({target:"String",proto:!0,forced:function(e){return Tne(function(){return!!woe[e]()||""!=""[e]()||woe[e].name!==e})}("trim")},{trim:function(){return Moe(this)}});var Coe=Iie("slice"),Ooe=tie("slice",{ACCESSORS:!0,0:0,1:2}),Roe=xie("species"),Ioe=[].slice,koe=Math.max;$re({target:"Array",proto:!0,forced:!Coe||!Ooe},{slice:function(e,t){var n,r,i,o=Lne(this),a=Ore(o.length),s=kre(e,a),l=kre(void 0===t?a:t,a);if(mie(o)&&("function"!=typeof(n=o.constructor)||n!==Array&&!mie(n.prototype)?Fne(n)&&null===(n=n[Roe])&&(n=void 0):n=void 0,n===Array||void 0===n))return Ioe.call(o,s,l);for(r=new(void 0===n?Array:n)(koe(l-s,0)),i=0;s<l;s++,i++)s in o&&Eie(r,i,o[s]);return r.length=i,r}});var Poe=Object.keys||function(e){return Nre(e,Lre)},Doe=Tne(function(){Poe(1)});$re({target:"Object",stat:!0,forced:Doe},{keys:function(e){return Poe(pie(e))}});var Noe,Loe=xie("match"),Foe=qne.f,Uoe="".startsWith,Boe=Math.min,zoe=function(e){var t=/./;try{"/./"[e](t)}catch(MI){try{return t[Loe]=!1,"/./"[e](t)}catch(n){}}return!1}("startsWith"),Voe=!(zoe||(Noe=Foe(String.prototype,"startsWith"),!Noe||Noe.writable));function joe(e){return(joe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}$re({target:"String",proto:!0,forced:!Voe&&!zoe},{startsWith:function(e){var t=String(Nne(this));!function(e){if(foe(e))throw TypeError("The method doesn't accept regular expressions")}(e);var n=Ore(Boe(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Uoe?Uoe.call(t,r,n):t.slice(n,n+r.length)===r}});var Hoe=function(e){return"string"==typeof e},Woe=function(e){return null!==e&&"object"===joe(e)},Goe=function(){function e(){sie(this,e)}return lie(e,0,[{key:"isWindow",value:function(e){return e===window}},{key:"addEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.addEventListener(t,n,r)}},{key:"removeEventListener",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e&&t&&n&&e.removeEventListener(t,n,r)}},{key:"triggerDragEvent",value:function(t,n){var r=!1,i=function(e){var t;null===(t=n.drag)||void 0===t||t.call(n,e)},o=function t(o){var a;e.removeEventListener(document,"mousemove",i),e.removeEventListener(document,"mouseup",t),document.onselectstart=null,document.ondragstart=null,r=!1,null===(a=n.end)||void 0===a||a.call(n,o)};e.addEventListener(t,"mousedown",function(t){var a;r||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},e.addEventListener(document,"mousemove",i),e.addEventListener(document,"mouseup",o),r=!0,null===(a=n.start)||void 0===a||a.call(n,t))})}},{key:"getBoundingClientRect",value:function(e){return e&&Woe(e)&&1===e.nodeType?e.getBoundingClientRect():null}},{key:"hasClass",value:function(e,t){return!!(e&&Woe(e)&&Hoe(t)&&1===e.nodeType)&&e.classList.contains(t.trim())}},{key:"addClass",value:function(t,n){if(t&&Woe(t)&&Hoe(n)&&1===t.nodeType&&(n=n.trim(),!e.hasClass(t,n))){var r=t.className;t.className=r?r+" "+n:n}}},{key:"removeClass",value:function(e,t){if(e&&Woe(e)&&Hoe(t)&&1===e.nodeType&&"string"==typeof e.className){t=t.trim();for(var n=e.className.trim().split(" "),r=n.length-1;r>=0;r--)n[r]=n[r].trim(),n[r]&&n[r]!==t||n.splice(r,1);e.className=n.join(" ")}}},{key:"toggleClass",value:function(e,t,n){e&&Woe(e)&&Hoe(t)&&1===e.nodeType&&e.classList.toggle(t,n)}},{key:"replaceClass",value:function(t,n,r){t&&Woe(t)&&Hoe(n)&&Hoe(r)&&1===t.nodeType&&(n=n.trim(),r=r.trim(),e.removeClass(t,n),e.addClass(t,r))}},{key:"getScrollTop",value:function(e){var t="scrollTop"in e?e.scrollTop:e.pageYOffset;return Math.max(t,0)}},{key:"setScrollTop",value:function(e,t){"scrollTop"in e?e.scrollTop=t:e.scrollTo(e.scrollX,t)}},{key:"getRootScrollTop",value:function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}},{key:"setRootScrollTop",value:function(t){e.setScrollTop(window,t),e.setScrollTop(document.body,t)}},{key:"getElementTop",value:function(t,n){if(e.isWindow(t))return 0;var r=n?e.getScrollTop(n):e.getRootScrollTop();return t.getBoundingClientRect().top+r}},{key:"getVisibleHeight",value:function(t){return e.isWindow(t)?t.innerHeight:t.getBoundingClientRect().height}},{key:"isHidden",value:function(e){if(!e)return!1;var t=window.getComputedStyle(e),n="none"===t.display,r=null===e.offsetParent&&"fixed"!==t.position;return n||r}},{key:"triggerEvent",value:function(e,t){if("createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent(t,!1,!0),e.dispatchEvent(n)}}},{key:"calcAngle",value:function(e,t){var n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=Math.abs(r-t.clientX),a=Math.abs(i-t.clientY),s=a/Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),l=Math.acos(s),c=Math.floor(180/(Math.PI/l));return t.clientX>r&&t.clientY>i&&(c=180-c),t.clientX==r&&t.clientY>i&&(c=180),t.clientX>r&&t.clientY==i&&(c=90),t.clientX<r&&t.clientY>i&&(c=180+c),t.clientX<r&&t.clientY==i&&(c=270),t.clientX<r&&t.clientY<i&&(c=360-c),c}},{key:"querySelector",value:function(e,t){return t?t.querySelector(e):document.querySelector(e)}},{key:"createElement",value:function(e){for(var t=document.createElement(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<r.length;o++)r[o]&&t.classList.add(r[o]);return t}},{key:"appendChild",value:function(e){for(var t=0;t<(arguments.length<=1?0:arguments.length-1);t++)e.appendChild(t+1<1||arguments.length<=t+1?void 0:arguments[t+1])}},{key:"getWindow",value:function(e){if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}},{key:"isElement",value:function(e){return e instanceof this.getWindow(e).Element||e instanceof Element}},{key:"isHTMLElement",value:function(e){return e instanceof this.getWindow(e).HTMLElement||e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return"undefined"!=typeof ShadowRoot&&(e instanceof this.getWindow(e).ShadowRoot||e instanceof ShadowRoot)}},{key:"getWindowScroll",value:function(e){var t=this.getWindow(e);return{scrollLeft:t.pageXOffset||0,scrollTop:t.pageYOffset||0}}}]),e}(),qoe=Math.floor,Xoe="".replace,Yoe=/\$([$&'`]|\d\d?|<[^>]*>)/g,Koe=/\$([$&'`]|\d\d?)/g,$oe=function(e,t,n,r,i,o){var a=n+e.length,s=r.length,l=Koe;return void 0!==i&&(i=pie(i),l=Yoe),Xoe.call(o,l,function(o,l){var c;switch(l.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(a);case"<":c=i[l.slice(1,-1)];break;default:var u=+l;if(0===u)return o;if(u>s){var h=qoe(u/10);return 0===h?o:h<=s?void 0===r[h-1]?l.charAt(1):r[h-1]+l.charAt(1):o}c=r[u-1]}return void 0===c?"":c})},Zoe=Math.max,Joe=Math.min;uoe("replace",0,function(e,t,n,r){var i=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=r.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(n,r){var i=Nne(this),o=null==n?void 0:n[e];return void 0!==o?o.call(n,i,r):t.call(String(i),n,r)},function(e,r){if(!i&&o||"string"==typeof r&&-1===r.indexOf(a)){var s=n(t,e,this,r);if(s.done)return s.value}var l=Xne(e),c=String(this),u="function"==typeof r;u||(r=String(r));var h=l.global;if(h){var f=l.unicode;l.lastIndex=0}for(var d=[];;){var p=yoe(l,c);if(null===p)break;if(d.push(p),!h)break;""===String(p[0])&&(l.lastIndex=voe(c,Ore(l.lastIndex),f))}for(var m,g="",v=0,y=0;y<d.length;y++){p=d[y];for(var _=String(p[0]),b=Zoe(Joe(Mre(p.index),c.length),0),x=[],w=1;w<p.length;w++)x.push(void 0===(m=p[w])?m:String(m));var S=p.groups;if(u){var E=[_].concat(x,b,c);void 0!==S&&E.push(S);var T=String(r.apply(void 0,E))}else T=$oe(_,c,b,x,S,r);b>=v&&(g+=c.slice(v,b)+T,v=b+_.length)}return g+c.slice(v)}]}),function(){function e(){sie(this,e)}lie(e,0,[{key:"camelize",value:function(e){return e.replace(/-(\w)/g,function(e,t){return t?t.toUpperCase():""})}},{key:"capitalize",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}}])}(),function(){function e(){sie(this,e)}lie(e,0,[{key:"_clone",value:function(){}}])}();var Qoe=xie("isConcatSpreadable"),eae=Oie>=51||!Tne(function(){var e=[];return e[Qoe]=!1,e.concat()[0]!==e}),tae=Iie("concat"),nae=function(e){if(!Fne(e))return!1;var t=e[Qoe];return void 0!==t?!!t:mie(e)};$re({target:"Array",proto:!0,forced:!eae||!tae},{concat:function(e){var t,n,r,i,o,a=pie(this),s=Sie(a,0),l=0;for(t=-1,r=arguments.length;t<r;t++)if(nae(o=-1===t?a:arguments[t])){if(l+(i=Ore(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,l++)n in o&&Eie(s,l,o[n])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");Eie(s,l++,o)}return s.length=l,s}});var rae,iae=function(e,t,n){if(doe(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},oae=[].push,aae=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(l,c,u,h){for(var f,d,p=pie(l),m=Dne(p),g=iae(c,u,3),v=Ore(m.length),y=0,_=h||Sie,b=t?_(l,v):n||a?_(l,0):void 0;v>y;y++)if((s||y in m)&&(d=g(f=m[y],y,p),e))if(t)b[y]=d;else if(d)switch(e){case 3:return!0;case 5:return f;case 6:return y;case 2:oae.call(b,f)}else switch(e){case 4:return!1;case 7:oae.call(b,f)}return o?-1:r||i?i:b}},sae={find:aae(5),findIndex:aae(6)},lae=Ane?Object.defineProperties:function(e,t){Xne(e);for(var n,r=Poe(t),i=r.length,o=0;i>o;)Kne.f(e,n=r[o++],t[n]);return e},cae=Ere("document","documentElement"),uae=hre("IE_PROTO"),hae=function(){},fae=function(e){return"<script>"+e+"<\/script>"},dae=function(){try{rae=document.domain&&new ActiveXObject("htmlfile")}catch(r){}var e,t;dae=rae?function(e){e.write(fae("")),e.close();var t=e.parentWindow.Object;return e=null,t}(rae):((t=Hne("iframe")).style.display="none",cae.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(fae("document.F=Object")),e.close(),e.F);for(var n=Lre.length;n--;)delete dae.prototype[Lre[n]];return dae()};fre[uae]=!0;var pae=Object.create||function(e,t){var n;return null!==e?(hae.prototype=Xne(e),n=new hae,hae.prototype=null,n[uae]=e):n=dae(),void 0===t?n:lae(n,t)},mae=xie("unscopables"),gae=Array.prototype;null==gae[mae]&&Kne.f(gae,mae,{configurable:!0,value:pae(null)});var vae=function(e){gae[mae][e]=!0},yae=sae.find,_ae=!0,bae=tie("find");"find"in[]&&Array(1).find(function(){_ae=!1}),$re({target:"Array",proto:!0,forced:_ae||!bae},{find:function(e){return yae(this,e,arguments.length>1?arguments[1]:void 0)}}),vae("find");var xae=sae.findIndex,wae=!0,Sae=tie("findIndex");"findIndex"in[]&&Array(1).findIndex(function(){wae=!1}),$re({target:"Array",proto:!0,forced:wae||!Sae},{findIndex:function(e){return xae(this,e,arguments.length>1?arguments[1]:void 0)}}),vae("findIndex");var Eae=function(e,t,n,r,i,o,a,s){for(var l,c=i,u=0,h=!!a&&iae(a,s,3);u<r;){if(u in n){if(l=h?h(n[u],u,t):n[u],o>0&&mie(l))c=Eae(e,t,l,Ore(l.length),c,o-1)-1;else{if(c>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[c]=l}c++}u++}return c},Tae=Eae;$re({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=pie(this),n=Ore(t.length),r=Sie(t,0);return r.length=Tae(r,t,t,n,0,void 0===e?1:Mre(e)),r}});var Aae=function(e){var t=e.return;if(void 0!==t)return Xne(t.call(e)).value},Mae=function(e,t,n,r){try{return r?t(Xne(n)[0],n[1]):t(n)}catch(i){throw Aae(e),i}},Cae={},Oae=xie("iterator"),Rae=Array.prototype,Iae=function(e){return void 0!==e&&(Cae.Array===e||Rae[Oae]===e)},kae=xie("iterator"),Pae=function(e){if(null!=e)return e[kae]||e["@@iterator"]||Cae[zie(e)]},Dae=xie("iterator"),Nae=!1;try{var Lae=0,Fae={next:function(){return{done:!!Lae++}},return:function(){Nae=!0}};Fae[Dae]=function(){return this},Array.from(Fae,function(){throw 2})}catch(_re){}var Uae=function(e,t){if(!Nae)return!1;var n=!1;try{var r={};r[Dae]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(i){}return n},Bae=!Uae(function(e){Array.from(e)});$re({target:"Array",stat:!0,forced:Bae},{from:function(e){var t,n,r,i,o,a,s=pie(e),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,h=void 0!==u,f=Pae(s),d=0;if(h&&(u=iae(u,c>2?arguments[2]:void 0,2)),null==f||l==Array&&Iae(f))for(n=new l(t=Ore(s.length));t>d;d++)a=h?u(s[d],d):s[d],Eie(n,d,a);else for(o=(i=f.call(s)).next,n=new l;!(r=o.call(i)).done;d++)a=h?Mae(i,u,[r.value,d],!0):r.value,Eie(n,d,a);return n.length=d,n}});var zae={left:function(e){return function(t,n,r,i){doe(n);var o=pie(t),a=Dne(o),s=Ore(o.length),l=e?s-1:0,c=e?-1:1;if(r<2)for(;;){if(l in a){i=a[l],l+=c;break}if(l+=c,e?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;e?l>=0:s>l;l+=c)l in a&&(i=n(i,a[l],l,o));return i}}(!1)},Vae="process"==kne(Ene.process),jae=zae.left,Hae=Zre("reduce"),Wae=tie("reduce",{1:0});$re({target:"Array",proto:!0,forced:!Hae||!Wae||!Vae&&Oie>79&&Oie<83},{reduce:function(e){return jae(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}}),vae("flat");var Gae,qae,Xae,Yae=!Tne(function(){return Object.isExtensible(Object.preventExtensions({}))}),Kae=wne(function(e){var t=Kne.f,n=cre("meta"),r=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,n,{value:{objectID:"O"+ ++r,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!Fne(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!zne(e,n)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[n].objectID},getWeakData:function(e,t){if(!zne(e,n)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[n].weakData},onFreeze:function(e){return Yae&&a.REQUIRED&&i(e)&&!zne(e,n)&&o(e),e}};fre[n]=!0}),$ae=function(e,t){this.stopped=e,this.result=t},Zae=function(e,t,n){var r,i,o,a,s,l,c,u=n&&n.that,h=!(!n||!n.AS_ENTRIES),f=!(!n||!n.IS_ITERATOR),d=!(!n||!n.INTERRUPTED),p=iae(t,u,1+h+d),m=function(e){return r&&Aae(r),new $ae(!0,e)},g=function(e){return h?(Xne(e),d?p(e[0],e[1],m):p(e[0],e[1])):d?p(e,m):p(e)};if(f)r=e;else{if("function"!=typeof(i=Pae(e)))throw TypeError("Target is not iterable");if(Iae(i)){for(o=0,a=Ore(e.length);a>o;o++)if((s=g(e[o]))&&s instanceof $ae)return s;return new $ae(!1)}r=i.call(e)}for(l=r.next;!(c=l.call(r)).done;){try{s=g(c.value)}catch(v){throw Aae(r),v}if("object"==typeof s&&s&&s instanceof $ae)return s}return new $ae(!1)},Jae=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e},Qae=Kne.f,ese=xie("toStringTag"),tse=function(e,t,n){e&&!zne(e=n?e:e.prototype,ese)&&Qae(e,ese,{configurable:!0,value:t})},nse=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(r){}return function(n,r){return Xne(n),function(e){if(!Fne(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype")}(r),t?e.call(n,r):n.__proto__=r,n}}():void 0),rse=function(e,t,n){for(var r in t)xre(e,r,t[r],n);return e},ise=!Tne(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ose=hre("IE_PROTO"),ase=Object.prototype,sse=ise?Object.getPrototypeOf:function(e){return e=pie(e),zne(e,ose)?e[ose]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?ase:null},lse=xie("iterator"),cse=!1;[].keys&&("next"in(Xae=[].keys())?(qae=sse(sse(Xae)))!==Object.prototype&&(Gae=qae):cse=!0),(null==Gae||Tne(function(){var e={};return Gae[lse].call(e)!==e}))&&(Gae={}),zne(Gae,lse)||$ne(Gae,lse,function(){return this});var use={IteratorPrototype:Gae,BUGGY_SAFARI_ITERATORS:cse},hse=use.IteratorPrototype,fse=function(){return this},dse=use.IteratorPrototype,pse=use.BUGGY_SAFARI_ITERATORS,mse=xie("iterator"),gse=function(){return this},vse=function(e,t,n,r,i,o,a){!function(e,t,n){var r=t+" Iterator";e.prototype=pae(hse,{next:Rne(1,n)}),tse(e,r,!1),Cae[r]=fse}(n,t,r);var s,l,c,u=function(e){if(e===i&&m)return m;if(!pse&&e in d)return d[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},h=t+" Iterator",f=!1,d=e.prototype,p=d[mse]||d["@@iterator"]||i&&d[i],m=!pse&&p||u(i),g="Array"==t&&d.entries||p;if(g&&(s=sse(g.call(new e)),dse!==Object.prototype&&s.next&&(sse(s)!==dse&&(nse?nse(s,dse):"function"!=typeof s[mse]&&$ne(s,mse,gse)),tse(s,h,!0))),"values"==i&&p&&"values"!==p.name&&(f=!0,m=function(){return p.call(this)}),d[mse]!==m&&$ne(d,mse,m),Cae[t]=m,i)if(l={values:u("values"),keys:o?m:u("keys"),entries:u("entries")},a)for(c in l)(pse||f||!(c in d))&&xre(d,c,l[c]);else $re({target:t,proto:!0,forced:pse||f},l);return l},yse=xie("species"),_se=Kne.f,bse=Kae.fastKey,xse=bre.set,wse=bre.getterFor;!function(e,t,n){var r=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),o=r?"set":"add",a=Ene[e],s=a&&a.prototype,l=a,c={},u=function(e){var t=s[e];xre(s,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!Fne(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!Fne(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!Fne(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(Yre(e,"function"!=typeof a||!(i||s.forEach&&!Tne(function(){(new a).entries().next()}))))l=n.getConstructor(t,e,r,o),Kae.REQUIRED=!0;else if(Yre(e,!0)){var h=new l,f=h[o](i?{}:-0,1)!=h,d=Tne(function(){h.has(1)}),p=Uae(function(e){new a(e)}),m=!i&&Tne(function(){for(var e=new a,t=5;t--;)e[o](t,t);return!e.has(-0)});p||((l=t(function(t,n){Jae(t,l,e);var i,s,c,u,h,f=(i=new a,s=t,c=l,nse&&"function"==typeof(u=s.constructor)&&u!==c&&Fne(h=u.prototype)&&h!==c.prototype&&nse(i,h),i);return null!=n&&Zae(n,f[o],{that:f,AS_ENTRIES:r}),f})).prototype=s,s.constructor=l),(d||m)&&(u("delete"),u("has"),r&&u("get")),(m||f)&&u(o),i&&s.clear&&delete s.clear}c[e]=l,$re({global:!0,forced:l!=a},c),tse(l,e),i||n.setStrong(l,e,r)}("Set",function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},{getConstructor:function(e,t,n,r){var i=e(function(e,o){Jae(e,i,t),xse(e,{type:t,index:pae(null),first:void 0,last:void 0,size:0}),Ane||(e.size=0),null!=o&&Zae(o,e[r],{that:e,AS_ENTRIES:n})}),o=wse(t),a=function(e,t,n){var r,i,a=o(e),l=s(e,t);return l?l.value=n:(a.last=l={index:i=bse(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=l),r&&(r.next=l),Ane?a.size++:e.size++,"F"!==i&&(a.index[i]=l)),e},s=function(e,t){var n,r=o(e),i=bse(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return rse(i.prototype,{clear:function(){for(var e=o(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,Ane?e.size=0:this.size=0},delete:function(e){var t=this,n=o(t),r=s(t,e);if(r){var i=r.next,a=r.previous;delete n.index[r.index],r.removed=!0,a&&(a.next=i),i&&(i.previous=a),n.first==r&&(n.first=i),n.last==r&&(n.last=a),Ane?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=o(this),r=iae(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!s(this,e)}}),rse(i.prototype,n?{get:function(e){var t=s(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),Ane&&_se(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,n){var r=t+" Iterator",i=wse(t),o=wse(r);vse(e,t,function(e,t){xse(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),function(e){var t=Ere(e),n=Kne.f;Ane&&t&&!t[yse]&&n(t,yse,{configurable:!0,get:function(){return this}})}(t)}});var Sse=moe.charAt,Ese=bre.set,Tse=bre.getterFor("String Iterator");vse(String,"String",function(e){Ese(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=Tse(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=Sse(n,r),t.index+=e.length,{value:e,done:!1})});var Ase={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Mse=bre.set,Cse=bre.getterFor("Array Iterator"),Ose=vse(Array,"Array",function(e,t){Mse(this,{type:"Array Iterator",target:Lne(e),index:0,kind:t})},function(){var e=Cse(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values");Cae.Arguments=Cae.Array,vae("keys"),vae("values"),vae("entries");var Rse=xie("iterator"),Ise=xie("toStringTag"),kse=Ose.values;for(var Pse in Ase){var Dse=Ene[Pse],Nse=Dse&&Dse.prototype;if(Nse){if(Nse[Rse]!==kse)try{$ne(Nse,Rse,kse)}catch(_re){Nse[Rse]=kse}if(Nse[Ise]||$ne(Nse,Ise,Pse),Ase[Pse])for(var Lse in Ose)if(Nse[Lse]!==Ose[Lse])try{$ne(Nse,Lse,Ose[Lse])}catch(_re){Nse[Lse]=Ose[Lse]}}}!function(){function e(){sie(this,e)}lie(e,0,[{key:"deduplicate",value:function(e){return Array.from(new Set(e))}},{key:"flat",value:function(t){return t.reduce(function(t,n){var r=Array.isArray(n)?e.flat(n):n;return t.concat(r)},[])}},{key:"find",value:function(e,t){return e.find(t)}},{key:"findIndex",value:function(e,t){return e.findIndex(t)}}])}(),function(){function e(){sie(this,e)}lie(e,0,[{key:"today",value:function(){return new Date}}])}(),function(){function e(){sie(this,e)}lie(e,0,[{key:"range",value:function(e,t,n){return Math.min(Math.max(e,t),n)}},{key:"clamp",value:function(e,t,n){return t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e}}])}();var Fse=Object.defineProperty,Use=(e,t,n)=>(((e,t,n)=>{t in e?Fse(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);const Bse=e=>Math.round(100*e)/100;class zse{constructor(e){Use(this,"instance"),Use(this,"alphaValue",0),Use(this,"redValue",0),Use(this,"greenValue",0),Use(this,"blueValue",0),Use(this,"hueValue",0),Use(this,"saturationValue",0),Use(this,"brightnessValue",0),Use(this,"hslSaturationValue",0),Use(this,"lightnessValue",0),Use(this,"initAlpha",()=>{const e=this.instance.getAlpha();this.alphaValue=100*Math.min(1,e)}),Use(this,"initLightness",()=>{const{s:e,l:t}=this.instance.toHsl();this.hslSaturationValue=Bse(e),this.lightnessValue=Bse(t)}),Use(this,"initRgb",()=>{const{r:e,g:t,b:n}=this.instance.toRgb();this.redValue=Bse(e),this.greenValue=Bse(t),this.blueValue=Bse(n)}),Use(this,"initHsb",()=>{const{h:e,s:t,v:n}=this.instance.toHsv();this.hueValue=Math.min(360,Math.ceil(e)),this.saturationValue=Bse(t),this.brightnessValue=Bse(n)}),Use(this,"toHexString",()=>this.instance.toHexString()),Use(this,"toRgbString",()=>this.instance.toRgbString()),this.instance=Y7(e),this.initRgb(),this.initHsb(),this.initLightness(),this.initAlpha()}toString(e){return this.instance.toString(e)}get hex(){return this.instance.toHex()}set hex(e){this.instance=Y7(e),this.initHsb(),this.initRgb(),this.initAlpha(),this.initLightness()}set hue(e){0===this.saturation&&0===this.brightness&&(this.saturationValue=1,this.brightnessValue=1),this.instance=Y7({h:Bse(e),s:this.saturation,v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.hueValue=Bse(e)}get hue(){return this.hueValue}set saturation(e){this.instance=Y7({h:this.hue,s:Bse(e),v:this.brightness,a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.saturationValue=Bse(e)}get saturation(){return this.saturationValue}set brightness(e){this.instance=Y7({h:this.hue,s:this.saturation,v:Bse(e),a:this.alphaValue/100}),this.initRgb(),this.initLightness(),this.brightnessValue=Bse(e)}get brightness(){return this.brightnessValue}set lightness(e){this.instance=Y7({h:this.hue,s:this.hslSaturationValue,l:Bse(e),a:this.alphaValue/100}),this.initRgb(),this.initHsb(),this.lightnessValue=Bse(e)}get lightness(){return this.lightnessValue}set red(e){const t=this.instance.toRgb();this.instance=Y7({...t,r:Bse(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.redValue=Bse(e)}get red(){return this.redValue}set green(e){const t=this.instance.toRgb();this.instance=Y7({...t,g:Bse(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.greenValue=Bse(e)}get green(){return this.greenValue}set blue(e){const t=this.instance.toRgb();this.instance=Y7({...t,b:Bse(e),a:this.alphaValue/100}),this.initHsb(),this.initLightness(),this.blueValue=Bse(e)}get blue(){return this.blueValue}set alpha(e){this.instance.setAlpha(e/100),this.alphaValue=e}get alpha(){return this.alphaValue}get RGB(){return[this.red,this.green,this.blue,parseFloat((this.alpha/100).toFixed(2))]}get HSB(){return[this.hue,this.saturation,this.brightness,parseFloat((this.alpha/100).toFixed(2))]}get HSL(){return[this.hue,this.hslSaturationValue,this.lightness,parseFloat((this.alpha/100).toFixed(2))]}}function Vse(e,t,n,r){return"rgba(".concat([e,t,n,r/100].join(","),")")}const jse=(e,t,n)=>t<n?e<t?t:e>n?n:e:e<n?n:e>t?t:e,Hse="color-history",Wse=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},Gse=Ur({name:"Alpha",props:{color:bne.instanceOf(zse),size:bne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=nn(null),r=nn(null);let i=e.color||new zse;const o=jt({red:i.red,green:i.green,blue:i.blue,alpha:i.alpha});lr(()=>e.color,e=>{e&&(i=e,w4(o,{red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}))},{deep:!0});const a=qa(()=>{const e=Vse(o.red,o.green,o.blue,0),t=Vse(o.red,o.green,o.blue,100);return{background:"linear-gradient(to right, ".concat(e," , ").concat(t,")")}}),s=()=>{if(n.value&&r.value){const e=o.alpha/100,t=n.value.getBoundingClientRect(),i=r.value.offsetWidth;return Math.round(e*(t.width-i)+i/2)}return 0},l=qa(()=>({left:s()+"px",top:0})),c=e=>{if(e.stopPropagation(),n.value&&r.value){const a=n.value.getBoundingClientRect(),s=r.value.offsetWidth;let l=e.clientX-a.left;l=Math.max(s/2,l),l=Math.min(l,a.width-s/2);const c=Math.round((l-s/2)/(a.width-s)*100);i.alpha=c,o.alpha=c,t("change",c)}};return RO(()=>{const e={drag:e=>{c(e)},end:e=>{c(e)}};n.value&&r.value&&Goe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:l,getBackgroundStyle:a,onClickSider:e=>{e.target!==n.value&&c(e)}}}}),qse=[(e=>(Kn("data-v-18925ba6"),e=e(),$n(),e))(()=>pa("div",{class:"vc-alpha-slider__bar-handle"},null,-1))];const Xse=Wse(Gse,[["render",function(e,t,n,r,i,o){return ra(),la("div",{class:ne(["vc-alpha-slider","transparent",{"small-slider":"small"===e.size}])},[pa("div",{ref:"barElement",class:"vc-alpha-slider__bar",style:Z(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[pa("div",{class:ne(["vc-alpha-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Z(e.getCursorStyle)},qse,6)],4)],2)}],["__scopeId","data-v-18925ba6"]]),Yse=[["#fcc02e","#f67c01","#e64a19","#d81b43","#8e24aa","#512da7","#1f87e8","#008781","#05a045"],["#fed835","#fb8c00","#f5511e","#eb1d4e","#9c28b1","#5d35b0","#2097f3","#029688","#4cb050"],["#ffeb3c","#ffa727","#fe5722","#eb4165","#aa47bc","#673bb7","#42a5f6","#26a59a","#83c683"],["#fff176","#ffb74e","#ff8a66","#f1627e","#b968c7","#7986cc","#64b5f6","#80cbc4","#a5d6a7"],["#fff59c","#ffcc80","#ffab91","#fb879e","#cf93d9","#9ea8db","#90caf8","#b2dfdc","#c8e6ca"],["transparent","#ffffff","#dedede","#a9a9a9","#4b4b4b","#353535","#212121","#000000","advance"]],Kse=Ur({name:"Palette",emits:["change"],setup:(e,{emit:t})=>({palettes:Yse,computedBgStyle:e=>"transparent"===e?e:"advance"===e?{}:{background:Y7(e).toRgbString()},onColorChange:e=>{t("change",e)}})}),$se={class:"vc-compact"},Zse=["onClick"];const Jse=Wse(Kse,[["render",function(e,t,n,r,i,o){return ra(),la("div",$se,[(ra(!0),la(Zo,null,Ri(e.palettes,(t,n)=>(ra(),la("div",{key:n,class:"vc-compact__row"},[(ra(!0),la(Zo,null,Ri(t,(t,n)=>(ra(),la("div",{key:n,class:"vc-compact__color-cube--wrap",onClick:n=>e.onColorChange(t)},[pa("div",{class:ne(["vc-compact__color_cube",{advance:"advance"===t,transparent:"transparent"===t}]),style:Z(e.computedBgStyle(t))},null,6)],8,Zse))),128))]))),128))])}],["__scopeId","data-v-b969fd48"]]),Qse=Ur({name:"Board",props:{color:bne.instanceOf(zse),round:bne.bool.def(!1),hide:bne.bool.def(!0)},emits:["change"],setup(e,{emit:t}){var n,r,i;const o=Ra(),a={h:(null==(n=e.color)?void 0:n.hue)||0,s:1,v:1},s=jt({hueColor:new zse(a).toHexString(),saturation:(null==(r=e.color)?void 0:r.saturation)||0,brightness:(null==(i=e.color)?void 0:i.brightness)||0}),l=nn(0),c=nn(0),u=nn(),h=qa(()=>({top:l.value+"px",left:c.value+"px"})),f=()=>{if(o){const e=o.vnode.el;c.value=s.saturation*(null==e?void 0:e.clientWidth),l.value=(1-s.brightness)*(null==e?void 0:e.clientHeight)}};let d=!1;const p=e=>{if(o){const n=o.vnode.el,r=null==n?void 0:n.getBoundingClientRect();let i=e.clientX-r.left,a=e.clientY-r.top;i=jse(i,0,r.width),a=jse(a,0,r.height);const u=i/r.width,h=jse(-a/r.height+1,0,1);c.value=i,l.value=a,s.saturation=u,s.brightness=h,t("change",u,h)}};return RO(()=>{o&&o.vnode.el&&u.value&&Ln(()=>{f()})}),IO(()=>e.color,e=>{w4(s,{hueColor:new zse({h:e.hue,s:1,v:1}).toHexString(),saturation:e.saturation,brightness:e.brightness}),f()},{deep:!0}),{state:s,cursorElement:u,getCursorStyle:h,onClickBoard:e=>{d=!0,p(e)},onDrag:e=>{d&&p(e)},onDragEnd:()=>{d=!1}}}}),ele=e=>(Kn("data-v-7f0cdcdf"),e=e(),$n(),e),tle=ele(()=>pa("div",{class:"vc-saturation__white"},null,-1)),nle=ele(()=>pa("div",{class:"vc-saturation__black"},null,-1)),rle=[ele(()=>pa("div",null,null,-1))];const ile=Wse(Qse,[["render",function(e,t,n,r,i,o){return ra(),la("div",{ref:"boardElement",class:ne(["vc-saturation",{"vc-saturation__chrome":e.round,"vc-saturation__hidden":e.hide}]),style:Z({backgroundColor:e.state.hueColor}),onMousedown:t[0]||(t[0]=(...t)=>e.onClickBoard&&e.onClickBoard(...t)),onMousemove:t[1]||(t[1]=(...t)=>e.onDrag&&e.onDrag(...t)),onMouseup:t[2]||(t[2]=(...t)=>e.onDragEnd&&e.onDragEnd(...t))},[tle,nle,pa("div",{class:"vc-saturation__cursor",ref:"cursorElement",style:Z(e.getCursorStyle)},rle,4)],38)}],["__scopeId","data-v-7f0cdcdf"]]),ole=Ur({name:"Hue",props:{color:bne.instanceOf(zse),size:bne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=nn(null),r=nn(null);let i=e.color||new zse;const o=jt({hue:i.hue||0});lr(()=>e.color,e=>{e&&(i=e,w4(o,{hue:i.hue}))},{deep:!0});const a=()=>{if(n.value&&r.value){const e=n.value.getBoundingClientRect(),t=r.value.offsetWidth;return 360===o.hue?e.width-t/2:o.hue%360*(e.width-t)/360+t/2}return 0},s=qa(()=>({left:a()+"px",top:0})),l=e=>{if(e.stopPropagation(),n.value&&r.value){const a=n.value.getBoundingClientRect(),s=r.value.offsetWidth;let l=e.clientX-a.left;l=Math.min(l,a.width-s/2),l=Math.max(s/2,l);const c=Math.round((l-s/2)/(a.width-s)*360);i.hue=c,o.hue=c,t("change",c)}};return RO(()=>{const e={drag:e=>{l(e)},end:e=>{l(e)}};n.value&&r.value&&Goe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:s,onClickSider:e=>{e.target!==n.value&&l(e)}}}}),ale=[(e=>(Kn("data-v-e1a08576"),e=e(),$n(),e))(()=>pa("div",{class:"vc-hue-slider__bar-handle"},null,-1))];const sle=Wse(ole,[["render",function(e,t,n,r,i,o){return ra(),la("div",{class:ne(["vc-hue-slider",{"small-slider":"small"===e.size}])},[pa("div",{ref:"barElement",class:"vc-hue-slider__bar",onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[pa("div",{class:ne(["vc-hue-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Z(e.getCursorStyle)},ale,6)],512)],2)}],["__scopeId","data-v-e1a08576"]]),lle=Ur({name:"Lightness",props:{color:bne.instanceOf(zse),size:bne.oneOf(["small","default"]).def("default")},emits:["change"],setup(e,{emit:t}){const n=nn(null),r=nn(null);let i=e.color||new zse;const[o,a,s]=i.HSL,l=jt({hue:o,saturation:a,lightness:s});lr(()=>e.color,e=>{if(e){i=e;const[t,n,r]=i.HSL;w4(l,{hue:t,saturation:n,lightness:r})}},{deep:!0});const c=qa(()=>{const e=Y7({h:l.hue,s:l.saturation,l:.8}).toPercentageRgbString(),t=Y7({h:l.hue,s:l.saturation,l:.6}).toPercentageRgbString(),n=Y7({h:l.hue,s:l.saturation,l:.4}).toPercentageRgbString(),r=Y7({h:l.hue,s:l.saturation,l:.2}).toPercentageRgbString();return{background:["linear-gradient(to right, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,", rgb(0, 0, 0))"),"-webkit-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,", rgb(0, 0, 0))"),"-moz-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,", rgb(0, 0, 0))"),"-ms-linear-gradient(left, rgb(255, 255, 255), ".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,", rgb(0, 0, 0))")]}}),u=()=>{if(n.value&&r.value){const e=l.lightness,t=n.value.getBoundingClientRect(),i=r.value.offsetWidth;return(1-e)*(t.width-i)+i/2}return 0},h=qa(()=>({left:u()+"px",top:0})),f=e=>{if(e.stopPropagation(),n.value&&r.value){const o=n.value.getBoundingClientRect(),a=r.value.offsetWidth;let s=e.clientX-o.left;s=Math.max(a/2,s),s=Math.min(s,o.width-a/2);const l=1-(s-a/2)/(o.width-a);i.lightness=l,t("change",l)}};return RO(()=>{const e={drag:e=>{f(e)},end:e=>{f(e)}};n.value&&r.value&&Goe.triggerDragEvent(n.value,e)}),{barElement:n,cursorElement:r,getCursorStyle:h,getBackgroundStyle:c,onClickSider:e=>{e.target!==n.value&&f(e)}}}}),cle=[(e=>(Kn("data-v-94a50a9e"),e=e(),$n(),e))(()=>pa("div",{class:"vc-lightness-slider__bar-handle"},null,-1))];const ule=Wse(lle,[["render",function(e,t,n,r,i,o){return ra(),la("div",{class:ne(["vc-lightness-slider",{"small-slider":"small"===e.size}])},[pa("div",{ref:"barElement",class:"vc-lightness-slider__bar",style:Z(e.getBackgroundStyle),onClick:t[0]||(t[0]=(...t)=>e.onClickSider&&e.onClickSider(...t))},[pa("div",{class:ne(["vc-lightness-slider__bar-pointer",{"small-bar":"small"===e.size}]),ref:"cursorElement",style:Z(e.getCursorStyle)},cle,6)],4)],2)}],["__scopeId","data-v-94a50a9e"]]),hle=Ur({name:"History",props:{colors:bne.arrayOf(String).def(()=>[]),round:bne.bool.def(!1)},emits:["change"],setup:(e,{emit:t})=>({onColorSelect:e=>{t("change",e)}})}),fle={key:0,class:"vc-colorPicker__record"},dle={class:"color-list"},ple=["onClick"];const mle=Wse(hle,[["render",function(e,t,n,r,i,o){return e.colors&&e.colors.length>0?(ra(),la("div",fle,[pa("div",dle,[(ra(!0),la(Zo,null,Ri(e.colors,(t,n)=>(ra(),la("div",{key:n,class:ne(["color-item","transparent",{"color-item__round":e.round}]),onClick:n=>e.onColorSelect(t)},[pa("div",{class:"color-item__display",style:Z({backgroundColor:t})},null,4)],10,ple))),128))])])):ba("",!0)}],["__scopeId","data-v-0f657238"]]),gle=Ur({name:"Display",props:{color:bne.instanceOf(zse),disableAlpha:bne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){var n,r,i,o;const{copy:a,copied:s,isSupported:l}=VO(),c=nn("hex"),u=jt({color:e.color,hex:null==(n=e.color)?void 0:n.hex,alpha:Math.round((null==(r=e.color)?void 0:r.alpha)||100),rgba:null==(i=e.color)?void 0:i.RGB,previewBgColor:null==(o=e.color)?void 0:o.toRgbString()}),h=qa(()=>({background:u.previewBgColor})),f=TO(e=>{if(!e.target.value)return;let n=parseInt(e.target.value.replace("%",""));n>100&&(e.target.value="100",n=100),n<0&&(e.target.value="0",n=0),isNaN(n)&&(e.target.value="100",n=100),!isNaN(n)&&u.color&&(u.color.alpha=n),t("change",u.color)},300),d=TO((e,n)=>{if(u.color)if("hex"===c.value){const n=e.target.value.replace("#","");Y7(n).isValid()?[3,4].includes(n.length)&&(u.color.hex=n):u.color.hex="000000",t("change",u.color)}else if("rgba"===c.value&&3===n&&"0."===e.target.value.toString()&&u.rgba){u.rgba[n]=e.target.value;const[r,i,o,a]=u.rgba;u.color.hex=Y7({r:r,g:i,b:o}).toHex(),u.color.alpha=Math.round(100*a),t("change",u.color)}},100),p=TO((e,n)=>{if(e.target.value){if("hex"===c.value){const t=e.target.value.replace("#","");Y7(t).isValid()&&u.color&&[6,8].includes(t.length)&&(u.color.hex=t)}else if(void 0!==n&&u.rgba&&u.color){if(e.target.value<0&&(e.target.value=0),3===n&&((e.target.value>1||isNaN(e.target.value))&&(e.target.value=1),"0."===e.target.value.toString()))return;n<3&&e.target.value>255&&(e.target.value=255),u.rgba[n]=e.target.value;const[t,r,i,o]=u.rgba;u.color.hex=Y7({r:t,g:r,b:i}).toHex(),u.color.alpha=Math.round(100*o)}t("change",u.color)}},300);return IO(()=>e.color,e=>{e&&(u.color=e,u.alpha=Math.round(u.color.alpha),u.hex=u.color.hex,u.rgba=u.color.RGB)},{deep:!0}),IO(()=>u.color,()=>{u.color&&(u.previewBgColor=u.color.toRgbString())},{deep:!0}),{state:u,getBgColorStyle:h,inputType:c,copied:s,onInputTypeChange:()=>{c.value="rgba"===c.value?"hex":"rgba"},onAlphaBlur:f,onInputChange:p,onBlurChange:d,onCopyColorStr:()=>{if(l&&u.color){const e="hex"===c.value?u.color.toString(100===u.color.alpha?"hex6":"hex8"):u.color.toRgbString();a(e||"")}}}}}),vle={class:"vc-display"},yle={class:"vc-current-color vc-transparent"},_le={key:0,class:"copy-text"},ble={key:0,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},xle={class:"vc-color-input"},wle={key:0,class:"vc-alpha-input"},Sle=["value"],Ele={key:1,style:{display:"flex",flex:"1",gap:"4px",height:"100%"}},Tle=["value","onInput","onBlur"];const Ale=Wse(gle,[["render",function(e,t,n,r,i,o){return ra(),la("div",vle,[pa("div",yle,[pa("div",{class:"color-cube",style:Z(e.getBgColorStyle),onClick:t[0]||(t[0]=(...t)=>e.onCopyColorStr&&e.onCopyColorStr(...t))},[e.copied?(ra(),la("span",_le,"Copied!")):ba("",!0)],4)]),"hex"===e.inputType?(ra(),la("div",ble,[pa("div",xle,[Jn(pa("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.state.hex=t),maxlength:"8",onInput:t[2]||(t[2]=(...t)=>e.onInputChange&&e.onInputChange(...t)),onBlur:t[3]||(t[3]=(...t)=>e.onBlurChange&&e.onBlurChange(...t))},null,544),[[_l,e.state.hex]])]),e.disableAlpha?ba("",!0):(ra(),la("div",wle,[pa("input",{class:"vc-alpha-input__inner",value:e.state.alpha,onInput:t[4]||(t[4]=(...t)=>e.onAlphaBlur&&e.onAlphaBlur(...t))},null,40,Sle),ya("% ")]))])):e.state.rgba?(ra(),la("div",Ele,[(ra(!0),la(Zo,null,Ri(e.state.rgba,(t,n)=>(ra(),la("div",{class:"vc-color-input",key:n},[pa("input",{value:t,onInput:t=>e.onInputChange(t,n),onBlur:t=>e.onBlurChange(t,n)},null,40,Tle)]))),128))])):ba("",!0),pa("div",{class:"vc-input-toggle",onClick:t[5]||(t[5]=(...t)=>e.onInputTypeChange&&e.onInputTypeChange(...t))},Se(e.inputType),1)])}],["__scopeId","data-v-7334ac20"]]),Mle=Ur({name:"FkColorPicker",components:{Display:Ale,Alpha:Xse,Palette:Jse,Board:ile,Hue:sle,Lightness:ule,History:mle},props:{color:bne.instanceOf(zse),disableHistory:bne.bool.def(!1),roundHistory:bne.bool.def(!1),disableAlpha:bne.bool.def(!1)},emits:["update:color","change","advanceChange"],setup(e,{emit:t}){const n=e.color||new zse,r=jt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=nn(!1),o=qa(()=>({background:r.rgb})),a=eR(Hse,[],{}),s=TO(()=>{if(e.disableHistory)return;const t=r.color.toRgbString();if(a.value=a.value.filter(e=>!Y7.equals(e,t)),!a.value.includes(t)){for(;a.value.length>8;)a.value.pop();a.value.unshift(t)}},500);return IO(()=>e.color,e=>{e&&(r.color=e)},{deep:!0}),IO(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),s(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,advancePanelShow:i,onBack:()=>{i.value=!1,t("advanceChange",!1)},onCompactChange:e=>{"advance"===e?(i.value=!0,t("advanceChange",!0)):(r.color.hex=e,t("advanceChange",!1))},onAlphaChange:e=>{r.color.alpha=e},onHueChange:e=>{r.color.hue=e},onBoardChange:(e,t)=>{r.color.saturation=e,r.color.brightness=t},onLightChange:e=>{r.color.lightness=e},onInputChange:e=>{const t=e.target.value.replace("#","");Y7(t).isValid()&&(r.color.hex=t)},previewStyle:o,historyColors:a}}}),Cle={class:"vc-fk-colorPicker"},Ole={class:"vc-fk-colorPicker__inner"},Rle={class:"vc-fk-colorPicker__header"},Ile=[(e=>(Kn("data-v-48e3c224"),e=e(),$n(),e))(()=>pa("div",{class:"back"},null,-1))];const kle=Wse(Mle,[["render",function(e,t,n,r,i,o){const a=Ei("Palette"),s=Ei("Board"),l=Ei("Hue"),c=Ei("Lightness"),u=Ei("Alpha"),h=Ei("Display"),f=Ei("History");return ra(),la("div",Cle,[pa("div",Ole,[pa("div",Rle,[e.advancePanelShow?(ra(),la("span",{key:0,style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},Ile)):ba("",!0)]),e.advancePanelShow?ba("",!0):(ra(),ca(a,{key:0,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?(ra(),ca(s,{key:1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"])):ba("",!0),e.advancePanelShow?(ra(),ca(l,{key:2,color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"])):ba("",!0),e.advancePanelShow?ba("",!0):(ra(),ca(c,{key:3,color:e.state.color,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?ba("",!0):(ra(),ca(u,{key:4,color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"])),ma(h,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?ba("",!0):(ra(),ca(f,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-48e3c224"]]),Ple=Ur({name:"ChromeColorPicker",components:{Display:Ale,Alpha:Xse,Board:ile,Hue:sle,History:mle},props:{color:bne.instanceOf(zse),disableHistory:bne.bool.def(!1),roundHistory:bne.bool.def(!1),disableAlpha:bne.bool.def(!1)},emits:["update:color","change"],setup(e,{emit:t}){const n=e.color||new zse,r=jt({color:n,hex:n.toHexString(),rgb:n.toRgbString()}),i=qa(()=>({background:r.rgb})),o=eR(Hse,[],{}),a=TO(()=>{if(e.disableHistory)return;const t=r.color.toRgbString();if(o.value=o.value.filter(e=>!Y7.equals(e,t)),!o.value.includes(t)){for(;o.value.length>8;)o.value.pop();o.value.unshift(t)}},500);return IO(()=>e.color,e=>{e&&(r.color=e)},{deep:!0}),IO(()=>r.color,()=>{r.hex=r.color.hex,r.rgb=r.color.toRgbString(),a(),t("update:color",r.color),t("change",r.color)},{deep:!0}),{state:r,previewStyle:i,historyColors:o,onAlphaChange:e=>{r.color.alpha=e},onHueChange:e=>{r.color.hue=e},onBoardChange:(e,t)=>{r.color.saturation=e,r.color.brightness=t},onInputChange:e=>{void 0!==e.hex&&(r.color.hex=e.hex),void 0!==e.alpha&&(r.color.alpha=e.alpha)},onCompactChange:e=>{"advance"!==e&&(r.color.hex=e)}}}}),Dle={class:"vc-chrome-colorPicker"},Nle={class:"vc-chrome-colorPicker-body"},Lle={class:"chrome-controls"},Fle={class:"chrome-sliders"};const Ule=Wse(Ple,[["render",function(e,t,n,r,i,o){const a=Ei("Board"),s=Ei("Hue"),l=Ei("Alpha"),c=Ei("Display"),u=Ei("History");return ra(),la("div",Dle,[ma(a,{round:!0,hide:!1,color:e.state.color,onChange:e.onBoardChange},null,8,["color","onChange"]),pa("div",Nle,[pa("div",Lle,[pa("div",Fle,[ma(s,{size:"small",color:e.state.color,onChange:e.onHueChange},null,8,["color","onChange"]),e.disableAlpha?ba("",!0):(ra(),ca(l,{key:0,size:"small",color:e.state.color,onChange:e.onAlphaChange},null,8,["color","onChange"]))])]),ma(c,{color:e.state.color,"disable-alpha":e.disableAlpha},null,8,["color","disable-alpha"]),e.disableHistory?ba("",!0):(ra(),ca(u,{key:0,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])])}],["__scopeId","data-v-2611d66c"]]),Ble="Vue3ColorPickerProvider";let zle=!1;const Vle=Ur({name:"Angle",props:{angle:{type:Number,default:0},size:{type:Number,default:16,validator:e=>e>=16},borderWidth:{type:Number,default:1,validator:e=>e>=1},borderColor:{type:String,default:"#666"}},emits:["update:angle","change"],setup(e,{emit:t}){const n=nn(null),r=nn(0);lr(()=>e.angle,e=>{r.value=e});const i=qa(()=>({width:e.size+"px",height:e.size+"px",borderWidth:e.borderWidth+"px",borderColor:e.borderColor,transform:"rotate(".concat(r.value,"deg)")})),o=i=>{n.value&&(r.value=((e,t)=>{const n=e.getBoundingClientRect(),r=n.left+n.width/2,i=n.top+n.height/2,o=Math.abs(r-t.clientX),a=Math.abs(i-t.clientY),s=a/Math.sqrt(Math.pow(o,2)+Math.pow(a,2)),l=Math.acos(s);let c=Math.floor(180/(Math.PI/l));return t.clientX>r&&t.clientY>i&&(c=180-c),t.clientX==r&&t.clientY>i&&(c=180),t.clientX>r&&t.clientY==i&&(c=90),t.clientX<r&&t.clientY>i&&(c=180+c),t.clientX<r&&t.clientY==i&&(c=270),t.clientX<r&&t.clientY<i&&(c=360-c),c})(n.value,i)%360,(()=>{let n=Number(r.value);isNaN(n)||(n=n>360||n<0?e.angle:n,r.value=360===n?0:n,t("update:angle",r.value),t("change",r.value))})())};return pi(()=>{const e={drag:e=>{o(e)},end:e=>{o(e)}};n.value&&((e,t)=>{const n=function(e){var n;null==(n=t.drag)||n.call(t,e)},r=function(e){var i;document.removeEventListener("mousemove",n,!1),document.removeEventListener("mouseup",r,!1),document.onselectstart=null,document.ondragstart=null,zle=!1,null==(i=t.end)||i.call(t,e)};e&&e.addEventListener("mousedown",e=>{var i;zle||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n,!1),document.addEventListener("mouseup",r,!1),zle=!0,null==(i=t.start)||i.call(t,e))})})(n.value,e)}),()=>ma("div",{class:"bee-angle"},[ma("div",{class:"bee-angle__round",ref:n,style:i.value},null)])}}),jle=Ur({name:"GradientColorPicker",components:{Angle:Vle,Display:Ale,Alpha:Xse,Palette:Jse,Board:ile,Hue:sle,Lightness:ule,History:mle},props:{startColor:bne.instanceOf(zse).isRequired,endColor:bne.instanceOf(zse).isRequired,startColorStop:bne.number.def(0),endColorStop:bne.number.def(100),angle:bne.number.def(0),type:bne.oneOf(["linear","radial"]).def("linear"),disableHistory:bne.bool.def(!1),roundHistory:bne.bool.def(!1),disableAlpha:bne.bool.def(!1),pickerType:bne.oneOf(["fk","chrome"]).def("fk")},emits:["update:startColor","update:endColor","update:angle","update:startColorStop","update:endColorStop","startColorChange","endColorChange","advanceChange","angleChange","startColorStopChange","endColorStopChange","typeChange"],setup(e,{emit:t}){const n=jt({startActive:!0,startColor:e.startColor,endColor:e.endColor,startColorStop:e.startColorStop,endColorStop:e.endColorStop,angle:e.angle,type:e.type,startColorRgba:e.startColor.toRgbString(),endColorRgba:e.endColor.toRgbString()}),r=tr(Ble),i=nn("chrome"===e.pickerType),o=nn(),a=nn(),s=nn();lr(()=>[e.startColor,e.endColor,e.angle],e=>{n.startColor=e[0],n.endColor=e[1],n.angle=e[2]}),lr(()=>e.type,e=>{n.type=e});const l=qa({get:()=>n.startActive?n.startColor:n.endColor,set:e=>{n.startActive?n.startColor=e:n.endColor=e}}),c=qa(()=>{if(s.value&&o.value){const e=n.startColorStop/100,t=s.value.getBoundingClientRect(),r=o.value.offsetWidth;return Math.round(e*(t.width-r)+r/2)}return 0}),u=qa(()=>{if(s.value&&a.value){const e=n.endColorStop/100,t=s.value.getBoundingClientRect(),r=a.value.offsetWidth;return Math.round(e*(t.width-r)+r/2)}return 0}),h=qa(()=>{let e="background: linear-gradient(".concat(n.angle,"deg, ").concat(n.startColorRgba," ").concat(n.startColorStop,"%, ").concat(n.endColorRgba," ").concat(n.endColorStop,"%)");return"radial"===n.type&&(e="background: radial-gradient(circle, ".concat(n.startColorRgba," ").concat(n.startColorStop,"%, ").concat(n.endColorRgba," ").concat(n.endColorStop,"%)")),e}),f=e=>{var r;if(n.startActive=!0,s.value&&o.value){const i=null==(r=s.value)?void 0:r.getBoundingClientRect();let a=e.clientX-i.left;a=Math.max(o.value.offsetWidth/2,a),a=Math.min(a,i.width-o.value.offsetWidth/2),n.startColorStop=Math.round((a-o.value.offsetWidth/2)/(i.width-o.value.offsetWidth)*100),t("update:startColorStop",n.startColorStop),t("startColorStopChange",n.startColorStop)}},d=e=>{var r;if(n.startActive=!1,s.value&&a.value){const i=null==(r=s.value)?void 0:r.getBoundingClientRect();let o=e.clientX-i.left;o=Math.max(a.value.offsetWidth/2,o),o=Math.min(o,i.width-a.value.offsetWidth/2),n.endColorStop=Math.round((o-a.value.offsetWidth/2)/(i.width-a.value.offsetWidth)*100),t("update:endColorStop",n.endColorStop),t("endColorStopChange",n.endColorStop)}},p=()=>{n.startActive?(t("update:startColor",n.startColor),t("startColorChange",n.startColor)):(t("update:endColor",n.endColor),t("endColorChange",n.endColor))},m=eR(Hse,[],{}),g=TO(()=>{if(e.disableHistory)return;const t=l.value.toRgbString();if(m.value=m.value.filter(e=>!Y7.equals(e,t)),!m.value.includes(t)){for(;m.value.length>8;)m.value.pop();m.value.unshift(t)}},500);return RO(()=>{a.value&&o.value&&(Goe.triggerDragEvent(a.value,{drag:e=>{d(e)},end:e=>{d(e)}}),Goe.triggerDragEvent(o.value,{drag:e=>{f(e)},end:e=>{f(e)}}))}),IO(()=>n.startColor,e=>{n.startColorRgba=e.toRgbString()},{deep:!0}),IO(()=>n.endColor,e=>{n.endColorRgba=e.toRgbString()},{deep:!0}),IO(()=>l.value,()=>{g()},{deep:!0}),{startGradientRef:o,stopGradientRef:a,colorRangeRef:s,state:n,currentColor:l,getStartColorLeft:c,getEndColorLeft:u,gradientBg:h,advancePanelShow:i,onDegreeBlur:e=>{const r=e.target,i=parseInt(r.value.replace("",""));isNaN(i)||(n.angle=i%360),t("update:angle",n.angle),t("angleChange",n.angle)},onCompactChange:e=>{"advance"===e?(i.value=!0,t("advanceChange",!0)):(l.value.hex=e,t("advanceChange",!1)),p()},onAlphaChange:e=>{l.value.alpha=e,p()},onHueChange:e=>{l.value.hue=e,p()},onBoardChange:(e,t)=>{l.value.saturation=e,l.value.brightness=t,p()},onLightChange:e=>{l.value.lightness=e,p()},historyColors:m,onBack:()=>{i.value=!1,t("advanceChange",!1)},onDegreeChange:e=>{n.angle=e,t("update:angle",n.angle),t("angleChange",n.angle)},onDisplayChange:()=>{p()},onTypeChange:()=>{n.type="linear"===n.type?"radial":"linear",t("typeChange",n.type)},lang:null==r?void 0:r.lang}}}),Hle=e=>(Kn("data-v-c4d6d6ea"),e=e(),$n(),e),Wle={class:"vc-gradient-picker"},Gle={class:"vc-gradient-picker__header"},qle={class:"vc-gradient__types"},Xle={class:"vc-gradient-wrap__types"},Yle={class:"vc-picker-degree-input vc-degree-input"},Kle={class:"vc-degree-input__control"},$le=["value"],Zle={class:"vc-degree-input__panel"},Jle={class:"vc-degree-input__disk"},Qle={class:"vc-gradient-picker__body"},ece={class:"vc-color-range",ref:"colorRangeRef"},tce={class:"vc-color-range__container"},nce={class:"vc-gradient__stop__container"},rce=["title"],ice=[Hle(()=>pa("span",{class:"vc-gradient__stop--inner"},null,-1))],oce=["title"],ace=[Hle(()=>pa("span",{class:"vc-gradient__stop--inner"},null,-1))];const sce=Wse(jle,[["render",function(e,t,n,r,i,o){var a,s;const l=Ei("Angle"),c=Ei("Board"),u=Ei("Hue"),h=Ei("Palette"),f=Ei("Lightness"),d=Ei("Alpha"),p=Ei("Display"),m=Ei("History");return ra(),la("div",Wle,[pa("div",Gle,[pa("div",null,[Jn(pa("div",{class:"back",style:{cursor:"pointer"},onClick:t[0]||(t[0]=(...t)=>e.onBack&&e.onBack(...t))},null,512),[[Rs,"fk"===e.pickerType&&e.advancePanelShow]])]),pa("div",qle,[pa("div",Xle,[(ra(),la(Zo,null,Ri(["linear","radial"],n=>pa("div",{class:ne(["vc-gradient__type",{active:e.state.type===n}]),key:n,onClick:t[1]||(t[1]=(...t)=>e.onTypeChange&&e.onTypeChange(...t))},Se(e.lang?e.lang[n]:n),3)),64))]),Jn(pa("div",Yle,[pa("div",Kle,[pa("input",{value:e.state.angle,onBlur:t[2]||(t[2]=(...t)=>e.onDegreeBlur&&e.onDegreeBlur(...t))},null,40,$le),ya("deg ")]),pa("div",Zle,[pa("div",Jle,[ma(l,{angle:e.state.angle,"onUpdate:angle":t[3]||(t[3]=t=>e.state.angle=t),size:40,onChange:e.onDegreeChange},null,8,["angle","onChange"])])])],512),[[Rs,"linear"===e.state.type]])])]),pa("div",Qle,[pa("div",ece,[pa("div",tce,[pa("div",{class:"vc-background",style:Z(e.gradientBg)},null,4),pa("div",nce,[pa("div",{class:ne(["vc-gradient__stop",{"vc-gradient__stop--current":e.state.startActive}]),ref:"startGradientRef",title:null==(a=e.lang)?void 0:a.start,style:Z({left:e.getStartColorLeft+"px",backgroundColor:e.state.startColorRgba})},ice,14,rce),pa("div",{class:ne(["vc-gradient__stop",{"vc-gradient__stop--current":!e.state.startActive}]),ref:"stopGradientRef",title:null==(s=e.lang)?void 0:s.end,style:Z({left:e.getEndColorLeft+"px",backgroundColor:e.state.endColorRgba})},ace,14,oce)])])],512)]),e.advancePanelShow?(ra(),ca(c,{key:0,color:e.currentColor,onChange:e.onBoardChange},null,8,["color","onChange"])):ba("",!0),e.advancePanelShow?(ra(),ca(u,{key:1,color:e.currentColor,onChange:e.onHueChange},null,8,["color","onChange"])):ba("",!0),e.advancePanelShow?ba("",!0):(ra(),ca(h,{key:2,onChange:e.onCompactChange},null,8,["onChange"])),e.advancePanelShow?ba("",!0):(ra(),ca(f,{key:3,color:e.currentColor,onChange:e.onLightChange},null,8,["color","onChange"])),e.disableAlpha?ba("",!0):(ra(),ca(d,{key:4,color:e.currentColor,onChange:e.onAlphaChange},null,8,["color","onChange"])),ma(p,{color:e.currentColor,"disable-alpha":e.disableAlpha,onChange:e.onDisplayChange},null,8,["color","disable-alpha","onChange"]),e.disableHistory?ba("",!0):(ra(),ca(m,{key:5,round:e.roundHistory,colors:e.historyColors,onChange:e.onCompactChange},null,8,["round","colors","onChange"]))])}],["__scopeId","data-v-c4d6d6ea"]]),lce=Ur({name:"WrapContainer",props:{theme:bne.oneOf(["white","black"]).def("white"),showTab:bne.bool.def(!1),activeKey:bne.oneOf(["pure","gradient"]).def("pure")},emits:["update:activeKey","change"],setup(e,{emit:t}){const n=jt({activeKey:e.activeKey}),r=tr(Ble);return IO(()=>e.activeKey,e=>{n.activeKey=e}),{state:n,onActiveKeyChange:e=>{n.activeKey=e,t("update:activeKey",e),t("change",e)},lang:null==r?void 0:r.lang}}}),cce={class:"vc-colorpicker--container"},uce={key:0,class:"vc-colorpicker--tabs"},hce={class:"vc-colorpicker--tabs__inner"},fce={class:"vc-btn__content"},dce={class:"vc-btn__content"};const pce=Wse(lce,[["render",function(e,t,n,r,i,o){var a,s;return ra(),la("div",{class:ne(["vc-colorpicker",e.theme])},[pa("div",cce,[e.showTab?(ra(),la("div",uce,[pa("div",hce,[pa("div",{class:ne(["vc-colorpicker--tabs__btn",{"vc-btn-active":"pure"===e.state.activeKey}]),onClick:t[0]||(t[0]=t=>e.onActiveKeyChange("pure"))},[pa("button",null,[pa("div",fce,Se(null==(a=e.lang)?void 0:a.pure),1)])],2),pa("div",{class:ne(["vc-colorpicker--tabs__btn",{"vc-btn-active":"gradient"===e.state.activeKey}]),onClick:t[1]||(t[1]=t=>e.onActiveKeyChange("gradient"))},[pa("button",null,[pa("div",dce,Se(null==(s=e.lang)?void 0:s.gradient),1)])],2),pa("div",{class:"vc-colorpicker--tabs__bg",style:Z({width:"50%",left:"calc(".concat("gradient"===e.state.activeKey?50:0,"%)")})},null,4)])])):ba("",!0),Ii(e.$slots,"default",{},void 0,!0)])],2)}],["__scopeId","data-v-0492277d"]]),mce={En:{start:"Start",end:"End",pure:"Pure",gradient:"Gradient",linear:"linear",radial:"radial"},"ZH-cn":{start:"",end:"",pure:"",gradient:"",linear:"",radial:""}},gce={isWidget:bne.bool.def(!1),pickerType:bne.oneOf(["fk","chrome"]).def("fk"),shape:bne.oneOf(["circle","square"]).def("square"),pureColor:{type:[String,Object],default:"#000000"},gradientColor:bne.string.def("linear-gradient(90deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)"),format:{type:String,default:"rgb"},disableAlpha:bne.bool.def(!1),disableHistory:bne.bool.def(!1),roundHistory:bne.bool.def(!1),useType:bne.oneOf(["pure","gradient","both"]).def("pure"),activeKey:bne.oneOf(["pure","gradient"]).def("pure"),lang:{type:String,default:"ZH-cn"},zIndex:bne.number.def(9999),pickerContainer:{type:[String,HTMLElement],default:"body"},debounce:bne.number.def(100),theme:bne.oneOf(["white","black"]).def("white"),blurClose:bne.bool.def(!1),defaultPopup:bne.bool.def(!1)},vce=Ur({name:"ColorPicker",components:{FkColorPicker:kle,ChromeColorPicker:Ule,GradientColorPicker:sce,WrapContainer:pce},inheritAttrs:!1,props:gce,emits:["update:pureColor","pureColorChange","update:gradientColor","gradientColorChange","update:activeKey","activeKeyChange"],setup(e,{emit:t}){er(Ble,{lang:qa(()=>mce[e.lang||"ZH-cn"])});const n=!!Ui().extra,r=jt({pureColor:e.pureColor||"",activeKey:"gradient"===e.useType?"gradient":e.activeKey,isAdvanceMode:!1}),i=new zse("#000"),o=new zse("#000"),a=new zse(r.pureColor),s=jt({startColor:i,endColor:o,startColorStop:0,endColorStop:100,angle:0,type:"linear",gradientColor:e.gradientColor}),l=nn(a),c=nn(e.defaultPopup),u=nn(null),h=nn(null);let f=null;const d=qa(()=>({background:"gradient"!==r.activeKey?Y7(r.pureColor).toRgbString():s.gradientColor})),p=qa(()=>"gradient"===r.activeKey?sce.name:"fk"===e.pickerType?kle.name:Ule.name),m=e=>{r.isAdvanceMode=e},g=qa(()=>{const t={disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,pickerType:e.pickerType};return"gradient"===r.activeKey?{...t,startColor:s.startColor,endColor:s.endColor,angle:s.angle,type:s.type,startColorStop:s.startColorStop,endColorStop:s.endColorStop,onStartColorChange:e=>{s.startColor=e,b()},onEndColorChange:e=>{s.endColor=e,b()},onStartColorStopChange:e=>{s.startColorStop=e,b()},onEndColorStopChange:e=>{s.endColorStop=e,b()},onAngleChange:e=>{s.angle=e,b()},onTypeChange:e=>{s.type=e,b()},onAdvanceChange:m}:{...t,disableAlpha:e.disableAlpha,disableHistory:e.disableHistory,roundHistory:e.roundHistory,color:l.value,onChange:S,onAdvanceChange:m}}),v=()=>{c.value=!1},y=TO(()=>{!e.isWidget&&e.blurClose&&v()},100);FO(h,()=>{v()});const _=()=>{var e,t,n,r;try{const[i]=Oee.parse(s.gradientColor);if(i&&i.type.includes("gradient")&&i.colorStops.length>=2){const o=i.colorStops[0],a=i.colorStops[1];s.startColorStop=Number(null==(e=o.length)?void 0:e.value)||0,s.endColorStop=Number(null==(t=a.length)?void 0:t.value)||0,"linear-gradient"===i.type&&"angular"===(null==(n=i.orientation)?void 0:n.type)&&(s.angle=Number(null==(r=i.orientation)?void 0:r.value)||0),s.type=i.type.split("-")[0];const[l,c,u,h]=o.value,[f,d,p,m]=a.value;s.startColor=new zse({r:Number(l),g:Number(c),b:Number(u),a:Number(h)}),s.endColor=new zse({r:Number(f),g:Number(d),b:Number(p),a:Number(m)})}}catch(i){}},b=TO(()=>{const e=x();try{s.gradientColor=Oee.stringify(e),t("update:gradientColor",s.gradientColor),t("gradientColorChange",s.gradientColor)}catch(n){}},e.debounce),x=()=>{const e=[],t=s.startColor.RGB.map(e=>e.toString()),n=s.endColor.RGB.map(e=>e.toString()),r=[{type:"rgba",value:[t[0],t[1],t[2],t[3]],length:{value:s.startColorStop+"",type:"%"}},{type:"rgba",value:[n[0],n[1],n[2],n[3]],length:{value:s.endColorStop+"",type:"%"}}];return"linear"===s.type?e.push({type:"linear-gradient",orientation:{type:"angular",value:s.angle+""},colorStops:r}):"radial"===s.type&&e.push({type:"radial-gradient",orientation:[{type:"shape",value:"circle"}],colorStops:r}),e},w=()=>{u.value&&h.value&&(f=zte(u.value,h.value,{placement:"auto",modifiers:[{name:"offset",options:{offset:[0,8]}},{name:"flip",options:{allowedAutoPlacements:["top","bottom","left","right"],rootBoundary:"viewport"}}]}))},S=t=>{l.value=t,r.pureColor=t.toString(e.format),E()},E=TO(()=>{t("update:pureColor",r.pureColor),t("pureColorChange",r.pureColor)},e.debounce);return RO(()=>{_(),f||w()}),IO(()=>e.gradientColor,e=>{e!=s.gradientColor&&(s.gradientColor=e)}),IO(()=>s.gradientColor,()=>{_()}),IO(()=>e.activeKey,e=>{r.activeKey=e}),IO(()=>e.useType,e=>{"gradient"!==r.activeKey&&"gradient"===e?r.activeKey="gradient":r.activeKey="pure"}),IO(()=>e.pureColor,e=>{Y7.equals(e,r.pureColor)||(r.pureColor=e,l.value=new zse(e))},{deep:!0}),{colorCubeRef:u,pickerRef:h,showPicker:c,colorInstance:l,getBgColorStyle:d,getComponentName:p,getBindArgs:g,state:r,hasExtra:n,onColorChange:S,onShowPicker:()=>{c.value=!0,f?f.update():w()},onActiveKeyChange:e=>{r.activeKey=e,t("update:activeKey",e),t("activeKeyChange",e)},onAutoClose:y}}}),yce={key:0,class:"vc-color-extra"},_ce={key:0,class:"vc-color-extra"};const bce=Wse(vce,[["render",function(e,t,n,r,i,o){const a=Ei("WrapContainer");return ra(),la(Zo,null,[e.isWidget?(ra(),ca(a,{key:0,"active-key":e.state.activeKey,"onUpdate:activeKey":t[0]||(t[0]=t=>e.state.activeKey=t),"show-tab":"both"===e.useType,style:Z({zIndex:e.zIndex}),theme:e.theme,onChange:e.onActiveKeyChange},{default:Zn(()=>[(ra(),ca(Ai(e.getComponentName),Ea({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(ra(),la("div",yce,[Ii(e.$slots,"extra",{},void 0,!0)])):ba("",!0)]),_:3},8,["active-key","show-tab","style","theme","onChange"])):ba("",!0),e.isWidget?ba("",!0):(ra(),la(Zo,{key:1},[pa("div",{class:ne(["vc-color-wrap transparent",{round:"circle"===e.shape}]),ref:"colorCubeRef"},[pa("div",{class:"current-color",style:Z(e.getBgColorStyle),onClick:t[1]||(t[1]=(...t)=>e.onShowPicker&&e.onShowPicker(...t))},null,4)],2),(ra(),ca(xr,{to:e.pickerContainer},[Jn(pa("div",{ref:"pickerRef",style:Z({zIndex:e.zIndex}),onMouseleave:t[3]||(t[3]=(...t)=>e.onAutoClose&&e.onAutoClose(...t))},[e.showPicker?(ra(),ca(a,{key:0,"show-tab":"both"===e.useType&&!e.state.isAdvanceMode,theme:e.theme,"active-key":e.state.activeKey,"onUpdate:activeKey":t[2]||(t[2]=t=>e.state.activeKey=t),onChange:e.onActiveKeyChange},{default:Zn(()=>[(ra(),ca(Ai(e.getComponentName),Ea({key:e.getComponentName},e.getBindArgs),null,16)),e.hasExtra?(ra(),la("div",_ce,[Ii(e.$slots,"extra",{},void 0,!0)])):ba("",!0)]),_:3},8,["show-tab","theme","active-key","onChange"])):ba("",!0)],36),[[Rs,e.showPicker]])],8,["to"]))],64))],64)}],["__scopeId","data-v-354ca836"]]);function xce(e,t,n){var r;function i(n,r){if(n._zod||Object.defineProperty(n,"_zod",{value:{def:r,constr:s,traits:new Set},enumerable:!1}),n._zod.traits.has(e))return;n._zod.traits.add(e),t(n,r);const i=s.prototype,o=Object.keys(i);for(let e=0;e<o.length;e++){const t=o[e];t in n||(n[t]=i[t].bind(n))}}const o=null!=(r=null==n?void 0:n.Parent)?r:Object;class a extends o{}function s(e){var t;const r=(null==n?void 0:n.Parent)?new a:this;i(r,e),null!=(t=r._zod).deferred||(t.deferred=[]);for(const n of r._zod.deferred)n();return r}return Object.defineProperty(a,"name",{value:e}),Object.defineProperty(s,"init",{value:i}),Object.defineProperty(s,Symbol.hasInstance,{value:t=>{var r,i;return!!((null==n?void 0:n.Parent)&&t instanceof n.Parent)||(null==(i=null==(r=null==t?void 0:t._zod)?void 0:r.traits)?void 0:i.has(e))}}),Object.defineProperty(s,"name",{value:e}),s}class wce extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Sce extends Error{constructor(e){super("Encountered unidirectional transform during encode: ".concat(e)),this.name="ZodEncodeError"}}const Ece={};function Tce(e){return Ece}function Ace(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,n])=>-1===t.indexOf(+e)).map(([e,t])=>t)}function Mce(e,t){return"bigint"==typeof t?t.toString():t}function Cce(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Oce(e){return null==e}function Rce(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}const Ice=Symbol("evaluating");function kce(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==Ice)return void 0===r&&(r=Ice,r=n()),r},set(n){Object.defineProperty(e,t,{value:n})},configurable:!0})}function Pce(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Dce(...e){const t={};for(const n of e){const e=Object.getOwnPropertyDescriptors(n);Object.assign(t,e)}return Object.defineProperties({},t)}function Nce(e){return JSON.stringify(e)}const Lce="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Fce(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const Uce=Cce(()=>{var e;if("undefined"!=typeof navigator&&(null==(e=null==navigator?void 0:navigator.userAgent)?void 0:e.includes("Cloudflare")))return!1;try{return new Function(""),!0}catch(t){return!1}});function Bce(e){if(!1===Fce(e))return!1;const t=e.constructor;if(void 0===t)return!0;if("function"!=typeof t)return!0;const n=t.prototype;return!1!==Fce(n)&&!1!==Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")}function zce(e){return Bce(e)?{...e}:Array.isArray(e)?[...e]:e}const Vce=new Set(["string","number","symbol"]);function jce(e,t,n){const r=new e._zod.constr(null!=t?t:e._zod.def);return t&&!(null==n?void 0:n.parent)||(r._zod.parent=e),r}function Hce(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==(null==t?void 0:t.message)){if(void 0!==(null==t?void 0:t.error))throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}const Wce={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Gce(e,t=0){var n;if(!0===e.aborted)return!0;for(let r=t;r<e.issues.length;r++)if(!0!==(null==(n=e.issues[r])?void 0:n.continue))return!0;return!1}function qce(e,t){return t.map(t=>{var n;return null!=(n=t).path||(n.path=[]),t.path.unshift(e),t})}function Xce(e){return"string"==typeof e?e:null==e?void 0:e.message}function Yce(e,t,n){var r,i,o,a,s,l,c,u,h,f,d;const p={...e,path:null!=(r=e.path)?r:[]};if(!e.message){const r=null!=(d=null!=(f=null!=(u=null!=(l=Xce(null==(a=null==(o=null==(i=e.inst)?void 0:i._zod.def)?void 0:o.error)?void 0:a.call(o,e)))?l:Xce(null==(s=null==t?void 0:t.error)?void 0:s.call(t,e)))?u:Xce(null==(c=n.customError)?void 0:c.call(n,e)))?f:Xce(null==(h=n.localeError)?void 0:h.call(n,e)))?d:"Invalid input";p.message=r}return delete p.inst,delete p.continue,(null==t?void 0:t.reportInput)||delete p.input,p}function Kce(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function $ce(...e){const[t,n,r]=e;return"string"==typeof t?{message:t,code:"custom",input:n,inst:r}:{...t}}const Zce=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Mce,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Jce=xce("$ZodError",Zce),Qce=xce("$ZodError",Zce,{Parent:Error});const eue=e=>(t,n,r,i)=>{var o;const a=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise)throw new wce;if(s.issues.length){const t=new(null!=(o=null==i?void 0:i.Err)?o:e)(s.issues.map(e=>Yce(e,a,Tce())));throw Lce(t,null==i?void 0:i.callee),t}return s.value},tue=e=>async(t,n,r,i)=>{var o;const a=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},a);if(s instanceof Promise&&(s=await s),s.issues.length){const t=new(null!=(o=null==i?void 0:i.Err)?o:e)(s.issues.map(e=>Yce(e,a,Tce())));throw Lce(t,null==i?void 0:i.callee),t}return s.value},nue=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new wce;return o.issues.length?{success:!1,error:new(null!=e?e:Jce)(o.issues.map(e=>Yce(e,i,Tce())))}:{success:!0,data:o.value}},rue=nue(Qce),iue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(e=>Yce(e,i,Tce())))}:{success:!0,data:o.value}},oue=iue(Qce),aue=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return eue(e)(t,n,i)},sue=e=>(t,n,r)=>eue(e)(t,n,r),lue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return tue(e)(t,n,i)},cue=e=>async(t,n,r)=>tue(e)(t,n,r),uue=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return nue(e)(t,n,i)},hue=e=>(t,n,r)=>nue(e)(t,n,r),fue=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return iue(e)(t,n,i)},due=e=>async(t,n,r)=>iue(e)(t,n,r),pue=/^-?\d+$/,mue=/^-?\d+(?:\.\d+)?/,gue=xce("$ZodCheck",(e,t)=>{var n;null!=e._zod||(e._zod={}),e._zod.def=t,null!=(n=e._zod).onattach||(n.onattach=[])}),vue={number:"number",bigint:"bigint",object:"date"},yue=xce("$ZodCheckLessThan",(e,t)=>{gue.init(e,t);const n=vue[typeof t.value];e._zod.onattach.push(e=>{var n;const r=e._zod.bag,i=null!=(n=t.inclusive?r.maximum:r.exclusiveMaximum)?n:Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),_ue=xce("$ZodCheckGreaterThan",(e,t)=>{gue.init(e,t);const n=vue[typeof t.value];e._zod.onattach.push(e=>{var n;const r=e._zod.bag,i=null!=(n=t.inclusive?r.minimum:r.exclusiveMinimum)?n:Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),bue=xce("$ZodCheckMultipleOf",(e,t)=>{gue.init(e,t),e._zod.onattach.push(e=>{var n;null!=(n=e._zod.bag).multipleOf||(n.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof n.value?n.value%t.value===BigInt(0):0===function(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(0===i&&/\d?e-\d?/.test(r)){const e=r.match(/\d?e-(\d?)/);(null==e?void 0:e[1])&&(i=Number.parseInt(e[1]))}const o=n>i?n:i;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}(n.value,t.value))||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),xue=xce("$ZodCheckNumberFormat",(e,t)=>{var n;gue.init(e,t),t.format=t.format||"float64";const r=null==(n=t.format)?void 0:n.includes("int"),i=r?"int":"number",[o,a]=Wce[t.format];e._zod.onattach.push(e=>{const n=e._zod.bag;n.format=t.format,n.minimum=o,n.maximum=a,r&&(n.pattern=pue)}),e._zod.check=n=>{const s=n.value;if(r){if(!Number.isInteger(s))return void n.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:s,inst:e});if(!Number.isSafeInteger(s))return void(s>0?n.issues.push({input:s,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}):n.issues.push({input:s,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,continue:!t.abort}))}s<o&&n.issues.push({origin:"number",input:s,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),s>a&&n.issues.push({origin:"number",input:s,code:"too_big",maximum:a,inst:e})}}),wue=xce("$ZodCheckMaxLength",(e,t)=>{var n;gue.init(e,t),null!=(n=e._zod.def).when||(n.when=e=>{const t=e.value;return!Oce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{var n;const r=null!=(n=e._zod.bag.maximum)?n:Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const r=n.value;if(r.length<=t.maximum)return;const i=Kce(r);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Sue=xce("$ZodCheckMinLength",(e,t)=>{var n;gue.init(e,t),null!=(n=e._zod.def).when||(n.when=e=>{const t=e.value;return!Oce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{var n;const r=null!=(n=e._zod.bag.minimum)?n:Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const r=n.value;if(r.length>=t.minimum)return;const i=Kce(r);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Eue=xce("$ZodCheckLengthEquals",(e,t)=>{var n;gue.init(e,t),null!=(n=e._zod.def).when||(n.when=e=>{const t=e.value;return!Oce(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const n=e._zod.bag;n.minimum=t.length,n.maximum=t.length,n.length=t.length}),e._zod.check=n=>{const r=n.value,i=r.length;if(i===t.length)return;const o=Kce(r),a=i>t.length;n.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Tue=xce("$ZodCheckOverwrite",(e,t)=>{gue.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Aue{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),n=Math.min(...t.map(e=>e.length-e.trimStart().length)),r=t.map(e=>e.slice(n)).map(e=>" ".repeat(2*this.indent)+e);for(const i of r)this.content.push(i)}compile(){var e;return new Function(...null==this?void 0:this.args,[...(null!=(e=null==this?void 0:this.content)?e:[""]).map(e=>"  ".concat(e))].join("\n"))}}const Mue={major:4,minor:2,patch:1},Cue=xce("$ZodType",(e,t)=>{var n,r,i;null!=e||(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Mue;const o=[...null!=(n=e._zod.def.checks)?n:[]];e._zod.traits.has("$ZodCheck")&&o.unshift(e);for(const a of o)for(const t of a._zod.onattach)t(e);if(0===o.length)null!=(i=e._zod).deferred||(i.deferred=[]),null==(r=e._zod.deferred)||r.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,n)=>{let r,i=Gce(e);for(const o of t){if(o._zod.def.when){if(!o._zod.def.when(e))continue}else if(i)continue;const t=e.issues.length,a=o._zod.check(e);if(a instanceof Promise&&!1===(null==n?void 0:n.async))throw new wce;if(r||a instanceof Promise)r=(null!=r?r:Promise.resolve()).then(async()=>{await a;e.issues.length!==t&&(i||(i=Gce(e,t)))});else{if(e.issues.length===t)continue;i||(i=Gce(e,t))}}return r?r.then(()=>e):e},n=(n,r,i)=>{if(Gce(n))return n.aborted=!0,n;const a=t(r,o,i);if(a instanceof Promise){if(!1===i.async)throw new wce;return a.then(t=>e._zod.parse(t,i))}return e._zod.parse(a,i)};e._zod.run=(r,i)=>{if(i.skipChecks)return e._zod.parse(r,i);if("backward"===i.direction){const t=e._zod.parse({value:r.value,issues:[]},{...i,skipChecks:!0});return t instanceof Promise?t.then(e=>n(e,r,i)):n(t,r,i)}const a=e._zod.parse(r,i);if(a instanceof Promise){if(!1===i.async)throw new wce;return a.then(e=>t(e,o,i))}return t(a,o,i)}}e["~standard"]={validate:t=>{var n;try{const r=rue(e,t);return r.success?{value:r.data}:{issues:null==(n=r.error)?void 0:n.issues}}catch(r){return oue(e,t).then(e=>{var t;return e.success?{value:e.data}:{issues:null==(t=e.error)?void 0:t.issues}})}},vendor:"zod",version:1}}),Oue=xce("$ZodNumber",(e,t)=>{var n;Cue.init(e,t),e._zod.pattern=null!=(n=e._zod.bag.pattern)?n:mue,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch(a){}const i=n.value;if("number"==typeof i&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o="number"==typeof i?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),Rue=xce("$ZodNumberFormat",(e,t)=>{xue.init(e,t),Oue.init(e,t)}),Iue=xce("$ZodUnknown",(e,t)=>{Cue.init(e,t),e._zod.parse=e=>e}),kue=xce("$ZodNever",(e,t)=>{Cue.init(e,t),e._zod.parse=(t,n)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function Pue(e,t,n){e.issues.length&&t.issues.push(...qce(n,e.issues)),t.value[n]=e.value}const Due=xce("$ZodArray",(e,t)=>{Cue.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let e=0;e<i.length;e++){const a=i[e],s=t.element._zod.run({value:a,issues:[]},r);s instanceof Promise?o.push(s.then(t=>Pue(t,n,e))):Pue(s,n,e)}return o.length?Promise.all(o).then(()=>n):n}});function Nue(e,t,n,r){e.issues.length&&t.issues.push(...qce(n,e.issues)),void 0===e.value?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Lue(e){var t,n,r,i;const o=Object.keys(e.shape);for(const l of o)if(!(null==(i=null==(r=null==(n=null==(t=e.shape)?void 0:t[l])?void 0:n._zod)?void 0:r.traits)?void 0:i.has("$ZodType")))throw new Error('Invalid element at key "'.concat(l,'": expected a Zod schema'));const a=(s=e.shape,Object.keys(s).filter(e=>"optional"===s[e]._zod.optin&&"optional"===s[e]._zod.optout));var s;return{...e,keys:o,keySet:new Set(o),numKeys:o.length,optionalKeys:new Set(a)}}function Fue(e,t,n,r,i,o){const a=[],s=i.keySet,l=i.catchall._zod,c=l.def.type;for(const u in t){if(s.has(u))continue;if("never"===c){a.push(u);continue}const i=l.run({value:t[u],issues:[]},r);i instanceof Promise?e.push(i.then(e=>Nue(e,n,u,t))):Nue(i,n,u,t)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:o}),e.length?Promise.all(e).then(()=>n):n}const Uue=xce("$ZodObject",(e,t)=>{Cue.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(null==n?void 0:n.get)){const e=t.shape;Object.defineProperty(t,"shape",{get:()=>{const n={...e};return Object.defineProperty(t,"shape",{value:n}),n}})}const r=Cce(()=>Lue(t));kce(e._zod,"propValues",()=>{const e=t.shape,n={};for(const t in e){const r=e[t]._zod;if(r.values){null!=n[t]||(n[t]=new Set);for(const e of r.values)n[t].add(e)}}return n});const i=Fce,o=t.catchall;let a;e._zod.parse=(t,n)=>{null!=a||(a=r.value);const s=t.value;if(!i(s))return t.issues.push({expected:"object",code:"invalid_type",input:s,inst:e}),t;t.value={};const l=[],c=a.shape;for(const e of a.keys){const r=c[e]._zod.run({value:s[e],issues:[]},n);r instanceof Promise?l.push(r.then(n=>Nue(n,t,e,s))):Nue(r,t,e,s)}return o?Fue(l,s,t,n,r.value,e):l.length?Promise.all(l).then(()=>t):t}}),Bue=xce("$ZodObjectJIT",(e,t)=>{Uue.init(e,t);const n=e._zod.parse,r=Cce(()=>Lue(t));let i;const o=Fce,a=!Ece.jitless,s=a&&Uce.value,l=t.catchall;let c;e._zod.parse=(u,h)=>{null!=c||(c=r.value);const f=u.value;return o(f)?a&&s&&!1===(null==h?void 0:h.async)&&!0!==h.jitless?(i||(i=(e=>{const t=new Aue(["shape","payload","ctx"]),n=r.value,i=e=>{const t=Nce(e);return"shape[".concat(t,"]._zod.run({ value: input[").concat(t,"], issues: [] }, ctx)")};t.write("const input = payload.value;");const o=Object.create(null);let a=0;for(const r of n.keys)o[r]="key_".concat(a++);t.write("const newResult = {};");for(const r of n.keys){const e=o[r],n=Nce(r);t.write("const ".concat(e," = ").concat(i(r),";")),t.write("\n        if (".concat(e,".issues.length) {\n          payload.issues = payload.issues.concat(").concat(e,".issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [").concat(n,", ...iss.path] : [").concat(n,"]\n          })));\n        }\n        \n        \n        if (").concat(e,".value === undefined) {\n          if (").concat(n," in input) {\n            newResult[").concat(n,"] = undefined;\n          }\n        } else {\n          newResult[").concat(n,"] = ").concat(e,".value;\n        }\n        \n      "))}t.write("payload.value = newResult;"),t.write("return payload;");const s=t.compile();return(t,n)=>s(e,t,n)})(t.shape)),u=i(u,h),l?Fue([],f,u,h,c,e):u):n(u,h):(u.issues.push({expected:"object",code:"invalid_type",input:f,inst:e}),u)}});function zue(e,t,n,r){for(const o of e)if(0===o.issues.length)return t.value=o.value,t;const i=e.filter(e=>!Gce(e));return 1===i.length?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(e=>e.issues.map(e=>Yce(e,r,Tce())))}),t)}const Vue=xce("$ZodUnion",(e,t)=>{Cue.init(e,t),kce(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),kce(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),kce(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),kce(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp("^(".concat(e.map(e=>Rce(e.source)).join("|"),")$"))}});const n=1===t.options.length,r=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(n)return r(i,o);let a=!1;const s=[];for(const e of t.options){const t=e._zod.run({value:i.value,issues:[]},o);if(t instanceof Promise)s.push(t),a=!0;else{if(0===t.issues.length)return t;s.push(t)}}return a?Promise.all(s).then(t=>zue(t,i,e,o)):zue(s,i,e,o)}}),jue=xce("$ZodIntersection",(e,t)=>{Cue.init(e,t),e._zod.parse=(e,n)=>{const r=e.value,i=t.left._zod.run({value:r,issues:[]},n),o=t.right._zod.run({value:r,issues:[]},n);return i instanceof Promise||o instanceof Promise?Promise.all([i,o]).then(([t,n])=>Wue(e,t,n)):Wue(e,i,o)}});function Hue(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(Bce(e)&&Bce(t)){const n=Object.keys(t),r=Object.keys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const o of r){const n=Hue(e[o],t[o]);if(!n.valid)return{valid:!1,mergeErrorPath:[o,...n.mergeErrorPath]};i[o]=n.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=Hue(e[r],t[r]);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Wue(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Gce(e))return e;const r=Hue(t.value,n.value);if(!r.valid)throw new Error("Unmergable intersection. Error path: "+"".concat(JSON.stringify(r.mergeErrorPath)));return e.value=r.data,e}const Gue=xce("$ZodEnum",(e,t)=>{Cue.init(e,t);const n=Ace(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp("^(".concat(n.filter(e=>Vce.has(typeof e)).map(e=>"string"==typeof e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):e.toString()).join("|"),")$")),e._zod.parse=(t,i)=>{const o=t.value;return r.has(o)||t.issues.push({code:"invalid_value",values:n,input:o,inst:e}),t}}),que=xce("$ZodTransform",(e,t)=>{Cue.init(e,t),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Sce(e.constructor.name);const i=t.transform(n.value,n);if(r.async){return(i instanceof Promise?i:Promise.resolve(i)).then(e=>(n.value=e,n))}if(i instanceof Promise)throw new wce;return n.value=i,n}});function Xue(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const Yue=xce("$ZodOptional",(e,t)=>{Cue.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kce(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kce(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(Rce(e.source),")?$")):void 0}),e._zod.parse=(e,n)=>{if("optional"===t.innerType._zod.optin){const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(t=>Xue(t,e.value)):Xue(r,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,n)}}),Kue=xce("$ZodNullable",(e,t)=>{Cue.init(e,t),kce(e._zod,"optin",()=>t.innerType._zod.optin),kce(e._zod,"optout",()=>t.innerType._zod.optout),kce(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp("^(".concat(Rce(e.source),"|null)$")):void 0}),kce(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,n)=>null===e.value?e:t.innerType._zod.run(e,n)}),$ue=xce("$ZodDefault",(e,t)=>{Cue.init(e,t),e._zod.optin="optional",kce(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);if(void 0===e.value)return e.value=t.defaultValue,e;const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(e=>Zue(e,t)):Zue(r,t)}});function Zue(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Jue=xce("$ZodPrefault",(e,t)=>{Cue.init(e,t),e._zod.optin="optional",kce(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>("backward"===n.direction||void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,n))}),Que=xce("$ZodNonOptional",(e,t)=>{Cue.init(e,t),kce(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(t=>ehe(t,e)):ehe(i,e)}});function ehe(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const the=xce("$ZodCatch",(e,t)=>{Cue.init(e,t),kce(e._zod,"optin",()=>t.innerType._zod.optin),kce(e._zod,"optout",()=>t.innerType._zod.optout),kce(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(r=>(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Yce(e,n,Tce()))},input:e.value}),e.issues=[]),e)):(e.value=r.value,r.issues.length&&(e.value=t.catchValue({...e,error:{issues:r.issues.map(e=>Yce(e,n,Tce()))},input:e.value}),e.issues=[]),e)}}),nhe=xce("$ZodPipe",(e,t)=>{Cue.init(e,t),kce(e._zod,"values",()=>t.in._zod.values),kce(e._zod,"optin",()=>t.in._zod.optin),kce(e._zod,"optout",()=>t.out._zod.optout),kce(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,n)=>{if("backward"===n.direction){const r=t.out._zod.run(e,n);return r instanceof Promise?r.then(e=>rhe(e,t.in,n)):rhe(r,t.in,n)}const r=t.in._zod.run(e,n);return r instanceof Promise?r.then(e=>rhe(e,t.out,n)):rhe(r,t.out,n)}});function rhe(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const ihe=xce("$ZodReadonly",(e,t)=>{Cue.init(e,t),kce(e._zod,"propValues",()=>t.innerType._zod.propValues),kce(e._zod,"values",()=>t.innerType._zod.values),kce(e._zod,"optin",()=>{var e,n;return null==(n=null==(e=t.innerType)?void 0:e._zod)?void 0:n.optin}),kce(e._zod,"optout",()=>{var e,n;return null==(n=null==(e=t.innerType)?void 0:e._zod)?void 0:n.optout}),e._zod.parse=(e,n)=>{if("backward"===n.direction)return t.innerType._zod.run(e,n);const r=t.innerType._zod.run(e,n);return r instanceof Promise?r.then(ohe):ohe(r)}});function ohe(e){return e.value=Object.freeze(e.value),e}const ahe=xce("$ZodCustom",(e,t)=>{gue.init(e,t),Cue.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(t=>she(t,n,r,e));she(i,n,r,e)}});function she(e,t,n,r){var i;if(!e){const e={code:"custom",input:n,inst:r,path:[...null!=(i=r._zod.def.path)?i:[]],continue:!r._zod.def.abort};r._zod.def.params&&(e.params=r._zod.def.params),t.issues.push($ce(e))}}var lhe;class che{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&"object"==typeof n&&"id"in n){if(this._idmap.has(n.id))throw new Error("ID ".concat(n.id," already exists in the registry"));this._idmap.set(n.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){var t;const n=e._zod.parent;if(n){const r={...null!=(t=this.get(n))?t:{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}null!=(lhe=globalThis).__zod_globalRegistry||(lhe.__zod_globalRegistry=new che);const uhe=globalThis.__zod_globalRegistry;function hhe(e,t){return new yue({check:"less_than",...Hce(t),value:e,inclusive:!1})}function fhe(e,t){return new yue({check:"less_than",...Hce(t),value:e,inclusive:!0})}function dhe(e,t){return new _ue({check:"greater_than",...Hce(t),value:e,inclusive:!1})}function phe(e,t){return new _ue({check:"greater_than",...Hce(t),value:e,inclusive:!0})}function mhe(e,t){return new bue({check:"multiple_of",...Hce(t),value:e})}function ghe(e,t){return new Sue({check:"min_length",...Hce(t),minimum:e})}function vhe(e){const t=function(e,t){const n=new gue({check:"custom",...Hce(t)});return n._zod.check=e,n}(n=>(n.addIssue=e=>{if("string"==typeof e)n.issues.push($ce(e,n.value,t._zod.def));else{const r=e;r.fatal&&(r.continue=!1),null!=r.code||(r.code="custom"),null!=r.input||(r.input=n.value),null!=r.inst||(r.inst=t),null!=r.continue||(r.continue=!t._zod.def.abort),n.issues.push($ce(r))}},e(n.value,n)));return t}function yhe(e){var t,n,r,i,o,a,s,l,c;let u=null!=(t=null==e?void 0:e.target)?t:"draft-2020-12";return"draft-4"===u&&(u="draft-04"),"draft-7"===u&&(u="draft-07"),{processors:null!=(n=e.processors)?n:{},metadataRegistry:null!=(r=null==e?void 0:e.metadata)?r:uhe,target:u,unrepresentable:null!=(i=null==e?void 0:e.unrepresentable)?i:"throw",override:null!=(o=null==e?void 0:e.override)?o:()=>{},io:null!=(a=null==e?void 0:e.io)?a:"output",counter:0,seen:new Map,cycles:null!=(s=null==e?void 0:e.cycles)?s:"ref",reused:null!=(l=null==e?void 0:e.reused)?l:"inline",external:null!=(c=null==e?void 0:e.external)?c:void 0}}function _he(e,t,n={path:[],schemaPath:[]}){var r,i,o;const a=e._zod.def,s=t.seen.get(e);if(s){s.count++;return n.schemaPath.includes(e)&&(s.cycle=n.path),s.schema}const l={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,l);const c=null==(i=(r=e._zod).toJSONSchema)?void 0:i.call(r);if(c)l.schema=c;else{const r={...n,schemaPath:[...n.schemaPath,e],path:n.path},i=e._zod.parent;if(i)l.ref=i,_he(i,t,r),t.seen.get(i).isParent=!0;else if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,l.schema,r);else{const n=l.schema,i=t.processors[a.type];if(!i)throw new Error("[toJSONSchema]: Non-representable type encountered: ".concat(a.type));i(e,t,n,r)}}const u=t.metadataRegistry.get(e);u&&Object.assign(l.schema,u),"input"===t.io&&whe(e)&&(delete l.schema.examples,delete l.schema.default),"input"===t.io&&l.schema._prefault&&(null!=(o=l.schema).default||(o.default=l.schema._prefault)),delete l.schema._prefault;return t.seen.get(e).schema}function bhe(e,t){var n,r,i;const o=e.seen.get(t);if(!o)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=t=>{if(t[1].schema.$ref)return;const n=t[1],{ref:r,defId:i}=(t=>{var n,r,i,a,s;const l="draft-2020-12"===e.target?"$defs":"definitions";if(e.external){const o=null==(n=e.external.registry.get(t[0]))?void 0:n.id,s=null!=(r=e.external.uri)?r:e=>e;if(o)return{ref:s(o)};const c=null!=(a=null!=(i=t[1].defId)?i:t[1].schema.id)?a:"schema".concat(e.counter++);return t[1].defId=c,{defId:c,ref:"".concat(s("__shared"),"#/").concat(l,"/").concat(c)}}if(t[1]===o)return{ref:"#"};const c="".concat("#","/").concat(l,"/"),u=null!=(s=t[1].schema.id)?s:"__schema".concat(e.counter++);return{defId:u,ref:c+u}})(t);n.def={...n.schema},i&&(n.defId=i);const a=n.schema;for(const e in a)delete a[e];a.$ref=r};if("throw"===e.cycles)for(const s of e.seen.entries()){const e=s[1];if(e.cycle)throw new Error("Cycle detected: "+"#/".concat(null==(n=e.cycle)?void 0:n.join("/"),"/<root>")+'\n\nSet the `cycles` parameter to `"ref"` to resolve cyclical schemas with defs.')}for(const s of e.seen.entries()){const n=s[1];if(t===s[0]){a(s);continue}if(e.external){const n=null==(r=e.external.registry.get(s[0]))?void 0:r.id;if(t!==s[0]&&n){a(s);continue}}(null==(i=e.metadataRegistry.get(s[0]))?void 0:i.id)?a(s):(n.cycle||n.count>1&&"ref"===e.reused)&&a(s)}}function xhe(e,t){var n,r,i,o,a;const s=e.seen.get(t);if(!s)throw new Error("Unprocessed schema. This is a bug in Zod.");const l=t=>{var n,r,i;const o=e.seen.get(t),a=null!=(n=o.def)?n:o.schema,s={...a};if(null===o.ref)return;const c=o.ref;if(o.ref=null,c){l(c);const t=e.seen.get(c).schema;!t.$ref||"draft-07"!==e.target&&"draft-04"!==e.target&&"openapi-3.0"!==e.target?(Object.assign(a,t),Object.assign(a,s)):(a.allOf=null!=(r=a.allOf)?r:[],a.allOf.push(t))}o.isParent||e.override({zodSchema:t,jsonSchema:a,path:null!=(i=o.path)?i:[]})};for(const f of[...e.seen.entries()].reverse())l(f[0]);const c={};if("draft-2020-12"===e.target?c.$schema="https://json-schema.org/draft/2020-12/schema":"draft-07"===e.target?c.$schema="http://json-schema.org/draft-07/schema#":"draft-04"===e.target?c.$schema="http://json-schema.org/draft-04/schema#":e.target,null==(n=e.external)?void 0:n.uri){const n=null==(r=e.external.registry.get(t))?void 0:r.id;if(!n)throw new Error("Schema is missing an `id` property");c.$id=e.external.uri(n)}Object.assign(c,null!=(i=s.def)?i:s.schema);const u=null!=(a=null==(o=e.external)?void 0:o.defs)?a:{};for(const f of e.seen.entries()){const e=f[1];e.def&&e.defId&&(u[e.defId]=e.def)}e.external||Object.keys(u).length>0&&("draft-2020-12"===e.target?c.$defs=u:c.definitions=u);try{const e=JSON.parse(JSON.stringify(c));return Object.defineProperty(e,"~standard",{value:{...t["~standard"],jsonSchema:{input:She(t,"input"),output:She(t,"output")}},enumerable:!1,writable:!1}),e}catch(h){throw new Error("Error converting schema to JSON.")}}function whe(e,t){const n=null!=t?t:{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const r=e._zod.def;if("transform"===r.type)return!0;if("array"===r.type)return whe(r.element,n);if("set"===r.type)return whe(r.valueType,n);if("lazy"===r.type)return whe(r.getter(),n);if("promise"===r.type||"optional"===r.type||"nonoptional"===r.type||"nullable"===r.type||"readonly"===r.type||"default"===r.type||"prefault"===r.type)return whe(r.innerType,n);if("intersection"===r.type)return whe(r.left,n)||whe(r.right,n);if("record"===r.type||"map"===r.type)return whe(r.keyType,n)||whe(r.valueType,n);if("pipe"===r.type)return whe(r.in,n)||whe(r.out,n);if("object"===r.type){for(const e in r.shape)if(whe(r.shape[e],n))return!0;return!1}if("union"===r.type){for(const e of r.options)if(whe(e,n))return!0;return!1}if("tuple"===r.type){for(const e of r.items)if(whe(e,n))return!0;return!(!r.rest||!whe(r.rest,n))}return!1}const She=(e,t)=>n=>{const{libraryOptions:r,target:i}=null!=n?n:{},o=yhe({...null!=r?r:{},target:i,io:t,processors:{}});return _he(e,o),bhe(o,e),xhe(o,e)},Ehe=xce("ZodError",(e,t)=>{Jce.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t=e=>e.message){const n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code&&i.errors.length)i.errors.map(e=>r({issues:e}));else if("invalid_key"===i.code)r({issues:i.issues});else if("invalid_element"===i.code)r({issues:i.issues});else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(e),n}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,Mce,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,Mce,2)}},isEmpty:{get:()=>0===e.issues.length}})},{Parent:Error}),The=eue(Ehe),Ahe=tue(Ehe),Mhe=nue(Ehe),Che=iue(Ehe),Ohe=aue(Ehe),Rhe=sue(Ehe),Ihe=lue(Ehe),khe=cue(Ehe),Phe=uue(Ehe),Dhe=hue(Ehe),Nhe=fue(Ehe),Lhe=due(Ehe),Fhe=xce("ZodType",(e,t)=>(Cue.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:She(e,"input"),output:She(e,"output")}}),e.toJSONSchema=((e,t={})=>n=>{const r=yhe({...n,processors:t});return _he(e,r),bhe(r,e),xhe(r,e)})(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>{var r;return e.clone(Dce(t,{checks:[...null!=(r=t.checks)?r:[],...n.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}))},e.clone=(t,n)=>jce(e,t,n),e.brand=()=>e,e.register=(t,n)=>(t.add(e,n),e),e.parse=(t,n)=>The(e,t,n,{callee:e.parse}),e.safeParse=(t,n)=>Mhe(e,t,n),e.parseAsync=async(t,n)=>Ahe(e,t,n,{callee:e.parseAsync}),e.safeParseAsync=async(t,n)=>Che(e,t,n),e.spa=e.safeParseAsync,e.encode=(t,n)=>Ohe(e,t,n),e.decode=(t,n)=>Rhe(e,t,n),e.encodeAsync=async(t,n)=>Ihe(e,t,n),e.decodeAsync=async(t,n)=>khe(e,t,n),e.safeEncode=(t,n)=>Phe(e,t,n),e.safeDecode=(t,n)=>Dhe(e,t,n),e.safeEncodeAsync=async(t,n)=>Nhe(e,t,n),e.safeDecodeAsync=async(t,n)=>Lhe(e,t,n),e.refine=(t,n)=>e.check(function(e,t={}){return function(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Hce(n)})}(ufe,e,t)}(t,n)),e.superRefine=t=>e.check(vhe(t)),e.overwrite=t=>e.check(new Tue({check:"overwrite",tx:t})),e.optional=()=>efe(e),e.nullable=()=>nfe(e),e.nullish=()=>efe(nfe(e)),e.nonoptional=t=>function(e,t){return new ofe({type:"nonoptional",innerType:e,...Hce(t)})}(e,t),e.array=()=>{return function(e,t,n){return new e({type:"array",element:t,...Hce(n)})}(qhe,e,t);var t},e.or=t=>{return new Khe({type:"union",options:[e,t],...Hce(n)});var n},e.and=t=>new $he({type:"intersection",left:e,right:t}),e.transform=t=>lfe(e,new Jhe({type:"transform",transform:t})),e.default=t=>{return n=t,new rfe({type:"default",innerType:e,get defaultValue(){return"function"==typeof n?n():zce(n)}});var n},e.prefault=t=>{return n=t,new ife({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof n?n():zce(n)}});var n},e.catch=t=>{return new afe({type:"catch",innerType:e,catchValue:"function"==typeof(n=t)?n:()=>n});var n},e.pipe=t=>lfe(e,t),e.readonly=()=>new cfe({type:"readonly",innerType:e}),e.describe=t=>{const n=e.clone();return uhe.add(n,{description:t}),n},Object.defineProperty(e,"description",{get(){var t;return null==(t=uhe.get(e))?void 0:t.description},configurable:!0}),e.meta=(...t)=>{if(0===t.length)return uhe.get(e);const n=e.clone();return uhe.add(n,t[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),Uhe=xce("ZodNumber",(e,t)=>{var n,r,i,o,a,s,l,c,u;Oue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=n,{minimum:i,maximum:o,format:a,multipleOf:s,exclusiveMaximum:l,exclusiveMinimum:c}=e._zod.bag;"string"==typeof a&&a.includes("int")?r.type="integer":r.type="number","number"==typeof c&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.minimum=c,r.exclusiveMinimum=!0):r.exclusiveMinimum=c),"number"==typeof i&&(r.minimum=i,"number"==typeof c&&"draft-04"!==t.target&&(c>=i?delete r.minimum:delete r.exclusiveMinimum)),"number"==typeof l&&("draft-04"===t.target||"openapi-3.0"===t.target?(r.maximum=l,r.exclusiveMaximum=!0):r.exclusiveMaximum=l),"number"==typeof o&&(r.maximum=o,"number"==typeof l&&"draft-04"!==t.target&&(l<=o?delete r.maximum:delete r.exclusiveMaximum)),"number"==typeof s&&(r.multipleOf=s)})(e,t,n),e.gt=(t,n)=>e.check(dhe(t,n)),e.gte=(t,n)=>e.check(phe(t,n)),e.min=(t,n)=>e.check(phe(t,n)),e.lt=(t,n)=>e.check(hhe(t,n)),e.lte=(t,n)=>e.check(fhe(t,n)),e.max=(t,n)=>e.check(fhe(t,n)),e.int=t=>e.check(Vhe(t)),e.safe=t=>e.check(Vhe(t)),e.positive=t=>e.check(dhe(0,t)),e.nonnegative=t=>e.check(phe(0,t)),e.negative=t=>e.check(hhe(0,t)),e.nonpositive=t=>e.check(fhe(0,t)),e.multipleOf=(t,n)=>e.check(mhe(t,n)),e.step=(t,n)=>e.check(mhe(t,n)),e.finite=()=>e;const h=e._zod.bag;e.minValue=null!=(i=Math.max(null!=(n=h.minimum)?n:Number.NEGATIVE_INFINITY,null!=(r=h.exclusiveMinimum)?r:Number.NEGATIVE_INFINITY))?i:null,e.maxValue=null!=(s=Math.min(null!=(o=h.maximum)?o:Number.POSITIVE_INFINITY,null!=(a=h.exclusiveMaximum)?a:Number.POSITIVE_INFINITY))?s:null,e.isInt=(null!=(l=h.format)?l:"").includes("int")||Number.isSafeInteger(null!=(c=h.multipleOf)?c:.5),e.isFinite=!0,e.format=null!=(u=h.format)?u:null});function Bhe(e){return function(e,t){return new e({type:"number",checks:[],...Hce(t)})}(Uhe,e)}const zhe=xce("ZodNumberFormat",(e,t)=>{Rue.init(e,t),Uhe.init(e,t)});function Vhe(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Hce(t)})}(zhe,e)}const jhe=xce("ZodUnknown",(e,t)=>{Iue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>{}});function Hhe(){return new jhe({type:"unknown"})}const Whe=xce("ZodNever",(e,t)=>{kue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t,n)=>{n.not={}})(0,0,t)});function Ghe(e){return function(e,t){return new e({type:"never",...Hce(t)})}(Whe,e)}const qhe=xce("ZodArray",(e,t)=>{Due.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=n,o=e._zod.def,{minimum:a,maximum:s}=e._zod.bag;"number"==typeof a&&(i.minItems=a),"number"==typeof s&&(i.maxItems=s),i.type="array",i.items=_he(o.element,t,{...r,path:[...r.path,"items"]})})(e,t,n,r),e.element=t.element,e.min=(t,n)=>e.check(ghe(t,n)),e.nonempty=t=>e.check(ghe(1,t)),e.max=(t,n)=>e.check(function(e,t){return new wue({check:"max_length",...Hce(t),maximum:e})}(t,n)),e.length=(t,n)=>e.check(function(e,t){return new Eue({check:"length_equals",...Hce(t),length:e})}(t,n)),e.unwrap=()=>e.element});const Xhe=xce("ZodObject",(e,t)=>{Bue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{var i;const o=n,a=e._zod.def;o.type="object",o.properties={};const s=a.shape;for(const u in s)o.properties[u]=_he(s[u],t,{...r,path:[...r.path,"properties",u]});const l=new Set(Object.keys(s)),c=new Set([...l].filter(e=>{const n=a.shape[e]._zod;return"input"===t.io?void 0===n.optin:void 0===n.optout}));c.size>0&&(o.required=Array.from(c)),"never"===(null==(i=a.catchall)?void 0:i._zod.def.type)?o.additionalProperties=!1:a.catchall?a.catchall&&(o.additionalProperties=_he(a.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):"output"===t.io&&(o.additionalProperties=!1)})(e,t,n,r),kce(e,"shape",()=>t.shape),e.keyof=()=>function(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new Zhe({type:"enum",entries:n,...Hce(t)})}(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Hhe()}),e.loose=()=>e.clone({...e._zod.def,catchall:Hhe()}),e.strict=()=>e.clone({...e._zod.def,catchall:Ghe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!Bce(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=Dce(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Pce(this,"shape",n),n},checks:[]});return jce(e,r)}(e,t),e.safeExtend=t=>function(e,t){if(!Bce(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return Pce(this,"shape",n),n},checks:e._zod.def.checks};return jce(e,n)}(e,t),e.merge=t=>function(e,t){const n=Dce(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Pce(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return jce(e,n)}(e,t),e.pick=t=>function(e,t){const n=e._zod.def;return jce(e,Dce(e._zod.def,{get shape(){const e={};for(const r in t){if(!(r in n.shape))throw new Error('Unrecognized key: "'.concat(r,'"'));t[r]&&(e[r]=n.shape[r])}return Pce(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const n=e._zod.def,r=Dce(e._zod.def,{get shape(){const r={...e._zod.def.shape};for(const e in t){if(!(e in n.shape))throw new Error('Unrecognized key: "'.concat(e,'"'));t[e]&&delete r[e]}return Pce(this,"shape",r),r},checks:[]});return jce(e,r)}(e,t),e.partial=(...t)=>function(e,t,n){const r=Dce(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in r))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(i[t]=e?new e({type:"optional",innerType:r[t]}):r[t])}else for(const t in r)i[t]=e?new e({type:"optional",innerType:r[t]}):r[t];return Pce(this,"shape",i),i},checks:[]});return jce(t,r)}(Qhe,e,t[0]),e.required=(...t)=>function(e,t,n){const r=Dce(t._zod.def,{get shape(){const r=t._zod.def.shape,i={...r};if(n)for(const t in n){if(!(t in i))throw new Error('Unrecognized key: "'.concat(t,'"'));n[t]&&(i[t]=new e({type:"nonoptional",innerType:r[t]}))}else for(const t in r)i[t]=new e({type:"nonoptional",innerType:r[t]});return Pce(this,"shape",i),i},checks:[]});return jce(t,r)}(ofe,e,t[0])});function Yhe(e,t){const n={type:"object",shape:null!=e?e:{},...Hce(t)};return new Xhe(n)}const Khe=xce("ZodUnion",(e,t)=>{Vue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=!1===i.inclusive,a=i.options.map((e,n)=>_he(e,t,{...r,path:[...r.path,o?"oneOf":"anyOf",n]}));o?n.oneOf=a:n.anyOf=a})(e,t,n,r),e.options=t.options});const $he=xce("ZodIntersection",(e,t)=>{jue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=_he(i.left,t,{...r,path:[...r.path,"allOf",0]}),a=_he(i.right,t,{...r,path:[...r.path,"allOf",1]}),s=e=>"allOf"in e&&1===Object.keys(e).length,l=[...s(o)?o.allOf:[o],...s(a)?a.allOf:[a]];n.allOf=l})(e,t,n,r)});const Zhe=xce("ZodEnum",(e,t)=>{Gue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n)=>{const r=Ace(e._zod.def.entries);r.every(e=>"number"==typeof e)&&(n.type="number"),r.every(e=>"string"==typeof e)&&(n.type="string"),n.enum=r})(e,0,n),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(e,r)=>{const i={};for(const o of e){if(!n.has(o))throw new Error("Key ".concat(o," not found in enum"));i[o]=t.entries[o]}return new Zhe({...t,checks:[],...Hce(r),entries:i})},e.exclude=(e,r)=>{const i={...t.entries};for(const t of e){if(!n.has(t))throw new Error("Key ".concat(t," not found in enum"));delete i[t]}return new Zhe({...t,checks:[],...Hce(r),entries:i})}});const Jhe=xce("ZodTransform",(e,t)=>{que.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema")})(0,e),e._zod.parse=(n,r)=>{if("backward"===r.direction)throw new Sce(e.constructor.name);n.addIssue=r=>{if("string"==typeof r)n.issues.push($ce(r,n.value,t));else{const t=r;t.fatal&&(t.continue=!1),null!=t.code||(t.code="custom"),null!=t.input||(t.input=n.value),null!=t.inst||(t.inst=e),n.issues.push($ce(t))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(e=>(n.value=e,n)):(n.value=i,n)}});const Qhe=xce("ZodOptional",(e,t)=>{Yue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});function efe(e){return new Qhe({type:"optional",innerType:e})}const tfe=xce("ZodNullable",(e,t)=>{Kue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o=_he(i.innerType,t,r),a=t.seen.get(e);"openapi-3.0"===t.target?(a.ref=i.innerType,n.nullable=!0):n.anyOf=[o,{type:"null"}]})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});function nfe(e){return new tfe({type:"nullable",innerType:e})}const rfe=xce("ZodDefault",(e,t)=>{$ue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const ife=xce("ZodPrefault",(e,t)=>{Jue.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType,"input"===t.io&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});const ofe=xce("ZodNonOptional",(e,t)=>{Que.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType})(e,t,0,r),e.unwrap=()=>e._zod.def.innerType});const afe=xce("ZodCatch",(e,t)=>{the.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;let o;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType;try{o=i.catchValue(void 0)}catch(ame){throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const sfe=xce("ZodPipe",(e,t)=>{nhe.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def,o="input"===t.io?"transform"===i.in._zod.def.type?i.out:i.in:i.out;_he(o,t,r),t.seen.get(e).ref=o})(e,t,0,r),e.in=t.in,e.out=t.out});function lfe(e,t){return new sfe({type:"pipe",in:e,out:t})}const cfe=xce("ZodReadonly",(e,t)=>{ihe.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(t,n,r)=>((e,t,n,r)=>{const i=e._zod.def;_he(i.innerType,t,r),t.seen.get(e).ref=i.innerType,n.readOnly=!0})(e,t,n,r),e.unwrap=()=>e._zod.def.innerType});const ufe=xce("ZodCustom",(e,t)=>{ahe.init(e,t),Fhe.init(e,t),e._zod.processJSONSchema=(e,t,n)=>((e,t)=>{if("throw"===t.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")})(0,e)});const hfe={};function ffe(e,t){"string"!=typeof t&&(t=ffe.defaultChars);const n=function(e){let t=hfe[e];if(t)return t;t=hfe[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);t.push(e)}for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t[r]="%"+("0"+r.toString(16).toUpperCase()).slice(-2)}return t}(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(e){let t="";for(let r=0,i=e.length;r<i;r+=3){const o=parseInt(e.slice(r+1,r+3),16);if(o<128)t+=n[o];else{if(192==(224&o)&&r+3<i){const n=parseInt(e.slice(r+4,r+6),16);if(128==(192&n)){const e=o<<6&1984|63&n;t+=e<128?"":String.fromCharCode(e),r+=3;continue}}if(224==(240&o)&&r+6<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16);if(128==(192&n)&&128==(192&i)){const e=o<<12&61440|n<<6&4032|63&i;t+=e<2048||e>=55296&&e<=57343?"":String.fromCharCode(e),r+=6;continue}}if(240==(248&o)&&r+9<i){const n=parseInt(e.slice(r+4,r+6),16),i=parseInt(e.slice(r+7,r+9),16),a=parseInt(e.slice(r+10,r+12),16);if(128==(192&n)&&128==(192&i)&&128==(192&a)){let e=o<<18&1835008|n<<12&258048|i<<6&4032|63&a;e<65536||e>1114111?t+="":(e-=65536,t+=String.fromCharCode(55296+(e>>10),56320+(1023&e))),r+=9;continue}}t+=""}}return t})}ffe.defaultChars=";/?:@&=+$,#",ffe.componentChars="";const dfe={};function pfe(e,t,n){"string"!=typeof t&&(n=t,t=pfe.defaultChars),void 0===n&&(n=!0);const r=function(e){let t=dfe[e];if(t)return t;t=dfe[e]=[];for(let n=0;n<128;n++){const e=String.fromCharCode(n);/^[0-9a-z]$/i.test(e)?t.push(e):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}(t);let i="";for(let o=0,a=e.length;o<a;o++){const t=e.charCodeAt(o);if(n&&37===t&&o+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3)))i+=e.slice(o,o+3),o+=2;else if(t<128)i+=r[t];else if(t>=55296&&t<=57343){if(t>=55296&&t<=56319&&o+1<a){const t=e.charCodeAt(o+1);if(t>=56320&&t<=57343){i+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}i+="%EF%BF%BD"}else i+=encodeURIComponent(e[o])}return i}function mfe(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&-1!==e.hostname.indexOf(":")?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function gfe(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}pfe.defaultChars=";/?:@&=+$,-_.!~*'()#",pfe.componentChars="-_.!~*'()";const vfe=/^([a-z0-9.+-]+:)/i,yfe=/:[0-9]*$/,_fe=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,bfe=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),xfe=["'"].concat(bfe),wfe=["%","/","?",";","#"].concat(xfe),Sfe=["/","?","#"],Efe=/^[+a-z0-9A-Z_-]{0,63}$/,Tfe=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Afe={javascript:!0,"javascript:":!0},Mfe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function Cfe(e,t){if(e&&e instanceof gfe)return e;const n=new gfe;return n.parse(e,t),n}gfe.prototype.parse=function(e,t){let n,r,i,o=e;if(o=o.trim(),!t&&1===e.split("#").length){const e=_fe.exec(o);if(e)return this.pathname=e[1],e[2]&&(this.search=e[2]),this}let a=vfe.exec(o);if(a&&(a=a[0],n=a.toLowerCase(),this.protocol=a,o=o.substr(a.length)),(t||a||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(i="//"===o.substr(0,2),!i||a&&Afe[a]||(o=o.substr(2),this.slashes=!0)),!Afe[a]&&(i||a&&!Mfe[a])){let e,t,n=-1;for(let s=0;s<Sfe.length;s++)r=o.indexOf(Sfe[s]),-1!==r&&(-1===n||r<n)&&(n=r);t=-1===n?o.lastIndexOf("@"):o.lastIndexOf("@",n),-1!==t&&(e=o.slice(0,t),o=o.slice(t+1),this.auth=e),n=-1;for(let s=0;s<wfe.length;s++)r=o.indexOf(wfe[s]),-1!==r&&(-1===n||r<n)&&(n=r);-1===n&&(n=o.length),":"===o[n-1]&&n--;const i=o.slice(0,n);o=o.slice(n),this.parseHost(i),this.hostname=this.hostname||"";const a="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!a){const e=this.hostname.split(/\./);for(let t=0,n=e.length;t<n;t++){const n=e[t];if(n&&!n.match(Efe)){let r="";for(let e=0,t=n.length;e<t;e++)n.charCodeAt(e)>127?r+="x":r+=n[e];if(!r.match(Efe)){const r=e.slice(0,t),i=e.slice(t+1),a=n.match(Tfe);a&&(r.push(a[1]),i.unshift(a[2])),i.length&&(o=i.join(".")+o),this.hostname=r.join(".");break}}}}this.hostname.length>255&&(this.hostname=""),a&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const s=o.indexOf("#");-1!==s&&(this.hash=o.substr(s),o=o.slice(0,s));const l=o.indexOf("?");return-1!==l&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),Mfe[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this},gfe.prototype.parseHost=function(e){let t=yfe.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const Ofe=Object.freeze(Object.defineProperty({__proto__:null,decode:ffe,encode:pfe,format:mfe,parse:Cfe},Symbol.toStringTag,{value:"Module"})),Rfe=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,Ife=/[\0-\x1F\x7F-\x9F]/,kfe=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,Pfe=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,Dfe=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,Nfe=Object.freeze(Object.defineProperty({__proto__:null,Any:Rfe,Cc:Ife,Cf:/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,P:kfe,S:Pfe,Z:Dfe},Symbol.toStringTag,{value:"Module"})),Lfe=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),Ffe=new Uint16Array("aglq\t\0\0p;os;t;t;uot;".split("").map(e=>e.charCodeAt(0)));var Ufe;const Bfe=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),zfe=null!==(Ufe=String.fromCodePoint)&&void 0!==Ufe?Ufe:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e),t};var Vfe,jfe;(jfe=Vfe||(Vfe={}))[jfe.NUM=35]="NUM",jfe[jfe.SEMI=59]="SEMI",jfe[jfe.EQUALS=61]="EQUALS",jfe[jfe.ZERO=48]="ZERO",jfe[jfe.NINE=57]="NINE",jfe[jfe.LOWER_A=97]="LOWER_A",jfe[jfe.LOWER_F=102]="LOWER_F",jfe[jfe.LOWER_X=120]="LOWER_X",jfe[jfe.LOWER_Z=122]="LOWER_Z",jfe[jfe.UPPER_A=65]="UPPER_A",jfe[jfe.UPPER_F=70]="UPPER_F",jfe[jfe.UPPER_Z=90]="UPPER_Z";var Hfe,Wfe,Gfe,qfe,Xfe,Yfe;function Kfe(e){return e>=Vfe.ZERO&&e<=Vfe.NINE}function $fe(e){return e>=Vfe.UPPER_A&&e<=Vfe.UPPER_F||e>=Vfe.LOWER_A&&e<=Vfe.LOWER_F}function Zfe(e){return e===Vfe.EQUALS||function(e){return e>=Vfe.UPPER_A&&e<=Vfe.UPPER_Z||e>=Vfe.LOWER_A&&e<=Vfe.LOWER_Z||Kfe(e)}(e)}(Wfe=Hfe||(Hfe={}))[Wfe.VALUE_LENGTH=49152]="VALUE_LENGTH",Wfe[Wfe.BRANCH_LENGTH=16256]="BRANCH_LENGTH",Wfe[Wfe.JUMP_TABLE=127]="JUMP_TABLE",(qfe=Gfe||(Gfe={}))[qfe.EntityStart=0]="EntityStart",qfe[qfe.NumericStart=1]="NumericStart",qfe[qfe.NumericDecimal=2]="NumericDecimal",qfe[qfe.NumericHex=3]="NumericHex",qfe[qfe.NamedEntity=4]="NamedEntity",(Yfe=Xfe||(Xfe={}))[Yfe.Legacy=0]="Legacy",Yfe[Yfe.Strict=1]="Strict",Yfe[Yfe.Attribute=2]="Attribute";class Jfe{constructor(e,t,n){this.decodeTree=e,this.emitCodePoint=t,this.errors=n,this.state=Gfe.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Xfe.Strict}startEntity(e){this.decodeMode=e,this.state=Gfe.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(e,t){switch(this.state){case Gfe.EntityStart:return e.charCodeAt(t)===Vfe.NUM?(this.state=Gfe.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=Gfe.NamedEntity,this.stateNamedEntity(e,t));case Gfe.NumericStart:return this.stateNumericStart(e,t);case Gfe.NumericDecimal:return this.stateNumericDecimal(e,t);case Gfe.NumericHex:return this.stateNumericHex(e,t);case Gfe.NamedEntity:return this.stateNamedEntity(e,t)}}stateNumericStart(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===Vfe.LOWER_X?(this.state=Gfe.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=Gfe.NumericDecimal,this.stateNumericDecimal(e,t))}addToNumericResult(e,t,n,r){if(t!==n){const i=n-t;this.result=this.result*Math.pow(r,i)+parseInt(e.substr(t,i),r),this.consumed+=i}}stateNumericHex(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!Kfe(r)&&!$fe(r))return this.addToNumericResult(e,n,t,16),this.emitNumericEntity(r,3);t+=1}return this.addToNumericResult(e,n,t,16),-1}stateNumericDecimal(e,t){const n=t;for(;t<e.length;){const r=e.charCodeAt(t);if(!Kfe(r))return this.addToNumericResult(e,n,t,10),this.emitNumericEntity(r,2);t+=1}return this.addToNumericResult(e,n,t,10),-1}emitNumericEntity(e,t){var n;if(this.consumed<=t)return null===(n=this.errors)||void 0===n||n.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===Vfe.SEMI)this.consumed+=1;else if(this.decodeMode===Xfe.Strict)return 0;return this.emitCodePoint(function(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=Bfe.get(e))&&void 0!==t?t:e}(this.result),this.consumed),this.errors&&(e!==Vfe.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(e,t){const{decodeTree:n}=this;let r=n[this.treeIndex],i=(r&Hfe.VALUE_LENGTH)>>14;for(;t<e.length;t++,this.excess++){const o=e.charCodeAt(t);if(this.treeIndex=ede(n,r,this.treeIndex+Math.max(1,i),o),this.treeIndex<0)return 0===this.result||this.decodeMode===Xfe.Attribute&&(0===i||Zfe(o))?0:this.emitNotTerminatedNamedEntity();if(r=n[this.treeIndex],i=(r&Hfe.VALUE_LENGTH)>>14,0!==i){if(o===Vfe.SEMI)return this.emitNamedEntityData(this.treeIndex,i,this.consumed+this.excess);this.decodeMode!==Xfe.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var e;const{result:t,decodeTree:n}=this,r=(n[t]&Hfe.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,r,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(e,t,n){const{decodeTree:r}=this;return this.emitCodePoint(1===t?r[e]&~Hfe.VALUE_LENGTH:r[e+1],n),3===t&&this.emitCodePoint(r[e+2],n),n}end(){var e;switch(this.state){case Gfe.NamedEntity:return 0===this.result||this.decodeMode===Xfe.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case Gfe.NumericDecimal:return this.emitNumericEntity(0,2);case Gfe.NumericHex:return this.emitNumericEntity(0,3);case Gfe.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Gfe.EntityStart:return 0}}}function Qfe(e){let t="";const n=new Jfe(e,e=>t+=zfe(e));return function(e,r){let i=0,o=0;for(;(o=e.indexOf("&",o))>=0;){t+=e.slice(i,o),n.startEntity(r);const a=n.write(e,o+1);if(a<0){i=o+n.end();break}i=o+a,o=0===a?i+1:i}const a=t+e.slice(i);return t="",a}}function ede(e,t,n,r){const i=(t&Hfe.BRANCH_LENGTH)>>7,o=t&Hfe.JUMP_TABLE;if(0===i)return 0!==o&&r===o?n:-1;if(o){const t=r-o;return t<0||t>=i?-1:e[n+t]-1}let a=n,s=a+i-1;for(;a<=s;){const t=a+s>>>1,n=e[t];if(n<r)a=t+1;else{if(!(n>r))return e[t+i];s=t-1}}return-1}const tde=Qfe(Lfe);function nde(e,t=Xfe.Legacy){return tde(e,t)}function rde(e){return"[object String]"===function(e){return Object.prototype.toString.call(e)}(e)}Qfe(Ffe);const ide=Object.prototype.hasOwnProperty;function ode(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){if(t){if("object"!=typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach(function(n){e[n]=t[n]})}}),e}function ade(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function sde(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(!!(65535&~e&&65534!=(65535&e))&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function lde(e){if(e>65535){const t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const cde=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,ude=new RegExp(cde.source+"|"+/&([a-z#][a-z0-9]{1,31});/gi.source,"gi"),hde=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function fde(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(ude,function(e,t,n){return t||function(e,t){if(35===t.charCodeAt(0)&&hde.test(t)){const n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return sde(n)?lde(n):e}const n=nde(e);return n!==e?n:e}(e,n)})}const dde=/[&<>"]/,pde=/[&<>"]/g,mde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function gde(e){return mde[e]}function vde(e){return dde.test(e)?e.replace(pde,gde):e}const yde=/[.?*+^$[\]\\(){}|-]/g;function _de(e){switch(e){case 9:case 32:return!0}return!1}function bde(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function xde(e){return kfe.test(e)||Pfe.test(e)}function wde(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function Sde(e){return e=e.trim().replace(/\s+/g," "),""==="".toLowerCase()&&(e=e.replace(//g,"")),e.toLowerCase().toUpperCase()}const Ede={mdurl:Ofe,ucmicro:Nfe},Tde=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:ade,assign:ode,escapeHtml:vde,escapeRE:function(e){return e.replace(yde,"\\$&")},fromCodePoint:lde,has:function(e,t){return ide.call(e,t)},isMdAsciiPunct:wde,isPunctChar:xde,isSpace:_de,isString:rde,isValidEntityCode:sde,isWhiteSpace:bde,lib:Ede,normalizeReference:Sde,unescapeAll:fde,unescapeMd:function(e){return e.indexOf("\\")<0?e:e.replace(cde,"$1")}},Symbol.toStringTag,{value:"Module"}));const Ade=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:function(e,t,n){let r,i=t;const o={ok:!1,pos:0,str:""};if(60===e.charCodeAt(i)){for(i++;i<n;){if(r=e.charCodeAt(i),10===r)return o;if(60===r)return o;if(62===r)return o.pos=i+1,o.str=fde(e.slice(t+1,i)),o.ok=!0,o;92===r&&i+1<n?i+=2:i++}return o}let a=0;for(;i<n&&(r=e.charCodeAt(i),32!==r)&&!(r<32||127===r);)if(92===r&&i+1<n){if(32===e.charCodeAt(i+1))break;i+=2}else{if(40===r&&(a++,a>32))return o;if(41===r){if(0===a)break;a--}i++}return t===i||0!==a||(o.str=fde(e.slice(t,i)),o.pos=i,o.ok=!0),o},parseLinkLabel:function(e,t,n){let r,i,o,a;const s=e.posMax,l=e.pos;for(e.pos=t+1,r=1;e.pos<s;){if(o=e.src.charCodeAt(e.pos),93===o&&(r--,0===r)){i=!0;break}if(a=e.pos,e.md.inline.skipToken(e),91===o)if(a===e.pos-1)r++;else if(n)return e.pos=l,-1}let c=-1;return i&&(c=e.pos),e.pos=l,c},parseLinkTitle:function(e,t,n,r){let i,o=t;const a={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(r)a.str=r.str,a.marker=r.marker;else{if(o>=n)return a;let r=e.charCodeAt(o);if(34!==r&&39!==r&&40!==r)return a;t++,o++,40===r&&(r=41),a.marker=r}for(;o<n;){if(i=e.charCodeAt(o),i===a.marker)return a.pos=o+1,a.str+=fde(e.slice(t,o)),a.ok=!0,a;if(40===i&&41===a.marker)return a;92===i&&o+1<n&&o++,o++}return a.can_continue=!0,a.str+=fde(e.slice(t,o)),a}},Symbol.toStringTag,{value:"Module"})),Mde={};function Cde(){this.rules=ode({},Mde)}function Ode(){this.__rules__=[],this.__cache__=null}function Rde(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}function Ide(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}Mde.code_inline=function(e,t,n,r,i){const o=e[t];return"<code"+i.renderAttrs(o)+">"+vde(o.content)+"</code>"},Mde.code_block=function(e,t,n,r,i){const o=e[t];return"<pre"+i.renderAttrs(o)+"><code>"+vde(e[t].content)+"</code></pre>\n"},Mde.fence=function(e,t,n,r,i){const o=e[t],a=o.info?fde(o.info).trim():"";let s,l="",c="";if(a){const e=a.split(/(\s+)/g);l=e[0],c=e.slice(2).join("")}if(s=n.highlight&&n.highlight(o.content,l,c)||vde(o.content),0===s.indexOf("<pre"))return s+"\n";if(a){const e=o.attrIndex("class"),t=o.attrs?o.attrs.slice():[];e<0?t.push(["class",n.langPrefix+l]):(t[e]=t[e].slice(),t[e][1]+=" "+n.langPrefix+l);const r={attrs:t};return"<pre><code".concat(i.renderAttrs(r),">").concat(s,"</code></pre>\n")}return"<pre><code".concat(i.renderAttrs(o),">").concat(s,"</code></pre>\n")},Mde.image=function(e,t,n,r,i){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=i.renderInlineAsText(o.children,n,r),i.renderToken(e,t,n)},Mde.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},Mde.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},Mde.text=function(e,t){return vde(e[t].content)},Mde.html_block=function(e,t){return e[t].content},Mde.html_inline=function(e,t){return e[t].content},Cde.prototype.renderAttrs=function(e){let t,n,r;if(!e.attrs)return"";for(r="",t=0,n=e.attrs.length;t<n;t++)r+=" "+vde(e.attrs[t][0])+'="'+vde(e.attrs[t][1])+'"';return r},Cde.prototype.renderToken=function(e,t,n){const r=e[t];let i="";if(r.hidden)return"";r.block&&-1!==r.nesting&&t&&e[t-1].hidden&&(i+="\n"),i+=(-1===r.nesting?"</":"<")+r.tag,i+=this.renderAttrs(r),0===r.nesting&&n.xhtmlOut&&(i+=" /");let o=!1;if(r.block&&(o=!0,1===r.nesting&&t+1<e.length)){const n=e[t+1];("inline"===n.type||n.hidden||-1===n.nesting&&n.tag===r.tag)&&(o=!1)}return i+=o?">\n":">",i},Cde.prototype.renderInline=function(e,t,n){let r="";const i=this.rules;for(let o=0,a=e.length;o<a;o++){const a=e[o].type;void 0!==i[a]?r+=i[a](e,o,t,n,this):r+=this.renderToken(e,o,t)}return r},Cde.prototype.renderInlineAsText=function(e,t,n){let r="";for(let i=0,o=e.length;i<o;i++)switch(e[i].type){case"text":case"html_inline":case"html_block":r+=e[i].content;break;case"image":r+=this.renderInlineAsText(e[i].children,t,n);break;case"softbreak":case"hardbreak":r+="\n"}return r},Cde.prototype.render=function(e,t,n){let r="";const i=this.rules;for(let o=0,a=e.length;o<a;o++){const a=e[o].type;"inline"===a?r+=this.renderInline(e[o].children,t,n):void 0!==i[a]?r+=i[a](e,o,t,n,this):r+=this.renderToken(e,o,t,n)}return r},Ode.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1},Ode.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(e){e.enabled&&e.alt.forEach(function(e){t.indexOf(e)<0&&t.push(e)})}),e.__cache__={},t.forEach(function(t){e.__cache__[t]=[],e.__rules__.forEach(function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))})})},Ode.prototype.at=function(e,t,n){const r=this.__find__(e),i=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=i.alt||[],this.__cache__=null},Ode.prototype.before=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Ode.prototype.after=function(e,t,n,r){const i=this.__find__(e),o=r||{};if(-1===i)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null},Ode.prototype.push=function(e,t,n){const r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},Ode.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!0,n.push(e)},this),this.__cache__=null,n},Ode.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(e){e.enabled=!1}),this.enable(e,t)},Ode.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(e){const r=this.__find__(e);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+e)}this.__rules__[r].enabled=!1,n.push(e)},this),this.__cache__=null,n},Ode.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},Rde.prototype.attrIndex=function(e){if(!this.attrs)return-1;const t=this.attrs;for(let n=0,r=t.length;n<r;n++)if(t[n][0]===e)return n;return-1},Rde.prototype.attrPush=function(e){this.attrs?this.attrs.push(e):this.attrs=[e]},Rde.prototype.attrSet=function(e,t){const n=this.attrIndex(e),r=[e,t];n<0?this.attrPush(r):this.attrs[n]=r},Rde.prototype.attrGet=function(e){const t=this.attrIndex(e);let n=null;return t>=0&&(n=this.attrs[t][1]),n},Rde.prototype.attrJoin=function(e,t){const n=this.attrIndex(e);n<0?this.attrPush([e,t]):this.attrs[n][1]=this.attrs[n][1]+" "+t},Ide.prototype.Token=Rde;const kde=/\r\n?|\n/g,Pde=/\0/g;function Dde(e){return/^<a[>\s]/i.test(e)}function Nde(e){return/^<\/a\s*>/i.test(e)}const Lde=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,Fde=/\((c|tm|r)\)/i,Ude=/\((c|tm|r)\)/gi,Bde={c:"",r:"",tm:""};function zde(e,t){return Bde[t.toLowerCase()]}function Vde(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||(r.content=r.content.replace(Ude,zde)),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}function jde(e){let t=0;for(let n=e.length-1;n>=0;n--){const r=e[n];"text"!==r.type||t||Lde.test(r.content)&&(r.content=r.content.replace(/\+-/g,"").replace(/\.{2,}/g,"").replace(/([?!])/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/gm,"$1").replace(/(^|\s)--(?=\s|$)/gm,"$1").replace(/(^|[^-\s])--(?=[^-\s]|$)/gm,"$1")),"link_open"===r.type&&"auto"===r.info&&t--,"link_close"===r.type&&"auto"===r.info&&t++}}const Hde=/['"]/,Wde=/['"]/g;function Gde(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function qde(e,t){let n;const r=[];for(let i=0;i<e.length;i++){const o=e[i],a=e[i].level;for(n=r.length-1;n>=0&&!(r[n].level<=a);n--);if(r.length=n+1,"text"!==o.type)continue;let s=o.content,l=0,c=s.length;e:for(;l<c;){Wde.lastIndex=l;const u=Wde.exec(s);if(!u)break;let h=!0,f=!0;l=u.index+1;const d="'"===u[0];let p=32;if(u.index-1>=0)p=s.charCodeAt(u.index-1);else for(n=i-1;n>=0&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n--)if(e[n].content){p=e[n].content.charCodeAt(e[n].content.length-1);break}let m=32;if(l<c)m=s.charCodeAt(l);else for(n=i+1;n<e.length&&("softbreak"!==e[n].type&&"hardbreak"!==e[n].type);n++)if(e[n].content){m=e[n].content.charCodeAt(0);break}const g=wde(p)||xde(String.fromCharCode(p)),v=wde(m)||xde(String.fromCharCode(m)),y=bde(p),_=bde(m);if(_?h=!1:v&&(y||g||(h=!1)),y?f=!1:g&&(_||v||(f=!1)),34===m&&'"'===u[0]&&p>=48&&p<=57&&(f=h=!1),h&&f&&(h=g,f=v),h||f){if(f)for(n=r.length-1;n>=0;n--){let h=r[n];if(r[n].level<a)break;if(h.single===d&&r[n].level===a){let a,f;h=r[n],d?(a=t.md.options.quotes[2],f=t.md.options.quotes[3]):(a=t.md.options.quotes[0],f=t.md.options.quotes[1]),o.content=Gde(o.content,u.index,f),e[h.token].content=Gde(e[h.token].content,h.pos,a),l+=f.length-1,h.token===i&&(l+=a.length-1),s=o.content,c=s.length,r.length=n;continue e}}h?r.push({token:i,pos:u.index,single:d,level:a}):f&&d&&(o.content=Gde(o.content,u.index,""))}else d&&(o.content=Gde(o.content,u.index,""))}}}const Xde=[["normalize",function(e){let t;t=e.src.replace(kde,"\n"),t=t.replace(Pde,""),e.src=t}],["block",function(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}],["inline",function(e){const t=e.tokens;for(let n=0,r=t.length;n<r;n++){const r=t[n];"inline"===r.type&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}],["linkify",function(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,r=t.length;n<r;n++){if("inline"!==t[n].type||!e.md.linkify.pretest(t[n].content))continue;let r=t[n].children,i=0;for(let o=r.length-1;o>=0;o--){const a=r[o];if("link_close"!==a.type){if("html_inline"===a.type&&(Dde(a.content)&&i>0&&i--,Nde(a.content)&&i++),!(i>0)&&"text"===a.type&&e.md.linkify.test(a.content)){const i=a.content;let s=e.md.linkify.match(i);const l=[];let c=a.level,u=0;s.length>0&&0===s[0].index&&o>0&&"text_special"===r[o-1].type&&(s=s.slice(1));for(let t=0;t<s.length;t++){const n=s[t].url,r=e.md.normalizeLink(n);if(!e.md.validateLink(r))continue;let o=s[t].text;o=s[t].schema?"mailto:"!==s[t].schema||/^mailto:/i.test(o)?e.md.normalizeLinkText(o):e.md.normalizeLinkText("mailto:"+o).replace(/^mailto:/,""):e.md.normalizeLinkText("http://"+o).replace(/^http:\/\//,"");const a=s[t].index;if(a>u){const t=new e.Token("text","",0);t.content=i.slice(u,a),t.level=c,l.push(t)}const h=new e.Token("link_open","a",1);h.attrs=[["href",r]],h.level=c++,h.markup="linkify",h.info="auto",l.push(h);const f=new e.Token("text","",0);f.content=o,f.level=c,l.push(f);const d=new e.Token("link_close","a",-1);d.level=--c,d.markup="linkify",d.info="auto",l.push(d),u=s[t].lastIndex}if(u<i.length){const t=new e.Token("text","",0);t.content=i.slice(u),t.level=c,l.push(t)}t[n].children=r=ade(r,o,l)}}else for(o--;r[o].level!==a.level&&"link_open"!==r[o].type;)o--}}}],["replacements",function(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&(Fde.test(e.tokens[t].content)&&Vde(e.tokens[t].children),Lde.test(e.tokens[t].content)&&jde(e.tokens[t].children))}],["smartquotes",function(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)"inline"===e.tokens[t].type&&Hde.test(e.tokens[t].content)&&qde(e.tokens[t].children,e)}],["text_join",function(e){let t,n;const r=e.tokens,i=r.length;for(let o=0;o<i;o++){if("inline"!==r[o].type)continue;const e=r[o].children,i=e.length;for(t=0;t<i;t++)"text_special"===e[t].type&&(e[t].type="text");for(t=n=0;t<i;t++)"text"===e[t].type&&t+1<i&&"text"===e[t+1].type?e[t+1].content=e[t].content+e[t+1].content:(t!==n&&(e[n]=e[t]),n++);t!==n&&(e.length=n)}}]];function Yde(){this.ruler=new Ode;for(let e=0;e<Xde.length;e++)this.ruler.push(Xde[e][0],Xde[e][1])}function Kde(e,t,n,r){this.src=e,this.md=t,this.env=n,this.tokens=r,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const i=this.src;for(let o=0,a=0,s=0,l=0,c=i.length,u=!1;a<c;a++){const e=i.charCodeAt(a);if(!u){if(_de(e)){s++,9===e?l+=4-l%4:l++;continue}u=!0}10!==e&&a!==c-1||(10!==e&&a++,this.bMarks.push(o),this.eMarks.push(a),this.tShift.push(s),this.sCount.push(l),this.bsCount.push(0),u=!1,s=0,l=0,o=a+1)}this.bMarks.push(i.length),this.eMarks.push(i.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Yde.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,r=t.length;n<r;n++)t[n](e)},Yde.prototype.State=Ide,Kde.prototype.push=function(e,t,n){const r=new Rde(e,t,n);return r.block=!0,n<0&&this.level--,r.level=this.level,n>0&&this.level++,this.tokens.push(r),r},Kde.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},Kde.prototype.skipEmptyLines=function(e){for(let t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},Kde.prototype.skipSpaces=function(e){for(let t=this.src.length;e<t;e++){if(!_de(this.src.charCodeAt(e)))break}return e},Kde.prototype.skipSpacesBack=function(e,t){if(e<=t)return e;for(;e>t;)if(!_de(this.src.charCodeAt(--e)))return e+1;return e},Kde.prototype.skipChars=function(e,t){for(let n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},Kde.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},Kde.prototype.getLines=function(e,t,n,r){if(e>=t)return"";const i=new Array(t-e);for(let o=0,a=e;a<t;a++,o++){let e=0;const s=this.bMarks[a];let l,c=s;for(l=a+1<t||r?this.eMarks[a]+1:this.eMarks[a];c<l&&e<n;){const t=this.src.charCodeAt(c);if(_de(t))9===t?e+=4-(e+this.bsCount[a])%4:e++;else{if(!(c-s<this.tShift[a]))break;e++}c++}i[o]=e>n?new Array(e-n+1).join(" ")+this.src.slice(c,l):this.src.slice(c,l)}return i.join("")},Kde.prototype.Token=Rde;function $de(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];return e.src.slice(n,r)}function Zde(e){const t=[],n=e.length;let r=0,i=e.charCodeAt(r),o=!1,a=0,s="";for(;r<n;)124===i&&(o?(s+=e.substring(a,r-1),a=r):(t.push(s+e.substring(a,r)),s="",a=r+1)),o=92===i,r++,i=e.charCodeAt(r);return t.push(s+e.substring(a)),t}function Jde(e,t){const n=e.eMarks[t];let r=e.bMarks[t]+e.tShift[t];const i=e.src.charCodeAt(r++);if(42!==i&&45!==i&&43!==i)return-1;if(r<n){if(!_de(e.src.charCodeAt(r)))return-1}return r}function Qde(e,t){const n=e.bMarks[t]+e.tShift[t],r=e.eMarks[t];let i=n;if(i+1>=r)return-1;let o=e.src.charCodeAt(i++);if(o<48||o>57)return-1;for(;;){if(i>=r)return-1;if(o=e.src.charCodeAt(i++),!(o>=48&&o<=57)){if(41===o||46===o)break;return-1}if(i-n>=10)return-1}return i<r&&(o=e.src.charCodeAt(i),!_de(o))?-1:i}const epe="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",tpe="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",npe=new RegExp("^(?:"+epe+"|"+tpe+"|\x3c!---?>|\x3c!--(?:[^-]|-[^-]|--[^>])*--\x3e|<[?][\\s\\S]*?[?]>|<![A-Za-z][^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)"),rpe=new RegExp("^(?:"+epe+"|"+tpe+")"),ipe=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"].join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(rpe.source+"\\s*$"),/^$/,!1]];const ope=[["table",function(e,t,n,r){if(t+2>n)return!1;let i=t+1;if(e.sCount[i]<e.blkIndent)return!1;if(e.sCount[i]-e.blkIndent>=4)return!1;let o=e.bMarks[i]+e.tShift[i];if(o>=e.eMarks[i])return!1;const a=e.src.charCodeAt(o++);if(124!==a&&45!==a&&58!==a)return!1;if(o>=e.eMarks[i])return!1;const s=e.src.charCodeAt(o++);if(124!==s&&45!==s&&58!==s&&!_de(s))return!1;if(45===a&&_de(s))return!1;for(;o<e.eMarks[i];){const t=e.src.charCodeAt(o);if(124!==t&&45!==t&&58!==t&&!_de(t))return!1;o++}let l=$de(e,t+1),c=l.split("|");const u=[];for(let v=0;v<c.length;v++){const e=c[v].trim();if(!e){if(0===v||v===c.length-1)continue;return!1}if(!/^:?-+:?$/.test(e))return!1;58===e.charCodeAt(e.length-1)?u.push(58===e.charCodeAt(0)?"center":"right"):58===e.charCodeAt(0)?u.push("left"):u.push("")}if(l=$de(e,t).trim(),-1===l.indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;c=Zde(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop();const h=c.length;if(0===h||h!==u.length)return!1;if(r)return!0;const f=e.parentType;e.parentType="table";const d=e.md.block.ruler.getRules("blockquote"),p=[t,0];e.push("table_open","table",1).map=p,e.push("thead_open","thead",1).map=[t,t+1],e.push("tr_open","tr",1).map=[t,t+1];for(let v=0;v<c.length;v++){const t=e.push("th_open","th",1);u[v]&&(t.attrs=[["style","text-align:"+u[v]]]);const n=e.push("inline","",0);n.content=c[v].trim(),n.children=[],e.push("th_close","th",-1)}let m;e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let g=0;for(i=t+2;i<n&&!(e.sCount[i]<e.blkIndent);i++){let r=!1;for(let t=0,o=d.length;t<o;t++)if(d[t](e,i,n,!0)){r=!0;break}if(r)break;if(l=$de(e,i).trim(),!l)break;if(e.sCount[i]-e.blkIndent>=4)break;if(c=Zde(l),c.length&&""===c[0]&&c.shift(),c.length&&""===c[c.length-1]&&c.pop(),g+=h-c.length,g>65536)break;if(i===t+2){e.push("tbody_open","tbody",1).map=m=[t+2,0]}e.push("tr_open","tr",1).map=[i,i+1];for(let t=0;t<h;t++){const n=e.push("td_open","td",1);u[t]&&(n.attrs=[["style","text-align:"+u[t]]]);const r=e.push("inline","",0);r.content=c[t]?c[t].trim():"",r.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return m&&(e.push("tbody_close","tbody",-1),m[1]=i),e.push("table_close","table",-1),p[1]=i,e.parentType=f,e.line=i,!0},["paragraph","reference"]],["code",function(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let r=t+1,i=r;for(;r<n;)if(e.isEmpty(r))r++;else{if(!(e.sCount[r]-e.blkIndent>=4))break;r++,i=r}e.line=i;const o=e.push("code_block","code",0);return o.content=e.getLines(t,i,4+e.blkIndent,!1)+"\n",o.map=[t,e.line],!0}],["fence",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(i+3>o)return!1;const a=e.src.charCodeAt(i);if(126!==a&&96!==a)return!1;let s=i;i=e.skipChars(i,a);let l=i-s;if(l<3)return!1;const c=e.src.slice(s,i),u=e.src.slice(i,o);if(96===a&&u.indexOf(String.fromCharCode(a))>=0)return!1;if(r)return!0;let h=t,f=!1;for(;(h++,!(h>=n))&&(i=s=e.bMarks[h]+e.tShift[h],o=e.eMarks[h],!(i<o&&e.sCount[h]<e.blkIndent));)if(e.src.charCodeAt(i)===a&&!(e.sCount[h]-e.blkIndent>=4||(i=e.skipChars(i,a),i-s<l||(i=e.skipSpaces(i),i<o)))){f=!0;break}l=e.sCount[t],e.line=h+(f?1:0);const d=e.push("fence","code",0);return d.info=u,d.content=e.getLines(t+1,h,l,!0),d.markup=c,d.map=[t,e.line],!0},["paragraph","reference","blockquote","list"]],["blockquote",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const a=e.lineMax;if(e.sCount[t]-e.blkIndent>=4)return!1;if(62!==e.src.charCodeAt(i))return!1;if(r)return!0;const s=[],l=[],c=[],u=[],h=e.md.block.ruler.getRules("blockquote"),f=e.parentType;e.parentType="blockquote";let d,p=!1;for(d=t;d<n;d++){const t=e.sCount[d]<e.blkIndent;if(i=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],i>=o)break;if(62===e.src.charCodeAt(i++)&&!t){let t,n,r=e.sCount[d]+1;32===e.src.charCodeAt(i)?(i++,r++,n=!1,t=!0):9===e.src.charCodeAt(i)?(t=!0,(e.bsCount[d]+r)%4==3?(i++,r++,n=!1):n=!0):t=!1;let a=r;for(s.push(e.bMarks[d]),e.bMarks[d]=i;i<o;){const t=e.src.charCodeAt(i);if(!_de(t))break;9===t?a+=4-(a+e.bsCount[d]+(n?1:0))%4:a++,i++}p=i>=o,l.push(e.bsCount[d]),e.bsCount[d]=e.sCount[d]+1+(t?1:0),c.push(e.sCount[d]),e.sCount[d]=a-r,u.push(e.tShift[d]),e.tShift[d]=i-e.bMarks[d];continue}if(p)break;let r=!1;for(let i=0,o=h.length;i<o;i++)if(h[i](e,d,n,!0)){r=!0;break}if(r){e.lineMax=d,0!==e.blkIndent&&(s.push(e.bMarks[d]),l.push(e.bsCount[d]),u.push(e.tShift[d]),c.push(e.sCount[d]),e.sCount[d]-=e.blkIndent);break}s.push(e.bMarks[d]),l.push(e.bsCount[d]),u.push(e.tShift[d]),c.push(e.sCount[d]),e.sCount[d]=-1}const m=e.blkIndent;e.blkIndent=0;const g=e.push("blockquote_open","blockquote",1);g.markup=">";const v=[t,0];g.map=v,e.md.block.tokenize(e,t,d),e.push("blockquote_close","blockquote",-1).markup=">",e.lineMax=a,e.parentType=f,v[1]=e.line;for(let y=0;y<u.length;y++)e.bMarks[y+t]=s[y],e.tShift[y+t]=u[y],e.sCount[y+t]=c[y],e.bsCount[y+t]=l[y];return e.blkIndent=m,!0},["paragraph","reference","blockquote","list"]],["hr",function(e,t,n,r){const i=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const a=e.src.charCodeAt(o++);if(42!==a&&45!==a&&95!==a)return!1;let s=1;for(;o<i;){const t=e.src.charCodeAt(o++);if(t!==a&&!_de(t))return!1;t===a&&s++}if(s<3)return!1;if(r)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(s+1).join(String.fromCharCode(a)),!0},["paragraph","reference","blockquote","list"]],["list",function(e,t,n,r){let i,o,a,s,l=t,c=!0;if(e.sCount[l]-e.blkIndent>=4)return!1;if(e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let u,h,f,d=!1;if(r&&"paragraph"===e.parentType&&e.sCount[l]>=e.blkIndent&&(d=!0),(f=Qde(e,l))>=0){if(u=!0,a=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(a,f-1)),d&&1!==h)return!1}else{if(!((f=Jde(e,l))>=0))return!1;u=!1}if(d&&e.skipSpaces(f)>=e.eMarks[l])return!1;if(r)return!0;const p=e.src.charCodeAt(f-1),m=e.tokens.length;u?(s=e.push("ordered_list_open","ol",1),1!==h&&(s.attrs=[["start",h]])):s=e.push("bullet_list_open","ul",1);const g=[l,0];s.map=g,s.markup=String.fromCharCode(p);let v=!1;const y=e.md.block.ruler.getRules("list"),_=e.parentType;for(e.parentType="list";l<n;){o=f,i=e.eMarks[l];const t=e.sCount[l]+f-(e.bMarks[l]+e.tShift[l]);let r=t;for(;o<i;){const t=e.src.charCodeAt(o);if(9===t)r+=4-(r+e.bsCount[l])%4;else{if(32!==t)break;r++}o++}const h=o;let d;d=h>=i?1:r-t,d>4&&(d=1);const m=t+d;s=e.push("list_item_open","li",1),s.markup=String.fromCharCode(p);const g=[l,0];s.map=g,u&&(s.info=e.src.slice(a,f-1));const _=e.tight,b=e.tShift[l],x=e.sCount[l],w=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=m,e.tight=!0,e.tShift[l]=h-e.bMarks[l],e.sCount[l]=r,h>=i&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),e.tight&&!v||(c=!1),v=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=w,e.tShift[l]=b,e.sCount[l]=x,e.tight=_,s=e.push("list_item_close","li",-1),s.markup=String.fromCharCode(p),l=e.line,g[1]=l,l>=n)break;if(e.sCount[l]<e.blkIndent)break;if(e.sCount[l]-e.blkIndent>=4)break;let S=!1;for(let i=0,o=y.length;i<o;i++)if(y[i](e,l,n,!0)){S=!0;break}if(S)break;if(u){if(f=Qde(e,l),f<0)break;a=e.bMarks[l]+e.tShift[l]}else if(f=Jde(e,l),f<0)break;if(p!==e.src.charCodeAt(f-1))break}return s=u?e.push("ordered_list_close","ol",-1):e.push("bullet_list_close","ul",-1),s.markup=String.fromCharCode(p),g[1]=l,e.line=l,e.parentType=_,c&&function(e,t){const n=e.level+2;for(let r=t+2,i=e.tokens.length-2;r<i;r++)e.tokens[r].level===n&&"paragraph_open"===e.tokens[r].type&&(e.tokens[r+2].hidden=!0,e.tokens[r].hidden=!0,r+=2)}(e,m),!0},["paragraph","reference","blockquote"]],["reference",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],a=t+1;if(e.sCount[t]-e.blkIndent>=4)return!1;if(91!==e.src.charCodeAt(i))return!1;function s(t){const n=e.lineMax;if(t>=n||e.isEmpty(t))return null;let r=!1;if(e.sCount[t]-e.blkIndent>3&&(r=!0),e.sCount[t]<0&&(r=!0),!r){const r=e.md.block.ruler.getRules("reference"),i=e.parentType;e.parentType="reference";let o=!1;for(let a=0,s=r.length;a<s;a++)if(r[a](e,t,n,!0)){o=!0;break}if(e.parentType=i,o)return null}const i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return e.src.slice(i,o+1)}let l=e.src.slice(i,o+1);o=l.length;let c=-1;for(i=1;i<o;i++){const e=l.charCodeAt(i);if(91===e)return!1;if(93===e){c=i;break}if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(92===e&&(i++,i<o&&10===l.charCodeAt(i))){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}}if(c<0||58!==l.charCodeAt(c+1))return!1;for(i=c+2;i<o;i++){const e=l.charCodeAt(i);if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(!_de(e))break}const u=e.md.helpers.parseLinkDestination(l,i,o);if(!u.ok)return!1;const h=e.md.normalizeLink(u.str);if(!e.md.validateLink(h))return!1;i=u.pos;const f=i,d=a,p=i;for(;i<o;i++){const e=l.charCodeAt(i);if(10===e){const e=s(a);null!==e&&(l+=e,o=l.length,a++)}else if(!_de(e))break}let m,g=e.md.helpers.parseLinkTitle(l,i,o);for(;g.can_continue;){const t=s(a);if(null===t)break;l+=t,i=o,o=l.length,a++,g=e.md.helpers.parseLinkTitle(l,i,o,g)}for(i<o&&p!==i&&g.ok?(m=g.str,i=g.pos):(m="",i=f,a=d);i<o;){if(!_de(l.charCodeAt(i)))break;i++}if(i<o&&10!==l.charCodeAt(i)&&m)for(m="",i=f,a=d;i<o;){if(!_de(l.charCodeAt(i)))break;i++}if(i<o&&10!==l.charCodeAt(i))return!1;const v=Sde(l.slice(1,c));return!!v&&(r||(void 0===e.env.references&&(e.env.references={}),void 0===e.env.references[v]&&(e.env.references[v]={title:m,href:h}),e.line=a),!0)}],["html_block",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(!e.md.options.html)return!1;if(60!==e.src.charCodeAt(i))return!1;let a=e.src.slice(i,o),s=0;for(;s<ipe.length&&!ipe[s][0].test(a);s++);if(s===ipe.length)return!1;if(r)return ipe[s][2];let l=t+1;if(!ipe[s][1].test(a))for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(i=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],a=e.src.slice(i,o),ipe[s][1].test(a)){0!==a.length&&l++;break}e.line=l;const c=e.push("html_block","",0);return c.map=[t,l],c.content=e.getLines(t,l,e.blkIndent,!0),!0},["paragraph","reference","blockquote"]],["heading",function(e,t,n,r){let i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let a=e.src.charCodeAt(i);if(35!==a||i>=o)return!1;let s=1;for(a=e.src.charCodeAt(++i);35===a&&i<o&&s<=6;)s++,a=e.src.charCodeAt(++i);if(s>6||i<o&&!_de(a))return!1;if(r)return!0;o=e.skipSpacesBack(o,i);const l=e.skipCharsBack(o,35,i);l>i&&_de(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const c=e.push("heading_open","h"+String(s),1);c.markup="########".slice(0,s),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=e.src.slice(i,o).trim(),u.map=[t,e.line],u.children=[],e.push("heading_close","h"+String(s),-1).markup="########".slice(0,s),!0},["paragraph","reference","blockquote"]],["lheading",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.parentType;e.parentType="paragraph";let o,a=0,s=t+1;for(;s<n&&!e.isEmpty(s);s++){if(e.sCount[s]-e.blkIndent>3)continue;if(e.sCount[s]>=e.blkIndent){let t=e.bMarks[s]+e.tShift[s];const n=e.eMarks[s];if(t<n&&(o=e.src.charCodeAt(t),(45===o||61===o)&&(t=e.skipChars(t,o),t=e.skipSpaces(t),t>=n))){a=61===o?1:2;break}}if(e.sCount[s]<0)continue;let t=!1;for(let i=0,o=r.length;i<o;i++)if(r[i](e,s,n,!0)){t=!0;break}if(t)break}if(!a)return!1;const l=e.getLines(t,s,e.blkIndent,!1).trim();e.line=s+1;const c=e.push("heading_open","h"+String(a),1);c.markup=String.fromCharCode(o),c.map=[t,e.line];const u=e.push("inline","",0);return u.content=l,u.map=[t,e.line-1],u.children=[],e.push("heading_close","h"+String(a),-1).markup=String.fromCharCode(o),e.parentType=i,!0}],["paragraph",function(e,t,n){const r=e.md.block.ruler.getRules("paragraph"),i=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3)continue;if(e.sCount[o]<0)continue;let t=!1;for(let i=0,a=r.length;i<a;i++)if(r[i](e,o,n,!0)){t=!0;break}if(t)break}const a=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o,e.push("paragraph_open","p",1).map=[t,e.line];const s=e.push("inline","",0);return s.content=a,s.map=[t,e.line],s.children=[],e.push("paragraph_close","p",-1),e.parentType=i,!0}]];function ape(){this.ruler=new Ode;for(let e=0;e<ope.length;e++)this.ruler.push(ope[e][0],ope[e][1],{alt:(ope[e][2]||[]).slice()})}function spe(e,t,n,r){this.src=e,this.env=n,this.md=t,this.tokens=r,this.tokens_meta=Array(r.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}function lpe(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}ape.prototype.tokenize=function(e,t,n){const r=this.ruler.getRules(""),i=r.length,o=e.md.options.maxNesting;let a=t,s=!1;for(;a<n&&(e.line=a=e.skipEmptyLines(a),!(a>=n))&&!(e.sCount[a]<e.blkIndent);){if(e.level>=o){e.line=n;break}const t=e.line;let l=!1;for(let o=0;o<i;o++)if(l=r[o](e,a,n,!1),l){if(t>=e.line)throw new Error("block rule didn't increment state.line");break}if(!l)throw new Error("none of the block rules matched");e.tight=!s,e.isEmpty(e.line-1)&&(s=!0),a=e.line,a<n&&e.isEmpty(a)&&(s=!0,a++,e.line=a)}},ape.prototype.parse=function(e,t,n,r){if(!e)return;const i=new this.State(e,t,n,r);this.tokenize(i,i.line,i.lineMax)},ape.prototype.State=Kde,spe.prototype.pushPending=function(){const e=new Rde("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e},spe.prototype.push=function(e,t,n){this.pending&&this.pushPending();const r=new Rde(e,t,n);let i=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),r.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],i={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(r),this.tokens_meta.push(i),r},spe.prototype.scanDelims=function(e,t){const n=this.posMax,r=this.src.charCodeAt(e),i=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===r;)o++;const a=o-e,s=o<n?this.src.charCodeAt(o):32,l=wde(i)||xde(String.fromCharCode(i)),c=wde(s)||xde(String.fromCharCode(s)),u=bde(i),h=bde(s),f=!h&&(!c||u||l),d=!u&&(!l||h||c);return{can_open:f&&(t||!d||l),can_close:d&&(t||!f||c),length:a}},spe.prototype.Token=Rde;const cpe=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;const upe=[];for(let $=0;$<256;$++)upe.push(0);function hpe(e,t){let n;const r=[],i=t.length;for(let o=0;o<i;o++){const i=t[o];if(126!==i.marker)continue;if(-1===i.end)continue;const a=t[i.end];n=e.tokens[i.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="","text"===e.tokens[a.token-1].type&&"~"===e.tokens[a.token-1].content&&r.push(a.token-1)}for(;r.length;){const t=r.pop();let i=t+1;for(;i<e.tokens.length&&"s_close"===e.tokens[i].type;)i++;i--,t!==i&&(n=e.tokens[i],e.tokens[i]=e.tokens[t],e.tokens[t]=n)}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){upe[e.charCodeAt(0)]=1});const fpe={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(126!==r)return!1;const i=e.scanDelims(e.pos,!0);let o=i.length;const a=String.fromCharCode(r);if(o<2)return!1;let s;o%2&&(s=e.push("text","",0),s.content=a,o--);for(let l=0;l<o;l+=2)s=e.push("text","",0),s.content=a+a,e.delimiters.push({marker:r,length:0,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close});return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;hpe(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&hpe(e,t[r].delimiters)}};function dpe(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(95!==r.marker&&42!==r.marker)continue;if(-1===r.end)continue;const i=t[r.end],o=n>0&&t[n-1].end===r.end+1&&t[n-1].marker===r.marker&&t[n-1].token===r.token-1&&t[r.end+1].token===i.token+1,a=String.fromCharCode(r.marker),s=e.tokens[r.token];s.type=o?"strong_open":"em_open",s.tag=o?"strong":"em",s.nesting=1,s.markup=o?a+a:a,s.content="";const l=e.tokens[i.token];l.type=o?"strong_close":"em_close",l.tag=o?"strong":"em",l.nesting=-1,l.markup=o?a+a:a,l.content="",o&&(e.tokens[t[n-1].token].content="",e.tokens[t[r.end+1].token].content="",n--)}}const ppe={tokenize:function(e,t){const n=e.pos,r=e.src.charCodeAt(n);if(t)return!1;if(95!==r&&42!==r)return!1;const i=e.scanDelims(e.pos,42===r);for(let o=0;o<i.length;o++){e.push("text","",0).content=String.fromCharCode(r),e.delimiters.push({marker:r,length:i.length,token:e.tokens.length-1,end:-1,open:i.can_open,close:i.can_close})}return e.pos+=i.length,!0},postProcess:function(e){const t=e.tokens_meta,n=e.tokens_meta.length;dpe(e,e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&dpe(e,t[r].delimiters)}};const mpe=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,gpe=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;const vpe=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,ype=/^&([a-z][a-z0-9]{1,31});/i;function _pe(e){const t={},n=e.length;if(!n)return;let r=0,i=-2;const o=[];for(let a=0;a<n;a++){const n=e[a];if(o.push(0),e[r].marker===n.marker&&i===n.token-1||(r=a),i=n.token,n.length=n.length||0,!n.close)continue;t.hasOwnProperty(n.marker)||(t[n.marker]=[-1,-1,-1,-1,-1,-1]);const s=t[n.marker][(n.open?3:0)+n.length%3];let l=r-o[r]-1,c=l;for(;l>s;l-=o[l]+1){const t=e[l];if(t.marker===n.marker&&(t.open&&t.end<0)){let r=!1;if((t.close||n.open)&&(t.length+n.length)%3==0&&(t.length%3==0&&n.length%3==0||(r=!0)),!r){const r=l>0&&!e[l-1].open?o[l-1]+1:0;o[a]=a-l+r,o[l]=r,n.open=!1,t.end=a,t.close=!1,c=-1,i=-2;break}}}-1!==c&&(t[n.marker][(n.open?3:0)+(n.length||0)%3]=c)}}const bpe=[["text",function(e,t){let n=e.pos;for(;n<e.posMax&&!lpe(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["linkify",function(e,t){if(!e.md.options.linkify)return!1;if(e.linkLevel>0)return!1;const n=e.pos;if(n+3>e.posMax)return!1;if(58!==e.src.charCodeAt(n))return!1;if(47!==e.src.charCodeAt(n+1))return!1;if(47!==e.src.charCodeAt(n+2))return!1;const r=e.pending.match(cpe);if(!r)return!1;const i=r[1],o=e.md.linkify.matchAtStart(e.src.slice(n-i.length));if(!o)return!1;let a=o.url;if(a.length<=i.length)return!1;a=a.replace(/\*+$/,"");const s=e.md.normalizeLink(a);if(!e.md.validateLink(s))return!1;if(!t){e.pending=e.pending.slice(0,-i.length);const t=e.push("link_open","a",1);t.attrs=[["href",s]],t.markup="linkify",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(a);const n=e.push("link_close","a",-1);n.markup="linkify",n.info="auto"}return e.pos+=a.length-i.length,!0}],["newline",function(e,t){let n=e.pos;if(10!==e.src.charCodeAt(n))return!1;const r=e.pending.length-1,i=e.posMax;if(!t)if(r>=0&&32===e.pending.charCodeAt(r))if(r>=1&&32===e.pending.charCodeAt(r-1)){let t=r-1;for(;t>=1&&32===e.pending.charCodeAt(t-1);)t--;e.pending=e.pending.slice(0,t),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<i&&_de(e.src.charCodeAt(n));)n++;return e.pos=n,!0}],["escape",function(e,t){let n=e.pos;const r=e.posMax;if(92!==e.src.charCodeAt(n))return!1;if(n++,n>=r)return!1;let i=e.src.charCodeAt(n);if(10===i){for(t||e.push("hardbreak","br",0),n++;n<r&&(i=e.src.charCodeAt(n),_de(i));)n++;return e.pos=n,!0}let o=e.src[n];if(i>=55296&&i<=56319&&n+1<r){const t=e.src.charCodeAt(n+1);t>=56320&&t<=57343&&(o+=e.src[n+1],n++)}const a="\\"+o;if(!t){const t=e.push("text_special","",0);i<256&&0!==upe[i]?t.content=o:t.content=a,t.markup=a,t.info="escape"}return e.pos=n+1,!0}],["backticks",function(e,t){let n=e.pos;if(96!==e.src.charCodeAt(n))return!1;const r=n;n++;const i=e.posMax;for(;n<i&&96===e.src.charCodeAt(n);)n++;const o=e.src.slice(r,n),a=o.length;if(e.backticksScanned&&(e.backticks[a]||0)<=r)return t||(e.pending+=o),e.pos+=a,!0;let s,l=n;for(;-1!==(s=e.src.indexOf("`",l));){for(l=s+1;l<i&&96===e.src.charCodeAt(l);)l++;const r=l-s;if(r===a){if(!t){const t=e.push("code_inline","code",0);t.markup=o,t.content=e.src.slice(n,s).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[r]=s}return e.backticksScanned=!0,t||(e.pending+=o),e.pos+=a,!0}],["strikethrough",fpe.tokenize],["emphasis",ppe.tokenize],["link",function(e,t){let n,r,i,o,a="",s="",l=e.pos,c=!0;if(91!==e.src.charCodeAt(e.pos))return!1;const u=e.pos,h=e.posMax,f=e.pos+1,d=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(d<0)return!1;let p=d+1;if(p<h&&40===e.src.charCodeAt(p)){for(c=!1,p++;p<h&&(n=e.src.charCodeAt(p),_de(n)||10===n);p++);if(p>=h)return!1;if(l=p,i=e.md.helpers.parseLinkDestination(e.src,p,e.posMax),i.ok){for(a=e.md.normalizeLink(i.str),e.md.validateLink(a)?p=i.pos:a="",l=p;p<h&&(n=e.src.charCodeAt(p),_de(n)||10===n);p++);if(i=e.md.helpers.parseLinkTitle(e.src,p,e.posMax),p<h&&l!==p&&i.ok)for(s=i.str,p=i.pos;p<h&&(n=e.src.charCodeAt(p),_de(n)||10===n);p++);}(p>=h||41!==e.src.charCodeAt(p))&&(c=!0),p++}if(c){if(void 0===e.env.references)return!1;if(p<h&&91===e.src.charCodeAt(p)?(l=p+1,p=e.md.helpers.parseLinkLabel(e,p),p>=0?r=e.src.slice(l,p++):p=d+1):p=d+1,r||(r=e.src.slice(f,d)),o=e.env.references[Sde(r)],!o)return e.pos=u,!1;a=o.href,s=o.title}if(!t){e.pos=f,e.posMax=d;const t=[["href",a]];e.push("link_open","a",1).attrs=t,s&&t.push(["title",s]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=p,e.posMax=h,!0}],["image",function(e,t){let n,r,i,o,a,s,l,c,u="";const h=e.pos,f=e.posMax;if(33!==e.src.charCodeAt(e.pos))return!1;if(91!==e.src.charCodeAt(e.pos+1))return!1;const d=e.pos+2,p=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(p<0)return!1;if(o=p+1,o<f&&40===e.src.charCodeAt(o)){for(o++;o<f&&(n=e.src.charCodeAt(o),_de(n)||10===n);o++);if(o>=f)return!1;for(c=o,s=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),s.ok&&(u=e.md.normalizeLink(s.str),e.md.validateLink(u)?o=s.pos:u=""),c=o;o<f&&(n=e.src.charCodeAt(o),_de(n)||10===n);o++);if(s=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<f&&c!==o&&s.ok)for(l=s.str,o=s.pos;o<f&&(n=e.src.charCodeAt(o),_de(n)||10===n);o++);else l="";if(o>=f||41!==e.src.charCodeAt(o))return e.pos=h,!1;o++}else{if(void 0===e.env.references)return!1;if(o<f&&91===e.src.charCodeAt(o)?(c=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?i=e.src.slice(c,o++):o=p+1):o=p+1,i||(i=e.src.slice(d,p)),a=e.env.references[Sde(i)],!a)return e.pos=h,!1;u=a.href,l=a.title}if(!t){r=e.src.slice(d,p);const t=[];e.md.inline.parse(r,e.md,e.env,t);const n=e.push("image","img",0),i=[["src",u],["alt",""]];n.attrs=i,n.children=t,n.content=r,l&&i.push(["title",l])}return e.pos=o,e.posMax=f,!0}],["autolink",function(e,t){let n=e.pos;if(60!==e.src.charCodeAt(n))return!1;const r=e.pos,i=e.posMax;for(;;){if(++n>=i)return!1;const t=e.src.charCodeAt(n);if(60===t)return!1;if(62===t)break}const o=e.src.slice(r+1,n);if(gpe.test(o)){const n=e.md.normalizeLink(o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}if(mpe.test(o)){const n=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(n))return!1;if(!t){const t=e.push("link_open","a",1);t.attrs=[["href",n]],t.markup="autolink",t.info="auto";e.push("text","",0).content=e.md.normalizeLinkText(o);const r=e.push("link_close","a",-1);r.markup="autolink",r.info="auto"}return e.pos+=o.length+2,!0}return!1}],["html_inline",function(e,t){if(!e.md.options.html)return!1;const n=e.posMax,r=e.pos;if(60!==e.src.charCodeAt(r)||r+2>=n)return!1;const i=e.src.charCodeAt(r+1);if(33!==i&&63!==i&&47!==i&&!function(e){const t=32|e;return t>=97&&t<=122}(i))return!1;const o=e.src.slice(r).match(npe);if(!o)return!1;if(!t){const t=e.push("html_inline","",0);t.content=o[0],a=t.content,/^<a[>\s]/i.test(a)&&e.linkLevel++,function(e){return/^<\/a\s*>/i.test(e)}(t.content)&&e.linkLevel--}var a;return e.pos+=o[0].length,!0}],["entity",function(e,t){const n=e.pos,r=e.posMax;if(38!==e.src.charCodeAt(n))return!1;if(n+1>=r)return!1;if(35===e.src.charCodeAt(n+1)){const r=e.src.slice(n).match(vpe);if(r){if(!t){const t="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),n=e.push("text_special","",0);n.content=sde(t)?lde(t):lde(65533),n.markup=r[0],n.info="entity"}return e.pos+=r[0].length,!0}}else{const r=e.src.slice(n).match(ype);if(r){const n=nde(r[0]);if(n!==r[0]){if(!t){const t=e.push("text_special","",0);t.content=n,t.markup=r[0],t.info="entity"}return e.pos+=r[0].length,!0}}}return!1}]],xpe=[["balance_pairs",function(e){const t=e.tokens_meta,n=e.tokens_meta.length;_pe(e.delimiters);for(let r=0;r<n;r++)t[r]&&t[r].delimiters&&_pe(t[r].delimiters)}],["strikethrough",fpe.postProcess],["emphasis",ppe.postProcess],["fragments_join",function(e){let t,n,r=0;const i=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)i[t].nesting<0&&r--,i[t].level=r,i[t].nesting>0&&r++,"text"===i[t].type&&t+1<o&&"text"===i[t+1].type?i[t+1].content=i[t].content+i[t+1].content:(t!==n&&(i[n]=i[t]),n++);t!==n&&(i.length=n)}]];function wpe(){this.ruler=new Ode;for(let e=0;e<bpe.length;e++)this.ruler.push(bpe[e][0],bpe[e][1]);this.ruler2=new Ode;for(let e=0;e<xpe.length;e++)this.ruler2.push(xpe[e][0],xpe[e][1])}function Spe(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function Epe(e){return Object.prototype.toString.call(e)}function Tpe(e){return"[object Function]"===Epe(e)}function Ape(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}wpe.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),r=n.length,i=e.md.options.maxNesting,o=e.cache;if(void 0!==o[t])return void(e.pos=o[t]);let a=!1;if(e.level<i){for(let s=0;s<r;s++)if(e.level++,a=n[s](e,!0),e.level--,a){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;a||e.pos++,o[t]=e.pos},wpe.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,r=e.posMax,i=e.md.options.maxNesting;for(;e.pos<r;){const o=e.pos;let a=!1;if(e.level<i)for(let r=0;r<n;r++)if(a=t[r](e,!1),a){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}if(a){if(e.pos>=r)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},wpe.prototype.parse=function(e,t,n,r){const i=new this.State(e,t,n,r);this.tokenize(i);const o=this.ruler2.getRules(""),a=o.length;for(let s=0;s<a;s++)o[s](i)},wpe.prototype.State=spe;const Mpe={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};const Cpe={"http:":{validate:function(e,t,n){const r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},Ope="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|".split("|");function Rpe(e){const t=e.re=function(e){const t={};e=e||{},t.src_Any=Rfe.source,t.src_Cc=Ife.source,t.src_Z=Dfe.source,t.src_P=kfe.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><]";return t.src_pseudo_letter="(?:(?![><]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><]|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+"|[()[\\]{}.,\"'?!\\-;]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|]|"+t.src_ZPCc+"))((?![$+<=>^`|])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}(e.__opts__),n=e.__tlds__.slice();function r(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(r(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(r(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(r(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(r(t.tpl_host_fuzzy_test),"i");const i=[];function o(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){const n=e.__schemas__[t];if(null===n)return;const r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===Epe(n))return!function(e){return"[object RegExp]"===Epe(e)}(n.validate)?Tpe(n.validate)?r.validate=n.validate:o(t,n):r.validate=function(e){return function(t,n){const r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(Tpe(n.normalize)?r.normalize=n.normalize:n.normalize?o(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===Epe(e)}(n)?o(t,n):i.push(t)}),i.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};const a=Object.keys(e.__compiled__).filter(function(t){return t.length>0&&e.__compiled__[t]}).map(Ape).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><]|"+t.src_ZPCc+"))("+a+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function Ipe(e,t){const n=e.__index__,r=e.__last_index__,i=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=i,this.text=i,this.url=i}function kpe(e,t){const n=new Ipe(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function Ppe(e,t){if(!(this instanceof Ppe))return new Ppe(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||Mpe.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=Spe({},Mpe,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=Spe({},Cpe,e),this.__compiled__={},this.__tlds__=Ope,this.__tlds_replaced__=!1,this.re={},Rpe(this)}Ppe.prototype.add=function(e,t){return this.__schemas__[e]=t,Rpe(this),this},Ppe.prototype.set=function(e){return this.__opts__=Spe(this.__opts__,e),this},Ppe.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;let t,n,r,i,o,a,s,l,c;if(this.re.schema_test.test(e))for(s=this.re.schema_search,s.lastIndex=0;null!==(t=s.exec(e));)if(i=this.testSchemaAt(e,t[2],s.lastIndex),i){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+i;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(l=e.search(this.re.host_fuzzy_test),l>=0&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(o=n.index+n[1].length,(this.__index__<0||o<this.__index__)&&(this.__schema__="",this.__index__=o,this.__last_index__=n.index+n[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=e.indexOf("@"),c>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(o=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||o<this.__index__||o===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=o,this.__last_index__=a))),this.__index__>=0},Ppe.prototype.pretest=function(e){return this.re.pretest.test(e)},Ppe.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},Ppe.prototype.match=function(e){const t=[];let n=0;this.__index__>=0&&this.__text_cache__===e&&(t.push(kpe(this,n)),n=this.__last_index__);let r=n?e.slice(n):e;for(;this.test(r);)t.push(kpe(this,n)),r=r.slice(this.__last_index__),n+=this.__last_index__;return t.length?t:null},Ppe.prototype.matchAtStart=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return null;const t=this.re.schema_at_start.exec(e);if(!t)return null;const n=this.testSchemaAt(e,t[2],t[0].length);return n?(this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+n,kpe(this,0)):null},Ppe.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse(),Rpe(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,Rpe(this),this)},Ppe.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},Ppe.prototype.onCompile=function(){};const Dpe=2147483647,Npe=36,Lpe=/^xn--/,Fpe=/[^\0-\x7F]/,Upe=/[\x2E\u3002\uFF0E\uFF61]/g,Bpe={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},zpe=Math.floor,Vpe=String.fromCharCode;function jpe(e){throw new RangeError(Bpe[e])}function Hpe(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(Upe,".")).split("."),t).join(".");return r+i}function Wpe(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const Gpe=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:Npe},qpe=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},Xpe=function(e,t,n){let r=0;for(e=n?zpe(e/700):e>>1,e+=zpe(e/t);e>455;r+=Npe)e=zpe(e/35);return zpe(r+36*e/(e+38))},Ype=function(e){const t=[],n=e.length;let r=0,i=128,o=72,a=e.lastIndexOf("-");a<0&&(a=0);for(let s=0;s<a;++s)e.charCodeAt(s)>=128&&jpe("not-basic"),t.push(e.charCodeAt(s));for(let s=a>0?a+1:0;s<n;){const a=r;for(let t=1,i=Npe;;i+=Npe){s>=n&&jpe("invalid-input");const a=Gpe(e.charCodeAt(s++));a>=Npe&&jpe("invalid-input"),a>zpe((Dpe-r)/t)&&jpe("overflow"),r+=a*t;const l=i<=o?1:i>=o+26?26:i-o;if(a<l)break;const c=Npe-l;t>zpe(Dpe/c)&&jpe("overflow"),t*=c}const l=t.length+1;o=Xpe(r-a,l,0==a),zpe(r/l)>Dpe-i&&jpe("overflow"),i+=zpe(r/l),r%=l,t.splice(r++,0,i)}return String.fromCodePoint(...t)},Kpe=function(e){const t=[],n=(e=Wpe(e)).length;let r=128,i=0,o=72;for(const l of e)l<128&&t.push(Vpe(l));const a=t.length;let s=a;for(a&&t.push("-");s<n;){let n=Dpe;for(const t of e)t>=r&&t<n&&(n=t);const l=s+1;n-r>zpe((Dpe-i)/l)&&jpe("overflow"),i+=(n-r)*l,r=n;for(const c of e)if(c<r&&++i>Dpe&&jpe("overflow"),c===r){let e=i;for(let n=Npe;;n+=Npe){const r=n<=o?1:n>=o+26?26:n-o;if(e<r)break;const i=e-r,a=Npe-r;t.push(Vpe(qpe(r+i%a,0))),e=zpe(i/a)}t.push(Vpe(qpe(e,0))),o=Xpe(i,l,s===a),i=0,++s}++i,++r}return t.join("")},$pe=function(e){return Hpe(e,function(e){return Fpe.test(e)?"xn--"+Kpe(e):e})},Zpe=function(e){return Hpe(e,function(e){return Lpe.test(e)?Ype(e.slice(4).toLowerCase()):e})},Jpe={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},zero:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}}},Qpe=/^(vbscript|javascript|file|data):/,eme=/^data:image\/(gif|png|jpeg|webp);/;function tme(e){const t=e.trim().toLowerCase();return!Qpe.test(t)||eme.test(t)}const nme=["http:","https:","mailto:"];function rme(e){const t=Cfe(e,!0);if(t.hostname&&(!t.protocol||nme.indexOf(t.protocol)>=0))try{t.hostname=$pe(t.hostname)}catch(n){}return pfe(mfe(t))}function ime(e){const t=Cfe(e,!0);if(t.hostname&&(!t.protocol||nme.indexOf(t.protocol)>=0))try{t.hostname=Zpe(t.hostname)}catch(n){}return ffe(mfe(t),ffe.defaultChars+"%")}function ome(e,t){if(!(this instanceof ome))return new ome(e,t);t||rde(e)||(t=e||{},e="default"),this.inline=new wpe,this.block=new ape,this.core=new Yde,this.renderer=new Cde,this.linkify=new Ppe,this.validateLink=tme,this.normalizeLink=rme,this.normalizeLinkText=ime,this.utils=Tde,this.helpers=ode({},Ade),this.options={},this.configure(e),t&&this.set(t)}ome.prototype.set=function(e){return ode(this.options,e),this},ome.prototype.configure=function(e){const t=this;if(rde(e)){const t=e;if(!(e=Jpe[t]))throw new Error('Wrong `markdown-it` preset "'+t+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this},ome.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+r);return this},ome.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(t){n=n.concat(this[t].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const r=e.filter(function(e){return n.indexOf(e)<0});if(r.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+r);return this},ome.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this},ome.prototype.parse=function(e,t){if("string"!=typeof e)throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens},ome.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},ome.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens},ome.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};export{$O as $,JO as A,fO as B,cR as C,VR as D,dO as E,dR as F,kl as G,er as H,QO as I,Ei as J,ca as K,Z as L,pR as M,ne as N,_a as O,uL as P,vi as Q,Zn as R,vB as S,Jn as T,Rs as U,Zo as V,Ri as W,ps as X,_l as Y,Sl as Z,tn as _,la as a,Yhe as a$,zB as a0,VW as a1,Ad as a2,Sf as a3,BW as a4,Ln as a5,KB as a6,XB as a7,VB as a8,jv as a9,EO as aA,A5 as aB,x5 as aC,jt as aD,Ea as aE,s9 as aF,D5 as aG,d9 as aH,f9 as aI,T5 as aJ,mR as aK,c9 as aL,KO as aM,g9 as aN,l9 as aO,K4 as aP,re as aQ,ga as aR,_9 as aS,E9 as aT,T9 as aU,A9 as aV,AO as aW,uR as aX,lR as aY,b9 as aZ,bce as a_,Vp as aa,QB as ab,rz as ac,ZB as ad,$B as ae,hO as af,UC as ag,Vl as ah,Ql as ai,mc as aj,Qw as ak,oE as al,ya as am,nQ as an,qJ as ao,bl as ap,u4 as aq,C1 as ar,hR as as,S4 as at,G4 as au,Ps as av,W7 as aw,C9 as ax,V5 as ay,I9 as az,pa as b,Bhe as b0,fR as b1,gR as b2,vR as b3,ome as b4,Mi as b5,qa as c,Ur as d,wM as e,pi as f,ba as g,sn as h,Se as i,Ii as j,tr as k,SM as l,ji as m,ma as n,ra as o,fc as p,OR as q,nn as r,Zt as s,dn as t,oo as u,NR as v,TR as w,dc as x,yi as y,lr as z};
